var xl=Object.defineProperty;var _l=(_e,_,et)=>_ in _e?xl(_e,_,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[_]=et;var eo=(_e,_,et)=>_l(_e,typeof _!="symbol"?_+"":_,et);function _mergeNamespaces(_e,_){for(var et=0;et<_.length;et++){const tt=_[et];if(typeof tt!="string"&&!Array.isArray(tt)){for(const rt in tt)if(rt!=="default"&&!(rt in _e)){const nt=Object.getOwnPropertyDescriptor(tt,rt);nt&&Object.defineProperty(_e,rt,nt.get?nt:{enumerable:!0,get:()=>tt[rt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const rt of document.querySelectorAll('link[rel="modulepreload"]'))tt(rt);new MutationObserver(rt=>{for(const nt of rt)if(nt.type==="childList")for(const it of nt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(rt){const nt={};return rt.integrity&&(nt.integrity=rt.integrity),rt.referrerPolicy&&(nt.referrerPolicy=rt.referrerPolicy),rt.crossOrigin==="use-credentials"?nt.credentials="include":rt.crossOrigin==="anonymous"?nt.credentials="omit":nt.credentials="same-origin",nt}function tt(rt){if(rt.ep)return;rt.ep=!0;const nt=et(rt);fetch(rt.href,nt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var _=_e.default;if(typeof _=="function"){var et=function tt(){return this instanceof tt?Reflect.construct(_,arguments,this.constructor):_.apply(this,arguments)};et.prototype=_.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(_e).forEach(function(tt){var rt=Object.getOwnPropertyDescriptor(_e,tt);Object.defineProperty(et,tt,rt.get?rt:{enumerable:!0,get:function(){return _e[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$4=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(_e,_,et){this.props=_e,this.context=_,this.refs=D$1,this.updater=et||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(_e,_){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,_,"setState")};E$1.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(_e,_,et){this.props=_e,this.context=_,this.refs=D$1,this.updater=et||B$1}var H$2=G$1.prototype=new F;H$2.constructor=G$1;C$1(H$2,E$1.prototype);H$2.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(_e,_,et){var tt,rt={},nt=null,it=null;if(_!=null)for(tt in _.ref!==void 0&&(it=_.ref),_.key!==void 0&&(nt=""+_.key),_)J.call(_,tt)&&!L$1.hasOwnProperty(tt)&&(rt[tt]=_[tt]);var at=arguments.length-2;if(at===1)rt.children=et;else if(1<at){for(var lt=Array(at),ct=0;ct<at;ct++)lt[ct]=arguments[ct+2];rt.children=lt}if(_e&&_e.defaultProps)for(tt in at=_e.defaultProps,at)rt[tt]===void 0&&(rt[tt]=at[tt]);return{$$typeof:l$4,type:_e,key:nt,ref:it,props:rt,_owner:K$1.current}}function N$2(_e,_){return{$$typeof:l$4,type:_e.type,key:_,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$1(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$4}function escape$1(_e){var _={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(et){return _[et]})}var P$2=/\/+/g;function Q$1(_e,_){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):_.toString(36)}function R$1(_e,_,et,tt,rt){var nt=typeof _e;(nt==="undefined"||nt==="boolean")&&(_e=null);var it=!1;if(_e===null)it=!0;else switch(nt){case"string":case"number":it=!0;break;case"object":switch(_e.$$typeof){case l$4:case n$4:it=!0}}if(it)return it=_e,rt=rt(it),_e=tt===""?"."+Q$1(it,0):tt,I$1(rt)?(et="",_e!=null&&(et=_e.replace(P$2,"$&/")+"/"),R$1(rt,_,et,"",function(ct){return ct})):rt!=null&&(O$1(rt)&&(rt=N$2(rt,et+(!rt.key||it&&it.key===rt.key?"":(""+rt.key).replace(P$2,"$&/")+"/")+_e)),_.push(rt)),1;if(it=0,tt=tt===""?".":tt+":",I$1(_e))for(var at=0;at<_e.length;at++){nt=_e[at];var lt=tt+Q$1(nt,at);it+=R$1(nt,_,et,lt,rt)}else if(lt=A$2(_e),typeof lt=="function")for(_e=lt.call(_e),at=0;!(nt=_e.next()).done;)nt=nt.value,lt=tt+Q$1(nt,at++),it+=R$1(nt,_,et,lt,rt);else if(nt==="object")throw _=String(_e),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return it}function S$2(_e,_,et){if(_e==null)return _e;var tt=[],rt=0;return R$1(_e,tt,"","",function(nt){return _.call(et,nt,rt++)}),tt}function T$1(_e){if(_e._status===-1){var _=_e._result;_=_(),_.then(function(et){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=et)},function(et){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=et)}),_e._status===-1&&(_e._status=0,_e._result=_)}if(_e._status===1)return _e._result.default;throw _e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(_e,_,et){S$2(_e,function(){_.apply(this,arguments)},et)},count:function(_e){var _=0;return S$2(_e,function(){_++}),_},toArray:function(_e){return S$2(_e,function(_){return _})||[]},only:function(_e){if(!O$1(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$1;react_production_min.Fragment=p$5;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(_e,_,et){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var tt=C$1({},_e.props),rt=_e.key,nt=_e.ref,it=_e._owner;if(_!=null){if(_.ref!==void 0&&(nt=_.ref,it=K$1.current),_.key!==void 0&&(rt=""+_.key),_e.type&&_e.type.defaultProps)var at=_e.type.defaultProps;for(lt in _)J.call(_,lt)&&!L$1.hasOwnProperty(lt)&&(tt[lt]=_[lt]===void 0&&at!==void 0?at[lt]:_[lt])}var lt=arguments.length-2;if(lt===1)tt.children=et;else if(1<lt){at=Array(lt);for(var ct=0;ct<lt;ct++)at[ct]=arguments[ct+2];tt.children=at}return{$$typeof:l$4,type:_e.type,key:rt,ref:nt,props:tt,_owner:it}};react_production_min.createContext=function(_e){return _e={$$typeof:u$2,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$3,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$2;react_production_min.createFactory=function(_e){var _=M$2.bind(null,_e);return _.type=_e,_};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$4,render:_e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(_e){return{$$typeof:y$2,_payload:{_status:-1,_result:_e},_init:T$1}};react_production_min.memo=function(_e,_){return{$$typeof:x$2,type:_e,compare:_===void 0?null:_}};react_production_min.startTransition=function(_e){var _=V$1.transition;V$1.transition={};try{_e()}finally{V$1.transition=_}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(_e,_){return U$1.current.useCallback(_e,_)};react_production_min.useContext=function(_e){return U$1.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$1.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,_){return U$1.current.useEffect(_e,_)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(_e,_,et){return U$1.current.useImperativeHandle(_e,_,et)};react_production_min.useInsertionEffect=function(_e,_){return U$1.current.useInsertionEffect(_e,_)};react_production_min.useLayoutEffect=function(_e,_){return U$1.current.useLayoutEffect(_e,_)};react_production_min.useMemo=function(_e,_){return U$1.current.useMemo(_e,_)};react_production_min.useReducer=function(_e,_,et){return U$1.current.useReducer(_e,_,et)};react_production_min.useRef=function(_e){return U$1.current.useRef(_e)};react_production_min.useState=function(_e){return U$1.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,_,et){return U$1.current.useSyncExternalStore(_e,_,et)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$3=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$2(_e,_,et){var tt,rt={},nt=null,it=null;et!==void 0&&(nt=""+et),_.key!==void 0&&(nt=""+_.key),_.ref!==void 0&&(it=_.ref);for(tt in _)m$4.call(_,tt)&&!p$4.hasOwnProperty(tt)&&(rt[tt]=_[tt]);if(_e&&_e.defaultProps)for(tt in _=_e.defaultProps,_)rt[tt]===void 0&&(rt[tt]=_[tt]);return{$$typeof:k$3,type:_e,key:nt,ref:it,props:rt,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function _(Mt,Nt){var Dt=Mt.length;Mt.push(Nt);e:for(;0<Dt;){var jt=Dt-1>>>1,Ut=Mt[jt];if(0<rt(Ut,Nt))Mt[jt]=Nt,Mt[Dt]=Ut,Dt=jt;else break e}}function et(Mt){return Mt.length===0?null:Mt[0]}function tt(Mt){if(Mt.length===0)return null;var Nt=Mt[0],Dt=Mt.pop();if(Dt!==Nt){Mt[0]=Dt;e:for(var jt=0,Ut=Mt.length,Xt=Ut>>>1;jt<Xt;){var Wt=2*(jt+1)-1,Vt=Mt[Wt],qt=Wt+1,tr=Mt[qt];if(0>rt(Vt,Dt))qt<Ut&&0>rt(tr,Vt)?(Mt[jt]=tr,Mt[qt]=Dt,jt=qt):(Mt[jt]=Vt,Mt[Wt]=Dt,jt=Wt);else if(qt<Ut&&0>rt(tr,Dt))Mt[jt]=tr,Mt[qt]=Dt,jt=qt;else break e}}return Nt}function rt(Mt,Nt){var Dt=Mt.sortIndex-Nt.sortIndex;return Dt!==0?Dt:Mt.id-Nt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nt=performance;_e.unstable_now=function(){return nt.now()}}else{var it=Date,at=it.now();_e.unstable_now=function(){return it.now()-at}}var lt=[],ct=[],ut=1,st=null,ot=3,dt=!1,ft=!1,ht=!1,mt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function vt(Mt){for(var Nt=et(ct);Nt!==null;){if(Nt.callback===null)tt(ct);else if(Nt.startTime<=Mt)tt(ct),Nt.sortIndex=Nt.expirationTime,_(lt,Nt);else break;Nt=et(ct)}}function bt(Mt){if(ht=!1,vt(Mt),!ft)if(et(lt)!==null)ft=!0,Rt(xt);else{var Nt=et(ct);Nt!==null&&$t(bt,Nt.startTime-Mt)}}function xt(Mt,Nt){ft=!1,ht&&(ht=!1,gt(wt),wt=-1),dt=!0;var Dt=ot;try{for(vt(Nt),st=et(lt);st!==null&&(!(st.expirationTime>Nt)||Mt&&!Ct());){var jt=st.callback;if(typeof jt=="function"){st.callback=null,ot=st.priorityLevel;var Ut=jt(st.expirationTime<=Nt);Nt=_e.unstable_now(),typeof Ut=="function"?st.callback=Ut:st===et(lt)&&tt(lt),vt(Nt)}else tt(lt);st=et(lt)}if(st!==null)var Xt=!0;else{var Wt=et(ct);Wt!==null&&$t(bt,Wt.startTime-Nt),Xt=!1}return Xt}finally{st=null,ot=Dt,dt=!1}}var _t=!1,St=null,wt=-1,Et=5,Tt=-1;function Ct(){return!(_e.unstable_now()-Tt<Et)}function It(){if(St!==null){var Mt=_e.unstable_now();Tt=Mt;var Nt=!0;try{Nt=St(!0,Mt)}finally{Nt?Pt():(_t=!1,St=null)}}else _t=!1}var Pt;if(typeof yt=="function")Pt=function(){yt(It)};else if(typeof MessageChannel<"u"){var At=new MessageChannel,kt=At.port2;At.port1.onmessage=It,Pt=function(){kt.postMessage(null)}}else Pt=function(){mt(It,0)};function Rt(Mt){St=Mt,_t||(_t=!0,Pt())}function $t(Mt,Nt){wt=mt(function(){Mt(_e.unstable_now())},Nt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Mt){Mt.callback=null},_e.unstable_continueExecution=function(){ft||dt||(ft=!0,Rt(xt))},_e.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Et=0<Mt?Math.floor(1e3/Mt):5},_e.unstable_getCurrentPriorityLevel=function(){return ot},_e.unstable_getFirstCallbackNode=function(){return et(lt)},_e.unstable_next=function(Mt){switch(ot){case 1:case 2:case 3:var Nt=3;break;default:Nt=ot}var Dt=ot;ot=Nt;try{return Mt()}finally{ot=Dt}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Mt,Nt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Dt=ot;ot=Mt;try{return Nt()}finally{ot=Dt}},_e.unstable_scheduleCallback=function(Mt,Nt,Dt){var jt=_e.unstable_now();switch(typeof Dt=="object"&&Dt!==null?(Dt=Dt.delay,Dt=typeof Dt=="number"&&0<Dt?jt+Dt:jt):Dt=jt,Mt){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=Dt+Ut,Mt={id:ut++,callback:Nt,priorityLevel:Mt,startTime:Dt,expirationTime:Ut,sortIndex:-1},Dt>jt?(Mt.sortIndex=Dt,_(ct,Mt),et(lt)===null&&Mt===et(ct)&&(ht?(gt(wt),wt=-1):ht=!0,$t(bt,Dt-jt))):(Mt.sortIndex=Ut,_(lt,Mt),ft||dt||(ft=!0,Rt(xt))),Mt},_e.unstable_shouldYield=Ct,_e.unstable_wrapCallback=function(Mt){var Nt=ot;return function(){var Dt=ot;ot=Nt;try{return Mt.apply(this,arguments)}finally{ot=Dt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(_e){for(var _="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)_+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,_){ha(_e,_),ha(_e+"Capture",_)}function ha(_e,_){for(ea[_e]=_,_e=0;_e<_.length;_e++)da.add(_[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,_,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof _){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,_,et,tt){if(_===null||typeof _>"u"||pa(_e,_,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!_;case 4:return _===!1;case 5:return isNaN(_);case 6:return isNaN(_)||1>_}return!1}function v$3(_e,_,et,tt,rt,nt,it){this.acceptsBooleans=_===2||_===3||_===4,this.attributeName=tt,this.attributeNamespace=rt,this.mustUseProperty=et,this.propertyName=_e,this.type=_,this.sanitizeURL=nt,this.removeEmptyString=it}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$3(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var _=_e[0];z$1[_]=new v$3(_,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$3(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$3(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$3(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$3(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$3(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$3(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$3(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var _=_e.replace(ra,sa);z$1[_]=new v$3(_,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var _=_e.replace(ra,sa);z$1[_]=new v$3(_,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var _=_e.replace(ra,sa);z$1[_]=new v$3(_,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$3(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$3("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$3(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,_,et,tt){var rt=z$1.hasOwnProperty(_)?z$1[_]:null;(rt!==null?rt.type!==0:tt||!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(qa(_,et,rt,tt)&&(et=null),tt||rt===null?oa(_)&&(et===null?_e.removeAttribute(_):_e.setAttribute(_,""+et)):rt.mustUseProperty?_e[rt.propertyName]=et===null?rt.type===3?!1:"":et:(_=rt.attributeName,tt=rt.attributeNamespace,et===null?_e.removeAttribute(_):(rt=rt.type,et=rt===3||rt===4&&et===!0?"":""+et,tt?_e.setAttributeNS(tt,_,et):_e.setAttribute(_,et))))}var ua$1=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$1=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(et){var _=et.stack.trim().match(/\n( *(at )?)/);La=_&&_[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,_){if(!_e||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_)if(_=function(){throw Error()},Object.defineProperty(_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_,[])}catch(ct){var tt=ct}Reflect.construct(_e,[],_)}else{try{_.call()}catch(ct){tt=ct}_e.call(_.prototype)}else{try{throw Error()}catch(ct){tt=ct}_e()}}catch(ct){if(ct&&tt&&typeof ct.stack=="string"){for(var rt=ct.stack.split(`
`),nt=tt.stack.split(`
`),it=rt.length-1,at=nt.length-1;1<=it&&0<=at&&rt[it]!==nt[at];)at--;for(;1<=it&&0<=at;it--,at--)if(rt[it]!==nt[at]){if(it!==1||at!==1)do if(it--,at--,0>at||rt[it]!==nt[at]){var lt=`
`+rt[it].replace(" at new "," at ");return _e.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",_e.displayName)),lt}while(1<=it&&0<=at);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var _=_e.render;return _e=_e.displayName,_e||(_e=_.displayName||_.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return _=_e.displayName||null,_!==null?_:Qa(_e.type)||"Memo";case Ha:_=_e._payload,_e=_e._init;try{return Qa(_e(_))}catch{}}return null}function Ra(_e){var _=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(_.displayName||"Context")+".Consumer";case 10:return(_._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=_.render,_e=_e.displayName||_e.name||"",_.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return _;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_);case 8:return _===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _=="function")return _.displayName||_.name||null;if(typeof _=="string")return _}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var _=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(_==="checkbox"||_==="radio")}function Ua(_e){var _=Ta(_e)?"checked":"value",et=Object.getOwnPropertyDescriptor(_e.constructor.prototype,_),tt=""+_e[_];if(!_e.hasOwnProperty(_)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var rt=et.get,nt=et.set;return Object.defineProperty(_e,_,{configurable:!0,get:function(){return rt.call(this)},set:function(it){tt=""+it,nt.call(this,it)}}),Object.defineProperty(_e,_,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){_e._valueTracker=null,delete _e[_]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var _=_e._valueTracker;if(!_)return!0;var et=_.getValue(),tt="";return _e&&(tt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=tt,_e!==et?(_.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,_){var et=_.checked;return A$1({},_,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??_e._wrapperState.initialChecked})}function Za(_e,_){var et=_.defaultValue==null?"":_.defaultValue,tt=_.checked!=null?_.checked:_.defaultChecked;et=Sa(_.value!=null?_.value:et),_e._wrapperState={initialChecked:tt,initialValue:et,controlled:_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null}}function ab(_e,_){_=_.checked,_!=null&&ta(_e,"checked",_,!1)}function bb(_e,_){ab(_e,_);var et=Sa(_.value),tt=_.type;if(et!=null)tt==="number"?(et===0&&_e.value===""||_e.value!=et)&&(_e.value=""+et):_e.value!==""+et&&(_e.value=""+et);else if(tt==="submit"||tt==="reset"){_e.removeAttribute("value");return}_.hasOwnProperty("value")?cb(_e,_.type,et):_.hasOwnProperty("defaultValue")&&cb(_e,_.type,Sa(_.defaultValue)),_.checked==null&&_.defaultChecked!=null&&(_e.defaultChecked=!!_.defaultChecked)}function db(_e,_,et){if(_.hasOwnProperty("value")||_.hasOwnProperty("defaultValue")){var tt=_.type;if(!(tt!=="submit"&&tt!=="reset"||_.value!==void 0&&_.value!==null))return;_=""+_e._wrapperState.initialValue,et||_===_e.value||(_e.value=_),_e.defaultValue=_}et=_e.name,et!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,et!==""&&(_e.name=et)}function cb(_e,_,et){(_!=="number"||Xa(_e.ownerDocument)!==_e)&&(et==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+et&&(_e.defaultValue=""+et))}var eb=Array.isArray;function fb(_e,_,et,tt){if(_e=_e.options,_){_={};for(var rt=0;rt<et.length;rt++)_["$"+et[rt]]=!0;for(et=0;et<_e.length;et++)rt=_.hasOwnProperty("$"+_e[et].value),_e[et].selected!==rt&&(_e[et].selected=rt),rt&&tt&&(_e[et].defaultSelected=!0)}else{for(et=""+Sa(et),_=null,rt=0;rt<_e.length;rt++){if(_e[rt].value===et){_e[rt].selected=!0,tt&&(_e[rt].defaultSelected=!0);return}_!==null||_e[rt].disabled||(_=_e[rt])}_!==null&&(_.selected=!0)}}function gb(_e,_){if(_.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$1({},_,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,_){var et=_.value;if(et==null){if(et=_.children,_=_.defaultValue,et!=null){if(_!=null)throw Error(p$3(92));if(eb(et)){if(1<et.length)throw Error(p$3(93));et=et[0]}_=et}_==null&&(_=""),et=_}_e._wrapperState={initialValue:Sa(et)}}function ib(_e,_){var et=Sa(_.value),tt=Sa(_.defaultValue);et!=null&&(et=""+et,et!==_e.value&&(_e.value=et),_.defaultValue==null&&_e.defaultValue!==et&&(_e.defaultValue=et)),tt!=null&&(_e.defaultValue=""+tt)}function jb(_e){var _=_e.textContent;_===_e._wrapperState.initialValue&&_!==""&&_!==null&&(_e.value=_)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,_){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(_):_e==="http://www.w3.org/2000/svg"&&_==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_,et,tt,rt){MSApp.execUnsafeLocalFunction(function(){return _e(_,et,tt,rt)})}:_e}(function(_e,_){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=_;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_.valueOf().toString()+"</svg>",_=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;_.firstChild;)_e.appendChild(_.firstChild)}});function ob(_e,_){if(_){var et=_e.firstChild;if(et&&et===_e.lastChild&&et.nodeType===3){et.nodeValue=_;return}}_e.textContent=_}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(_){_=_+_e.charAt(0).toUpperCase()+_e.substring(1),pb[_]=pb[_e]})});function rb(_e,_,et){return _==null||typeof _=="boolean"||_===""?"":et||typeof _!="number"||_===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+_).trim():_+"px"}function sb(_e,_){_e=_e.style;for(var et in _)if(_.hasOwnProperty(et)){var tt=et.indexOf("--")===0,rt=rb(et,_[et],tt);et==="float"&&(et="cssFloat"),tt?_e.setProperty(et,rt):_e[et]=rt}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,_){if(_){if(tb[_e]&&(_.children!=null||_.dangerouslySetInnerHTML!=null))throw Error(p$3(137,_e));if(_.dangerouslySetInnerHTML!=null){if(_.children!=null)throw Error(p$3(60));if(typeof _.dangerouslySetInnerHTML!="object"||!("__html"in _.dangerouslySetInnerHTML))throw Error(p$3(61))}if(_.style!=null&&typeof _.style!="object")throw Error(p$3(62))}}function vb(_e,_){if(_e.indexOf("-")===-1)return typeof _.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$3(280));var _=_e.stateNode;_&&(_=Db(_),yb(_e.stateNode,_e.type,_))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,_=Ab;if(Ab=zb=null,Bb(_e),_)for(_e=0;_e<_.length;_e++)Bb(_[_e])}}function Gb(_e,_){return _e(_)}function Hb(){}var Ib=!1;function Jb(_e,_,et){if(Ib)return _e(_,et);Ib=!0;try{return Gb(_e,_,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,_){var et=_e.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[_];e:switch(_){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(_e=_e.type,tt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!tt;break e;default:_e=!1}if(_e)return null;if(et&&typeof et!="function")throw Error(p$3(231,_,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,_,et,tt,rt,nt,it,at,lt){var ct=Array.prototype.slice.call(arguments,3);try{_.apply(et,ct)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,_,et,tt,rt,nt,it,at,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,_,et,tt,rt,nt,it,at,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=ct)}}function Vb(_e){var _=_e,et=_e;if(_e.alternate)for(;_.return;)_=_.return;else{_e=_;do _=_e,_.flags&4098&&(et=_.return),_e=_.return;while(_e)}return _.tag===3?et:null}function Wb(_e){if(_e.tag===13){var _=_e.memoizedState;if(_===null&&(_e=_e.alternate,_e!==null&&(_=_e.memoizedState)),_!==null)return _.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$3(188))}function Yb(_e){var _=_e.alternate;if(!_){if(_=Vb(_e),_===null)throw Error(p$3(188));return _!==_e?null:_e}for(var et=_e,tt=_;;){var rt=et.return;if(rt===null)break;var nt=rt.alternate;if(nt===null){if(tt=rt.return,tt!==null){et=tt;continue}break}if(rt.child===nt.child){for(nt=rt.child;nt;){if(nt===et)return Xb(rt),_e;if(nt===tt)return Xb(rt),_;nt=nt.sibling}throw Error(p$3(188))}if(et.return!==tt.return)et=rt,tt=nt;else{for(var it=!1,at=rt.child;at;){if(at===et){it=!0,et=rt,tt=nt;break}if(at===tt){it=!0,tt=rt,et=nt;break}at=at.sibling}if(!it){for(at=nt.child;at;){if(at===et){it=!0,et=nt,tt=rt;break}if(at===tt){it=!0,tt=nt,et=rt;break}at=at.sibling}if(!it)throw Error(p$3(189))}}if(et.alternate!==tt)throw Error(p$3(190))}if(et.tag!==3)throw Error(p$3(188));return et.stateNode.current===et?_e:_}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var _=$b(_e);if(_!==null)return _;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,_){var et=_e.pendingLanes;if(et===0)return 0;var tt=0,rt=_e.suspendedLanes,nt=_e.pingedLanes,it=et&268435455;if(it!==0){var at=it&~rt;at!==0?tt=tc(at):(nt&=it,nt!==0&&(tt=tc(nt)))}else it=et&~rt,it!==0?tt=tc(it):nt!==0&&(tt=tc(nt));if(tt===0)return 0;if(_!==0&&_!==tt&&!(_&rt)&&(rt=tt&-tt,nt=_&-_,rt>=nt||rt===16&&(nt&4194240)!==0))return _;if(tt&4&&(tt|=et&16),_=_e.entangledLanes,_!==0)for(_e=_e.entanglements,_&=tt;0<_;)et=31-oc(_),rt=1<<et,tt|=_e[et],_&=~rt;return tt}function vc(_e,_){switch(_e){case 1:case 2:case 4:return _+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,_){for(var et=_e.suspendedLanes,tt=_e.pingedLanes,rt=_e.expirationTimes,nt=_e.pendingLanes;0<nt;){var it=31-oc(nt),at=1<<it,lt=rt[it];lt===-1?(!(at&et)||at&tt)&&(rt[it]=vc(at,_)):lt<=_&&(_e.expiredLanes|=at),nt&=~at}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var _=[],et=0;31>et;et++)_.push(_e);return _}function Ac(_e,_,et){_e.pendingLanes|=_,_!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,_=31-oc(_),_e[_]=et}function Bc(_e,_){var et=_e.pendingLanes&~_;_e.pendingLanes=_,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=_,_e.mutableReadLanes&=_,_e.entangledLanes&=_,_=_e.entanglements;var tt=_e.eventTimes;for(_e=_e.expirationTimes;0<et;){var rt=31-oc(et),nt=1<<rt;_[rt]=0,tt[rt]=-1,_e[rt]=-1,et&=~nt}}function Cc(_e,_){var et=_e.entangledLanes|=_;for(_e=_e.entanglements;et;){var tt=31-oc(et),rt=1<<tt;rt&_|_e[tt]&_&&(_e[tt]|=_),et&=~rt}}var C=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,_){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_.pointerId)}}function Tc(_e,_,et,tt,rt,nt){return _e===null||_e.nativeEvent!==nt?(_e={blockedOn:_,domEventName:et,eventSystemFlags:tt,nativeEvent:nt,targetContainers:[rt]},_!==null&&(_=Cb(_),_!==null&&Fc(_)),_e):(_e.eventSystemFlags|=tt,_=_e.targetContainers,rt!==null&&_.indexOf(rt)===-1&&_.push(rt),_e)}function Uc(_e,_,et,tt,rt){switch(_){case"focusin":return Lc=Tc(Lc,_e,_,et,tt,rt),!0;case"dragenter":return Mc=Tc(Mc,_e,_,et,tt,rt),!0;case"mouseover":return Nc=Tc(Nc,_e,_,et,tt,rt),!0;case"pointerover":var nt=rt.pointerId;return Oc.set(nt,Tc(Oc.get(nt)||null,_e,_,et,tt,rt)),!0;case"gotpointercapture":return nt=rt.pointerId,Pc.set(nt,Tc(Pc.get(nt)||null,_e,_,et,tt,rt)),!0}return!1}function Vc(_e){var _=Wc(_e.target);if(_!==null){var et=Vb(_);if(et!==null){if(_=et.tag,_===13){if(_=Wb(et),_!==null){_e.blockedOn=_,Ic(_e.priority,function(){Gc(et)});return}}else if(_===3&&et.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var _=_e.targetContainers;0<_.length;){var et=Yc(_e.domEventName,_e.eventSystemFlags,_[0],_e.nativeEvent);if(et===null){et=_e.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return _=Cb(et),_!==null&&Fc(_),_e.blockedOn=et,!1;_.shift()}return!0}function Zc(_e,_,et){Xc(_e)&&et.delete(_)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,_){_e.blockedOn===_&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function _(rt){return ad(rt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===_e&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(_),Pc.forEach(_),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===_e&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(_e,_,et,tt){var rt=C,nt=cd.transition;cd.transition=null;try{C=1,fd(_e,_,et,tt)}finally{C=rt,cd.transition=nt}}function gd(_e,_,et,tt){var rt=C,nt=cd.transition;cd.transition=null;try{C=4,fd(_e,_,et,tt)}finally{C=rt,cd.transition=nt}}function fd(_e,_,et,tt){if(dd){var rt=Yc(_e,_,et,tt);if(rt===null)hd(_e,_,tt,id,et),Sc(_e,tt);else if(Uc(rt,_e,_,et,tt))tt.stopPropagation();else if(Sc(_e,tt),_&4&&-1<Rc.indexOf(_e)){for(;rt!==null;){var nt=Cb(rt);if(nt!==null&&Ec(nt),nt=Yc(_e,_,et,tt),nt===null&&hd(_e,_,tt,id,et),nt===rt)break;rt=nt}rt!==null&&tt.stopPropagation()}else hd(_e,_,tt,null,et)}}var id=null;function Yc(_e,_,et,tt){if(id=null,_e=xb(tt),_e=Wc(_e),_e!==null)if(_=Vb(_e),_===null)_e=null;else if(et=_.tag,et===13){if(_e=Wb(_),_e!==null)return _e;_e=null}else if(et===3){if(_.stateNode.current.memoizedState.isDehydrated)return _.tag===3?_.stateNode.containerInfo:null;_e=null}else _!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,_=ld,et=_.length,tt,rt="value"in kd?kd.value:kd.textContent,nt=rt.length;for(_e=0;_e<et&&_[_e]===rt[_e];_e++);var it=et-_e;for(tt=1;tt<=it&&_[et-tt]===rt[nt-tt];tt++);return md=rt.slice(_e,1<tt?1-tt:void 0)}function od(_e){var _=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&_===13&&(_e=13)):_e=_,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function _(et,tt,rt,nt,it){this._reactName=et,this._targetInst=rt,this.type=tt,this.nativeEvent=nt,this.target=it,this.currentTarget=null;for(var at in _e)_e.hasOwnProperty(at)&&(et=_e[at],this[at]=et?et(nt):nt[at]);return this.isDefaultPrevented=(nt.defaultPrevented!=null?nt.defaultPrevented:nt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var _=this.nativeEvent;return _.getModifierState?_.getModifierState(_e):(_e=Od[_e])?!!_[_e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(_e){if(_e.key){var _=Md[_e.key]||_e.key;if(_!=="Unidentified")return _}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(_e,_){switch(_e){case"keyup":return $d.indexOf(_.keyCode)!==-1;case"keydown":return _.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,_){switch(_e){case"compositionend":return he(_);case"keypress":return _.which!==32?null:(fe=!0,ee);case"textInput":return _e=_.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,_){if(ie)return _e==="compositionend"||!ae&&ge(_e,_)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(_.ctrlKey||_.altKey||_.metaKey)||_.ctrlKey&&_.altKey){if(_.char&&1<_.char.length)return _.char;if(_.which)return String.fromCharCode(_.which)}return null;case"compositionend":return de&&_.locale!=="ko"?null:_.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var _=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return _==="input"?!!le[_e.type]:_==="textarea"}function ne(_e,_,et,tt){Eb(tt),_=oe(_,"onChange"),0<_.length&&(et=new td("onChange","change",null,et,tt),_e.push({event:et,listeners:_}))}var pe=null,qe=null;function re(_e){se(_e,0)}function te(_e){var _=ue(_e);if(Wa(_))return _e}function ve(_e,_){if(_e==="change")return _}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var _=[];ne(_,qe,_e,xb(_e)),Jb(re,_)}}function Ce(_e,_,et){_e==="focusin"?(Ae(),pe=_,qe=et,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,_){if(_e==="click")return te(_)}function Fe(_e,_){if(_e==="input"||_e==="change")return te(_)}function Ge(_e,_){return _e===_&&(_e!==0||1/_e===1/_)||_e!==_e&&_!==_}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,_){if(He(_e,_))return!0;if(typeof _e!="object"||_e===null||typeof _!="object"||_===null)return!1;var et=Object.keys(_e),tt=Object.keys(_);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var rt=et[tt];if(!ja.call(_,rt)||!He(_e[rt],_[rt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,_){var et=Je(_e);_e=0;for(var tt;et;){if(et.nodeType===3){if(tt=_e+et.textContent.length,_e<=_&&tt>=_)return{node:et,offset:_-_e};_e=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(_e,_){return _e&&_?_e===_?!0:_e&&_e.nodeType===3?!1:_&&_.nodeType===3?Le(_e,_.parentNode):"contains"in _e?_e.contains(_):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(_)&16):!1:!1}function Me(){for(var _e=window,_=Xa();_ instanceof _e.HTMLIFrameElement;){try{var et=typeof _.contentWindow.location.href=="string"}catch{et=!1}if(et)_e=_.contentWindow;else break;_=Xa(_e.document)}return _}function Ne(_e){var _=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return _&&(_==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||_==="textarea"||_e.contentEditable==="true")}function Oe(_e){var _=Me(),et=_e.focusedElem,tt=_e.selectionRange;if(_!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if(_=tt.start,_e=tt.end,_e===void 0&&(_e=_),"selectionStart"in et)et.selectionStart=_,et.selectionEnd=Math.min(_e,et.value.length);else if(_e=(_=et.ownerDocument||document)&&_.defaultView||window,_e.getSelection){_e=_e.getSelection();var rt=et.textContent.length,nt=Math.min(tt.start,rt);tt=tt.end===void 0?nt:Math.min(tt.end,rt),!_e.extend&&nt>tt&&(rt=tt,tt=nt,nt=rt),rt=Ke(et,nt);var it=Ke(et,tt);rt&&it&&(_e.rangeCount!==1||_e.anchorNode!==rt.node||_e.anchorOffset!==rt.offset||_e.focusNode!==it.node||_e.focusOffset!==it.offset)&&(_=_.createRange(),_.setStart(rt.node,rt.offset),_e.removeAllRanges(),nt>tt?(_e.addRange(_),_e.extend(it.node,it.offset)):(_.setEnd(it.node,it.offset),_e.addRange(_)))}}for(_=[],_e=et;_e=_e.parentNode;)_e.nodeType===1&&_.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<_.length;et++)_e=_[et],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,_,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&(_=new td("onSelect","select",null,_,et),_e.push({event:_,listeners:tt}),_.target=Qe)))}function Ve(_e,_){var et={};return et[_e.toLowerCase()]=_.toLowerCase(),et["Webkit"+_e]="webkit"+_,et["Moz"+_e]="moz"+_,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var _=We[_e],et;for(et in _)if(_.hasOwnProperty(et)&&et in Ye)return Xe[_e]=_[et];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,_){df.set(_e,_),fa(_,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,_,et){var tt=_e.type||"unknown-event";_e.currentTarget=et,Ub(tt,_,void 0,_e),_e.currentTarget=null}function se(_e,_){_=(_&4)!==0;for(var et=0;et<_e.length;et++){var tt=_e[et],rt=tt.event;tt=tt.listeners;e:{var nt=void 0;if(_)for(var it=tt.length-1;0<=it;it--){var at=tt[it],lt=at.instance,ct=at.currentTarget;if(at=at.listener,lt!==nt&&rt.isPropagationStopped())break e;nf(rt,at,ct),nt=lt}else for(it=0;it<tt.length;it++){if(at=tt[it],lt=at.instance,ct=at.currentTarget,at=at.listener,lt!==nt&&rt.isPropagationStopped())break e;nf(rt,at,ct),nt=lt}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D(_e,_){var et=_[of];et===void 0&&(et=_[of]=new Set);var tt=_e+"__bubble";et.has(tt)||(pf(_,_e,2,!1),et.add(tt))}function qf(_e,_,et){var tt=0;_&&(tt|=4),pf(et,_e,tt,_)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,_e),qf(et,!0,_e))});var _=_e.nodeType===9?_e:_e.ownerDocument;_===null||_[rf]||(_[rf]=!0,qf("selectionchange",!1,_))}}function pf(_e,_,et,tt){switch(jd(_)){case 1:var rt=ed;break;case 4:rt=gd;break;default:rt=fd}et=rt.bind(null,_,et,_e),rt=void 0,!Lb||_!=="touchstart"&&_!=="touchmove"&&_!=="wheel"||(rt=!0),tt?rt!==void 0?_e.addEventListener(_,et,{capture:!0,passive:rt}):_e.addEventListener(_,et,!0):rt!==void 0?_e.addEventListener(_,et,{passive:rt}):_e.addEventListener(_,et,!1)}function hd(_e,_,et,tt,rt){var nt=tt;if(!(_&1)&&!(_&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var at=tt.stateNode.containerInfo;if(at===rt||at.nodeType===8&&at.parentNode===rt)break;if(it===4)for(it=tt.return;it!==null;){var lt=it.tag;if((lt===3||lt===4)&&(lt=it.stateNode.containerInfo,lt===rt||lt.nodeType===8&&lt.parentNode===rt))return;it=it.return}for(;at!==null;){if(it=Wc(at),it===null)return;if(lt=it.tag,lt===5||lt===6){tt=nt=it;continue e}at=at.parentNode}}tt=tt.return}Jb(function(){var ct=nt,ut=xb(et),st=[];e:{var ot=df.get(_e);if(ot!==void 0){var dt=td,ft=_e;switch(_e){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":dt=Rd;break;case"focusin":ft="focus",dt=Fd;break;case"focusout":ft="blur",dt=Fd;break;case"beforeblur":case"afterblur":dt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=Vd;break;case $e:case af:case bf:dt=Hd;break;case cf:dt=Xd;break;case"scroll":dt=vd;break;case"wheel":dt=Zd;break;case"copy":case"cut":case"paste":dt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=Td}var ht=(_&4)!==0,mt=!ht&&_e==="scroll",gt=ht?ot!==null?ot+"Capture":null:ot;ht=[];for(var yt=ct,vt;yt!==null;){vt=yt;var bt=vt.stateNode;if(vt.tag===5&&bt!==null&&(vt=bt,gt!==null&&(bt=Kb(yt,gt),bt!=null&&ht.push(tf(yt,bt,vt)))),mt)break;yt=yt.return}0<ht.length&&(ot=new dt(ot,ft,null,et,ut),st.push({event:ot,listeners:ht}))}}if(!(_&7)){e:{if(ot=_e==="mouseover"||_e==="pointerover",dt=_e==="mouseout"||_e==="pointerout",ot&&et!==wb&&(ft=et.relatedTarget||et.fromElement)&&(Wc(ft)||ft[uf]))break e;if((dt||ot)&&(ot=ut.window===ut?ut:(ot=ut.ownerDocument)?ot.defaultView||ot.parentWindow:window,dt?(ft=et.relatedTarget||et.toElement,dt=ct,ft=ft?Wc(ft):null,ft!==null&&(mt=Vb(ft),ft!==mt||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(dt=null,ft=ct),dt!==ft)){if(ht=Bd,bt="onMouseLeave",gt="onMouseEnter",yt="mouse",(_e==="pointerout"||_e==="pointerover")&&(ht=Td,bt="onPointerLeave",gt="onPointerEnter",yt="pointer"),mt=dt==null?ot:ue(dt),vt=ft==null?ot:ue(ft),ot=new ht(bt,yt+"leave",dt,et,ut),ot.target=mt,ot.relatedTarget=vt,bt=null,Wc(ut)===ct&&(ht=new ht(gt,yt+"enter",ft,et,ut),ht.target=vt,ht.relatedTarget=mt,bt=ht),mt=bt,dt&&ft)t:{for(ht=dt,gt=ft,yt=0,vt=ht;vt;vt=vf(vt))yt++;for(vt=0,bt=gt;bt;bt=vf(bt))vt++;for(;0<yt-vt;)ht=vf(ht),yt--;for(;0<vt-yt;)gt=vf(gt),vt--;for(;yt--;){if(ht===gt||gt!==null&&ht===gt.alternate)break t;ht=vf(ht),gt=vf(gt)}ht=null}else ht=null;dt!==null&&wf(st,ot,dt,ht,!1),ft!==null&&mt!==null&&wf(st,mt,ft,ht,!0)}}e:{if(ot=ct?ue(ct):window,dt=ot.nodeName&&ot.nodeName.toLowerCase(),dt==="select"||dt==="input"&&ot.type==="file")var xt=ve;else if(me(ot))if(we)xt=Fe;else{xt=De;var _t=Ce}else(dt=ot.nodeName)&&dt.toLowerCase()==="input"&&(ot.type==="checkbox"||ot.type==="radio")&&(xt=Ee);if(xt&&(xt=xt(_e,ct))){ne(st,xt,et,ut);break e}_t&&_t(_e,ot,ct),_e==="focusout"&&(_t=ot._wrapperState)&&_t.controlled&&ot.type==="number"&&cb(ot,"number",ot.value)}switch(_t=ct?ue(ct):window,_e){case"focusin":(me(_t)||_t.contentEditable==="true")&&(Qe=_t,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(st,et,ut);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(st,et,ut)}var St;if(ae)e:{switch(_e){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else ie?ge(_e,et)&&(wt="onCompositionEnd"):_e==="keydown"&&et.keyCode===229&&(wt="onCompositionStart");wt&&(de&&et.locale!=="ko"&&(ie||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ie&&(St=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie=!0)),_t=oe(ct,wt),0<_t.length&&(wt=new Ld(wt,_e,null,et,ut),st.push({event:wt,listeners:_t}),St?wt.data=St:(St=he(et),St!==null&&(wt.data=St)))),(St=ce?je(_e,et):ke(_e,et))&&(ct=oe(ct,"onBeforeInput"),0<ct.length&&(ut=new Ld("onBeforeInput","beforeinput",null,et,ut),st.push({event:ut,listeners:ct}),ut.data=St))}se(st,_)})}function tf(_e,_,et){return{instance:_e,listener:_,currentTarget:et}}function oe(_e,_){for(var et=_+"Capture",tt=[];_e!==null;){var rt=_e,nt=rt.stateNode;rt.tag===5&&nt!==null&&(rt=nt,nt=Kb(_e,et),nt!=null&&tt.unshift(tf(_e,nt,rt)),nt=Kb(_e,_),nt!=null&&tt.push(tf(_e,nt,rt))),_e=_e.return}return tt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,_,et,tt,rt){for(var nt=_._reactName,it=[];et!==null&&et!==tt;){var at=et,lt=at.alternate,ct=at.stateNode;if(lt!==null&&lt===tt)break;at.tag===5&&ct!==null&&(at=ct,rt?(lt=Kb(et,nt),lt!=null&&it.unshift(tf(et,lt,at))):rt||(lt=Kb(et,nt),lt!=null&&it.push(tf(et,lt,at)))),et=et.return}it.length!==0&&_e.push({event:_,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,_,et){if(_=zf(_),zf(_e)!==_&&et)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,_){return _e==="textarea"||_e==="noscript"||typeof _.children=="string"||typeof _.children=="number"||typeof _.dangerouslySetInnerHTML=="object"&&_.dangerouslySetInnerHTML!==null&&_.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,_){var et=_,tt=0;do{var rt=et.nextSibling;if(_e.removeChild(et),rt&&rt.nodeType===8)if(et=rt.data,et==="/$"){if(tt===0){_e.removeChild(rt),bd(_);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=rt}while(et);bd(_)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var _=_e.nodeType;if(_===1||_===3)break;if(_===8){if(_=_e.data,_==="$"||_==="$!"||_==="$?")break;if(_==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var _=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="$"||et==="$!"||et==="$?"){if(_===0)return _e;_--}else et==="/$"&&_++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var _=_e[Of];if(_)return _;for(var et=_e.parentNode;et;){if(_=et[uf]||et[Of]){if(et=_.alternate,_.child!==null||et!==null&&et.child!==null)for(_e=Mf(_e);_e!==null;){if(et=_e[Of])return et;_e=Mf(_e)}return _}_e=et,et=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$3(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(_e,_){Tf++,Sf[Tf]=_e.current,_e.current=_}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,_){var et=_e.type.contextTypes;if(!et)return Vf;var tt=_e.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===_)return tt.__reactInternalMemoizedMaskedChildContext;var rt={},nt;for(nt in et)rt[nt]=_[nt];return tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=_,_e.__reactInternalMemoizedMaskedChildContext=rt),rt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E(Wf),E(H$1)}function ag(_e,_,et){if(H$1.current!==Vf)throw Error(p$3(168));G(H$1,_),G(Wf,et)}function bg(_e,_,et){var tt=_e.stateNode;if(_=_.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var rt in tt)if(!(rt in _))throw Error(p$3(108,Ra(_e)||"Unknown",rt));return A$1({},et,tt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G(H$1,_e),G(Wf,Wf.current),!0}function dg(_e,_,et){var tt=_e.stateNode;if(!tt)throw Error(p$3(169));et?(_e=bg(_e,_,Xf),tt.__reactInternalMemoizedMergedChildContext=_e,E(Wf),E(H$1),G(H$1,_e)):E(Wf),G(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,_=C;try{var et=eg;for(C=1;_e<et.length;_e++){var tt=et[_e];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(rt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),rt}finally{C=_,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,_){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=_}function ug(_e,_,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var tt=rg;_e=sg;var rt=32-oc(tt)-1;tt&=~(1<<rt),et+=1;var nt=32-oc(_)+rt;if(30<nt){var it=rt-rt%5;nt=(tt&(1<<it)-1).toString(32),tt>>=it,rt-=it,rg=1<<32-oc(_)+rt|et<<rt|tt,sg=nt+_e}else rg=1<<nt|et<<rt|tt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(_e,_){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=_,et.return=_e,_=_e.deletions,_===null?(_e.deletions=[et],_e.flags|=16):_.push(et)}function Cg(_e,_){switch(_e.tag){case 5:var et=_e.type;return _=_.nodeType!==1||et.toLowerCase()!==_.nodeName.toLowerCase()?null:_,_!==null?(_e.stateNode=_,xg=_e,yg=Lf(_.firstChild),!0):!1;case 6:return _=_e.pendingProps===""||_.nodeType!==3?null:_,_!==null?(_e.stateNode=_,xg=_e,yg=null,!0):!1;case 13:return _=_.nodeType!==8?null:_,_!==null?(et=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:_,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=_,et.return=_e,_e.child=et,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I){var _=yg;if(_){var et=_;if(!Cg(_e,_)){if(Dg(_e))throw Error(p$3(418));_=Lf(et.nextSibling);var tt=xg;_&&Cg(_e,_)?Ag(tt,et):(_e.flags=_e.flags&-4097|2,I=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$3(418));_e.flags=_e.flags&-4097|2,I=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I)return Fg(_e),I=!0,!1;var _;if((_=_e.tag!==3)&&!(_=_e.tag!==5)&&(_=_e.type,_=_!=="head"&&_!=="body"&&!Ef(_e.type,_e.memoizedProps)),_&&(_=yg)){if(Dg(_e))throw Hg(),Error(p$3(418));for(;_;)Ag(_e,_),_=Lf(_.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$3(317));e:{for(_e=_e.nextSibling,_=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="/$"){if(_===0){yg=Lf(_e.nextSibling);break e}_--}else et!=="$"&&et!=="$!"&&et!=="$?"||_++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(_e,_,et){if(_e=et.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$3(309));var tt=et.stateNode}if(!tt)throw Error(p$3(147,_e));var rt=tt,nt=""+_e;return _!==null&&_.ref!==null&&typeof _.ref=="function"&&_.ref._stringRef===nt?_.ref:(_=function(it){var at=rt.refs;it===null?delete at[nt]:at[nt]=it},_._stringRef=nt,_)}if(typeof _e!="string")throw Error(p$3(284));if(!et._owner)throw Error(p$3(290,_e))}return _e}function Mg(_e,_){throw _e=Object.prototype.toString.call(_),Error(p$3(31,_e==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":_e))}function Ng(_e){var _=_e._init;return _(_e._payload)}function Og(_e){function _(gt,yt){if(_e){var vt=gt.deletions;vt===null?(gt.deletions=[yt],gt.flags|=16):vt.push(yt)}}function et(gt,yt){if(!_e)return null;for(;yt!==null;)_(gt,yt),yt=yt.sibling;return null}function tt(gt,yt){for(gt=new Map;yt!==null;)yt.key!==null?gt.set(yt.key,yt):gt.set(yt.index,yt),yt=yt.sibling;return gt}function rt(gt,yt){return gt=Pg(gt,yt),gt.index=0,gt.sibling=null,gt}function nt(gt,yt,vt){return gt.index=vt,_e?(vt=gt.alternate,vt!==null?(vt=vt.index,vt<yt?(gt.flags|=2,yt):vt):(gt.flags|=2,yt)):(gt.flags|=1048576,yt)}function it(gt){return _e&&gt.alternate===null&&(gt.flags|=2),gt}function at(gt,yt,vt,bt){return yt===null||yt.tag!==6?(yt=Qg(vt,gt.mode,bt),yt.return=gt,yt):(yt=rt(yt,vt),yt.return=gt,yt)}function lt(gt,yt,vt,bt){var xt=vt.type;return xt===ya?ut(gt,yt,vt.props.children,bt,vt.key):yt!==null&&(yt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&Ng(xt)===yt.type)?(bt=rt(yt,vt.props),bt.ref=Lg(gt,yt,vt),bt.return=gt,bt):(bt=Rg(vt.type,vt.key,vt.props,null,gt.mode,bt),bt.ref=Lg(gt,yt,vt),bt.return=gt,bt)}function ct(gt,yt,vt,bt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==vt.containerInfo||yt.stateNode.implementation!==vt.implementation?(yt=Sg(vt,gt.mode,bt),yt.return=gt,yt):(yt=rt(yt,vt.children||[]),yt.return=gt,yt)}function ut(gt,yt,vt,bt,xt){return yt===null||yt.tag!==7?(yt=Tg(vt,gt.mode,bt,xt),yt.return=gt,yt):(yt=rt(yt,vt),yt.return=gt,yt)}function st(gt,yt,vt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=Qg(""+yt,gt.mode,vt),yt.return=gt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return vt=Rg(yt.type,yt.key,yt.props,null,gt.mode,vt),vt.ref=Lg(gt,null,yt),vt.return=gt,vt;case wa:return yt=Sg(yt,gt.mode,vt),yt.return=gt,yt;case Ha:var bt=yt._init;return st(gt,bt(yt._payload),vt)}if(eb(yt)||Ka(yt))return yt=Tg(yt,gt.mode,vt,null),yt.return=gt,yt;Mg(gt,yt)}return null}function ot(gt,yt,vt,bt){var xt=yt!==null?yt.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return xt!==null?null:at(gt,yt,""+vt,bt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return vt.key===xt?lt(gt,yt,vt,bt):null;case wa:return vt.key===xt?ct(gt,yt,vt,bt):null;case Ha:return xt=vt._init,ot(gt,yt,xt(vt._payload),bt)}if(eb(vt)||Ka(vt))return xt!==null?null:ut(gt,yt,vt,bt,null);Mg(gt,vt)}return null}function dt(gt,yt,vt,bt,xt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return gt=gt.get(vt)||null,at(yt,gt,""+bt,xt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return gt=gt.get(bt.key===null?vt:bt.key)||null,lt(yt,gt,bt,xt);case wa:return gt=gt.get(bt.key===null?vt:bt.key)||null,ct(yt,gt,bt,xt);case Ha:var _t=bt._init;return dt(gt,yt,vt,_t(bt._payload),xt)}if(eb(bt)||Ka(bt))return gt=gt.get(vt)||null,ut(yt,gt,bt,xt,null);Mg(yt,bt)}return null}function ft(gt,yt,vt,bt){for(var xt=null,_t=null,St=yt,wt=yt=0,Et=null;St!==null&&wt<vt.length;wt++){St.index>wt?(Et=St,St=null):Et=St.sibling;var Tt=ot(gt,St,vt[wt],bt);if(Tt===null){St===null&&(St=Et);break}_e&&St&&Tt.alternate===null&&_(gt,St),yt=nt(Tt,yt,wt),_t===null?xt=Tt:_t.sibling=Tt,_t=Tt,St=Et}if(wt===vt.length)return et(gt,St),I&&tg(gt,wt),xt;if(St===null){for(;wt<vt.length;wt++)St=st(gt,vt[wt],bt),St!==null&&(yt=nt(St,yt,wt),_t===null?xt=St:_t.sibling=St,_t=St);return I&&tg(gt,wt),xt}for(St=tt(gt,St);wt<vt.length;wt++)Et=dt(St,gt,wt,vt[wt],bt),Et!==null&&(_e&&Et.alternate!==null&&St.delete(Et.key===null?wt:Et.key),yt=nt(Et,yt,wt),_t===null?xt=Et:_t.sibling=Et,_t=Et);return _e&&St.forEach(function(Ct){return _(gt,Ct)}),I&&tg(gt,wt),xt}function ht(gt,yt,vt,bt){var xt=Ka(vt);if(typeof xt!="function")throw Error(p$3(150));if(vt=xt.call(vt),vt==null)throw Error(p$3(151));for(var _t=xt=null,St=yt,wt=yt=0,Et=null,Tt=vt.next();St!==null&&!Tt.done;wt++,Tt=vt.next()){St.index>wt?(Et=St,St=null):Et=St.sibling;var Ct=ot(gt,St,Tt.value,bt);if(Ct===null){St===null&&(St=Et);break}_e&&St&&Ct.alternate===null&&_(gt,St),yt=nt(Ct,yt,wt),_t===null?xt=Ct:_t.sibling=Ct,_t=Ct,St=Et}if(Tt.done)return et(gt,St),I&&tg(gt,wt),xt;if(St===null){for(;!Tt.done;wt++,Tt=vt.next())Tt=st(gt,Tt.value,bt),Tt!==null&&(yt=nt(Tt,yt,wt),_t===null?xt=Tt:_t.sibling=Tt,_t=Tt);return I&&tg(gt,wt),xt}for(St=tt(gt,St);!Tt.done;wt++,Tt=vt.next())Tt=dt(St,gt,wt,Tt.value,bt),Tt!==null&&(_e&&Tt.alternate!==null&&St.delete(Tt.key===null?wt:Tt.key),yt=nt(Tt,yt,wt),_t===null?xt=Tt:_t.sibling=Tt,_t=Tt);return _e&&St.forEach(function(It){return _(gt,It)}),I&&tg(gt,wt),xt}function mt(gt,yt,vt,bt){if(typeof vt=="object"&&vt!==null&&vt.type===ya&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:e:{for(var xt=vt.key,_t=yt;_t!==null;){if(_t.key===xt){if(xt=vt.type,xt===ya){if(_t.tag===7){et(gt,_t.sibling),yt=rt(_t,vt.props.children),yt.return=gt,gt=yt;break e}}else if(_t.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===Ha&&Ng(xt)===_t.type){et(gt,_t.sibling),yt=rt(_t,vt.props),yt.ref=Lg(gt,_t,vt),yt.return=gt,gt=yt;break e}et(gt,_t);break}else _(gt,_t);_t=_t.sibling}vt.type===ya?(yt=Tg(vt.props.children,gt.mode,bt,vt.key),yt.return=gt,gt=yt):(bt=Rg(vt.type,vt.key,vt.props,null,gt.mode,bt),bt.ref=Lg(gt,yt,vt),bt.return=gt,gt=bt)}return it(gt);case wa:e:{for(_t=vt.key;yt!==null;){if(yt.key===_t)if(yt.tag===4&&yt.stateNode.containerInfo===vt.containerInfo&&yt.stateNode.implementation===vt.implementation){et(gt,yt.sibling),yt=rt(yt,vt.children||[]),yt.return=gt,gt=yt;break e}else{et(gt,yt);break}else _(gt,yt);yt=yt.sibling}yt=Sg(vt,gt.mode,bt),yt.return=gt,gt=yt}return it(gt);case Ha:return _t=vt._init,mt(gt,yt,_t(vt._payload),bt)}if(eb(vt))return ft(gt,yt,vt,bt);if(Ka(vt))return ht(gt,yt,vt,bt);Mg(gt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,yt!==null&&yt.tag===6?(et(gt,yt.sibling),yt=rt(yt,vt),yt.return=gt,gt=yt):(et(gt,yt),yt=Qg(vt,gt.mode,bt),yt.return=gt,gt=yt),it(gt)):et(gt,yt)}return mt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var _=Wg.current;E(Wg),_e._currentValue=_}function bh(_e,_,et){for(;_e!==null;){var tt=_e.alternate;if((_e.childLanes&_)!==_?(_e.childLanes|=_,tt!==null&&(tt.childLanes|=_)):tt!==null&&(tt.childLanes&_)!==_&&(tt.childLanes|=_),_e===et)break;_e=_e.return}}function ch(_e,_){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&_&&(dh=!0),_e.firstContext=null)}function eh(_e){var _=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:_,next:null},Yg===null){if(Xg===null)throw Error(p$3(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return _}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,_,et,tt){var rt=_.interleaved;return rt===null?(et.next=et,gh(_)):(et.next=rt.next,rt.next=et),_.interleaved=et,ih(_e,tt)}function ih(_e,_){_e.lanes|=_;var et=_e.alternate;for(et!==null&&(et.lanes|=_),et=_e,_e=_e.return;_e!==null;)_e.childLanes|=_,et=_e.alternate,et!==null&&(et.childLanes|=_),et=_e,_e=_e.return;return et.tag===3?et.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,_){_e=_e.updateQueue,_.updateQueue===_e&&(_.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,_){return{eventTime:_e,lane:_,tag:0,payload:null,callback:null,next:null}}function nh(_e,_,et){var tt=_e.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var rt=tt.pending;return rt===null?_.next=_:(_.next=rt.next,rt.next=_),tt.pending=_,ih(_e,et)}return rt=tt.interleaved,rt===null?(_.next=_,gh(tt)):(_.next=rt.next,rt.next=_),tt.interleaved=_,ih(_e,et)}function oh(_e,_,et){if(_=_.updateQueue,_!==null&&(_=_.shared,(et&4194240)!==0)){var tt=_.lanes;tt&=_e.pendingLanes,et|=tt,_.lanes=et,Cc(_e,et)}}function ph(_e,_){var et=_e.updateQueue,tt=_e.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var rt=null,nt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};nt===null?rt=nt=it:nt=nt.next=it,et=et.next}while(et!==null);nt===null?rt=nt=_:nt=nt.next=_}else rt=nt=_;et={baseState:tt.baseState,firstBaseUpdate:rt,lastBaseUpdate:nt,shared:tt.shared,effects:tt.effects},_e.updateQueue=et;return}_e=et.lastBaseUpdate,_e===null?et.firstBaseUpdate=_:_e.next=_,et.lastBaseUpdate=_}function qh(_e,_,et,tt){var rt=_e.updateQueue;jh=!1;var nt=rt.firstBaseUpdate,it=rt.lastBaseUpdate,at=rt.shared.pending;if(at!==null){rt.shared.pending=null;var lt=at,ct=lt.next;lt.next=null,it===null?nt=ct:it.next=ct,it=lt;var ut=_e.alternate;ut!==null&&(ut=ut.updateQueue,at=ut.lastBaseUpdate,at!==it&&(at===null?ut.firstBaseUpdate=ct:at.next=ct,ut.lastBaseUpdate=lt))}if(nt!==null){var st=rt.baseState;it=0,ut=ct=lt=null,at=nt;do{var ot=at.lane,dt=at.eventTime;if((tt&ot)===ot){ut!==null&&(ut=ut.next={eventTime:dt,lane:0,tag:at.tag,payload:at.payload,callback:at.callback,next:null});e:{var ft=_e,ht=at;switch(ot=_,dt=et,ht.tag){case 1:if(ft=ht.payload,typeof ft=="function"){st=ft.call(dt,st,ot);break e}st=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ht.payload,ot=typeof ft=="function"?ft.call(dt,st,ot):ft,ot==null)break e;st=A$1({},st,ot);break e;case 2:jh=!0}}at.callback!==null&&at.lane!==0&&(_e.flags|=64,ot=rt.effects,ot===null?rt.effects=[at]:ot.push(at))}else dt={eventTime:dt,lane:ot,tag:at.tag,payload:at.payload,callback:at.callback,next:null},ut===null?(ct=ut=dt,lt=st):ut=ut.next=dt,it|=ot;if(at=at.next,at===null){if(at=rt.shared.pending,at===null)break;ot=at,at=ot.next,ot.next=null,rt.lastBaseUpdate=ot,rt.shared.pending=null}}while(!0);if(ut===null&&(lt=st),rt.baseState=lt,rt.firstBaseUpdate=ct,rt.lastBaseUpdate=ut,_=rt.shared.interleaved,_!==null){rt=_;do it|=rt.lane,rt=rt.next;while(rt!==_)}else nt===null&&(rt.shared.lanes=0);rh|=it,_e.lanes=it,_e.memoizedState=st}}function sh(_e,_,et){if(_e=_.effects,_.effects=null,_e!==null)for(_=0;_<_e.length;_++){var tt=_e[_],rt=tt.callback;if(rt!==null){if(tt.callback=null,tt=et,typeof rt!="function")throw Error(p$3(191,rt));rt.call(tt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$3(174));return _e}function yh(_e,_){switch(G(wh,_),G(vh,_e),G(uh,th),_e=_.nodeType,_e){case 9:case 11:_=(_=_.documentElement)?_.namespaceURI:lb(null,"");break;default:_e=_e===8?_.parentNode:_,_=_e.namespaceURI||null,_e=_e.tagName,_=lb(_,_e)}E(uh),G(uh,_)}function zh(){E(uh),E(vh),E(wh)}function Ah(_e){xh(wh.current);var _=xh(uh.current),et=lb(_,_e.type);_!==et&&(G(vh,_e),G(uh,et))}function Bh(_e){vh.current===_e&&(E(uh),E(vh))}var L=Uf(0);function Ch(_e){for(var _=_e;_!==null;){if(_.tag===13){var et=_.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return _}else if(_.tag===19&&_.memoizedProps.revealOrder!==void 0){if(_.flags&128)return _}else if(_.child!==null){_.child.return=_,_=_.child;continue}if(_===_e)break;for(;_.sibling===null;){if(_.return===null||_.return===_e)return null;_=_.return}_.sibling.return=_.return,_=_.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$1.ReactCurrentDispatcher,Gh=ua$1.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$3(321))}function Mh(_e,_){if(_===null)return!1;for(var et=0;et<_.length&&et<_e.length;et++)if(!He(_e[et],_[et]))return!1;return!0}function Nh(_e,_,et,tt,rt,nt){if(Hh=nt,M$1=_,_.memoizedState=null,_.updateQueue=null,_.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=et(tt,rt),Jh){nt=0;do{if(Jh=!1,Kh=0,25<=nt)throw Error(p$3(301));nt+=1,O=N$1=null,_.updateQueue=null,Fh.current=Qh,_e=et(tt,rt)}while(Jh)}if(Fh.current=Rh,_=N$1!==null&&N$1.next!==null,Hh=0,O=N$1=M$1=null,Ih=!1,_)throw Error(p$3(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$1.memoizedState=O=_e:O=O.next=_e,O}function Uh(){if(N$1===null){var _e=M$1.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$1.next;var _=O===null?M$1.memoizedState:O.next;if(_!==null)O=_,N$1=_e;else{if(_e===null)throw Error(p$3(310));N$1=_e,_e={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M$1.memoizedState=O=_e:O=O.next=_e}return O}function Vh(_e,_){return typeof _=="function"?_(_e):_}function Wh(_e){var _=Uh(),et=_.queue;if(et===null)throw Error(p$3(311));et.lastRenderedReducer=_e;var tt=N$1,rt=tt.baseQueue,nt=et.pending;if(nt!==null){if(rt!==null){var it=rt.next;rt.next=nt.next,nt.next=it}tt.baseQueue=rt=nt,et.pending=null}if(rt!==null){nt=rt.next,tt=tt.baseState;var at=it=null,lt=null,ct=nt;do{var ut=ct.lane;if((Hh&ut)===ut)lt!==null&&(lt=lt.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),tt=ct.hasEagerState?ct.eagerState:_e(tt,ct.action);else{var st={lane:ut,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};lt===null?(at=lt=st,it=tt):lt=lt.next=st,M$1.lanes|=ut,rh|=ut}ct=ct.next}while(ct!==null&&ct!==nt);lt===null?it=tt:lt.next=at,He(tt,_.memoizedState)||(dh=!0),_.memoizedState=tt,_.baseState=it,_.baseQueue=lt,et.lastRenderedState=tt}if(_e=et.interleaved,_e!==null){rt=_e;do nt=rt.lane,M$1.lanes|=nt,rh|=nt,rt=rt.next;while(rt!==_e)}else rt===null&&(et.lanes=0);return[_.memoizedState,et.dispatch]}function Xh(_e){var _=Uh(),et=_.queue;if(et===null)throw Error(p$3(311));et.lastRenderedReducer=_e;var tt=et.dispatch,rt=et.pending,nt=_.memoizedState;if(rt!==null){et.pending=null;var it=rt=rt.next;do nt=_e(nt,it.action),it=it.next;while(it!==rt);He(nt,_.memoizedState)||(dh=!0),_.memoizedState=nt,_.baseQueue===null&&(_.baseState=nt),et.lastRenderedState=nt}return[nt,tt]}function Yh(){}function Zh(_e,_){var et=M$1,tt=Uh(),rt=_(),nt=!He(tt.memoizedState,rt);if(nt&&(tt.memoizedState=rt,dh=!0),tt=tt.queue,$h(ai.bind(null,et,tt,_e),[_e]),tt.getSnapshot!==_||nt||O!==null&&O.memoizedState.tag&1){if(et.flags|=2048,bi(9,ci.bind(null,et,tt,rt,_),void 0,null),Q===null)throw Error(p$3(349));Hh&30||di(et,_,rt)}return rt}function di(_e,_,et){_e.flags|=16384,_e={getSnapshot:_,value:et},_=M$1.updateQueue,_===null?(_={lastEffect:null,stores:null},M$1.updateQueue=_,_.stores=[_e]):(et=_.stores,et===null?_.stores=[_e]:et.push(_e))}function ci(_e,_,et,tt){_.value=et,_.getSnapshot=tt,ei(_)&&fi(_e)}function ai(_e,_,et){return et(function(){ei(_)&&fi(_e)})}function ei(_e){var _=_e.getSnapshot;_e=_e.value;try{var et=_();return!He(_e,et)}catch{return!0}}function fi(_e){var _=ih(_e,1);_!==null&&gi(_,_e,1,-1)}function hi(_e){var _=Th();return typeof _e=="function"&&(_e=_e()),_.memoizedState=_.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},_.queue=_e,_e=_e.dispatch=ii.bind(null,M$1,_e),[_.memoizedState,_e]}function bi(_e,_,et,tt){return _e={tag:_e,create:_,destroy:et,deps:tt,next:null},_=M$1.updateQueue,_===null?(_={lastEffect:null,stores:null},M$1.updateQueue=_,_.lastEffect=_e.next=_e):(et=_.lastEffect,et===null?_.lastEffect=_e.next=_e:(tt=et.next,et.next=_e,_e.next=tt,_.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,_,et,tt){var rt=Th();M$1.flags|=_e,rt.memoizedState=bi(1|_,et,void 0,tt===void 0?null:tt)}function li(_e,_,et,tt){var rt=Uh();tt=tt===void 0?null:tt;var nt=void 0;if(N$1!==null){var it=N$1.memoizedState;if(nt=it.destroy,tt!==null&&Mh(tt,it.deps)){rt.memoizedState=bi(_,et,nt,tt);return}}M$1.flags|=_e,rt.memoizedState=bi(1|_,et,nt,tt)}function mi(_e,_){return ki(8390656,8,_e,_)}function $h(_e,_){return li(2048,8,_e,_)}function ni(_e,_){return li(4,2,_e,_)}function oi(_e,_){return li(4,4,_e,_)}function pi(_e,_){if(typeof _=="function")return _e=_e(),_(_e),function(){_(null)};if(_!=null)return _e=_e(),_.current=_e,function(){_.current=null}}function qi(_e,_,et){return et=et!=null?et.concat([_e]):null,li(4,4,pi.bind(null,_,_e),et)}function ri(){}function si(_e,_){var et=Uh();_=_===void 0?null:_;var tt=et.memoizedState;return tt!==null&&_!==null&&Mh(_,tt[1])?tt[0]:(et.memoizedState=[_e,_],_e)}function ti(_e,_){var et=Uh();_=_===void 0?null:_;var tt=et.memoizedState;return tt!==null&&_!==null&&Mh(_,tt[1])?tt[0]:(_e=_e(),et.memoizedState=[_e,_],_e)}function ui(_e,_,et){return Hh&21?(He(et,_)||(et=yc(),M$1.lanes|=et,rh|=et,_e.baseState=!0),_):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=et)}function vi(_e,_){var et=C;C=et!==0&&4>et?et:4,_e(!0);var tt=Gh.transition;Gh.transition={};try{_e(!1),_()}finally{C=et,Gh.transition=tt}}function wi(){return Uh().memoizedState}function xi(_e,_,et){var tt=yi(_e);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai(_,et);else if(et=hh(_e,_,et,tt),et!==null){var rt=R();gi(et,_e,tt,rt),Bi(et,_,tt)}}function ii(_e,_,et){var tt=yi(_e),rt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai(_,rt);else{var nt=_e.alternate;if(_e.lanes===0&&(nt===null||nt.lanes===0)&&(nt=_.lastRenderedReducer,nt!==null))try{var it=_.lastRenderedState,at=nt(it,et);if(rt.hasEagerState=!0,rt.eagerState=at,He(at,it)){var lt=_.interleaved;lt===null?(rt.next=rt,gh(_)):(rt.next=lt.next,lt.next=rt),_.interleaved=rt;return}}catch{}finally{}et=hh(_e,_,rt,tt),et!==null&&(rt=R(),gi(et,_e,tt,rt),Bi(et,_,tt))}}function zi(_e){var _=_e.alternate;return _e===M$1||_!==null&&_===M$1}function Ai(_e,_){Jh=Ih=!0;var et=_e.pending;et===null?_.next=_:(_.next=et.next,et.next=_),_e.pending=_}function Bi(_e,_,et){if(et&4194240){var tt=_.lanes;tt&=_e.pendingLanes,et|=tt,_.lanes=et,Cc(_e,et)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,_){return Th().memoizedState=[_e,_===void 0?null:_],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,_,et){return et=et!=null?et.concat([_e]):null,ki(4194308,4,pi.bind(null,_,_e),et)},useLayoutEffect:function(_e,_){return ki(4194308,4,_e,_)},useInsertionEffect:function(_e,_){return ki(4,2,_e,_)},useMemo:function(_e,_){var et=Th();return _=_===void 0?null:_,_e=_e(),et.memoizedState=[_e,_],_e},useReducer:function(_e,_,et){var tt=Th();return _=et!==void 0?et(_):_,tt.memoizedState=tt.baseState=_,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:_},tt.queue=_e,_e=_e.dispatch=xi.bind(null,M$1,_e),[tt.memoizedState,_e]},useRef:function(_e){var _=Th();return _e={current:_e},_.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),_=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[_,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,_,et){var tt=M$1,rt=Th();if(I){if(et===void 0)throw Error(p$3(407));et=et()}else{if(et=_(),Q===null)throw Error(p$3(349));Hh&30||di(tt,_,et)}rt.memoizedState=et;var nt={value:et,getSnapshot:_};return rt.queue=nt,mi(ai.bind(null,tt,nt,_e),[_e]),tt.flags|=2048,bi(9,ci.bind(null,tt,nt,et,_),void 0,null),et},useId:function(){var _e=Th(),_=Q.identifierPrefix;if(I){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,_=":"+_+"R"+et,et=Kh++,0<et&&(_+="H"+et.toString(32)),_+=":"}else et=Lh++,_=":"+_+"r"+et.toString(32)+":";return _e.memoizedState=_},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var _=Uh();return ui(_,N$1.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],_=Uh().memoizedState;return[_e,_]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var _=Uh();return N$1===null?_.memoizedState=_e:ui(_,N$1.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],_=Uh().memoizedState;return[_e,_]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,_){if(_e&&_e.defaultProps){_=A$1({},_),_e=_e.defaultProps;for(var et in _e)_[et]===void 0&&(_[et]=_e[et]);return _}return _}function Di(_e,_,et,tt){_=_e.memoizedState,et=et(tt,_),et=et==null?_:A$1({},_,et),_e.memoizedState=et,_e.lanes===0&&(_e.updateQueue.baseState=et)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,_,et){_e=_e._reactInternals;var tt=R(),rt=yi(_e),nt=mh(tt,rt);nt.payload=_,et!=null&&(nt.callback=et),_=nh(_e,nt,rt),_!==null&&(gi(_,_e,rt,tt),oh(_,_e,rt))},enqueueReplaceState:function(_e,_,et){_e=_e._reactInternals;var tt=R(),rt=yi(_e),nt=mh(tt,rt);nt.tag=1,nt.payload=_,et!=null&&(nt.callback=et),_=nh(_e,nt,rt),_!==null&&(gi(_,_e,rt,tt),oh(_,_e,rt))},enqueueForceUpdate:function(_e,_){_e=_e._reactInternals;var et=R(),tt=yi(_e),rt=mh(et,tt);rt.tag=2,_!=null&&(rt.callback=_),_=nh(_e,rt,tt),_!==null&&(gi(_,_e,tt,et),oh(_,_e,tt))}};function Fi(_e,_,et,tt,rt,nt,it){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(tt,nt,it):_.prototype&&_.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(rt,nt):!0}function Gi(_e,_,et){var tt=!1,rt=Vf,nt=_.contextType;return typeof nt=="object"&&nt!==null?nt=eh(nt):(rt=Zf(_)?Xf:H$1.current,tt=_.contextTypes,nt=(tt=tt!=null)?Yf(_e,rt):Vf),_=new _(et,nt),_e.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ei,_e.stateNode=_,_._reactInternals=_e,tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=rt,_e.__reactInternalMemoizedMaskedChildContext=nt),_}function Hi(_e,_,et,tt){_e=_.state,typeof _.componentWillReceiveProps=="function"&&_.componentWillReceiveProps(et,tt),typeof _.UNSAFE_componentWillReceiveProps=="function"&&_.UNSAFE_componentWillReceiveProps(et,tt),_.state!==_e&&Ei.enqueueReplaceState(_,_.state,null)}function Ii(_e,_,et,tt){var rt=_e.stateNode;rt.props=et,rt.state=_e.memoizedState,rt.refs={},kh(_e);var nt=_.contextType;typeof nt=="object"&&nt!==null?rt.context=eh(nt):(nt=Zf(_)?Xf:H$1.current,rt.context=Yf(_e,nt)),rt.state=_e.memoizedState,nt=_.getDerivedStateFromProps,typeof nt=="function"&&(Di(_e,_,nt,et),rt.state=_e.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof rt.getSnapshotBeforeUpdate=="function"||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(_=rt.state,typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount(),_!==rt.state&&Ei.enqueueReplaceState(rt,rt.state,null),qh(_e,et,rt,tt),rt.state=_e.memoizedState),typeof rt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,_){try{var et="",tt=_;do et+=Pa(tt),tt=tt.return;while(tt);var rt=et}catch(nt){rt=`
Error generating stack: `+nt.message+`
`+nt.stack}return{value:_e,source:_,stack:rt,digest:null}}function Ki(_e,_,et){return{value:_e,source:null,stack:et??null,digest:_??null}}function Li(_e,_){try{console.error(_.value)}catch(et){setTimeout(function(){throw et})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,_,et){et=mh(-1,et),et.tag=3,et.payload={element:null};var tt=_.value;return et.callback=function(){Oi||(Oi=!0,Pi=tt),Li(_e,_)},et}function Qi(_e,_,et){et=mh(-1,et),et.tag=3;var tt=_e.type.getDerivedStateFromError;if(typeof tt=="function"){var rt=_.value;et.payload=function(){return tt(rt)},et.callback=function(){Li(_e,_)}}var nt=_e.stateNode;return nt!==null&&typeof nt.componentDidCatch=="function"&&(et.callback=function(){Li(_e,_),typeof tt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var it=_.stack;this.componentDidCatch(_.value,{componentStack:it!==null?it:""})}),et}function Si(_e,_,et){var tt=_e.pingCache;if(tt===null){tt=_e.pingCache=new Mi;var rt=new Set;tt.set(_,rt)}else rt=tt.get(_),rt===void 0&&(rt=new Set,tt.set(_,rt));rt.has(et)||(rt.add(et),_e=Ti.bind(null,_e,_,et),_.then(_e,_e))}function Ui(_e){do{var _;if((_=_e.tag===13)&&(_=_e.memoizedState,_=_!==null?_.dehydrated!==null:!0),_)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,_,et,tt,rt){return _e.mode&1?(_e.flags|=65536,_e.lanes=rt,_e):(_e===_?_e.flags|=65536:(_e.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:(_=mh(-1,1),_.tag=2,nh(et,_,1))),et.lanes|=1),_e)}var Wi=ua$1.ReactCurrentOwner,dh=!1;function Xi(_e,_,et,tt){_.child=_e===null?Vg(_,null,et,tt):Ug(_,_e.child,et,tt)}function Yi(_e,_,et,tt,rt){et=et.render;var nt=_.ref;return ch(_,rt),tt=Nh(_e,_,et,tt,nt,rt),et=Sh(),_e!==null&&!dh?(_.updateQueue=_e.updateQueue,_.flags&=-2053,_e.lanes&=~rt,Zi(_e,_,rt)):(I&&et&&vg(_),_.flags|=1,Xi(_e,_,tt,rt),_.child)}function $i(_e,_,et,tt,rt){if(_e===null){var nt=et.type;return typeof nt=="function"&&!aj(nt)&&nt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?(_.tag=15,_.type=nt,bj(_e,_,nt,tt,rt)):(_e=Rg(et.type,null,tt,_,_.mode,rt),_e.ref=_.ref,_e.return=_,_.child=_e)}if(nt=_e.child,!(_e.lanes&rt)){var it=nt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&_e.ref===_.ref)return Zi(_e,_,rt)}return _.flags|=1,_e=Pg(nt,tt),_e.ref=_.ref,_e.return=_,_.child=_e}function bj(_e,_,et,tt,rt){if(_e!==null){var nt=_e.memoizedProps;if(Ie(nt,tt)&&_e.ref===_.ref)if(dh=!1,_.pendingProps=tt=nt,(_e.lanes&rt)!==0)_e.flags&131072&&(dh=!0);else return _.lanes=_e.lanes,Zi(_e,_,rt)}return cj(_e,_,et,tt,rt)}function dj(_e,_,et){var tt=_.pendingProps,rt=tt.children,nt=_e!==null?_e.memoizedState:null;if(tt.mode==="hidden")if(!(_.mode&1))_.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=et;else{if(!(et&1073741824))return _e=nt!==null?nt.baseLanes|et:et,_.lanes=_.childLanes=1073741824,_.memoizedState={baseLanes:_e,cachePool:null,transitions:null},_.updateQueue=null,G(ej,fj),fj|=_e,null;_.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=nt!==null?nt.baseLanes:et,G(ej,fj),fj|=tt}else nt!==null?(tt=nt.baseLanes|et,_.memoizedState=null):tt=et,G(ej,fj),fj|=tt;return Xi(_e,_,rt,et),_.child}function gj(_e,_){var et=_.ref;(_e===null&&et!==null||_e!==null&&_e.ref!==et)&&(_.flags|=512,_.flags|=2097152)}function cj(_e,_,et,tt,rt){var nt=Zf(et)?Xf:H$1.current;return nt=Yf(_,nt),ch(_,rt),et=Nh(_e,_,et,tt,nt,rt),tt=Sh(),_e!==null&&!dh?(_.updateQueue=_e.updateQueue,_.flags&=-2053,_e.lanes&=~rt,Zi(_e,_,rt)):(I&&tt&&vg(_),_.flags|=1,Xi(_e,_,et,rt),_.child)}function hj(_e,_,et,tt,rt){if(Zf(et)){var nt=!0;cg(_)}else nt=!1;if(ch(_,rt),_.stateNode===null)ij(_e,_),Gi(_,et,tt),Ii(_,et,tt,rt),tt=!0;else if(_e===null){var it=_.stateNode,at=_.memoizedProps;it.props=at;var lt=it.context,ct=et.contextType;typeof ct=="object"&&ct!==null?ct=eh(ct):(ct=Zf(et)?Xf:H$1.current,ct=Yf(_,ct));var ut=et.getDerivedStateFromProps,st=typeof ut=="function"||typeof it.getSnapshotBeforeUpdate=="function";st||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(at!==tt||lt!==ct)&&Hi(_,it,tt,ct),jh=!1;var ot=_.memoizedState;it.state=ot,qh(_,tt,it,rt),lt=_.memoizedState,at!==tt||ot!==lt||Wf.current||jh?(typeof ut=="function"&&(Di(_,et,ut,tt),lt=_.memoizedState),(at=jh||Fi(_,et,at,tt,ot,lt,ct))?(st||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&(_.flags|=4194308)):(typeof it.componentDidMount=="function"&&(_.flags|=4194308),_.memoizedProps=tt,_.memoizedState=lt),it.props=tt,it.state=lt,it.context=ct,tt=at):(typeof it.componentDidMount=="function"&&(_.flags|=4194308),tt=!1)}else{it=_.stateNode,lh(_e,_),at=_.memoizedProps,ct=_.type===_.elementType?at:Ci(_.type,at),it.props=ct,st=_.pendingProps,ot=it.context,lt=et.contextType,typeof lt=="object"&&lt!==null?lt=eh(lt):(lt=Zf(et)?Xf:H$1.current,lt=Yf(_,lt));var dt=et.getDerivedStateFromProps;(ut=typeof dt=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(at!==st||ot!==lt)&&Hi(_,it,tt,lt),jh=!1,ot=_.memoizedState,it.state=ot,qh(_,tt,it,rt);var ft=_.memoizedState;at!==st||ot!==ft||Wf.current||jh?(typeof dt=="function"&&(Di(_,et,dt,tt),ft=_.memoizedState),(ct=jh||Fi(_,et,ct,tt,ot,ft,lt)||!1)?(ut||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,ft,lt),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,ft,lt)),typeof it.componentDidUpdate=="function"&&(_.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&(_.flags|=1024)):(typeof it.componentDidUpdate!="function"||at===_e.memoizedProps&&ot===_e.memoizedState||(_.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ot===_e.memoizedState||(_.flags|=1024),_.memoizedProps=tt,_.memoizedState=ft),it.props=tt,it.state=ft,it.context=lt,tt=ct):(typeof it.componentDidUpdate!="function"||at===_e.memoizedProps&&ot===_e.memoizedState||(_.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||at===_e.memoizedProps&&ot===_e.memoizedState||(_.flags|=1024),tt=!1)}return jj(_e,_,et,tt,nt,rt)}function jj(_e,_,et,tt,rt,nt){gj(_e,_);var it=(_.flags&128)!==0;if(!tt&&!it)return rt&&dg(_,et,!1),Zi(_e,_,nt);tt=_.stateNode,Wi.current=_;var at=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return _.flags|=1,_e!==null&&it?(_.child=Ug(_,_e.child,null,nt),_.child=Ug(_,null,at,nt)):Xi(_e,_,at,nt),_.memoizedState=tt.state,rt&&dg(_,et,!0),_.child}function kj(_e){var _=_e.stateNode;_.pendingContext?ag(_e,_.pendingContext,_.pendingContext!==_.context):_.context&&ag(_e,_.context,!1),yh(_e,_.containerInfo)}function lj(_e,_,et,tt,rt){return Ig(),Jg(rt),_.flags|=256,Xi(_e,_,et,tt),_.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,_,et){var tt=_.pendingProps,rt=L.current,nt=!1,it=(_.flags&128)!==0,at;if((at=it)||(at=_e!==null&&_e.memoizedState===null?!1:(rt&2)!==0),at?(nt=!0,_.flags&=-129):(_e===null||_e.memoizedState!==null)&&(rt|=1),G(L,rt&1),_e===null)return Eg(_),_e=_.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?(_.mode&1?_e.data==="$!"?_.lanes=8:_.lanes=1073741824:_.lanes=1,null):(it=tt.children,_e=tt.fallback,nt?(tt=_.mode,nt=_.child,it={mode:"hidden",children:it},!(tt&1)&&nt!==null?(nt.childLanes=0,nt.pendingProps=it):nt=pj(it,tt,0,null),_e=Tg(_e,tt,et,null),nt.return=_,_e.return=_,nt.sibling=_e,_.child=nt,_.child.memoizedState=nj(et),_.memoizedState=mj,_e):qj(_,it));if(rt=_e.memoizedState,rt!==null&&(at=rt.dehydrated,at!==null))return rj(_e,_,it,tt,at,rt,et);if(nt){nt=tt.fallback,it=_.mode,rt=_e.child,at=rt.sibling;var lt={mode:"hidden",children:tt.children};return!(it&1)&&_.child!==rt?(tt=_.child,tt.childLanes=0,tt.pendingProps=lt,_.deletions=null):(tt=Pg(rt,lt),tt.subtreeFlags=rt.subtreeFlags&14680064),at!==null?nt=Pg(at,nt):(nt=Tg(nt,it,et,null),nt.flags|=2),nt.return=_,tt.return=_,tt.sibling=nt,_.child=tt,tt=nt,nt=_.child,it=_e.child.memoizedState,it=it===null?nj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},nt.memoizedState=it,nt.childLanes=_e.childLanes&~et,_.memoizedState=mj,tt}return nt=_e.child,_e=nt.sibling,tt=Pg(nt,{mode:"visible",children:tt.children}),!(_.mode&1)&&(tt.lanes=et),tt.return=_,tt.sibling=null,_e!==null&&(et=_.deletions,et===null?(_.deletions=[_e],_.flags|=16):et.push(_e)),_.child=tt,_.memoizedState=null,tt}function qj(_e,_){return _=pj({mode:"visible",children:_},_e.mode,0,null),_.return=_e,_e.child=_}function sj(_e,_,et,tt){return tt!==null&&Jg(tt),Ug(_,_e.child,null,et),_e=qj(_,_.pendingProps.children),_e.flags|=2,_.memoizedState=null,_e}function rj(_e,_,et,tt,rt,nt,it){if(et)return _.flags&256?(_.flags&=-257,tt=Ki(Error(p$3(422))),sj(_e,_,it,tt)):_.memoizedState!==null?(_.child=_e.child,_.flags|=128,null):(nt=tt.fallback,rt=_.mode,tt=pj({mode:"visible",children:tt.children},rt,0,null),nt=Tg(nt,rt,it,null),nt.flags|=2,tt.return=_,nt.return=_,tt.sibling=nt,_.child=tt,_.mode&1&&Ug(_,_e.child,null,it),_.child.memoizedState=nj(it),_.memoizedState=mj,nt);if(!(_.mode&1))return sj(_e,_,it,null);if(rt.data==="$!"){if(tt=rt.nextSibling&&rt.nextSibling.dataset,tt)var at=tt.dgst;return tt=at,nt=Error(p$3(419)),tt=Ki(nt,tt,void 0),sj(_e,_,it,tt)}if(at=(it&_e.childLanes)!==0,dh||at){if(tt=Q,tt!==null){switch(it&-it){case 4:rt=2;break;case 16:rt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rt=32;break;case 536870912:rt=268435456;break;default:rt=0}rt=rt&(tt.suspendedLanes|it)?0:rt,rt!==0&&rt!==nt.retryLane&&(nt.retryLane=rt,ih(_e,rt),gi(tt,_e,rt,-1))}return tj(),tt=Ki(Error(p$3(421))),sj(_e,_,it,tt)}return rt.data==="$?"?(_.flags|=128,_.child=_e.child,_=uj.bind(null,_e),rt._reactRetry=_,null):(_e=nt.treeContext,yg=Lf(rt.nextSibling),xg=_,I=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=_),_=qj(_,tt.children),_.flags|=4096,_)}function vj(_e,_,et){_e.lanes|=_;var tt=_e.alternate;tt!==null&&(tt.lanes|=_),bh(_e.return,_,et)}function wj(_e,_,et,tt,rt){var nt=_e.memoizedState;nt===null?_e.memoizedState={isBackwards:_,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:rt}:(nt.isBackwards=_,nt.rendering=null,nt.renderingStartTime=0,nt.last=tt,nt.tail=et,nt.tailMode=rt)}function xj(_e,_,et){var tt=_.pendingProps,rt=tt.revealOrder,nt=tt.tail;if(Xi(_e,_,tt.children,et),tt=L.current,tt&2)tt=tt&1|2,_.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=_.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,et,_);else if(_e.tag===19)vj(_e,et,_);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===_)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===_)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}tt&=1}if(G(L,tt),!(_.mode&1))_.memoizedState=null;else switch(rt){case"forwards":for(et=_.child,rt=null;et!==null;)_e=et.alternate,_e!==null&&Ch(_e)===null&&(rt=et),et=et.sibling;et=rt,et===null?(rt=_.child,_.child=null):(rt=et.sibling,et.sibling=null),wj(_,!1,rt,et,nt);break;case"backwards":for(et=null,rt=_.child,_.child=null;rt!==null;){if(_e=rt.alternate,_e!==null&&Ch(_e)===null){_.child=rt;break}_e=rt.sibling,rt.sibling=et,et=rt,rt=_e}wj(_,!0,et,null,nt);break;case"together":wj(_,!1,null,null,void 0);break;default:_.memoizedState=null}return _.child}function ij(_e,_){!(_.mode&1)&&_e!==null&&(_e.alternate=null,_.alternate=null,_.flags|=2)}function Zi(_e,_,et){if(_e!==null&&(_.dependencies=_e.dependencies),rh|=_.lanes,!(et&_.childLanes))return null;if(_e!==null&&_.child!==_e.child)throw Error(p$3(153));if(_.child!==null){for(_e=_.child,et=Pg(_e,_e.pendingProps),_.child=et,et.return=_;_e.sibling!==null;)_e=_e.sibling,et=et.sibling=Pg(_e,_e.pendingProps),et.return=_;et.sibling=null}return _.child}function yj(_e,_,et){switch(_.tag){case 3:kj(_),Ig();break;case 5:Ah(_);break;case 1:Zf(_.type)&&cg(_);break;case 4:yh(_,_.stateNode.containerInfo);break;case 10:var tt=_.type._context,rt=_.memoizedProps.value;G(Wg,tt._currentValue),tt._currentValue=rt;break;case 13:if(tt=_.memoizedState,tt!==null)return tt.dehydrated!==null?(G(L,L.current&1),_.flags|=128,null):et&_.child.childLanes?oj(_e,_,et):(G(L,L.current&1),_e=Zi(_e,_,et),_e!==null?_e.sibling:null);G(L,L.current&1);break;case 19:if(tt=(et&_.childLanes)!==0,_e.flags&128){if(tt)return xj(_e,_,et);_.flags|=128}if(rt=_.memoizedState,rt!==null&&(rt.rendering=null,rt.tail=null,rt.lastEffect=null),G(L,L.current),tt)break;return null;case 22:case 23:return _.lanes=0,dj(_e,_,et)}return Zi(_e,_,et)}var zj,Aj,Bj,Cj;zj=function(_e,_){for(var et=_.child;et!==null;){if(et.tag===5||et.tag===6)_e.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===_)break;for(;et.sibling===null;){if(et.return===null||et.return===_)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Aj=function(){};Bj=function(_e,_,et,tt){var rt=_e.memoizedProps;if(rt!==tt){_e=_.stateNode,xh(uh.current);var nt=null;switch(et){case"input":rt=Ya(_e,rt),tt=Ya(_e,tt),nt=[];break;case"select":rt=A$1({},rt,{value:void 0}),tt=A$1({},tt,{value:void 0}),nt=[];break;case"textarea":rt=gb(_e,rt),tt=gb(_e,tt),nt=[];break;default:typeof rt.onClick!="function"&&typeof tt.onClick=="function"&&(_e.onclick=Bf)}ub(et,tt);var it;et=null;for(ct in rt)if(!tt.hasOwnProperty(ct)&&rt.hasOwnProperty(ct)&&rt[ct]!=null)if(ct==="style"){var at=rt[ct];for(it in at)at.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?nt||(nt=[]):(nt=nt||[]).push(ct,null));for(ct in tt){var lt=tt[ct];if(at=rt!=null?rt[ct]:void 0,tt.hasOwnProperty(ct)&&lt!==at&&(lt!=null||at!=null))if(ct==="style")if(at){for(it in at)!at.hasOwnProperty(it)||lt&&lt.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in lt)lt.hasOwnProperty(it)&&at[it]!==lt[it]&&(et||(et={}),et[it]=lt[it])}else et||(nt||(nt=[]),nt.push(ct,et)),et=lt;else ct==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,at=at?at.__html:void 0,lt!=null&&at!==lt&&(nt=nt||[]).push(ct,lt)):ct==="children"?typeof lt!="string"&&typeof lt!="number"||(nt=nt||[]).push(ct,""+lt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(lt!=null&&ct==="onScroll"&&D("scroll",_e),nt||at===lt||(nt=[])):(nt=nt||[]).push(ct,lt))}et&&(nt=nt||[]).push("style",et);var ct=nt;(_.updateQueue=ct)&&(_.flags|=4)}};Cj=function(_e,_,et,tt){et!==tt&&(_.flags|=4)};function Dj(_e,_){if(!I)switch(_e.tailMode){case"hidden":_=_e.tail;for(var et=null;_!==null;)_.alternate!==null&&(et=_),_=_.sibling;et===null?_e.tail=null:et.sibling=null;break;case"collapsed":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?_||_e.tail===null?_e.tail=null:_e.tail.sibling=null:tt.sibling=null}}function S$1(_e){var _=_e.alternate!==null&&_e.alternate.child===_e.child,et=0,tt=0;if(_)for(var rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,tt|=rt.subtreeFlags&14680064,tt|=rt.flags&14680064,rt.return=_e,rt=rt.sibling;else for(rt=_e.child;rt!==null;)et|=rt.lanes|rt.childLanes,tt|=rt.subtreeFlags,tt|=rt.flags,rt.return=_e,rt=rt.sibling;return _e.subtreeFlags|=tt,_e.childLanes=et,_}function Ej(_e,_,et){var tt=_.pendingProps;switch(wg(_),_.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(_),null;case 1:return Zf(_.type)&&$f(),S$1(_),null;case 3:return tt=_.stateNode,zh(),E(Wf),E(H$1),Eh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(_e===null||_e.child===null)&&(Gg(_)?_.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!(_.flags&256)||(_.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,_),S$1(_),null;case 5:Bh(_);var rt=xh(wh.current);if(et=_.type,_e!==null&&_.stateNode!=null)Bj(_e,_,et,tt,rt),_e.ref!==_.ref&&(_.flags|=512,_.flags|=2097152);else{if(!tt){if(_.stateNode===null)throw Error(p$3(166));return S$1(_),null}if(_e=xh(uh.current),Gg(_)){tt=_.stateNode,et=_.type;var nt=_.memoizedProps;switch(tt[Of]=_,tt[Pf]=nt,_e=(_.mode&1)!==0,et){case"dialog":D("cancel",tt),D("close",tt);break;case"iframe":case"object":case"embed":D("load",tt);break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],tt);break;case"source":D("error",tt);break;case"img":case"image":case"link":D("error",tt),D("load",tt);break;case"details":D("toggle",tt);break;case"input":Za(tt,nt),D("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!nt.multiple},D("invalid",tt);break;case"textarea":hb(tt,nt),D("invalid",tt)}ub(et,nt),rt=null;for(var it in nt)if(nt.hasOwnProperty(it)){var at=nt[it];it==="children"?typeof at=="string"?tt.textContent!==at&&(nt.suppressHydrationWarning!==!0&&Af(tt.textContent,at,_e),rt=["children",at]):typeof at=="number"&&tt.textContent!==""+at&&(nt.suppressHydrationWarning!==!0&&Af(tt.textContent,at,_e),rt=["children",""+at]):ea.hasOwnProperty(it)&&at!=null&&it==="onScroll"&&D("scroll",tt)}switch(et){case"input":Va(tt),db(tt,nt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof nt.onClick=="function"&&(tt.onclick=Bf)}tt=rt,_.updateQueue=tt,tt!==null&&(_.flags|=4)}else{it=rt.nodeType===9?rt:rt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(et)),_e==="http://www.w3.org/1999/xhtml"?et==="script"?(_e=it.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof tt.is=="string"?_e=it.createElement(et,{is:tt.is}):(_e=it.createElement(et),et==="select"&&(it=_e,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):_e=it.createElementNS(_e,et),_e[Of]=_,_e[Pf]=tt,zj(_e,_,!1,!1),_.stateNode=_e;e:{switch(it=vb(et,tt),et){case"dialog":D("cancel",_e),D("close",_e),rt=tt;break;case"iframe":case"object":case"embed":D("load",_e),rt=tt;break;case"video":case"audio":for(rt=0;rt<lf.length;rt++)D(lf[rt],_e);rt=tt;break;case"source":D("error",_e),rt=tt;break;case"img":case"image":case"link":D("error",_e),D("load",_e),rt=tt;break;case"details":D("toggle",_e),rt=tt;break;case"input":Za(_e,tt),rt=Ya(_e,tt),D("invalid",_e);break;case"option":rt=tt;break;case"select":_e._wrapperState={wasMultiple:!!tt.multiple},rt=A$1({},tt,{value:void 0}),D("invalid",_e);break;case"textarea":hb(_e,tt),rt=gb(_e,tt),D("invalid",_e);break;default:rt=tt}ub(et,rt),at=rt;for(nt in at)if(at.hasOwnProperty(nt)){var lt=at[nt];nt==="style"?sb(_e,lt):nt==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(_e,lt)):nt==="children"?typeof lt=="string"?(et!=="textarea"||lt!=="")&&ob(_e,lt):typeof lt=="number"&&ob(_e,""+lt):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?lt!=null&&nt==="onScroll"&&D("scroll",_e):lt!=null&&ta(_e,nt,lt,it))}switch(et){case"input":Va(_e),db(_e,tt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":tt.value!=null&&_e.setAttribute("value",""+Sa(tt.value));break;case"select":_e.multiple=!!tt.multiple,nt=tt.value,nt!=null?fb(_e,!!tt.multiple,nt,!1):tt.defaultValue!=null&&fb(_e,!!tt.multiple,tt.defaultValue,!0);break;default:typeof rt.onClick=="function"&&(_e.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&(_.flags|=4)}_.ref!==null&&(_.flags|=512,_.flags|=2097152)}return S$1(_),null;case 6:if(_e&&_.stateNode!=null)Cj(_e,_,_e.memoizedProps,tt);else{if(typeof tt!="string"&&_.stateNode===null)throw Error(p$3(166));if(et=xh(wh.current),xh(uh.current),Gg(_)){if(tt=_.stateNode,et=_.memoizedProps,tt[Of]=_,(nt=tt.nodeValue!==et)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(tt.nodeValue,et,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,(_e.mode&1)!==0)}nt&&(_.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=_,_.stateNode=tt}return S$1(_),null;case 13:if(E(L),tt=_.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I&&yg!==null&&_.mode&1&&!(_.flags&128))Hg(),Ig(),_.flags|=98560,nt=!1;else if(nt=Gg(_),tt!==null&&tt.dehydrated!==null){if(_e===null){if(!nt)throw Error(p$3(318));if(nt=_.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p$3(317));nt[Of]=_}else Ig(),!(_.flags&128)&&(_.memoizedState=null),_.flags|=4;S$1(_),nt=!1}else zg!==null&&(Fj(zg),zg=null),nt=!0;if(!nt)return _.flags&65536?_:null}return _.flags&128?(_.lanes=et,_):(tt=tt!==null,tt!==(_e!==null&&_e.memoizedState!==null)&&tt&&(_.child.flags|=8192,_.mode&1&&(_e===null||L.current&1?T===0&&(T=3):tj())),_.updateQueue!==null&&(_.flags|=4),S$1(_),null);case 4:return zh(),Aj(_e,_),_e===null&&sf(_.stateNode.containerInfo),S$1(_),null;case 10:return ah(_.type._context),S$1(_),null;case 17:return Zf(_.type)&&$f(),S$1(_),null;case 19:if(E(L),nt=_.memoizedState,nt===null)return S$1(_),null;if(tt=(_.flags&128)!==0,it=nt.rendering,it===null)if(tt)Dj(nt,!1);else{if(T!==0||_e!==null&&_e.flags&128)for(_e=_.child;_e!==null;){if(it=Ch(_e),it!==null){for(_.flags|=128,Dj(nt,!1),tt=it.updateQueue,tt!==null&&(_.updateQueue=tt,_.flags|=4),_.subtreeFlags=0,tt=et,et=_.child;et!==null;)nt=et,_e=tt,nt.flags&=14680066,it=nt.alternate,it===null?(nt.childLanes=0,nt.lanes=_e,nt.child=null,nt.subtreeFlags=0,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null,nt.stateNode=null):(nt.childLanes=it.childLanes,nt.lanes=it.lanes,nt.child=it.child,nt.subtreeFlags=0,nt.deletions=null,nt.memoizedProps=it.memoizedProps,nt.memoizedState=it.memoizedState,nt.updateQueue=it.updateQueue,nt.type=it.type,_e=it.dependencies,nt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),et=et.sibling;return G(L,L.current&1|2),_.child}_e=_e.sibling}nt.tail!==null&&B()>Gj&&(_.flags|=128,tt=!0,Dj(nt,!1),_.lanes=4194304)}else{if(!tt)if(_e=Ch(it),_e!==null){if(_.flags|=128,tt=!0,et=_e.updateQueue,et!==null&&(_.updateQueue=et,_.flags|=4),Dj(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!it.alternate&&!I)return S$1(_),null}else 2*B()-nt.renderingStartTime>Gj&&et!==1073741824&&(_.flags|=128,tt=!0,Dj(nt,!1),_.lanes=4194304);nt.isBackwards?(it.sibling=_.child,_.child=it):(et=nt.last,et!==null?et.sibling=it:_.child=it,nt.last=it)}return nt.tail!==null?(_=nt.tail,nt.rendering=_,nt.tail=_.sibling,nt.renderingStartTime=B(),_.sibling=null,et=L.current,G(L,tt?et&1|2:et&1),_):(S$1(_),null);case 22:case 23:return Hj(),tt=_.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==tt&&(_.flags|=8192),tt&&_.mode&1?fj&1073741824&&(S$1(_),_.subtreeFlags&6&&(_.flags|=8192)):S$1(_),null;case 24:return null;case 25:return null}throw Error(p$3(156,_.tag))}function Ij(_e,_){switch(wg(_),_.tag){case 1:return Zf(_.type)&&$f(),_e=_.flags,_e&65536?(_.flags=_e&-65537|128,_):null;case 3:return zh(),E(Wf),E(H$1),Eh(),_e=_.flags,_e&65536&&!(_e&128)?(_.flags=_e&-65537|128,_):null;case 5:return Bh(_),null;case 13:if(E(L),_e=_.memoizedState,_e!==null&&_e.dehydrated!==null){if(_.alternate===null)throw Error(p$3(340));Ig()}return _e=_.flags,_e&65536?(_.flags=_e&-65537|128,_):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(_.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(_e,_){var et=_e.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W(_e,_,tt)}else et.current=null}function Mj(_e,_,et){try{et()}catch(tt){W(_e,_,tt)}}var Nj=!1;function Oj(_e,_){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var et={start:_e.selectionStart,end:_e.selectionEnd};else e:{et=(et=_e.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var rt=tt.anchorOffset,nt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,nt.nodeType}catch{et=null;break e}var it=0,at=-1,lt=-1,ct=0,ut=0,st=_e,ot=null;t:for(;;){for(var dt;st!==et||rt!==0&&st.nodeType!==3||(at=it+rt),st!==nt||tt!==0&&st.nodeType!==3||(lt=it+tt),st.nodeType===3&&(it+=st.nodeValue.length),(dt=st.firstChild)!==null;)ot=st,st=dt;for(;;){if(st===_e)break t;if(ot===et&&++ct===rt&&(at=it),ot===nt&&++ut===tt&&(lt=it),(dt=st.nextSibling)!==null)break;st=ot,ot=st.parentNode}st=dt}et=at===-1||lt===-1?null:{start:at,end:lt}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:_e,selectionRange:et},dd=!1,V=_;V!==null;)if(_=V,_e=_.child,(_.subtreeFlags&1028)!==0&&_e!==null)_e.return=_,V=_e;else for(;V!==null;){_=V;try{var ft=_.alternate;if(_.flags&1024)switch(_.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var ht=ft.memoizedProps,mt=ft.memoizedState,gt=_.stateNode,yt=gt.getSnapshotBeforeUpdate(_.elementType===_.type?ht:Ci(_.type,ht),mt);gt.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var vt=_.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(bt){W(_,_.return,bt)}if(_e=_.sibling,_e!==null){_e.return=_.return,V=_e;break}V=_.return}return ft=Nj,Nj=!1,ft}function Pj(_e,_,et){var tt=_.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var rt=tt=tt.next;do{if((rt.tag&_e)===_e){var nt=rt.destroy;rt.destroy=void 0,nt!==void 0&&Mj(_,et,nt)}rt=rt.next}while(rt!==tt)}}function Qj(_e,_){if(_=_.updateQueue,_=_!==null?_.lastEffect:null,_!==null){var et=_=_.next;do{if((et.tag&_e)===_e){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==_)}}function Rj(_e){var _=_e.ref;if(_!==null){var et=_e.stateNode;switch(_e.tag){case 5:_e=et;break;default:_e=et}typeof _=="function"?_(_e):_.current=_e}}function Sj(_e){var _=_e.alternate;_!==null&&(_e.alternate=null,Sj(_)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(_=_e.stateNode,_!==null&&(delete _[Of],delete _[Pf],delete _[of],delete _[Qf],delete _[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,_,et){var tt=_e.tag;if(tt===5||tt===6)_e=_e.stateNode,_?et.nodeType===8?et.parentNode.insertBefore(_e,_):et.insertBefore(_e,_):(et.nodeType===8?(_=et.parentNode,_.insertBefore(_e,et)):(_=et,_.appendChild(_e)),et=et._reactRootContainer,et!=null||_.onclick!==null||(_.onclick=Bf));else if(tt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,_,et),_e=_e.sibling;_e!==null;)Vj(_e,_,et),_e=_e.sibling}function Wj(_e,_,et){var tt=_e.tag;if(tt===5||tt===6)_e=_e.stateNode,_?et.insertBefore(_e,_):et.appendChild(_e);else if(tt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,_,et),_e=_e.sibling;_e!==null;)Wj(_e,_,et),_e=_e.sibling}var X=null,Xj=!1;function Yj(_e,_,et){for(et=et.child;et!==null;)Zj(_e,_,et),et=et.sibling}function Zj(_e,_,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U||Lj(et,_);case 6:var tt=X,rt=Xj;X=null,Yj(_e,_,et),X=tt,Xj=rt,X!==null&&(Xj?(_e=X,et=et.stateNode,_e.nodeType===8?_e.parentNode.removeChild(et):_e.removeChild(et)):X.removeChild(et.stateNode));break;case 18:X!==null&&(Xj?(_e=X,et=et.stateNode,_e.nodeType===8?Kf(_e.parentNode,et):_e.nodeType===1&&Kf(_e,et),bd(_e)):Kf(X,et.stateNode));break;case 4:tt=X,rt=Xj,X=et.stateNode.containerInfo,Xj=!0,Yj(_e,_,et),X=tt,Xj=rt;break;case 0:case 11:case 14:case 15:if(!U&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){rt=tt=tt.next;do{var nt=rt,it=nt.destroy;nt=nt.tag,it!==void 0&&(nt&2||nt&4)&&Mj(et,_,it),rt=rt.next}while(rt!==tt)}Yj(_e,_,et);break;case 1:if(!U&&(Lj(et,_),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(at){W(et,_,at)}Yj(_e,_,et);break;case 21:Yj(_e,_,et);break;case 22:et.mode&1?(U=(tt=U)||et.memoizedState!==null,Yj(_e,_,et),U=tt):Yj(_e,_,et);break;default:Yj(_e,_,et)}}function ak(_e){var _=_e.updateQueue;if(_!==null){_e.updateQueue=null;var et=_e.stateNode;et===null&&(et=_e.stateNode=new Kj),_.forEach(function(tt){var rt=bk.bind(null,_e,tt);et.has(tt)||(et.add(tt),tt.then(rt,rt))})}}function ck(_e,_){var et=_.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var rt=et[tt];try{var nt=_e,it=_,at=it;e:for(;at!==null;){switch(at.tag){case 5:X=at.stateNode,Xj=!1;break e;case 3:X=at.stateNode.containerInfo,Xj=!0;break e;case 4:X=at.stateNode.containerInfo,Xj=!0;break e}at=at.return}if(X===null)throw Error(p$3(160));Zj(nt,it,rt),X=null,Xj=!1;var lt=rt.alternate;lt!==null&&(lt.return=null),rt.return=null}catch(ct){W(rt,_,ct)}}if(_.subtreeFlags&12854)for(_=_.child;_!==null;)dk(_,_e),_=_.sibling}function dk(_e,_){var et=_e.alternate,tt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck(_,_e),ek(_e),tt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(ht){W(_e,_e.return,ht)}try{Pj(5,_e,_e.return)}catch(ht){W(_e,_e.return,ht)}}break;case 1:ck(_,_e),ek(_e),tt&512&&et!==null&&Lj(et,et.return);break;case 5:if(ck(_,_e),ek(_e),tt&512&&et!==null&&Lj(et,et.return),_e.flags&32){var rt=_e.stateNode;try{ob(rt,"")}catch(ht){W(_e,_e.return,ht)}}if(tt&4&&(rt=_e.stateNode,rt!=null)){var nt=_e.memoizedProps,it=et!==null?et.memoizedProps:nt,at=_e.type,lt=_e.updateQueue;if(_e.updateQueue=null,lt!==null)try{at==="input"&&nt.type==="radio"&&nt.name!=null&&ab(rt,nt),vb(at,it);var ct=vb(at,nt);for(it=0;it<lt.length;it+=2){var ut=lt[it],st=lt[it+1];ut==="style"?sb(rt,st):ut==="dangerouslySetInnerHTML"?nb(rt,st):ut==="children"?ob(rt,st):ta(rt,ut,st,ct)}switch(at){case"input":bb(rt,nt);break;case"textarea":ib(rt,nt);break;case"select":var ot=rt._wrapperState.wasMultiple;rt._wrapperState.wasMultiple=!!nt.multiple;var dt=nt.value;dt!=null?fb(rt,!!nt.multiple,dt,!1):ot!==!!nt.multiple&&(nt.defaultValue!=null?fb(rt,!!nt.multiple,nt.defaultValue,!0):fb(rt,!!nt.multiple,nt.multiple?[]:"",!1))}rt[Pf]=nt}catch(ht){W(_e,_e.return,ht)}}break;case 6:if(ck(_,_e),ek(_e),tt&4){if(_e.stateNode===null)throw Error(p$3(162));rt=_e.stateNode,nt=_e.memoizedProps;try{rt.nodeValue=nt}catch(ht){W(_e,_e.return,ht)}}break;case 3:if(ck(_,_e),ek(_e),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd(_.containerInfo)}catch(ht){W(_e,_e.return,ht)}break;case 4:ck(_,_e),ek(_e);break;case 13:ck(_,_e),ek(_e),rt=_e.child,rt.flags&8192&&(nt=rt.memoizedState!==null,rt.stateNode.isHidden=nt,!nt||rt.alternate!==null&&rt.alternate.memoizedState!==null||(fk=B())),tt&4&&ak(_e);break;case 22:if(ut=et!==null&&et.memoizedState!==null,_e.mode&1?(U=(ct=U)||ut,ck(_,_e),U=ct):ck(_,_e),ek(_e),tt&8192){if(ct=_e.memoizedState!==null,(_e.stateNode.isHidden=ct)&&!ut&&_e.mode&1)for(V=_e,ut=_e.child;ut!==null;){for(st=V=ut;V!==null;){switch(ot=V,dt=ot.child,ot.tag){case 0:case 11:case 14:case 15:Pj(4,ot,ot.return);break;case 1:Lj(ot,ot.return);var ft=ot.stateNode;if(typeof ft.componentWillUnmount=="function"){tt=ot,et=ot.return;try{_=tt,ft.props=_.memoizedProps,ft.state=_.memoizedState,ft.componentWillUnmount()}catch(ht){W(tt,et,ht)}}break;case 5:Lj(ot,ot.return);break;case 22:if(ot.memoizedState!==null){gk(st);continue}}dt!==null?(dt.return=ot,V=dt):gk(st)}ut=ut.sibling}e:for(ut=null,st=_e;;){if(st.tag===5){if(ut===null){ut=st;try{rt=st.stateNode,ct?(nt=rt.style,typeof nt.setProperty=="function"?nt.setProperty("display","none","important"):nt.display="none"):(at=st.stateNode,lt=st.memoizedProps.style,it=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,at.style.display=rb("display",it))}catch(ht){W(_e,_e.return,ht)}}}else if(st.tag===6){if(ut===null)try{st.stateNode.nodeValue=ct?"":st.memoizedProps}catch(ht){W(_e,_e.return,ht)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===_e)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===_e)break e;for(;st.sibling===null;){if(st.return===null||st.return===_e)break e;ut===st&&(ut=null),st=st.return}ut===st&&(ut=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:ck(_,_e),ek(_e),tt&4&&ak(_e);break;case 21:break;default:ck(_,_e),ek(_e)}}function ek(_e){var _=_e.flags;if(_&2){try{e:{for(var et=_e.return;et!==null;){if(Tj(et)){var tt=et;break e}et=et.return}throw Error(p$3(160))}switch(tt.tag){case 5:var rt=tt.stateNode;tt.flags&32&&(ob(rt,""),tt.flags&=-33);var nt=Uj(_e);Wj(_e,nt,rt);break;case 3:case 4:var it=tt.stateNode.containerInfo,at=Uj(_e);Vj(_e,at,it);break;default:throw Error(p$3(161))}}catch(lt){W(_e,_e.return,lt)}_e.flags&=-3}_&4096&&(_e.flags&=-4097)}function hk(_e,_,et){V=_e,ik(_e)}function ik(_e,_,et){for(var tt=(_e.mode&1)!==0;V!==null;){var rt=V,nt=rt.child;if(rt.tag===22&&tt){var it=rt.memoizedState!==null||Jj;if(!it){var at=rt.alternate,lt=at!==null&&at.memoizedState!==null||U;at=Jj;var ct=U;if(Jj=it,(U=lt)&&!ct)for(V=rt;V!==null;)it=V,lt=it.child,it.tag===22&&it.memoizedState!==null?jk(rt):lt!==null?(lt.return=it,V=lt):jk(rt);for(;nt!==null;)V=nt,ik(nt),nt=nt.sibling;V=rt,Jj=at,U=ct}kk(_e)}else rt.subtreeFlags&8772&&nt!==null?(nt.return=rt,V=nt):kk(_e)}}function kk(_e){for(;V!==null;){var _=V;if(_.flags&8772){var et=_.alternate;try{if(_.flags&8772)switch(_.tag){case 0:case 11:case 15:U||Qj(5,_);break;case 1:var tt=_.stateNode;if(_.flags&4&&!U)if(et===null)tt.componentDidMount();else{var rt=_.elementType===_.type?et.memoizedProps:Ci(_.type,et.memoizedProps);tt.componentDidUpdate(rt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var nt=_.updateQueue;nt!==null&&sh(_,nt,tt);break;case 3:var it=_.updateQueue;if(it!==null){if(et=null,_.child!==null)switch(_.child.tag){case 5:et=_.child.stateNode;break;case 1:et=_.child.stateNode}sh(_,it,et)}break;case 5:var at=_.stateNode;if(et===null&&_.flags&4){et=at;var lt=_.memoizedProps;switch(_.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&et.focus();break;case"img":lt.src&&(et.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_.memoizedState===null){var ct=_.alternate;if(ct!==null){var ut=ct.memoizedState;if(ut!==null){var st=ut.dehydrated;st!==null&&bd(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U||_.flags&512&&Rj(_)}catch(ot){W(_,_.return,ot)}}if(_===_e){V=null;break}if(et=_.sibling,et!==null){et.return=_.return,V=et;break}V=_.return}}function gk(_e){for(;V!==null;){var _=V;if(_===_e){V=null;break}var et=_.sibling;if(et!==null){et.return=_.return,V=et;break}V=_.return}}function jk(_e){for(;V!==null;){var _=V;try{switch(_.tag){case 0:case 11:case 15:var et=_.return;try{Qj(4,_)}catch(lt){W(_,et,lt)}break;case 1:var tt=_.stateNode;if(typeof tt.componentDidMount=="function"){var rt=_.return;try{tt.componentDidMount()}catch(lt){W(_,rt,lt)}}var nt=_.return;try{Rj(_)}catch(lt){W(_,nt,lt)}break;case 5:var it=_.return;try{Rj(_)}catch(lt){W(_,it,lt)}}}catch(lt){W(_,_.return,lt)}if(_===_e){V=null;break}var at=_.sibling;if(at!==null){at.return=_.return,V=at;break}V=_.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,_,et,tt){if(50<yk)throw yk=0,zk=null,Error(p$3(185));Ac(_e,et,tt),(!(K&2)||_e!==Q)&&(_e===Q&&(!(K&2)&&(qk|=et),T===4&&Ck(_e,Z)),Dk(_e,tt),et===1&&K===0&&!(_.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(_e,_){var et=_e.callbackNode;wc(_e,_);var tt=uc(_e,_e===Q?Z:0);if(tt===0)et!==null&&bc(et),_e.callbackNode=null,_e.callbackPriority=0;else if(_=tt&-tt,_e.callbackPriority!==_){if(et!=null&&bc(et),_===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Fk(et,Gk.bind(null,_e))}_e.callbackPriority=_,_e.callbackNode=et}}function Gk(_e,_){if(Ak=-1,Bk=0,K&6)throw Error(p$3(327));var et=_e.callbackNode;if(Hk()&&_e.callbackNode!==et)return null;var tt=uc(_e,_e===Q?Z:0);if(tt===0)return null;if(tt&30||tt&_e.expiredLanes||_)_=Ik(_e,tt);else{_=tt;var rt=K;K|=2;var nt=Jk();(Q!==_e||Z!==_)&&(uk=null,Gj=B()+500,Kk(_e,_));do try{Lk();break}catch(at){Mk(_e,at)}while(!0);$g(),mk.current=nt,K=rt,Y!==null?_=0:(Q=null,Z=0,_=T)}if(_!==0){if(_===2&&(rt=xc(_e),rt!==0&&(tt=rt,_=Nk(_e,rt))),_===1)throw et=pk,Kk(_e,0),Ck(_e,tt),Dk(_e,B()),et;if(_===6)Ck(_e,tt);else{if(rt=_e.current.alternate,!(tt&30)&&!Ok(rt)&&(_=Ik(_e,tt),_===2&&(nt=xc(_e),nt!==0&&(tt=nt,_=Nk(_e,nt))),_===1))throw et=pk,Kk(_e,0),Ck(_e,tt),Dk(_e,B()),et;switch(_e.finishedWork=rt,_e.finishedLanes=tt,_){case 0:case 1:throw Error(p$3(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,tt),(tt&130023424)===tt&&(_=fk+500-B(),10<_)){if(uc(_e,0)!==0)break;if(rt=_e.suspendedLanes,(rt&tt)!==tt){R(),_e.pingedLanes|=_e.suspendedLanes&rt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),_);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,tt),(tt&4194240)===tt)break;for(_=_e.eventTimes,rt=-1;0<tt;){var it=31-oc(tt);nt=1<<it,it=_[it],it>rt&&(rt=it),tt&=~nt}if(tt=rt,tt=B()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*lk(tt/1960))-tt,10<tt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),tt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$3(329))}}}return Dk(_e,B()),_e.callbackNode===et?Gk.bind(null,_e):null}function Nk(_e,_){var et=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,_).flags|=256),_e=Ik(_e,_),_e!==2&&(_=tk,tk=et,_!==null&&Fj(_)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var _=_e;;){if(_.flags&16384){var et=_.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var rt=et[tt],nt=rt.getSnapshot;rt=rt.value;try{if(!He(nt(),rt))return!1}catch{return!1}}}if(et=_.child,_.subtreeFlags&16384&&et!==null)et.return=_,_=et;else{if(_===_e)break;for(;_.sibling===null;){if(_.return===null||_.return===_e)return!0;_=_.return}_.sibling.return=_.return,_=_.sibling}}return!0}function Ck(_e,_){for(_&=~rk,_&=~qk,_e.suspendedLanes|=_,_e.pingedLanes&=~_,_e=_e.expirationTimes;0<_;){var et=31-oc(_),tt=1<<et;_e[et]=-1,_&=~tt}}function Ek(_e){if(K&6)throw Error(p$3(327));Hk();var _=uc(_e,0);if(!(_&1))return Dk(_e,B()),null;var et=Ik(_e,_);if(_e.tag!==0&&et===2){var tt=xc(_e);tt!==0&&(_=tt,et=Nk(_e,tt))}if(et===1)throw et=pk,Kk(_e,0),Ck(_e,_),Dk(_e,B()),et;if(et===6)throw Error(p$3(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=_,Pk(_e,tk,uk),Dk(_e,B()),null}function Qk(_e,_){var et=K;K|=1;try{return _e(_)}finally{K=et,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var _=K;K|=1;var et=ok.transition,tt=C;try{if(ok.transition=null,C=1,_e)return _e()}finally{C=tt,ok.transition=et,K=_,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(_e,_){_e.finishedWork=null,_e.finishedLanes=0;var et=_e.timeoutHandle;if(et!==-1&&(_e.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:zh(),E(Wf),E(H$1),Eh();break;case 5:Bh(tt);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(tt.type._context);break;case 22:case 23:Hj()}et=et.return}if(Q=_e,Y=_e=Pg(_e.current,null),Z=fj=_,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(_=0;_<fh.length;_++)if(et=fh[_],tt=et.interleaved,tt!==null){et.interleaved=null;var rt=tt.next,nt=et.pending;if(nt!==null){var it=nt.next;nt.next=rt,tt.next=it}et.pending=tt}fh=null}return _e}function Mk(_e,_){do{var et=Y;try{if($g(),Fh.current=Rh,Ih){for(var tt=M$1.memoizedState;tt!==null;){var rt=tt.queue;rt!==null&&(rt.pending=null),tt=tt.next}Ih=!1}if(Hh=0,O=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,et===null||et.return===null){T=1,pk=_,Y=null;break}e:{var nt=_e,it=et.return,at=et,lt=_;if(_=Z,at.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ct=lt,ut=at,st=ut.tag;if(!(ut.mode&1)&&(st===0||st===11||st===15)){var ot=ut.alternate;ot?(ut.updateQueue=ot.updateQueue,ut.memoizedState=ot.memoizedState,ut.lanes=ot.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var dt=Ui(it);if(dt!==null){dt.flags&=-257,Vi(dt,it,at,nt,_),dt.mode&1&&Si(nt,ct,_),_=dt,lt=ct;var ft=_.updateQueue;if(ft===null){var ht=new Set;ht.add(lt),_.updateQueue=ht}else ft.add(lt);break e}else{if(!(_&1)){Si(nt,ct,_),tj();break e}lt=Error(p$3(426))}}else if(I&&at.mode&1){var mt=Ui(it);if(mt!==null){!(mt.flags&65536)&&(mt.flags|=256),Vi(mt,it,at,nt,_),Jg(Ji(lt,at));break e}}nt=lt=Ji(lt,at),T!==4&&(T=2),sk===null?sk=[nt]:sk.push(nt),nt=it;do{switch(nt.tag){case 3:nt.flags|=65536,_&=-_,nt.lanes|=_;var gt=Ni(nt,lt,_);ph(nt,gt);break e;case 1:at=lt;var yt=nt.type,vt=nt.stateNode;if(!(nt.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt)))){nt.flags|=65536,_&=-_,nt.lanes|=_;var bt=Qi(nt,at,_);ph(nt,bt);break e}}nt=nt.return}while(nt!==null)}Sk(et)}catch(xt){_=xt,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(_e,_){var et=K;K|=2;var tt=Jk();(Q!==_e||Z!==_)&&(uk=null,Kk(_e,_));do try{Tk();break}catch(rt){Mk(_e,rt)}while(!0);if($g(),K=et,mk.current=tt,Y!==null)throw Error(p$3(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_e){var _=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,_===null?Sk(_e):Y=_,nk.current=null}function Sk(_e){var _=_e;do{var et=_.alternate;if(_e=_.return,_.flags&32768){if(et=Ij(et,_),et!==null){et.flags&=32767,Y=et;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T=6,Y=null;return}}else if(et=Ej(et,_,fj),et!==null){Y=et;return}if(_=_.sibling,_!==null){Y=_;return}Y=_=_e}while(_!==null);T===0&&(T=5)}function Pk(_e,_,et){var tt=C,rt=ok.transition;try{ok.transition=null,C=1,Wk(_e,_,et,tt)}finally{ok.transition=rt,C=tt}return null}function Wk(_e,_,et,tt){do Hk();while(wk!==null);if(K&6)throw Error(p$3(327));et=_e.finishedWork;var rt=_e.finishedLanes;if(et===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,et===_e.current)throw Error(p$3(177));_e.callbackNode=null,_e.callbackPriority=0;var nt=et.lanes|et.childLanes;if(Bc(_e,nt),_e===Q&&(Y=Q=null,Z=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),nt=(et.flags&15990)!==0,et.subtreeFlags&15990||nt){nt=ok.transition,ok.transition=null;var it=C;C=1;var at=K;K|=4,nk.current=null,Oj(_e,et),dk(et,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=et,hk(et),dc(),K=at,C=it,ok.transition=nt}else _e.current=et;if(vk&&(vk=!1,wk=_e,xk=rt),nt=_e.pendingLanes,nt===0&&(Ri=null),mc(et.stateNode),Dk(_e,B()),_!==null)for(tt=_e.onRecoverableError,et=0;et<_.length;et++)rt=_[et],tt(rt.value,{componentStack:rt.stack,digest:rt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),nt=_e.pendingLanes,nt&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),_=ok.transition,et=C;try{if(ok.transition=null,C=16>_e?16:_e,wk===null)var tt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$3(331));var rt=K;for(K|=4,V=_e.current;V!==null;){var nt=V,it=nt.child;if(V.flags&16){var at=nt.deletions;if(at!==null){for(var lt=0;lt<at.length;lt++){var ct=at[lt];for(V=ct;V!==null;){var ut=V;switch(ut.tag){case 0:case 11:case 15:Pj(8,ut,nt)}var st=ut.child;if(st!==null)st.return=ut,V=st;else for(;V!==null;){ut=V;var ot=ut.sibling,dt=ut.return;if(Sj(ut),ut===ct){V=null;break}if(ot!==null){ot.return=dt,V=ot;break}V=dt}}}var ft=nt.alternate;if(ft!==null){var ht=ft.child;if(ht!==null){ft.child=null;do{var mt=ht.sibling;ht.sibling=null,ht=mt}while(ht!==null)}}V=nt}}if(nt.subtreeFlags&2064&&it!==null)it.return=nt,V=it;else e:for(;V!==null;){if(nt=V,nt.flags&2048)switch(nt.tag){case 0:case 11:case 15:Pj(9,nt,nt.return)}var gt=nt.sibling;if(gt!==null){gt.return=nt.return,V=gt;break e}V=nt.return}}var yt=_e.current;for(V=yt;V!==null;){it=V;var vt=it.child;if(it.subtreeFlags&2064&&vt!==null)vt.return=it,V=vt;else e:for(it=yt;V!==null;){if(at=V,at.flags&2048)try{switch(at.tag){case 0:case 11:case 15:Qj(9,at)}}catch(xt){W(at,at.return,xt)}if(at===it){V=null;break e}var bt=at.sibling;if(bt!==null){bt.return=at.return,V=bt;break e}V=at.return}}if(K=rt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}tt=!0}return tt}finally{C=et,ok.transition=_}}return!1}function Xk(_e,_,et){_=Ji(et,_),_=Ni(_e,_,1),_e=nh(_e,_,1),_=R(),_e!==null&&(Ac(_e,1,_),Dk(_e,_))}function W(_e,_,et){if(_e.tag===3)Xk(_e,_e,et);else for(;_!==null;){if(_.tag===3){Xk(_,_e,et);break}else if(_.tag===1){var tt=_.stateNode;if(typeof _.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Ri===null||!Ri.has(tt))){_e=Ji(et,_e),_e=Qi(_,_e,1),_=nh(_,_e,1),_e=R(),_!==null&&(Ac(_,1,_e),Dk(_,_e));break}}_=_.return}}function Ti(_e,_,et){var tt=_e.pingCache;tt!==null&&tt.delete(_),_=R(),_e.pingedLanes|=_e.suspendedLanes&et,Q===_e&&(Z&et)===et&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(_e,0):rk|=et),Dk(_e,_)}function Yk(_e,_){_===0&&(_e.mode&1?(_=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_=1);var et=R();_e=ih(_e,_),_e!==null&&(Ac(_e,_,et),Dk(_e,et))}function uj(_e){var _=_e.memoizedState,et=0;_!==null&&(et=_.retryLane),Yk(_e,et)}function bk(_e,_){var et=0;switch(_e.tag){case 13:var tt=_e.stateNode,rt=_e.memoizedState;rt!==null&&(et=rt.retryLane);break;case 19:tt=_e.stateNode;break;default:throw Error(p$3(314))}tt!==null&&tt.delete(_),Yk(_e,et)}var Vk;Vk=function(_e,_,et){if(_e!==null)if(_e.memoizedProps!==_.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&et)&&!(_.flags&128))return dh=!1,yj(_e,_,et);dh=!!(_e.flags&131072)}else dh=!1,I&&_.flags&1048576&&ug(_,ng,_.index);switch(_.lanes=0,_.tag){case 2:var tt=_.type;ij(_e,_),_e=_.pendingProps;var rt=Yf(_,H$1.current);ch(_,et),rt=Nh(null,_,tt,_e,rt,et);var nt=Sh();return _.flags|=1,typeof rt=="object"&&rt!==null&&typeof rt.render=="function"&&rt.$$typeof===void 0?(_.tag=1,_.memoizedState=null,_.updateQueue=null,Zf(tt)?(nt=!0,cg(_)):nt=!1,_.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,kh(_),rt.updater=Ei,_.stateNode=rt,rt._reactInternals=_,Ii(_,tt,_e,et),_=jj(null,_,tt,!0,nt,et)):(_.tag=0,I&&nt&&vg(_),Xi(null,_,rt,et),_=_.child),_;case 16:tt=_.elementType;e:{switch(ij(_e,_),_e=_.pendingProps,rt=tt._init,tt=rt(tt._payload),_.type=tt,rt=_.tag=Zk(tt),_e=Ci(tt,_e),rt){case 0:_=cj(null,_,tt,_e,et);break e;case 1:_=hj(null,_,tt,_e,et);break e;case 11:_=Yi(null,_,tt,_e,et);break e;case 14:_=$i(null,_,tt,Ci(tt.type,_e),et);break e}throw Error(p$3(306,tt,""))}return _;case 0:return tt=_.type,rt=_.pendingProps,rt=_.elementType===tt?rt:Ci(tt,rt),cj(_e,_,tt,rt,et);case 1:return tt=_.type,rt=_.pendingProps,rt=_.elementType===tt?rt:Ci(tt,rt),hj(_e,_,tt,rt,et);case 3:e:{if(kj(_),_e===null)throw Error(p$3(387));tt=_.pendingProps,nt=_.memoizedState,rt=nt.element,lh(_e,_),qh(_,tt,null,et);var it=_.memoizedState;if(tt=it.element,nt.isDehydrated)if(nt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},_.updateQueue.baseState=nt,_.memoizedState=nt,_.flags&256){rt=Ji(Error(p$3(423)),_),_=lj(_e,_,tt,et,rt);break e}else if(tt!==rt){rt=Ji(Error(p$3(424)),_),_=lj(_e,_,tt,et,rt);break e}else for(yg=Lf(_.stateNode.containerInfo.firstChild),xg=_,I=!0,zg=null,et=Vg(_,null,tt,et),_.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===rt){_=Zi(_e,_,et);break e}Xi(_e,_,tt,et)}_=_.child}return _;case 5:return Ah(_),_e===null&&Eg(_),tt=_.type,rt=_.pendingProps,nt=_e!==null?_e.memoizedProps:null,it=rt.children,Ef(tt,rt)?it=null:nt!==null&&Ef(tt,nt)&&(_.flags|=32),gj(_e,_),Xi(_e,_,it,et),_.child;case 6:return _e===null&&Eg(_),null;case 13:return oj(_e,_,et);case 4:return yh(_,_.stateNode.containerInfo),tt=_.pendingProps,_e===null?_.child=Ug(_,null,tt,et):Xi(_e,_,tt,et),_.child;case 11:return tt=_.type,rt=_.pendingProps,rt=_.elementType===tt?rt:Ci(tt,rt),Yi(_e,_,tt,rt,et);case 7:return Xi(_e,_,_.pendingProps,et),_.child;case 8:return Xi(_e,_,_.pendingProps.children,et),_.child;case 12:return Xi(_e,_,_.pendingProps.children,et),_.child;case 10:e:{if(tt=_.type._context,rt=_.pendingProps,nt=_.memoizedProps,it=rt.value,G(Wg,tt._currentValue),tt._currentValue=it,nt!==null)if(He(nt.value,it)){if(nt.children===rt.children&&!Wf.current){_=Zi(_e,_,et);break e}}else for(nt=_.child,nt!==null&&(nt.return=_);nt!==null;){var at=nt.dependencies;if(at!==null){it=nt.child;for(var lt=at.firstContext;lt!==null;){if(lt.context===tt){if(nt.tag===1){lt=mh(-1,et&-et),lt.tag=2;var ct=nt.updateQueue;if(ct!==null){ct=ct.shared;var ut=ct.pending;ut===null?lt.next=lt:(lt.next=ut.next,ut.next=lt),ct.pending=lt}}nt.lanes|=et,lt=nt.alternate,lt!==null&&(lt.lanes|=et),bh(nt.return,et,_),at.lanes|=et;break}lt=lt.next}}else if(nt.tag===10)it=nt.type===_.type?null:nt.child;else if(nt.tag===18){if(it=nt.return,it===null)throw Error(p$3(341));it.lanes|=et,at=it.alternate,at!==null&&(at.lanes|=et),bh(it,et,_),it=nt.sibling}else it=nt.child;if(it!==null)it.return=nt;else for(it=nt;it!==null;){if(it===_){it=null;break}if(nt=it.sibling,nt!==null){nt.return=it.return,it=nt;break}it=it.return}nt=it}Xi(_e,_,rt.children,et),_=_.child}return _;case 9:return rt=_.type,tt=_.pendingProps.children,ch(_,et),rt=eh(rt),tt=tt(rt),_.flags|=1,Xi(_e,_,tt,et),_.child;case 14:return tt=_.type,rt=Ci(tt,_.pendingProps),rt=Ci(tt.type,rt),$i(_e,_,tt,rt,et);case 15:return bj(_e,_,_.type,_.pendingProps,et);case 17:return tt=_.type,rt=_.pendingProps,rt=_.elementType===tt?rt:Ci(tt,rt),ij(_e,_),_.tag=1,Zf(tt)?(_e=!0,cg(_)):_e=!1,ch(_,et),Gi(_,tt,rt),Ii(_,tt,rt,et),jj(null,_,tt,!0,_e,et);case 19:return xj(_e,_,et);case 22:return dj(_e,_,et)}throw Error(p$3(156,_.tag))};function Fk(_e,_){return ac(_e,_)}function $k(_e,_,et,tt){this.tag=_e,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,_,et,tt){return new $k(_e,_,et,tt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,_){var et=_e.alternate;return et===null?(et=Bg(_e.tag,_,_e.key,_e.mode),et.elementType=_e.elementType,et.type=_e.type,et.stateNode=_e.stateNode,et.alternate=_e,_e.alternate=et):(et.pendingProps=_,et.type=_e.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=_e.flags&14680064,et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,_=_e.dependencies,et.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext},et.sibling=_e.sibling,et.index=_e.index,et.ref=_e.ref,et}function Rg(_e,_,et,tt,rt,nt){var it=2;if(tt=_e,typeof _e=="function")aj(_e)&&(it=1);else if(typeof _e=="string")it=5;else e:switch(_e){case ya:return Tg(et.children,rt,nt,_);case za:it=8,rt|=8;break;case Aa:return _e=Bg(12,et,_,rt|2),_e.elementType=Aa,_e.lanes=nt,_e;case Ea:return _e=Bg(13,et,_,rt),_e.elementType=Ea,_e.lanes=nt,_e;case Fa:return _e=Bg(19,et,_,rt),_e.elementType=Fa,_e.lanes=nt,_e;case Ia:return pj(et,rt,nt,_);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$3(130,_e==null?_e:typeof _e,""))}return _=Bg(it,et,_,rt),_.elementType=_e,_.type=tt,_.lanes=nt,_}function Tg(_e,_,et,tt){return _e=Bg(7,_e,tt,_),_e.lanes=et,_e}function pj(_e,_,et,tt){return _e=Bg(22,_e,tt,_),_e.elementType=Ia,_e.lanes=et,_e.stateNode={isHidden:!1},_e}function Qg(_e,_,et){return _e=Bg(6,_e,null,_),_e.lanes=et,_e}function Sg(_e,_,et){return _=Bg(4,_e.children!==null?_e.children:[],_e.key,_),_.lanes=et,_.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},_}function al(_e,_,et,tt,rt){this.tag=_,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=rt,this.mutableSourceEagerHydrationData=null}function bl(_e,_,et,tt,rt,nt,it,at,lt){return _e=new al(_e,_,et,at,lt),_===1?(_=1,nt===!0&&(_|=8)):_=0,nt=Bg(3,null,null,_),_e.current=nt,nt.stateNode=_e,nt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(nt),_e}function cl(_e,_,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:_e,containerInfo:_,implementation:et}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$3(170));var _=_e;do{switch(_.tag){case 3:_=_.stateNode.context;break e;case 1:if(Zf(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_=_.return}while(_!==null);throw Error(p$3(171))}if(_e.tag===1){var et=_e.type;if(Zf(et))return bg(_e,et,_)}return _}function el(_e,_,et,tt,rt,nt,it,at,lt){return _e=bl(et,tt,!0,_e,rt,nt,it,at,lt),_e.context=dl(null),et=_e.current,tt=R(),rt=yi(et),nt=mh(tt,rt),nt.callback=_??null,nh(et,nt,rt),_e.current.lanes=rt,Ac(_e,rt,tt),Dk(_e,tt),_e}function fl(_e,_,et,tt){var rt=_.current,nt=R(),it=yi(rt);return et=dl(et),_.context===null?_.context=et:_.pendingContext=et,_=mh(nt,it),_.payload={element:_e},tt=tt===void 0?null:tt,tt!==null&&(_.callback=tt),_e=nh(rt,_,it),_e!==null&&(gi(_e,rt,it,nt),oh(_e,rt,it)),it}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,_){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var et=_e.retryLane;_e.retryLane=et!==0&&et<_?et:_}}function il(_e,_){hl(_e,_),(_e=_e.alternate)&&hl(_e,_)}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var _=this._internalRoot;if(_===null)throw Error(p$3(409));fl(_e,_,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var _=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),_[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var _=Hc();_e={blockedOn:null,target:_e,priority:_};for(var et=0;et<Qc.length&&_!==0&&_<Qc[et].priority;et++);Qc.splice(et,0,_e),et===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,_,et,tt,rt){if(rt){if(typeof tt=="function"){var nt=tt;tt=function(){var ct=gl(it);nt.call(ct)}}var it=el(_,tt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=it,_e[uf]=it.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),it}for(;rt=_e.lastChild;)_e.removeChild(rt);if(typeof tt=="function"){var at=tt;tt=function(){var ct=gl(lt);at.call(ct)}}var lt=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=lt,_e[uf]=lt.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl(_,lt,et,tt)}),lt}function rl(_e,_,et,tt,rt){var nt=et._reactRootContainer;if(nt){var it=nt;if(typeof rt=="function"){var at=rt;rt=function(){var lt=gl(it);at.call(lt)}}fl(_,it,_e,rt)}else it=ql(et,_,_e,rt,tt);return gl(it)}Ec=function(_e){switch(_e.tag){case 3:var _=_e.stateNode;if(_.current.memoizedState.isDehydrated){var et=tc(_.pendingLanes);et!==0&&(Cc(_,et|1),Dk(_,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var tt=ih(_e,1);if(tt!==null){var rt=R();gi(tt,_e,1,rt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var _=ih(_e,134217728);if(_!==null){var et=R();gi(_,_e,134217728,et)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var _=yi(_e),et=ih(_e,_);if(et!==null){var tt=R();gi(et,_e,_,tt)}il(_e,_)}};Hc=function(){return C};Ic=function(_e,_){var et=C;try{return C=_e,_()}finally{C=et}};yb=function(_e,_,et){switch(_){case"input":if(bb(_e,et),_=et.name,et.type==="radio"&&_!=null){for(et=_e;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+_)+'][type="radio"]'),_=0;_<et.length;_++){var tt=et[_];if(tt!==_e&&tt.form===_e.form){var rt=Db(tt);if(!rt)throw Error(p$3(90));Wa(tt),bb(tt,rt)}}}break;case"textarea":ib(_e,et);break;case"select":_=et.value,_!=null&&fb(_e,!!et.multiple,_,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,_){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(_))throw Error(p$3(200));return cl(_e,_,null,et)};reactDom_production_min.createRoot=function(_e,_){if(!nl(_e))throw Error(p$3(299));var et=!1,tt="",rt=kl;return _!=null&&(_.unstable_strictMode===!0&&(et=!0),_.identifierPrefix!==void 0&&(tt=_.identifierPrefix),_.onRecoverableError!==void 0&&(rt=_.onRecoverableError)),_=bl(_e,1,!1,null,null,et,!1,tt,rt),_e[uf]=_.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll(_)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var _=_e._reactInternals;if(_===void 0)throw typeof _e.render=="function"?Error(p$3(188)):(_e=Object.keys(_e).join(","),Error(p$3(268,_e)));return _e=Zb(_),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,_,et){if(!ol(_))throw Error(p$3(200));return rl(null,_e,_,!0,et)};reactDom_production_min.hydrateRoot=function(_e,_,et){if(!nl(_e))throw Error(p$3(405));var tt=et!=null&&et.hydratedSources||null,rt=!1,nt="",it=kl;if(et!=null&&(et.unstable_strictMode===!0&&(rt=!0),et.identifierPrefix!==void 0&&(nt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),_=el(_,null,_e,1,et??null,rt,!1,nt,it),_e[uf]=_.current,sf(_e),tt)for(_e=0;_e<tt.length;_e++)et=tt[_e],rt=et._getVersion,rt=rt(et._source),_.mutableSourceEagerHydrationData==null?_.mutableSourceEagerHydrationData=[et,rt]:_.mutableSourceEagerHydrationData.push(et,rt);return new ml(_)};reactDom_production_min.render=function(_e,_,et){if(!ol(_))throw Error(p$3(200));return rl(null,_e,_,!1,et)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$3(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,_,et,tt){if(!ol(et))throw Error(p$3(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$3(38));return rl(_e,_,et,!1,tt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports),ReactDOM$1=_mergeNamespaces({__proto__:null,default:ReactDOM},[reactDomExports]);var createRoot$1,m$3=reactDomExports;createRoot$1=m$3.createRoot,m$3.hydrateRoot;const cx=(..._e)=>_e.filter(Boolean).map(_=>_.trim()).join(" ");function getErrorMessage$1(_e,_){return`${_e} returned \`undefined\`. Seems you forgot to wrap component within ${_}`}function createContext$1(_e={}){const{name:_,strict:et=!0,hookName:tt="useContext",providerName:rt="Provider",errorMessage:nt,defaultValue:it}=_e,at=reactExports.createContext(it);at.displayName=_;function lt(){var ut;const ct=reactExports.useContext(at);if(!ct&&et){const st=new Error(nt??getErrorMessage$1(tt,rt));throw st.name="ContextError",(ut=Error.captureStackTrace)==null||ut.call(Error,st,lt),st}return ct}return[at.Provider,lt,at]}function callAll$1(..._e){return function(...et){_e.forEach(tt=>tt==null?void 0:tt(...et))}}const clsx$1=(..._e)=>_e.map(_=>{var et;return(et=_==null?void 0:_.trim)==null?void 0:et.call(_)}).filter(Boolean).join(" "),eventRegex=/^on[A-Z]/;function mergeProps$2(..._e){let _={};for(let et of _e){for(let tt in _){if(eventRegex.test(tt)&&typeof _[tt]=="function"&&typeof et[tt]=="function"){_[tt]=callAll$1(_[tt],et[tt]);continue}if(tt==="className"||tt==="class"){_[tt]=clsx$1(_[tt],et[tt]);continue}if(tt==="style"){_[tt]=Object.assign({},_[tt]??{},et[tt]??{});continue}_[tt]=et[tt]!==void 0?et[tt]:_[tt]}for(let tt in et)_[tt]===void 0&&(_[tt]=et[tt])}return _}const EMPTY_STYLES=Object.freeze({}),EMPTY_SLOT_STYLES=Object.freeze({});function memoize(_e){var _=Object.create(null);return function(et){return _[et]===void 0&&(_[et]=_e(et)),_[et]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid$1=memoize(function(_e){return reactPropsRegex.test(_e)||_e.charCodeAt(0)===111&&_e.charCodeAt(1)===110&&_e.charCodeAt(2)<91});function sheetForTag(_e){if(_e.sheet)return _e.sheet;for(var _=0;_<document.styleSheets.length;_++)if(document.styleSheets[_].ownerNode===_e)return document.styleSheets[_]}function createStyleElement(_e){var _=document.createElement("style");return _.setAttribute("data-emotion",_e.key),_e.nonce!==void 0&&_.setAttribute("nonce",_e.nonce),_.appendChild(document.createTextNode("")),_.setAttribute("data-s",""),_}var StyleSheet=function(){function _e(et){var tt=this;this._insertTag=function(rt){var nt;tt.tags.length===0?tt.insertionPoint?nt=tt.insertionPoint.nextSibling:tt.prepend?nt=tt.container.firstChild:nt=tt.before:nt=tt.tags[tt.tags.length-1].nextSibling,tt.container.insertBefore(rt,nt),tt.tags.push(rt)},this.isSpeedy=et.speedy===void 0?!0:et.speedy,this.tags=[],this.ctr=0,this.nonce=et.nonce,this.key=et.key,this.container=et.container,this.prepend=et.prepend,this.insertionPoint=et.insertionPoint,this.before=null}var _=_e.prototype;return _.hydrate=function(tt){tt.forEach(this._insertTag)},_.insert=function(tt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var rt=this.tags[this.tags.length-1];if(this.isSpeedy){var nt=sheetForTag(rt);try{nt.insertRule(tt,nt.cssRules.length)}catch{}}else rt.appendChild(document.createTextNode(tt));this.ctr++},_.flush=function(){this.tags.forEach(function(tt){var rt;return(rt=tt.parentNode)==null?void 0:rt.removeChild(tt)}),this.tags=[],this.ctr=0},_e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT$1="comm",RULESET$1="rule",DECLARATION$1="decl",IMPORT$1="@import",KEYFRAMES$1="@keyframes",LAYER$1="@layer",abs$4=Math.abs,from$1=String.fromCharCode,assign$1=Object.assign;function hash(_e,_){return charat$1(_e,0)^45?(((_<<2^charat$1(_e,0))<<2^charat$1(_e,1))<<2^charat$1(_e,2))<<2^charat$1(_e,3):0}function trim$1(_e){return _e.trim()}function match$4(_e,_){return(_e=_.exec(_e))?_e[0]:_e}function replace$2(_e,_,et){return _e.replace(_,et)}function indexof$1(_e,_){return _e.indexOf(_)}function charat$1(_e,_){return _e.charCodeAt(_)|0}function substr$1(_e,_,et){return _e.slice(_,et)}function strlen$1(_e){return _e.length}function sizeof$1(_e){return _e.length}function append$1(_e,_){return _.push(_e),_e}function combine$1(_e,_){return _e.map(_).join("")}var line$1=1,column$1=1,length$1=0,position$1=0,character$1=0,characters$1="";function node$1(_e,_,et,tt,rt,nt,it){return{value:_e,root:_,parent:et,type:tt,props:rt,children:nt,line:line$1,column:column$1,length:it,return:""}}function copy(_e,_){return assign$1(node$1("",null,null,"",null,null,0),_e,{length:-_e.length},_)}function char$1(){return character$1}function prev$1(){return character$1=position$1>0?charat$1(characters$1,--position$1):0,column$1--,character$1===10&&(column$1=1,line$1--),character$1}function next$1(){return character$1=position$1<length$1?charat$1(characters$1,position$1++):0,column$1++,character$1===10&&(column$1=1,line$1++),character$1}function peek$1(){return charat$1(characters$1,position$1)}function caret$1(){return position$1}function slice$1(_e,_){return substr$1(characters$1,_e,_)}function token$1(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc$1(_e){return line$1=column$1=1,length$1=strlen$1(characters$1=_e),position$1=0,[]}function dealloc$1(_e){return characters$1="",_e}function delimit$1(_e){return trim$1(slice$1(position$1-1,delimiter$1(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace$2(_e){for(;(character$1=peek$1())&&character$1<33;)next$1();return token$1(_e)>2||token$1(character$1)>3?"":" "}function escaping$1(_e,_){for(;--_&&next$1()&&!(character$1<48||character$1>102||character$1>57&&character$1<65||character$1>70&&character$1<97););return slice$1(_e,caret$1()+(_<6&&peek$1()==32&&next$1()==32))}function delimiter$1(_e){for(;next$1();)switch(character$1){case _e:return position$1;case 34:case 39:_e!==34&&_e!==39&&delimiter$1(character$1);break;case 40:_e===41&&delimiter$1(_e);break;case 92:next$1();break}return position$1}function commenter$1(_e,_){for(;next$1()&&_e+character$1!==57;)if(_e+character$1===84&&peek$1()===47)break;return"/*"+slice$1(_,position$1-1)+"*"+from$1(_e===47?_e:next$1())}function identifier$1(_e){for(;!token$1(peek$1());)next$1();return slice$1(_e,position$1)}function compile$1(_e){return dealloc$1(parse$5("",null,null,null,[""],_e=alloc$1(_e),0,[0],_e))}function parse$5(_e,_,et,tt,rt,nt,it,at,lt){for(var ct=0,ut=0,st=it,ot=0,dt=0,ft=0,ht=1,mt=1,gt=1,yt=0,vt="",bt=rt,xt=nt,_t=tt,St=vt;mt;)switch(ft=yt,yt=next$1()){case 40:if(ft!=108&&charat$1(St,st-1)==58){indexof$1(St+=replace$2(delimit$1(yt),"&","&\f"),"&\f")!=-1&&(gt=-1);break}case 34:case 39:case 91:St+=delimit$1(yt);break;case 9:case 10:case 13:case 32:St+=whitespace$2(ft);break;case 92:St+=escaping$1(caret$1()-1,7);continue;case 47:switch(peek$1()){case 42:case 47:append$1(comment$1(commenter$1(next$1(),caret$1()),_,et),lt);break;default:St+="/"}break;case 123*ht:at[ct++]=strlen$1(St)*gt;case 125*ht:case 59:case 0:switch(yt){case 0:case 125:mt=0;case 59+ut:gt==-1&&(St=replace$2(St,/\f/g,"")),dt>0&&strlen$1(St)-st&&append$1(dt>32?declaration$1(St+";",tt,et,st-1):declaration$1(replace$2(St," ","")+";",tt,et,st-2),lt);break;case 59:St+=";";default:if(append$1(_t=ruleset$1(St,_,et,ct,ut,rt,at,vt,bt=[],xt=[],st),nt),yt===123)if(ut===0)parse$5(St,_,_t,_t,bt,nt,st,at,xt);else switch(ot===99&&charat$1(St,3)===110?100:ot){case 100:case 108:case 109:case 115:parse$5(_e,_t,_t,tt&&append$1(ruleset$1(_e,_t,_t,0,0,rt,at,vt,rt,bt=[],st),xt),rt,xt,st,at,tt?bt:xt);break;default:parse$5(St,_t,_t,_t,[""],xt,0,at,xt)}}ct=ut=dt=0,ht=gt=1,vt=St="",st=it;break;case 58:st=1+strlen$1(St),dt=ft;default:if(ht<1){if(yt==123)--ht;else if(yt==125&&ht++==0&&prev$1()==125)continue}switch(St+=from$1(yt),yt*ht){case 38:gt=ut>0?1:(St+="\f",-1);break;case 44:at[ct++]=(strlen$1(St)-1)*gt,gt=1;break;case 64:peek$1()===45&&(St+=delimit$1(next$1())),ot=peek$1(),ut=st=strlen$1(vt=St+=identifier$1(caret$1())),yt++;break;case 45:ft===45&&strlen$1(St)==2&&(ht=0)}}return nt}function ruleset$1(_e,_,et,tt,rt,nt,it,at,lt,ct,ut){for(var st=rt-1,ot=rt===0?nt:[""],dt=sizeof$1(ot),ft=0,ht=0,mt=0;ft<tt;++ft)for(var gt=0,yt=substr$1(_e,st+1,st=abs$4(ht=it[ft])),vt=_e;gt<dt;++gt)(vt=trim$1(ht>0?ot[gt]+" "+yt:replace$2(yt,/&\f/g,ot[gt])))&&(lt[mt++]=vt);return node$1(_e,_,et,rt===0?RULESET$1:at,lt,ct,ut)}function comment$1(_e,_,et){return node$1(_e,_,et,COMMENT$1,from$1(char$1()),substr$1(_e,2,-2),0)}function declaration$1(_e,_,et,tt){return node$1(_e,_,et,DECLARATION$1,substr$1(_e,0,tt),substr$1(_e,tt+1,-1),tt)}function serialize$2(_e,_){for(var et="",tt=sizeof$1(_e),rt=0;rt<tt;rt++)et+=_(_e[rt],rt,_e,_)||"";return et}function stringify$5(_e,_,et,tt){switch(_e.type){case LAYER$1:if(_e.children.length)break;case IMPORT$1:case DECLARATION$1:return _e.return=_e.return||_e.value;case COMMENT$1:return"";case KEYFRAMES$1:return _e.return=_e.value+"{"+serialize$2(_e.children,tt)+"}";case RULESET$1:_e.value=_e.props.join(",")}return strlen$1(et=serialize$2(_e.children,tt))?_e.return=_e.value+"{"+et+"}":""}function middleware(_e){var _=sizeof$1(_e);return function(et,tt,rt,nt){for(var it="",at=0;at<_;at++)it+=_e[at](et,tt,rt,nt)||"";return it}}function rulesheet(_e){return function(_){_.root||(_=_.return)&&_e(_)}}var identifierWithPointTracking=function(_,et,tt){for(var rt=0,nt=0;rt=nt,nt=peek$1(),rt===38&&nt===12&&(et[tt]=1),!token$1(nt);)next$1();return slice$1(_,position$1)},toRules=function(_,et){var tt=-1,rt=44;do switch(token$1(rt)){case 0:rt===38&&peek$1()===12&&(et[tt]=1),_[tt]+=identifierWithPointTracking(position$1-1,et,tt);break;case 2:_[tt]+=delimit$1(rt);break;case 4:if(rt===44){_[++tt]=peek$1()===58?"&\f":"",et[tt]=_[tt].length;break}default:_[tt]+=from$1(rt)}while(rt=next$1());return _},getRules=function(_,et){return dealloc$1(toRules(alloc$1(_),et))},fixedElements=new WeakMap,compat=function(_){if(!(_.type!=="rule"||!_.parent||_.length<1)){for(var et=_.value,tt=_.parent,rt=_.column===tt.column&&_.line===tt.line;tt.type!=="rule";)if(tt=tt.parent,!tt)return;if(!(_.props.length===1&&et.charCodeAt(0)!==58&&!fixedElements.get(tt))&&!rt){fixedElements.set(_,!0);for(var nt=[],it=getRules(et,nt),at=tt.props,lt=0,ct=0;lt<it.length;lt++)for(var ut=0;ut<at.length;ut++,ct++)_.props[ct]=nt[lt]?it[lt].replace(/&\f/g,at[ut]):at[ut]+" "+it[lt]}}},removeLabel=function(_){if(_.type==="decl"){var et=_.value;et.charCodeAt(0)===108&&et.charCodeAt(2)===98&&(_.return="",_.value="")}};function prefix$1(_e,_){switch(hash(_e,_)){case 5103:return WEBKIT+"print-"+_e+_e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+_e+_e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+_e+MOZ+_e+MS+_e+_e;case 6828:case 4268:return WEBKIT+_e+MS+_e+_e;case 6165:return WEBKIT+_e+MS+"flex-"+_e+_e;case 5187:return WEBKIT+_e+replace$2(_e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+_e;case 5443:return WEBKIT+_e+MS+"flex-item-"+replace$2(_e,/flex-|-self/,"")+_e;case 4675:return WEBKIT+_e+MS+"flex-line-pack"+replace$2(_e,/align-content|flex-|-self/,"")+_e;case 5548:return WEBKIT+_e+MS+replace$2(_e,"shrink","negative")+_e;case 5292:return WEBKIT+_e+MS+replace$2(_e,"basis","preferred-size")+_e;case 6060:return WEBKIT+"box-"+replace$2(_e,"-grow","")+WEBKIT+_e+MS+replace$2(_e,"grow","positive")+_e;case 4554:return WEBKIT+replace$2(_e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+_e;case 6187:return replace$2(replace$2(replace$2(_e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),_e,"")+_e;case 5495:case 3959:return replace$2(_e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace$2(replace$2(_e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+_e+_e;case 4095:case 3583:case 4068:case 2532:return replace$2(_e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+_e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen$1(_e)-1-_>6)switch(charat$1(_e,_+1)){case 109:if(charat$1(_e,_+4)!==45)break;case 102:return replace$2(_e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat$1(_e,_+3)==108?"$3":"$2-$3"))+_e;case 115:return~indexof$1(_e,"stretch")?prefix$1(replace$2(_e,"stretch","fill-available"),_)+_e:_e}break;case 4949:if(charat$1(_e,_+1)!==115)break;case 6444:switch(charat$1(_e,strlen$1(_e)-3-(~indexof$1(_e,"!important")&&10))){case 107:return replace$2(_e,":",":"+WEBKIT)+_e;case 101:return replace$2(_e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat$1(_e,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+_e}break;case 5936:switch(charat$1(_e,_+11)){case 114:return WEBKIT+_e+MS+replace$2(_e,/[svh]\w+-[tblr]{2}/,"tb")+_e;case 108:return WEBKIT+_e+MS+replace$2(_e,/[svh]\w+-[tblr]{2}/,"tb-rl")+_e;case 45:return WEBKIT+_e+MS+replace$2(_e,/[svh]\w+-[tblr]{2}/,"lr")+_e}return WEBKIT+_e+MS+_e+_e}return _e}var prefixer=function(_,et,tt,rt){if(_.length>-1&&!_.return)switch(_.type){case DECLARATION$1:_.return=prefix$1(_.value,_.length);break;case KEYFRAMES$1:return serialize$2([copy(_,{value:replace$2(_.value,"@","@"+WEBKIT)})],rt);case RULESET$1:if(_.length)return combine$1(_.props,function(nt){switch(match$4(nt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize$2([copy(_,{props:[replace$2(nt,/:(read-\w+)/,":"+MOZ+"$1")]})],rt);case"::placeholder":return serialize$2([copy(_,{props:[replace$2(nt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(_,{props:[replace$2(nt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(_,{props:[replace$2(nt,/:(plac\w+)/,MS+"input-$1")]})],rt)}return""})}},defaultStylisPlugins=[prefixer],createCache$1=function(_){var et=_.key;if(et==="css"){var tt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(tt,function(ht){var mt=ht.getAttribute("data-emotion");mt.indexOf(" ")!==-1&&(document.head.appendChild(ht),ht.setAttribute("data-s",""))})}var rt=_.stylisPlugins||defaultStylisPlugins,nt={},it,at=[];it=_.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+et+' "]'),function(ht){for(var mt=ht.getAttribute("data-emotion").split(" "),gt=1;gt<mt.length;gt++)nt[mt[gt]]=!0;at.push(ht)});var lt,ct=[compat,removeLabel];{var ut,st=[stringify$5,rulesheet(function(ht){ut.insert(ht)})],ot=middleware(ct.concat(rt,st)),dt=function(mt){return serialize$2(compile$1(mt),ot)};lt=function(mt,gt,yt,vt){ut=yt,dt(mt?mt+"{"+gt.styles+"}":gt.styles),vt&&(ft.inserted[gt.name]=!0)}}var ft={key:et,sheet:new StyleSheet({key:et,container:it,nonce:_.nonce,speedy:_.speedy,prepend:_.prepend,insertionPoint:_.insertionPoint}),nonce:_.nonce,inserted:nt,registered:{},insert:lt};return ft.sheet.hydrate(at),ft};function _extends$x(){return _extends$x=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)({}).hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$x.apply(null,arguments)}var reactIs$2={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$2=b$2?Symbol.for("react.element"):60103,d$2=b$2?Symbol.for("react.portal"):60106,e$2=b$2?Symbol.for("react.fragment"):60107,f$2=b$2?Symbol.for("react.strict_mode"):60108,g$2=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$2=b$2?Symbol.for("react.context"):60110,l$2=b$2?Symbol.for("react.async_mode"):60111,m$2=b$2?Symbol.for("react.concurrent_mode"):60111,n$2=b$2?Symbol.for("react.forward_ref"):60112,p$2=b$2?Symbol.for("react.suspense"):60113,q$1=b$2?Symbol.for("react.suspense_list"):60120,r$1=b$2?Symbol.for("react.memo"):60115,t$2=b$2?Symbol.for("react.lazy"):60116,v$2=b$2?Symbol.for("react.block"):60121,w$2=b$2?Symbol.for("react.fundamental"):60117,x$1=b$2?Symbol.for("react.responder"):60118,y$1=b$2?Symbol.for("react.scope"):60119;function z(_e){if(typeof _e=="object"&&_e!==null){var _=_e.$$typeof;switch(_){case c$2:switch(_e=_e.type,_e){case l$2:case m$2:case e$2:case g$2:case f$2:case p$2:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$2:case n$2:case t$2:case r$1:case h$2:return _e;default:return _}}case d$2:return _}}}function A(_e){return z(_e)===m$2}reactIs_production_min$1.AsyncMode=l$2;reactIs_production_min$1.ConcurrentMode=m$2;reactIs_production_min$1.ContextConsumer=k$2;reactIs_production_min$1.ContextProvider=h$2;reactIs_production_min$1.Element=c$2;reactIs_production_min$1.ForwardRef=n$2;reactIs_production_min$1.Fragment=e$2;reactIs_production_min$1.Lazy=t$2;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$2;reactIs_production_min$1.Profiler=g$2;reactIs_production_min$1.StrictMode=f$2;reactIs_production_min$1.Suspense=p$2;reactIs_production_min$1.isAsyncMode=function(_e){return A(_e)||z(_e)===l$2};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function(_e){return z(_e)===k$2};reactIs_production_min$1.isContextProvider=function(_e){return z(_e)===h$2};reactIs_production_min$1.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c$2};reactIs_production_min$1.isForwardRef=function(_e){return z(_e)===n$2};reactIs_production_min$1.isFragment=function(_e){return z(_e)===e$2};reactIs_production_min$1.isLazy=function(_e){return z(_e)===t$2};reactIs_production_min$1.isMemo=function(_e){return z(_e)===r$1};reactIs_production_min$1.isPortal=function(_e){return z(_e)===d$2};reactIs_production_min$1.isProfiler=function(_e){return z(_e)===g$2};reactIs_production_min$1.isStrictMode=function(_e){return z(_e)===f$2};reactIs_production_min$1.isSuspense=function(_e){return z(_e)===p$2};reactIs_production_min$1.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e$2||_e===m$2||_e===g$2||_e===f$2||_e===p$2||_e===q$1||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t$2||_e.$$typeof===r$1||_e.$$typeof===h$2||_e.$$typeof===k$2||_e.$$typeof===n$2||_e.$$typeof===w$2||_e.$$typeof===x$1||_e.$$typeof===y$1||_e.$$typeof===v$2)};reactIs_production_min$1.typeOf=z;reactIs$2.exports=reactIs_production_min$1;var reactIsExports$1=reactIs$2.exports,reactIs$1=reactIsExports$1,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;var isBrowser$2=!0;function getRegisteredStyles(_e,_,et){var tt="";return et.split(" ").forEach(function(rt){_e[rt]!==void 0?_.push(_e[rt]+";"):rt&&(tt+=rt+" ")}),tt}var registerStyles=function(_,et,tt){var rt=_.key+"-"+et.name;(tt===!1||isBrowser$2===!1)&&_.registered[rt]===void 0&&(_.registered[rt]=et.styles)},insertStyles=function(_,et,tt){registerStyles(_,et,tt);var rt=_.key+"-"+et.name;if(_.inserted[et.name]===void 0){var nt=et;do _.insert(et===nt?"."+rt:"",nt,_.sheet,!0),nt=nt.next;while(nt!==void 0)}};function murmur2$1(_e){for(var _=0,et,tt=0,rt=_e.length;rt>=4;++tt,rt-=4)et=_e.charCodeAt(tt)&255|(_e.charCodeAt(++tt)&255)<<8|(_e.charCodeAt(++tt)&255)<<16|(_e.charCodeAt(++tt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,_=(et&65535)*1540483477+((et>>>16)*59797<<16)^(_&65535)*1540483477+((_>>>16)*59797<<16);switch(rt){case 3:_^=(_e.charCodeAt(tt+2)&255)<<16;case 2:_^=(_e.charCodeAt(tt+1)&255)<<8;case 1:_^=_e.charCodeAt(tt)&255,_=(_&65535)*1540483477+((_>>>16)*59797<<16)}return _^=_>>>13,_=(_&65535)*1540483477+((_>>>16)*59797<<16),((_^_>>>15)>>>0).toString(36)}var unitlessKeys$1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(_){return _.charCodeAt(1)===45},isProcessableValue=function(_){return _!=null&&typeof _!="boolean"},processStyleName=memoize(function(_e){return isCustomProperty(_e)?_e:_e.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(_,et){switch(_){case"animation":case"animationName":if(typeof et=="string")return et.replace(animationRegex,function(tt,rt,nt){return cursor$1={name:rt,styles:nt,next:cursor$1},rt})}return unitlessKeys$1[_]!==1&&!isCustomProperty(_)&&typeof et=="number"&&et!==0?et+"px":et};function handleInterpolation(_e,_,et){if(et==null)return"";var tt=et;if(tt.__emotion_styles!==void 0)return tt;switch(typeof et){case"boolean":return"";case"object":{var rt=et;if(rt.anim===1)return cursor$1={name:rt.name,styles:rt.styles,next:cursor$1},rt.name;var nt=et;if(nt.styles!==void 0){var it=nt.next;if(it!==void 0)for(;it!==void 0;)cursor$1={name:it.name,styles:it.styles,next:cursor$1},it=it.next;var at=nt.styles+";";return at}return createStringFromObject(_e,_,et)}case"function":{if(_e!==void 0){var lt=cursor$1,ct=et(_e);return cursor$1=lt,handleInterpolation(_e,_,ct)}break}}var ut=et;if(_==null)return ut;var st=_[ut];return st!==void 0?st:ut}function createStringFromObject(_e,_,et){var tt="";if(Array.isArray(et))for(var rt=0;rt<et.length;rt++)tt+=handleInterpolation(_e,_,et[rt])+";";else for(var nt in et){var it=et[nt];if(typeof it!="object"){var at=it;_!=null&&_[at]!==void 0?tt+=nt+"{"+_[at]+"}":isProcessableValue(at)&&(tt+=processStyleName(nt)+":"+processStyleValue(nt,at)+";")}else if(Array.isArray(it)&&typeof it[0]=="string"&&(_==null||_[it[0]]===void 0))for(var lt=0;lt<it.length;lt++)isProcessableValue(it[lt])&&(tt+=processStyleName(nt)+":"+processStyleValue(nt,it[lt])+";");else{var ct=handleInterpolation(_e,_,it);switch(nt){case"animation":case"animationName":{tt+=processStyleName(nt)+":"+ct+";";break}default:tt+=nt+"{"+ct+"}"}}}return tt}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor$1;function serializeStyles(_e,_,et){if(_e.length===1&&typeof _e[0]=="object"&&_e[0]!==null&&_e[0].styles!==void 0)return _e[0];var tt=!0,rt="";cursor$1=void 0;var nt=_e[0];if(nt==null||nt.raw===void 0)tt=!1,rt+=handleInterpolation(et,_,nt);else{var it=nt;rt+=it[0]}for(var at=1;at<_e.length;at++)if(rt+=handleInterpolation(et,_,_e[at]),tt){var lt=nt;rt+=lt[at]}labelPattern.lastIndex=0;for(var ct="",ut;(ut=labelPattern.exec(rt))!==null;)ct+="-"+ut[1];var st=murmur2$1(rt)+ct;return{name:st,styles:rt,next:cursor$1}}var syncFallback=function(_){return _()},useInsertionEffect$2=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect$2||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect$2||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache$1({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(_){return reactExports.forwardRef(function(et,tt){var rt=reactExports.useContext(EmotionCacheContext);return _(et,rt,tt)})},ThemeContext=reactExports.createContext({}),hasOwn$2={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(_,et){var tt={};for(var rt in et)hasOwn$2.call(et,rt)&&(tt[rt]=et[rt]);return tt[typePropName]=_,tt},Insertion$1=function(_){var et=_.cache,tt=_.serialized,rt=_.isStringTag;return registerStyles(et,tt,rt),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(et,tt,rt)}),null},Emotion=withEmotionCache(function(_e,_,et){var tt=_e.css;typeof tt=="string"&&_.registered[tt]!==void 0&&(tt=_.registered[tt]);var rt=_e[typePropName],nt=[tt],it="";typeof _e.className=="string"?it=getRegisteredStyles(_.registered,nt,_e.className):_e.className!=null&&(it=_e.className+" ");var at=serializeStyles(nt,void 0,reactExports.useContext(ThemeContext));it+=_.key+"-"+at.name;var lt={};for(var ct in _e)hasOwn$2.call(_e,ct)&&ct!=="css"&&ct!==typePropName&&(lt[ct]=_e[ct]);return lt.className=it,et&&(lt.ref=et),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:_,serialized:at,isStringTag:typeof rt=="string"}),reactExports.createElement(rt,lt))}),Emotion$1=Emotion,jsx=function(_,et){var tt=arguments;if(et==null||!hasOwn$2.call(et,"css"))return reactExports.createElement.apply(void 0,tt);var rt=tt.length,nt=new Array(rt);nt[0]=Emotion$1,nt[1]=createEmotionProps(_,et);for(var it=2;it<rt;it++)nt[it]=tt[it];return reactExports.createElement.apply(null,nt)};(function(_e){var _;_||(_=_e.JSX||(_e.JSX={}))})(jsx);var Global=withEmotionCache(function(_e,_){var et=_e.styles,tt=serializeStyles([et],void 0,reactExports.useContext(ThemeContext)),rt=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var nt=_.key+"-global",it=new _.sheet.constructor({key:nt,nonce:_.sheet.nonce,container:_.sheet.container,speedy:_.sheet.isSpeedy}),at=!1,lt=document.querySelector('style[data-emotion="'+nt+" "+tt.name+'"]');return _.sheet.tags.length&&(it.before=_.sheet.tags[0]),lt!==null&&(at=!0,lt.setAttribute("data-emotion",nt),it.hydrate([lt])),rt.current=[it,at],function(){it.flush()}},[_]),useInsertionEffectWithLayoutFallback(function(){var nt=rt.current,it=nt[0],at=nt[1];if(at){nt[1]=!1;return}if(tt.next!==void 0&&insertStyles(_,tt.next,!0),it.tags.length){var lt=it.tags[it.tags.length-1].nextElementSibling;it.before=lt,it.flush()}_.insert("",tt,it,!1)},[_,tt.name]),null});function css$2(){for(var _e=arguments.length,_=new Array(_e),et=0;et<_e;et++)_[et]=arguments[et];return serializeStyles(_)}function assignRef(_e,_){if(_e!=null){if(typeof _e=="function"){_e(_);return}try{_e.current=_}catch{throw new Error(`Cannot assign value '${_}' to ref '${_e}'`)}}}function mergeRefs(..._e){return _=>{_e.forEach(et=>{assignRef(et,_)})}}function compact$3(_e){const _=Object.assign({},_e);for(let et in _)_[et]===void 0&&delete _[et];return _}function interopDefault(_e){return _e.default||_e}const isObject$5=_e=>_e!=null&&typeof _e=="object"&&!Array.isArray(_e),isString$2=_e=>typeof _e=="string",isFunction$2=_e=>typeof _e=="function";function getElementRef(_e){var et;const _=reactExports.version;return!isString$2(_)||_.startsWith("18.")?_e==null?void 0:_e.ref:(et=_e==null?void 0:_e.props)==null?void 0:et.ref}const[ChakraContextProvider,useChakraContext]=createContext$1({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function ChakraProvider(_e){const{value:_,children:et}=_e;return jsxRuntimeExports.jsxs(ChakraContextProvider,{value:_,children:[!_._config.disableLayers&&jsxRuntimeExports.jsx(Global,{styles:_.layers.atRule}),jsxRuntimeExports.jsx(Global,{styles:_._global}),et]})}const splitProps=(_e,_)=>{const et=Object.getOwnPropertyDescriptors(_e),tt=Object.keys(et),rt=it=>{const at={};for(let lt=0;lt<it.length;lt++){const ct=it[lt];et[ct]&&(Object.defineProperty(at,ct,et[ct]),delete et[ct])}return at},nt=it=>rt(Array.isArray(it)?it:tt.filter(it));return[_].map(nt).concat(rt(tt))},htmlProps=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function isHtmlProp(_e){return typeof _e=="string"&&htmlProps.has(_e)}function useResolvedProps(_e,_,et){const{css:tt,isValidProperty:rt}=useChakraContext(),{children:nt,...it}=_e,at=reactExports.useMemo(()=>{const[ot,dt]=splitProps(it,yt=>et(yt,_.variantKeys)),[ft,ht]=splitProps(dt,_.variantKeys),[mt,gt]=splitProps(ht,rt);return{forwardedProps:ot,variantProps:ft,styleProps:mt,elementProps:gt}},[_.variantKeys,et,it,rt]),{css:lt,...ct}=at.styleProps,ut=reactExports.useMemo(()=>{const ot={...at.variantProps};return _.variantKeys.includes("colorPalette")||(ot.colorPalette=it.colorPalette),_.variantKeys.includes("orientation")||(ot.orientation=it.orientation),_(ot)},[_,at.variantProps,it.colorPalette,it.orientation]);return{styles:reactExports.useMemo(()=>tt(ut,...toArray$4(lt),ct),[tt,ut,lt,ct]),props:{...at.forwardedProps,...at.elementProps,children:nt}}}const toArray$4=_e=>(Array.isArray(_e)?_e:[_e]).filter(Boolean).flat(),isPropValid=interopDefault(isPropValid$1),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=_e=>_e!=="theme",composeShouldForwardProps=(_e,_,et)=>{let tt;if(_){const rt=_.shouldForwardProp;tt=_e.__emotion_forwardProp&&rt?nt=>_e.__emotion_forwardProp(nt)&&rt(nt):rt}return typeof tt!="function"&&et&&(tt=_e.__emotion_forwardProp),tt};let isBrowser$1=typeof document<"u";const Insertion=({cache:_e,serialized:_,isStringTag:et})=>{registerStyles(_e,_,et);const tt=useInsertionEffectAlwaysWithSyncFallback(()=>insertStyles(_e,_,et));if(!isBrowser$1&&tt!==void 0){let rt=_.name,nt=_.next;for(;nt!==void 0;)rt=cx(rt,nt.name),nt=nt.next;return jsxRuntimeExports.jsx("style",{"data-emotion":cx(_e.key,rt),dangerouslySetInnerHTML:{__html:tt},nonce:_e.sheet.nonce})}return null},createStyled=(_e,_={},et={})=>{const tt=_e.__emotion_real===_e,rt=tt&&_e.__emotion_base||_e;let nt,it;et!==void 0&&(nt=et.label,it=et.target);let at=[];const lt=withEmotionCache((ct,ut,st)=>{var At;const{cva:ot,isValidProperty:dt}=useChakraContext(),ft=_.__cva__?_:ot(_),ht=mergeCva$1(_e.__emotion_cva,ft),mt=kt=>(Rt,$t)=>kt.includes(Rt)?!0:!($t!=null&&$t.includes(Rt))&&!dt(Rt);!et.shouldForwardProp&&et.forwardProps&&(et.shouldForwardProp=mt(et.forwardProps));const gt=(kt,Rt)=>{const $t=typeof _e=="string"&&_e.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent,Mt=!(Rt!=null&&Rt.includes(kt))&&!dt(kt);return $t(kt)&&Mt},yt=composeShouldForwardProps(_e,et,tt)||gt,vt=reactExports.useMemo(()=>Object.assign({},et.defaultProps,compact$3(ct)),[ct]),{props:bt,styles:xt}=useResolvedProps(vt,ht,yt);let _t="",St=[xt],wt=bt;if(bt.theme==null){wt={};for(let kt in bt)wt[kt]=bt[kt];wt.theme=reactExports.useContext(ThemeContext)}typeof bt.className=="string"?_t=getRegisteredStyles(ut.registered,St,bt.className):bt.className!=null&&(_t=cx(_t,bt.className));const Et=serializeStyles(at.concat(St),ut.registered,wt);_t=cx(_t,`${ut.key}-${Et.name}`),it!==void 0&&(_t=cx(_t,it));const Tt=!yt("as");let Ct=Tt&&bt.as||rt,It={};for(let kt in bt)if(!(Tt&&kt==="as")){if(isHtmlProp(kt)){const Rt=kt.replace("html","").toLowerCase();It[Rt]=bt[kt];continue}yt(kt)&&(It[kt]=bt[kt])}It.className=_t.trim(),It.ref=st;const Pt=et.forwardAsChild||((At=et.forwardProps)==null?void 0:At.includes("asChild"));if(bt.asChild&&!Pt){const kt=reactExports.Children.only(bt.children);Ct=kt.type,It.children=null,Reflect.deleteProperty(It,"asChild"),It=mergeProps$2(It,kt.props),It.ref=mergeRefs(st,getElementRef(kt))}return It.as&&Pt?(It.as=void 0,jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Insertion,{cache:ut,serialized:Et,isStringTag:typeof Ct=="string"}),jsxRuntimeExports.jsx(Ct,{asChild:!0,...It,children:jsxRuntimeExports.jsx(bt.as,{children:It.children})})]})):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(Insertion,{cache:ut,serialized:Et,isStringTag:typeof Ct=="string"}),jsxRuntimeExports.jsx(Ct,{...It})]})});return lt.displayName=nt!==void 0?nt:`chakra(${typeof rt=="string"?rt:rt.displayName||rt.name||"Component"})`,lt.__emotion_real=lt,lt.__emotion_base=rt,lt.__emotion_forwardProp=et.shouldForwardProp,lt.__emotion_cva=_,Object.defineProperty(lt,"toString",{value(){return`.${it}`}}),lt},styledFn=createStyled.bind(),cache=new Map,chakraImpl=new Proxy(styledFn,{apply(_e,_,et){return styledFn(...et)},get(_e,_){return cache.has(_)||cache.set(_,styledFn(_)),cache.get(_)}}),chakra=chakraImpl,mergeCva$1=(_e,_)=>_e&&!_?_e:!_e&&_?_:_e.merge(_);function useRecipe(_e){const{key:_,recipe:et}=_e,tt=useChakraContext();return reactExports.useMemo(()=>{const rt=et||(_!=null?tt.getRecipe(_):{});return tt.cva(structuredClone(rt))},[_,et,tt])}const upperFirst$1=_e=>_e.charAt(0).toUpperCase()+_e.slice(1);function createRecipeContext(_e){const{key:_,recipe:et}=_e,tt=upperFirst$1(_||et.className||"Component"),[rt,nt]=createContext$1({strict:!1,name:`${tt}PropsContext`,providerName:`${tt}PropsContext`});function it(ct){const{unstyled:ut,...st}=ct,ot=useRecipe({key:_,recipe:st.recipe||et}),[dt,ft]=ot.splitVariantProps(st);return{styles:ut?EMPTY_STYLES:ot(dt),className:ot.className,props:ft}}const at=(ct,ut)=>{const st=chakra(ct,{},ut),ot=reactExports.forwardRef((dt,ft)=>{const ht=mergeProps$2(nt(),dt),{styles:mt,className:gt,props:yt}=it(ht);return jsxRuntimeExports.jsx(st,{...yt,ref:ft,css:[mt,ht.css],className:cx(gt,ht.className)})});return ot.displayName=ct.displayName||ct.name,ot};function lt(){return rt}return{withContext:at,PropsProvider:rt,withPropsProvider:lt,usePropsContext:nt,useRecipeResult:it}}var clamp$2=_e=>Math.max(0,Math.min(1,_e)),wrap$3=(_e,_)=>_e.map((et,tt)=>_e[(Math.max(_,0)+tt)%_e.length]),pipe=(..._e)=>_=>_e.reduce((et,tt)=>tt(et),_),noop$6=()=>{},isObject$4=_e=>typeof _e=="object"&&_e!==null,MAX_Z_INDEX=2147483647,dataAttr$1=_e=>_e?"":void 0,ariaAttr=_e=>_e?"true":void 0,ELEMENT_NODE=1,DOCUMENT_NODE=9,DOCUMENT_FRAGMENT_NODE=11,isHTMLElement$1=_e=>isObject$4(_e)&&_e.nodeType===ELEMENT_NODE&&typeof _e.nodeName=="string",isDocument=_e=>isObject$4(_e)&&_e.nodeType===DOCUMENT_NODE,isWindow=_e=>isObject$4(_e)&&_e===_e.window,getNodeName$1=_e=>isHTMLElement$1(_e)?_e.localName||"":"#document";function isRootElement(_e){return["html","body","#document"].includes(getNodeName$1(_e))}var isNode$2=_e=>isObject$4(_e)&&_e.nodeType!==void 0,isShadowRoot$1=_e=>isNode$2(_e)&&_e.nodeType===DOCUMENT_FRAGMENT_NODE&&"host"in _e,isInputElement=_e=>isHTMLElement$1(_e)&&_e.localName==="input",isAnchorElement=_e=>!!(_e!=null&&_e.matches("a[href]")),isElementVisible=_e=>isHTMLElement$1(_e)?_e.offsetWidth>0||_e.offsetHeight>0||_e.getClientRects().length>0:!1,TEXTAREA_SELECT_REGEX=/(textarea|select)/;function isEditableElement(_e){if(_e==null||!isHTMLElement$1(_e))return!1;try{return isInputElement(_e)&&_e.selectionStart!=null||TEXTAREA_SELECT_REGEX.test(_e.localName)||_e.isContentEditable||_e.getAttribute("contenteditable")==="true"||_e.getAttribute("contenteditable")===""}catch{return!1}}function contains$1(_e,_){var tt;if(!_e||!_||!isHTMLElement$1(_e)||!isHTMLElement$1(_))return!1;const et=(tt=_.getRootNode)==null?void 0:tt.call(_);if(_e===_||_e.contains(_))return!0;if(et&&isShadowRoot$1(et)){let rt=_;for(;rt;){if(_e===rt)return!0;rt=rt.parentNode||rt.host}}return!1}function getDocument(_e){return isDocument(_e)?_e:isWindow(_e)?_e.document:(_e==null?void 0:_e.ownerDocument)??document}function getDocumentElement$1(_e){return getDocument(_e).documentElement}function getWindow$1(_e){var _;return isShadowRoot$1(_e)?getWindow$1(_e.host):isDocument(_e)?_e.defaultView??window:isHTMLElement$1(_e)?((_=_e.ownerDocument)==null?void 0:_.defaultView)??window:window}function getActiveElement(_e){let _=_e.activeElement;for(;_!=null&&_.shadowRoot;){const et=_.shadowRoot.activeElement;if(et===_)break;_=et}return _}function getParentNode$2(_e){if(getNodeName$1(_e)==="html")return _e;const _=_e.assignedSlot||_e.parentNode||isShadowRoot$1(_e)&&_e.host||getDocumentElement$1(_e);return isShadowRoot$1(_)?_.host:_}var styleCache=new WeakMap;function getComputedStyle$2(_e){return styleCache.has(_e)||styleCache.set(_e,getWindow$1(_e).getComputedStyle(_e)),styleCache.get(_e)}var isDom=()=>typeof document<"u";function getPlatform(){const _e=navigator.userAgentData;return(_e==null?void 0:_e.platform)??navigator.platform}function getUserAgent(){const _e=navigator.userAgentData;return _e&&Array.isArray(_e.brands)?_e.brands.map(({brand:_,version:et})=>`${_}/${et}`).join(" "):navigator.userAgent}var pt=_e=>isDom()&&_e.test(getPlatform()),ua=_e=>isDom()&&_e.test(getUserAgent()),vn=_e=>isDom()&&_e.test(navigator.vendor),isMac=()=>pt(/^Mac/),isSafari=()=>isApple()&&vn(/apple/i),isFirefox=()=>ua(/firefox\//i),isApple=()=>pt(/mac|iphone|ipad|ipod/i),isIos=()=>pt(/iP(hone|ad|od)|iOS/);function getComposedPath(_e){var _,et,tt;return((_=_e.composedPath)==null?void 0:_.call(_e))??((tt=(et=_e.nativeEvent)==null?void 0:et.composedPath)==null?void 0:tt.call(et))}function getEventTarget(_e){const _=getComposedPath(_e);return(_==null?void 0:_[0])??_e.target}var isSelfTarget=_e=>contains$1(_e.currentTarget,getEventTarget(_e));function isComposingEvent(_e){return getNativeEvent(_e).isComposing}var isLeftClick=_e=>_e.button===0,isContextMenuEvent=_e=>_e.button===2||isMac()&&_e.ctrlKey&&_e.button===0,isModifierKey=_e=>_e.ctrlKey||_e.altKey||_e.metaKey,isTouchEvent=_e=>"touches"in _e&&_e.touches.length>0,keyMap={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},rtlKeyMap={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function getEventKey(_e,_={}){const{dir:et="ltr",orientation:tt="horizontal"}=_;let rt=_e.key;return rt=keyMap[rt]??rt,et==="rtl"&&tt==="horizontal"&&rt in rtlKeyMap&&(rt=rtlKeyMap[rt]),rt}function getNativeEvent(_e){return _e.nativeEvent??_e}var pageKeys=new Set(["PageUp","PageDown"]),arrowKeys=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function getEventStep(_e){return _e.ctrlKey||_e.metaKey?.1:pageKeys.has(_e.key)||_e.shiftKey&&arrowKeys.has(_e.key)?10:1}function getEventPoint(_e,_="client"){const et=isTouchEvent(_e)?_e.touches[0]||_e.changedTouches[0]:_e;return{x:et[`${_}X`],y:et[`${_}Y`]}}var addDomEvent=(_e,_,et,tt)=>{const rt=typeof _e=="function"?_e():_e;return rt==null||rt.addEventListener(_,et,tt),()=>{rt==null||rt.removeEventListener(_,et,tt)}};function getDescriptor(_e,_){const{type:et="HTMLInputElement",property:tt="value"}=_,rt=getWindow$1(_e)[et].prototype;return Object.getOwnPropertyDescriptor(rt,tt)??{}}function getElementType(_e){if(_e.localName==="input")return"HTMLInputElement";if(_e.localName==="textarea")return"HTMLTextAreaElement";if(_e.localName==="select")return"HTMLSelectElement"}function setElementValue(_e,_,et="value"){var rt;const tt=getElementType(_e);tt&&((rt=getDescriptor(_e,{type:tt,property:et}).set)==null||rt.call(_e,_)),_e.setAttribute(et,_)}function setElementChecked(_e,_){var tt;(tt=getDescriptor(_e,{type:"HTMLInputElement",property:"checked"}).set)==null||tt.call(_e,_),_?_e.setAttribute("checked",""):_e.removeAttribute("checked")}function dispatchInputValueEvent(_e,_){const{value:et,bubbles:tt=!0}=_;if(!_e)return;const rt=getWindow$1(_e);_e instanceof rt.HTMLInputElement&&(setElementValue(_e,`${et}`),_e.dispatchEvent(new rt.Event("input",{bubbles:tt})))}function dispatchInputCheckedEvent(_e,_){const{checked:et,bubbles:tt=!0}=_;if(!_e)return;const rt=getWindow$1(_e);_e instanceof rt.HTMLInputElement&&(setElementChecked(_e,et),_e.dispatchEvent(new rt.Event("click",{bubbles:tt})))}function getClosestForm(_e){return isFormElement(_e)?_e.form:_e.closest("form")}function isFormElement(_e){return _e.matches("textarea, input, select, button")}function trackFormReset(_e,_){if(!_e)return;const et=getClosestForm(_e),tt=rt=>{rt.defaultPrevented||_()};return et==null||et.addEventListener("reset",tt,{passive:!0}),()=>et==null?void 0:et.removeEventListener("reset",tt)}function trackFieldsetDisabled(_e,_){const et=_e==null?void 0:_e.closest("fieldset");if(!et)return;_(et.disabled);const tt=getWindow$1(et),rt=new tt.MutationObserver(()=>_(et.disabled));return rt.observe(et,{attributes:!0,attributeFilter:["disabled"]}),()=>rt.disconnect()}function trackFormControl(_e,_){if(!_e)return;const{onFieldsetDisabledChange:et,onFormReset:tt}=_,rt=[trackFormReset(_e,tt),trackFieldsetDisabled(_e,et)];return()=>rt.forEach(nt=>nt==null?void 0:nt())}var isFrame=_e=>isHTMLElement$1(_e)&&_e.tagName==="IFRAME",hasTabIndex=_e=>!Number.isNaN(parseInt(_e.getAttribute("tabindex")||"0",10)),hasNegativeTabIndex=_e=>parseInt(_e.getAttribute("tabindex")||"0",10)<0,focusableSelector="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",getFocusables=(_e,_=!1)=>{if(!_e)return[];const et=Array.from(_e.querySelectorAll(focusableSelector));(_==!0||_=="if-empty"&&et.length===0)&&isHTMLElement$1(_e)&&isFocusable(_e)&&et.unshift(_e);const rt=et.filter(isFocusable);return rt.forEach((nt,it)=>{if(isFrame(nt)&&nt.contentDocument){const at=nt.contentDocument.body;rt.splice(it,1,...getFocusables(at))}}),rt};function isFocusable(_e){return!_e||_e.closest("[inert]")?!1:_e.matches(focusableSelector)&&isElementVisible(_e)}function getTabbables(_e,_){if(!_e)return[];const tt=Array.from(_e.querySelectorAll(focusableSelector)).filter(isTabbable);return tt.forEach((rt,nt)=>{if(isFrame(rt)&&rt.contentDocument){const it=rt.contentDocument.body,at=getTabbables(it);tt.splice(nt,1,...at)}}),tt.length,tt}function isTabbable(_e){return _e!=null&&_e.tabIndex>0?!0:isFocusable(_e)&&!hasNegativeTabIndex(_e)}function getTabbableEdges(_e,_){const et=getTabbables(_e,_),tt=et[0]||null,rt=et[et.length-1]||null;return[tt,rt]}function getTabIndex(_e){return _e.tabIndex<0&&(/^(audio|video|details)$/.test(_e.localName)||isEditableElement(_e))&&!hasTabIndex(_e)?0:_e.tabIndex}function getInitialFocus(_e){const{root:_,getInitialEl:et,filter:tt,enabled:rt=!0}=_e;if(!rt)return;let nt=null;if(nt||(nt=typeof et=="function"?et():et),nt||(nt=_==null?void 0:_.querySelector("[data-autofocus],[autofocus]")),!nt){const it=getTabbables(_);nt=tt?it.filter(tt)[0]:it[0]}return nt||_||void 0}function isValidTabEvent(_e){const _=_e.currentTarget;if(!_)return!1;const[et,tt]=getTabbableEdges(_),rt=_.ownerDocument||document;return!(rt.activeElement===et&&_e.shiftKey||rt.activeElement===tt&&!_e.shiftKey||!et&&!tt)}function nextTick(_e){const _=new Set;function et(tt){const rt=globalThis.requestAnimationFrame(tt);_.add(()=>globalThis.cancelAnimationFrame(rt))}return et(()=>et(_e)),function(){_.forEach(rt=>rt())}}function raf$2(_e){const _=globalThis.requestAnimationFrame(_e);return()=>{globalThis.cancelAnimationFrame(_)}}function queueBeforeEvent(_e,_,et){const tt=raf$2(()=>{_e.removeEventListener(_,rt,!0),et()}),rt=()=>{tt(),et()};return _e.addEventListener(_,rt,{once:!0,capture:!0}),tt}function observeAttributesImpl(_e,_){if(!_e)return;const{attributes:et,callback:tt}=_,rt=_e.ownerDocument.defaultView||window,nt=new rt.MutationObserver(it=>{for(const at of it)at.type==="attributes"&&at.attributeName&&et.includes(at.attributeName)&&tt(at)});return nt.observe(_e,{attributes:!0,attributeFilter:et}),()=>nt.disconnect()}function observeAttributes(_e,_){const{defer:et}=_,tt=et?raf$2:nt=>nt(),rt=[];return rt.push(tt(()=>{const nt=typeof _e=="function"?_e():_e;rt.push(observeAttributesImpl(nt,_))})),()=>{rt.forEach(nt=>nt==null?void 0:nt())}}function observeChildrenImpl(_e,_){const{callback:et}=_;if(!_e)return;const tt=_e.ownerDocument.defaultView||window,rt=new tt.MutationObserver(et);return rt.observe(_e,{childList:!0,subtree:!0}),()=>rt.disconnect()}function observeChildren(_e,_){const{defer:et}=_,tt=et?raf$2:nt=>nt(),rt=[];return rt.push(tt(()=>{const nt=typeof _e=="function"?_e():_e;rt.push(observeChildrenImpl(nt,_))})),()=>{rt.forEach(nt=>nt==null?void 0:nt())}}function clickIfLink(_e){const _=()=>_e.click();isFirefox()?queueBeforeEvent(_e,"keyup",_):queueMicrotask(_)}function getNearestOverflowAncestor$1(_e){const _=getParentNode$2(_e);return isRootElement(_)?getDocument(_).body:isHTMLElement$1(_)&&isOverflowElement$1(_)?_:getNearestOverflowAncestor$1(_)}var OVERFLOW_RE=/auto|scroll|overlay|hidden|clip/;function isOverflowElement$1(_e){const _=getWindow$1(_e),{overflow:et,overflowX:tt,overflowY:rt,display:nt}=_.getComputedStyle(_e);return OVERFLOW_RE.test(et+rt+tt)&&!["inline","contents"].includes(nt)}function isScrollable(_e){return _e.scrollHeight>_e.clientHeight||_e.scrollWidth>_e.clientWidth}function scrollIntoView(_e,_){const{rootEl:et,...tt}=_;!_e||!et||!isOverflowElement$1(et)||!isScrollable(et)||_e.scrollIntoView(tt)}function getRelativePoint(_e,_){const{left:et,top:tt,width:rt,height:nt}=_.getBoundingClientRect(),it={x:_e.x-et,y:_e.y-tt},at={x:clamp$2(it.x/rt),y:clamp$2(it.y/nt)};function lt(ct={}){const{dir:ut="ltr",orientation:st="horizontal",inverted:ot}=ct,dt=typeof ot=="object"?ot.x:ot,ft=typeof ot=="object"?ot.y:ot;return st==="horizontal"?ut==="rtl"||dt?1-at.x:at.x:ft?1-at.y:at.y}return{offset:it,percent:at,getPercentValue:lt}}function requestPointerLock(_e,_){const et=_e.body,tt="pointerLockElement"in _e||"mozPointerLockElement"in _e,rt=()=>!!_e.pointerLockElement;function nt(){}function it(lt){rt(),console.error("PointerLock error occurred:",lt),_e.exitPointerLock()}if(!tt)return;try{et.requestPointerLock()}catch{}const at=[addDomEvent(_e,"pointerlockchange",nt,!1),addDomEvent(_e,"pointerlockerror",it,!1)];return()=>{at.forEach(lt=>lt()),_e.exitPointerLock()}}function trackPress(_e){const{pointerNode:_,keyboardNode:et=_,onPress:tt,onPressStart:rt,onPressEnd:nt,isValidKey:it=vt=>vt.key==="Enter"}=_e;if(!_)return noop$6;const at=getWindow$1(_),lt=getDocument(_);let ct=noop$6,ut=noop$6,st=noop$6;const ot=vt=>({point:getEventPoint(vt),event:vt});function dt(vt){rt==null||rt(ot(vt))}function ft(vt){nt==null||nt(ot(vt))}const mt=addDomEvent(_,"pointerdown",vt=>{ut();const xt=addDomEvent(at,"pointerup",St=>{const wt=getEventTarget(St);contains$1(_,wt)?tt==null||tt(ot(St)):nt==null||nt(ot(St))},{passive:!tt}),_t=addDomEvent(at,"pointercancel",ft,{passive:!nt});ut=pipe(xt,_t),lt.activeElement===et&&vt.pointerType==="mouse"&&vt.preventDefault(),dt(vt)},{passive:!rt}),gt=addDomEvent(et,"focus",yt);ct=pipe(mt,gt);function yt(){const vt=St=>{if(!it(St))return;const wt=Tt=>{if(!it(Tt))return;const Ct=new at.PointerEvent("pointerup"),It=ot(Ct);tt==null||tt(It),nt==null||nt(It)};ut(),ut=addDomEvent(et,"keyup",wt);const Et=new at.PointerEvent("pointerdown");dt(Et)},bt=()=>{const St=new at.PointerEvent("pointercancel");ft(St)},xt=addDomEvent(et,"keydown",vt),_t=addDomEvent(et,"blur",bt);st=pipe(xt,_t)}return()=>{ct(),ut(),st()}}function queryAll(_e,_){return Array.from((_e==null?void 0:_e.querySelectorAll(_))??[])}function query(_e,_){return(_e==null?void 0:_e.querySelector(_))??null}var defaultItemToId=_e=>_e.id;function itemById(_e,_,et=defaultItemToId){return _e.find(tt=>et(tt)===_)}function indexOfId(_e,_,et=defaultItemToId){const tt=itemById(_e,_,et);return tt?_e.indexOf(tt):-1}function nextById(_e,_,et=!0){let tt=indexOfId(_e,_);return tt=et?(tt+1)%_e.length:Math.min(tt+1,_e.length-1),_e[tt]}function prevById(_e,_,et=!0){let tt=indexOfId(_e,_);return tt===-1?et?_e[_e.length-1]:null:(tt=et?(tt-1+_e.length)%_e.length:Math.max(0,tt-1),_e[tt])}function createScope(_e){const _={getRootNode:et=>{var tt;return((tt=et.getRootNode)==null?void 0:tt.call(et))??document},getDoc:et=>getDocument(_.getRootNode(et)),getWin:et=>_.getDoc(et).defaultView??window,getActiveElement:et=>getActiveElement(_.getRootNode(et)),isActiveElement:(et,tt)=>tt===_.getActiveElement(et),getById:(et,tt)=>_.getRootNode(et).getElementById(tt),setValue:(et,tt)=>{et==null||tt==null||setElementValue(et,tt.toString())}};return{..._,..._e}}var sanitize=_e=>_e.split("").map(_=>{const et=_.charCodeAt(0);return et>0&&et<128?_:et>=128&&et<=255?`/x${et.toString(16)}`.replace("/","\\"):""}).join("").trim(),getValueText=_e=>{var _;return sanitize(((_=_e.dataset)==null?void 0:_.valuetext)??_e.textContent??"")},match$3=(_e,_)=>_e.trim().toLowerCase().startsWith(_.toLowerCase());function getByText(_e,_,et,tt=defaultItemToId){const rt=et?indexOfId(_e,et,tt):-1;let nt=et?wrap$3(_e,rt):_e;return _.length===1&&(nt=nt.filter(at=>tt(at)!==et)),nt.find(at=>match$3(getValueText(at),_))}var cleanups=new WeakMap;function set$7(_e,_,et){cleanups.has(_e)||cleanups.set(_e,new Map);const tt=cleanups.get(_e),rt=tt.get(_);if(!rt)return tt.set(_,et()),()=>{var at;(at=tt.get(_))==null||at(),tt.delete(_)};const nt=et(),it=()=>{nt(),rt(),tt.delete(_)};return tt.set(_,it),()=>{tt.get(_)===it&&(nt(),tt.set(_,rt))}}function setStyle(_e,_){return _e?set$7(_e,"style",()=>{const tt=_e.style.cssText;return Object.assign(_e.style,_),()=>{_e.style.cssText=tt}}):()=>{}}function getByTypeaheadImpl(_e,_){const{state:et,activeId:tt,key:rt,timeout:nt=350,itemToId:it}=_,at=et.keysSoFar+rt,ct=at.length>1&&Array.from(at).every(ft=>ft===at[0])?at[0]:at;let ut=_e.slice();const st=getByText(ut,ct,tt,it);function ot(){clearTimeout(et.timer),et.timer=-1}function dt(ft){et.keysSoFar=ft,ot(),ft!==""&&(et.timer=+setTimeout(()=>{dt(""),ot()},nt))}return dt(at),st}var getByTypeahead=Object.assign(getByTypeaheadImpl,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:isValidTypeaheadEvent});function isValidTypeaheadEvent(_e){return _e.key.length===1&&!_e.ctrlKey&&!_e.metaKey}var visuallyHiddenStyle={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},fps=1e3/60;function waitForElement(_e,_){const et=_e();if(isHTMLElement$1(et)&&et.isConnected)return _(et),()=>{};{const tt=setInterval(()=>{const rt=_e();isHTMLElement$1(rt)&&rt.isConnected&&(_(rt),clearInterval(tt))},fps);return()=>clearInterval(tt)}}function waitForElements(_e,_){const et=[];return _e==null||_e.forEach(tt=>{const rt=waitForElement(tt,_);et.push(rt)}),()=>{et.forEach(tt=>tt())}}function getErrorMessage(_e,_){return`${_e} returned \`undefined\`. Seems you forgot to wrap component within ${_}`}function createContext(_e={}){const{name:_,strict:et=!0,hookName:tt="useContext",providerName:rt="Provider",errorMessage:nt,defaultValue:it}=_e,at=reactExports.createContext(it);at.displayName=_;function lt(){var ut;const ct=reactExports.useContext(at);if(!ct&&et){const st=new Error(nt??getErrorMessage(tt,rt));throw st.name="ContextError",(ut=Error.captureStackTrace)==null||ut.call(Error,st,lt),st}return ct}return[at.Provider,lt,at]}const[LocaleContextProvider,useLocaleContext]=createContext({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function setRef(_e,_){typeof _e=="function"?_e(_):_e!=null&&(_e.current=_)}function composeRefs(..._e){return _=>{for(const et of _e)setRef(et,_)}}const TRACK_MEMO_SYMBOL=Symbol(),GET_ORIGINAL_SYMBOL=Symbol(),AFFECTED_PROPERTY="a",IS_TARGET_COPIED_PROPERTY="f",PROXY_PROPERTY="p",PROXY_CACHE_PROPERTY="c",TARGET_CACHE_PROPERTY="t",HAS_KEY_PROPERTY="h",ALL_OWN_KEYS_PROPERTY="w",HAS_OWN_KEY_PROPERTY="o",KEYS_PROPERTY="k";let newProxy=(_e,_)=>new Proxy(_e,_);const getProto$2=Object.getPrototypeOf,objectsToTrack=new WeakMap,isObjectToTrack=_e=>_e&&(objectsToTrack.has(_e)?objectsToTrack.get(_e):getProto$2(_e)===Object.prototype||getProto$2(_e)===Array.prototype),isObject$3=_e=>typeof _e=="object"&&_e!==null,needsToCopyTargetObject=_e=>Object.values(Object.getOwnPropertyDescriptors(_e)).some(_=>!_.configurable&&!_.writable),copyTargetObject=_e=>{if(Array.isArray(_e))return Array.from(_e);const _=Object.getOwnPropertyDescriptors(_e);return Object.values(_).forEach(et=>{et.configurable=!0}),Object.create(getProto$2(_e),_)},createProxyHandler=(_e,_)=>{const et={[IS_TARGET_COPIED_PROPERTY]:_};let tt=!1;const rt=(at,lt)=>{if(!tt){let ct=et[AFFECTED_PROPERTY].get(_e);if(ct||(ct={},et[AFFECTED_PROPERTY].set(_e,ct)),at===ALL_OWN_KEYS_PROPERTY)ct[ALL_OWN_KEYS_PROPERTY]=!0;else{let ut=ct[at];ut||(ut=new Set,ct[at]=ut),ut.add(lt)}}},nt=()=>{tt=!0,et[AFFECTED_PROPERTY].delete(_e)},it={get(at,lt){return lt===GET_ORIGINAL_SYMBOL?_e:(rt(KEYS_PROPERTY,lt),createProxy$2(Reflect.get(at,lt),et[AFFECTED_PROPERTY],et[PROXY_CACHE_PROPERTY],et[TARGET_CACHE_PROPERTY]))},has(at,lt){return lt===TRACK_MEMO_SYMBOL?(nt(),!0):(rt(HAS_KEY_PROPERTY,lt),Reflect.has(at,lt))},getOwnPropertyDescriptor(at,lt){return rt(HAS_OWN_KEY_PROPERTY,lt),Reflect.getOwnPropertyDescriptor(at,lt)},ownKeys(at){return rt(ALL_OWN_KEYS_PROPERTY),Reflect.ownKeys(at)}};return _&&(it.set=it.deleteProperty=()=>!1),[it,et]},getOriginalObject=_e=>_e[GET_ORIGINAL_SYMBOL]||_e,createProxy$2=(_e,_,et,tt)=>{if(!isObjectToTrack(_e))return _e;let rt=tt&&tt.get(_e);if(!rt){const lt=getOriginalObject(_e);needsToCopyTargetObject(lt)?rt=[lt,copyTargetObject(lt)]:rt=[lt],tt==null||tt.set(_e,rt)}const[nt,it]=rt;let at=et&&et.get(nt);return(!at||at[1][IS_TARGET_COPIED_PROPERTY]!==!!it)&&(at=createProxyHandler(nt,!!it),at[1][PROXY_PROPERTY]=newProxy(it||nt,at[0]),et&&et.set(nt,at)),at[1][AFFECTED_PROPERTY]=_,at[1][PROXY_CACHE_PROPERTY]=et,at[1][TARGET_CACHE_PROPERTY]=tt,at[1][PROXY_PROPERTY]},isAllOwnKeysChanged=(_e,_)=>{const et=Reflect.ownKeys(_e),tt=Reflect.ownKeys(_);return et.length!==tt.length||et.some((rt,nt)=>rt!==tt[nt])},isChanged=(_e,_,et,tt,rt=Object.is)=>{if(rt(_e,_))return!1;if(!isObject$3(_e)||!isObject$3(_))return!0;const nt=et.get(getOriginalObject(_e));if(!nt)return!0;if(tt){if(tt.get(_e)===_)return!1;tt.set(_e,_)}let it=null;for(const at of nt[HAS_KEY_PROPERTY]||[])if(it=Reflect.has(_e,at)!==Reflect.has(_,at),it)return it;if(nt[ALL_OWN_KEYS_PROPERTY]===!0){if(it=isAllOwnKeysChanged(_e,_),it)return it}else for(const at of nt[HAS_OWN_KEY_PROPERTY]||[]){const lt=!!Reflect.getOwnPropertyDescriptor(_e,at),ct=!!Reflect.getOwnPropertyDescriptor(_,at);if(it=lt!==ct,it)return it}for(const at of nt[KEYS_PROPERTY]||[])if(it=isChanged(_e[at],_[at],et,tt,rt),it)return it;if(it===null)throw new Error("invalid used");return it},getUntracked=_e=>isObjectToTrack(_e)&&_e[GET_ORIGINAL_SYMBOL]||null,markToTrack=(_e,_=!0)=>{objectsToTrack.set(_e,_)};function glob(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function globalRef(_e,_){const et=glob();return et?(et[_e]||(et[_e]=_()),et[_e]):_()}var refSet=globalRef("__zag__refSet",()=>new WeakSet),isReactElement$1=_e=>typeof _e=="object"&&_e!==null&&"$$typeof"in _e&&"props"in _e,isVueElement=_e=>typeof _e=="object"&&_e!==null&&"__v_isVNode"in _e,isDOMElement=_e=>typeof _e=="object"&&_e!==null&&"nodeType"in _e&&typeof _e.nodeName=="string",isElement$2=_e=>isReactElement$1(_e)||isVueElement(_e)||isDOMElement(_e),isObject$2=_e=>_e!==null&&typeof _e=="object",canProxy=_e=>isObject$2(_e)&&!refSet.has(_e)&&(Array.isArray(_e)||!(Symbol.iterator in _e))&&!isElement$2(_e)&&!(_e instanceof WeakMap)&&!(_e instanceof WeakSet)&&!(_e instanceof Error)&&!(_e instanceof Number)&&!(_e instanceof Date)&&!(_e instanceof String)&&!(_e instanceof RegExp)&&!(_e instanceof ArrayBuffer)&&!(_e instanceof Promise);function set$6(_e,_,et){typeof et.value=="object"&&!canProxy(et.value)&&(et.value=clone$1(et.value)),!et.enumerable||et.get||et.set||!et.configurable||!et.writable||_==="__proto__"?Object.defineProperty(_e,_,et):_e[_]=et.value}function clone$1(_e){if(typeof _e!="object")return _e;var _=0,et,tt,rt,nt=Object.prototype.toString.call(_e);if(nt==="[object Object]"?rt=Object.create(Object.getPrototypeOf(_e)||null):nt==="[object Array]"?rt=Array(_e.length):nt==="[object Set]"?(rt=new Set,_e.forEach(function(it){rt.add(clone$1(it))})):nt==="[object Map]"?(rt=new Map,_e.forEach(function(it,at){rt.set(clone$1(at),clone$1(it))})):nt==="[object Date]"?rt=new Date(+_e):nt==="[object RegExp]"?rt=new RegExp(_e.source,_e.flags):nt==="[object DataView]"?rt=new _e.constructor(clone$1(_e.buffer)):nt==="[object ArrayBuffer]"?rt=_e.slice(0):nt==="[object Blob]"?rt=_e.slice():nt.slice(-6)==="Array]"&&(rt=new _e.constructor(_e)),rt){for(tt=Object.getOwnPropertySymbols(_e);_<tt.length;_++)set$6(rt,tt[_],Object.getOwnPropertyDescriptor(_e,tt[_]));for(_=0,tt=Object.getOwnPropertyNames(_e);_<tt.length;_++)Object.hasOwnProperty.call(rt,et=tt[_])&&rt[et]===_e[et]||set$6(rt,et,Object.getOwnPropertyDescriptor(_e,et))}return rt||_e}var proxyStateMap=globalRef("__zag__proxyStateMap",()=>new WeakMap),buildProxyFunction=(_e=Object.is,_=(at,lt)=>new Proxy(at,lt),et=new WeakMap,tt=(at,lt)=>{const ct=et.get(at);if((ct==null?void 0:ct[0])===lt)return ct[1];const ut=Array.isArray(at)?[]:Object.create(Object.getPrototypeOf(at));return markToTrack(ut,!0),et.set(at,[lt,ut]),Reflect.ownKeys(at).forEach(st=>{const ot=Reflect.get(at,st);refSet.has(ot)?(markToTrack(ot,!1),ut[st]=ot):proxyStateMap.has(ot)?ut[st]=snapshot(ot):ut[st]=ot}),Object.freeze(ut)},rt=new WeakMap,nt=[1,1],it=at=>{if(!isObject$2(at))throw new Error("object required");const lt=rt.get(at);if(lt)return lt;let ct=nt[0];const ut=new Set,st=(St,wt=++nt[0])=>{ct!==wt&&(ct=wt,ut.forEach(Et=>Et(St,wt)))};let ot=nt[1];const dt=(St=++nt[1])=>(ot!==St&&!ut.size&&(ot=St,ht.forEach(([wt])=>{const Et=wt[1](St);Et>ct&&(ct=Et)})),ct),ft=St=>(wt,Et)=>{const Tt=[...wt];Tt[1]=[St,...Tt[1]],st(Tt,Et)},ht=new Map,mt=(St,wt)=>{if(ut.size){const Et=wt[3](ft(St));ht.set(St,[wt,Et])}else ht.set(St,[wt])},gt=St=>{var Et;const wt=ht.get(St);wt&&(ht.delete(St),(Et=wt[1])==null||Et.call(wt))},yt=St=>(ut.add(St),ut.size===1&&ht.forEach(([Et,Tt],Ct)=>{const It=Et[3](ft(Ct));ht.set(Ct,[Et,It])}),()=>{ut.delete(St),ut.size===0&&ht.forEach(([Et,Tt],Ct)=>{Tt&&(Tt(),ht.set(Ct,[Et]))})}),vt=Array.isArray(at)?[]:Object.create(Object.getPrototypeOf(at)),xt=_(vt,{deleteProperty(St,wt){const Et=Reflect.get(St,wt);gt(wt);const Tt=Reflect.deleteProperty(St,wt);return Tt&&st(["delete",[wt],Et]),Tt},set(St,wt,Et,Tt){var At;const Ct=Reflect.has(St,wt),It=Reflect.get(St,wt,Tt);if(Ct&&(_e(It,Et)||rt.has(Et)&&_e(It,rt.get(Et))))return!0;gt(wt),isObject$2(Et)&&(Et=getUntracked(Et)||Et);let Pt=Et;if(!((At=Object.getOwnPropertyDescriptor(St,wt))!=null&&At.set)){!proxyStateMap.has(Et)&&canProxy(Et)&&(Pt=proxy(Et));const kt=!refSet.has(Pt)&&proxyStateMap.get(Pt);kt&&mt(wt,kt)}return Reflect.set(St,wt,Pt,Tt),st(["set",[wt],Et,It]),!0}});rt.set(at,xt);const _t=[vt,dt,tt,yt];return proxyStateMap.set(xt,_t),Reflect.ownKeys(at).forEach(St=>{const wt=Object.getOwnPropertyDescriptor(at,St);wt.get||wt.set?Object.defineProperty(vt,St,wt):xt[St]=at[St]}),xt})=>[it,proxyStateMap,refSet,_e,_,canProxy,et,tt,rt,nt],[proxyFunction]=buildProxyFunction();function proxy(_e={}){return proxyFunction(_e)}function subscribe$1(_e,_,et){const tt=proxyStateMap.get(_e);let rt;const nt=[],it=tt[3];let at=!1;const ct=it(ut=>{if(nt.push(ut),et){_(nt.splice(0));return}rt||(rt=Promise.resolve().then(()=>{rt=void 0,at&&_(nt.splice(0))}))});return at=!0,()=>{at=!1,ct()}}function snapshot(_e){const _=proxyStateMap.get(_e),[et,tt,rt]=_;return rt(et,tt())}function ref$1(_e){return refSet.add(_e),_e}function proxyWithComputed(_e,_){Object.keys(_).forEach(rt=>{if(Object.getOwnPropertyDescriptor(_e,rt))throw new Error("object property already defined");const nt=_[rt],{get:it,set:at}=typeof nt=="function"?{get:nt}:nt,lt={};lt.get=()=>it(snapshot(tt)),at&&(lt.set=ct=>at(tt,ct)),Object.defineProperty(_e,rt,lt)});const tt=proxy(_e);return tt}var first=_e=>_e[0],last=_e=>_e[_e.length-1],has$4=(_e,_)=>_e.indexOf(_)!==-1,add$1=(_e,..._)=>_e.concat(_),remove$2=(_e,..._)=>_e.filter(et=>!_.includes(et)),addOrRemove=(_e,_)=>has$4(_e,_)?remove$2(_e,_):add$1(_e,_);function clear(_e){for(;_e.length>0;)_e.pop();return _e}var isArrayLike$1=_e=>(_e==null?void 0:_e.constructor.name)==="Array",isArrayEqual$1=(_e,_)=>{if(_e.length!==_.length)return!1;for(let et=0;et<_e.length;et++)if(!isEqual$2(_e[et],_[et]))return!1;return!0},isEqual$2=(_e,_)=>{if(Object.is(_e,_))return!0;if(_e==null&&_!=null||_e!=null&&_==null)return!1;if(typeof(_e==null?void 0:_e.isEqual)=="function"&&typeof(_==null?void 0:_.isEqual)=="function")return _e.isEqual(_);if(typeof _e=="function"&&typeof _=="function")return _e.toString()===_.toString();if(isArrayLike$1(_e)&&isArrayLike$1(_))return isArrayEqual$1(Array.from(_e),Array.from(_));if(typeof _e!="object"||typeof _!="object")return!1;const et=Object.keys(_??Object.create(null)),tt=et.length;for(let rt=0;rt<tt;rt++)if(!Reflect.has(_e,et[rt]))return!1;for(let rt=0;rt<tt;rt++){const nt=et[rt];if(!isEqual$2(_e[nt],_[nt]))return!1}return!0},runIfFn=(_e,..._)=>(typeof _e=="function"?_e(..._):_e)??void 0,cast=_e=>_e,noop$5=()=>{},callAll=(..._e)=>(..._)=>{_e.forEach(function(et){et==null||et(..._)})},uuid$4=(()=>{let _e=0;return()=>(_e++,_e.toString(36))})(),isArray$4=_e=>Array.isArray(_e),isObjectLike=_e=>_e!=null&&typeof _e=="object",isObject$1=_e=>isObjectLike(_e)&&!isArray$4(_e),isNumber$1=_e=>typeof _e=="number"&&!Number.isNaN(_e),isString$1=_e=>typeof _e=="string",isFunction$1=_e=>typeof _e=="function",isNull=_e=>_e==null,hasProp=(_e,_)=>Object.prototype.hasOwnProperty.call(_e,_),baseGetTag=_e=>Object.prototype.toString.call(_e),fnToString$1=Function.prototype.toString,objectCtorString=fnToString$1.call(Object),isPlainObject$1=_e=>{if(!isObjectLike(_e)||baseGetTag(_e)!="[object Object]")return!1;const _=Object.getPrototypeOf(_e);if(_===null)return!0;const et=hasProp(_,"constructor")&&_.constructor;return typeof et=="function"&&et instanceof et&&fnToString$1.call(et)==objectCtorString},{floor:floor$3,abs:abs$3,round:round$5,min:min$3,max:max$4,pow:pow$2,sign:sign$4}=Math,isNaN$1=_e=>Number.isNaN(_e),nan=_e=>isNaN$1(_e)?0:_e,wrap$2=(_e,_)=>(_e%_+_)%_,isValueAtMax=(_e,_)=>nan(_e)>=_,isValueAtMin=(_e,_)=>nan(_e)<=_,isValueWithinRange=(_e,_,et)=>nan(_e)>=_&&nan(_e)<=et,roundValue=(_e,_,et)=>round$5((nan(_e)-_)/et)*et+_,clampValue=(_e,_,et)=>min$3(max$4(nan(_e),_),et),getValuePercent=(_e,_,et)=>(nan(_e)-_)/(et-_),getPercentValue=(_e,_,et,tt)=>clampValue(roundValue(_e*(et-_)+_,_,tt),_,et),roundToDpr=(_e,_)=>typeof _=="number"?floor$3(_e*_+.5)/_:round$5(_e),getValueTransformer=(_e,_)=>{const[et,tt]=_e,[rt,nt]=_;return it=>et===tt||rt===nt?rt:rt+(nt-rt)/(tt-et)*(it-et)},countDecimals=_e=>{if(!Number.isFinite(_e))return 0;let _=1,et=0;for(;Math.round(_e*_)/_!==_e;)_*=10,et+=1;return et},decimalOp=(_e,_,et)=>{let tt=_==="+"?_e+et:_e-et;if(_e%1!==0||et%1!==0){const rt=10**Math.max(countDecimals(_e),countDecimals(et));_e=Math.round(_e*rt),et=Math.round(et*rt),tt=_==="+"?_e+et:_e-et,tt/=rt}return tt},incrementValue=(_e,_)=>decimalOp(nan(_e),"+",_),decrementValue=(_e,_)=>decimalOp(nan(_e),"-",_);function compact$2(_e){if(!isPlainObject2(_e)||_e===void 0)return _e;const _=Reflect.ownKeys(_e).filter(tt=>typeof tt=="string"),et={};for(const tt of _){const rt=_e[tt];rt!==void 0&&(et[tt]=compact$2(rt))}return et}var isPlainObject2=_e=>_e&&typeof _e=="object"&&_e.constructor===Object;function warn(..._e){_e.length===1?_e[0]:_e[1],_e.length===2&&_e[0]}function invariant(..._e){_e.length===1?_e[0]:_e[1],_e.length===2&&_e[0]}var __defProp$3=Object.defineProperty,__defNormalProp$3=(_e,_,et)=>_ in _e?__defProp$3(_e,_,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[_]=et,__publicField$3=(_e,_,et)=>__defNormalProp$3(_e,typeof _!="symbol"?_+"":_,et);function deepMerge$1(_e,..._){for(const et of _){const tt=compact$2(et);for(const rt in tt)isPlainObject$1(et[rt])?(_e[rt]||(_e[rt]={}),deepMerge$1(_e[rt],et[rt])):_e[rt]=et[rt]}return _e}function toEvent(_e){return isString$1(_e)?{type:_e}:_e}function toArray$3(_e){return _e?isArray$4(_e)?_e.slice():[_e]:[]}function isGuardHelper(_e){return isObject$1(_e)&&_e.predicate!=null}var Truthy=()=>!0;function exec(_e,_,et,tt){return rt=>{var nt;return isString$1(rt)?!!((nt=_e[rt])!=null&&nt.call(_e,_,et,tt)):isFunction$1(rt)?rt(_,et,tt):rt.predicate(_e)(_,et,tt)}}function or$2(..._e){return{predicate:_=>(et,tt,rt)=>_e.map(exec(_,et,tt,rt)).some(Boolean)}}function and$3(..._e){return{predicate:_=>(et,tt,rt)=>_e.map(exec(_,et,tt,rt)).every(Boolean)}}function not$5(_e){return{predicate:_=>(et,tt,rt)=>!exec(_,et,tt,rt)(_e)}}function stateIn(..._e){return(_,et,tt)=>tt.state.matches(..._e)}var guards={or:or$2,and:and$3,not:not$5,stateIn};function choose(_e){return{predicate:_=>(et,tt,rt)=>{var nt;return(nt=_e.find(it=>{const at=it.guard??Truthy;return exec(_,et,tt,rt)(at)}))==null?void 0:nt.actions}}}function determineGuardFn(_e,_){return _e=_e??Truthy,(et,tt,rt)=>{if(isString$1(_e)){const nt=_[_e];return isFunction$1(nt)?nt(et,tt,rt):nt}return isGuardHelper(_e)?_e.predicate(_)(et,tt,rt):_e==null?void 0:_e(et,tt,rt)}}function determineActionsFn(_e,_){return(et,tt,rt)=>isGuardHelper(_e)?_e.predicate(_)(et,tt,rt):_e}function createProxy$1(_e){var nt,it;const _=_e.computed??cast({}),et=_e.context??cast({}),tt=_e.initial?(it=(nt=_e.states)==null?void 0:nt[_e.initial])==null?void 0:it.tags:[],rt=proxy({value:_e.initial??"",previousValue:"",event:cast({}),previousEvent:cast({}),context:proxyWithComputed(et,_),done:!1,tags:tt??[],hasTag(at){return this.tags.includes(at)},matches(...at){return at.includes(this.value)},can(at){return cast(this).nextEvents.includes(at)},get nextEvents(){var ct,ut;const at=((ut=(ct=_e.states)==null?void 0:ct[this.value])==null?void 0:ut.on)??{},lt=(_e==null?void 0:_e.on)??{};return Object.keys({...at,...lt})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return cast(rt)}function determineDelayFn(_e,_){return(et,tt)=>{if(isNumber$1(_e))return _e;if(isFunction$1(_e))return _e(et,tt);if(isString$1(_e)){const rt=Number.parseFloat(_e);if(!Number.isNaN(rt))return rt;if(_){const nt=_==null?void 0:_[_e];return invariant(nt==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${_e}\`. It doesn't exist in \`options.delays\``),isFunction$1(nt)?nt(et,tt):nt}}}}function toTarget(_e){return isString$1(_e)?{target:_e}:_e}function determineTransitionFn(_e,_){return(et,tt,rt)=>toArray$3(_e).map(toTarget).find(nt=>determineGuardFn(nt.guard,_)(et,tt,rt)??nt.target??nt.actions)}var Machine=class{constructor(_e,_){var et,tt,rt,nt,it;__publicField$3(this,"status","Not Started"),__publicField$3(this,"state"),__publicField$3(this,"initialState"),__publicField$3(this,"initialContext"),__publicField$3(this,"id"),__publicField$3(this,"type","machine"),__publicField$3(this,"activityEvents",new Map),__publicField$3(this,"delayedEvents",new Map),__publicField$3(this,"stateListeners",new Set),__publicField$3(this,"doneListeners",new Set),__publicField$3(this,"contextWatchers",new Set),__publicField$3(this,"removeStateListener",noop$5),__publicField$3(this,"parent"),__publicField$3(this,"children",new Map),__publicField$3(this,"guardMap"),__publicField$3(this,"actionMap"),__publicField$3(this,"delayMap"),__publicField$3(this,"activityMap"),__publicField$3(this,"sync"),__publicField$3(this,"options"),__publicField$3(this,"config"),__publicField$3(this,"_created",()=>{if(!this.config.created)return;const at=toEvent("machine.created");this.executeActions(this.config.created,at)}),__publicField$3(this,"start",at=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=subscribe$1(this.state,()=>{this.stateListeners.forEach(dt=>{dt(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(toEvent("machine.start"),toArray$3(this.config.activities),"machine.start"),this.executeActions(this.config.entry,toEvent("machine.start"));const lt=toEvent("machine.init"),ct=isObject$1(at)?at.value:at,ut=isObject$1(at)?at.context:void 0;ut&&this.setContext(ut);const st={target:ct??this.config.initial},ot=this.getNextStateInfo(st,lt);return this.initialState=ot,this.performStateChangeEffects(this.state.value,ot,lt),this}),__publicField$3(this,"setupContextWatchers",()=>{const{watch:at}=this.config;if(!at)return;let lt=snapshot(this.state.context);const ct=subscribe$1(this.state.context,()=>{var st;const ut=snapshot(this.state.context);for(const[ot,dt]of Object.entries(at))(((st=this.options.compareFns)==null?void 0:st[ot])??Object.is)(lt[ot],ut[ot])||this.executeActions(dt,this.state.event);lt=ut});this.contextWatchers.add(ct)}),__publicField$3(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,toEvent("machine.stop")),this.executeActions(this.config.exit,toEvent("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),__publicField$3(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),__publicField$3(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(at=>at()),this.contextWatchers.clear()}),__publicField$3(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(at=>{at.forEach(lt=>lt())}),this.delayedEvents.clear()}),__publicField$3(this,"stopActivities",at=>{var lt,ct;at?((lt=this.activityEvents.get(at))==null||lt.forEach(ut=>ut()),(ct=this.activityEvents.get(at))==null||ct.clear(),this.activityEvents.delete(at)):(this.activityEvents.forEach(ut=>{ut.forEach(st=>st()),ut.clear()}),this.activityEvents.clear())}),__publicField$3(this,"sendChild",(at,lt)=>{const ct=toEvent(at),ut=runIfFn(lt,this.contextSnapshot),st=this.children.get(ut);st||invariant(`[@zag-js/core] Cannot send '${ct.type}' event to unknown child`),st.send(ct)}),__publicField$3(this,"stopChild",at=>{this.children.has(at)||invariant(`[@zag-js/core > stop-child] Cannot stop unknown child ${at}`),this.children.get(at).stop(),this.children.delete(at)}),__publicField$3(this,"removeChild",at=>{this.children.delete(at)}),__publicField$3(this,"stopChildren",()=>{this.children.forEach(at=>at.stop()),this.children.clear()}),__publicField$3(this,"setParent",at=>{this.parent=at}),__publicField$3(this,"spawn",(at,lt)=>{const ct=runIfFn(at);return lt&&(ct.id=lt),ct.type="machine.actor",ct.setParent(this),this.children.set(ct.id,cast(ct)),ct.onDone(()=>{this.removeChild(ct.id)}).start(),cast(ref$1(ct))}),__publicField$3(this,"stopActivity",at=>{var ct;if(!this.state.value)return;const lt=this.activityEvents.get(this.state.value);(ct=lt==null?void 0:lt.get(at))==null||ct(),lt==null||lt.delete(at)}),__publicField$3(this,"addActivityCleanup",(at,lt,ct)=>{var ut;at&&(this.activityEvents.has(at)?(ut=this.activityEvents.get(at))==null||ut.set(lt,ct):this.activityEvents.set(at,new Map([[lt,ct]])))}),__publicField$3(this,"setState",at=>{this.state.previousValue=this.state.value,this.state.value=at;const lt=this.getStateNode(at);at==null?clear(this.state.tags):this.state.tags=toArray$3(lt==null?void 0:lt.tags)}),__publicField$3(this,"setContext",at=>{at&&deepMerge$1(this.state.context,compact$2(at))}),__publicField$3(this,"setOptions",at=>{const lt=compact$2(at);this.actionMap={...this.actionMap,...lt.actions},this.delayMap={...this.delayMap,...lt.delays},this.activityMap={...this.activityMap,...lt.activities},this.guardMap={...this.guardMap,...lt.guards}}),__publicField$3(this,"getStateNode",at=>{var lt;if(at)return(lt=this.config.states)==null?void 0:lt[at]}),__publicField$3(this,"getNextStateInfo",(at,lt)=>{const ct=this.determineTransition(at,lt),ut=!(ct!=null&&ct.target),st=(ct==null?void 0:ct.target)??this.state.value,ot=this.state.value!==st,dt=this.getStateNode(st),ht={reenter:!ut&&!ot&&!(ct!=null&&ct.internal),transition:ct,stateNode:dt,target:st,changed:ot};return this.log("NextState:",`[${lt.type}]`,this.state.value,"---->",ht.target),ht}),__publicField$3(this,"getAfterActions",(at,lt)=>{let ct;const ut=this.state.value;return{entry:()=>{ct=globalThis.setTimeout(()=>{const st=this.getNextStateInfo(at,this.state.event);this.performStateChangeEffects(ut,st,this.state.event)},lt)},exit:()=>{globalThis.clearTimeout(ct)}}}),__publicField$3(this,"getDelayedEventActions",at=>{const lt=this.getStateNode(at),ct=this.state.event;if(!lt||!lt.after)return;const ut=[],st=[];if(isArray$4(lt.after)){const ot=this.determineTransition(lt.after,ct);if(!ot)return;if(!hasProp(ot,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(ot)}`);const ft=determineDelayFn(ot.delay,this.delayMap)(this.contextSnapshot,ct),ht=this.getAfterActions(ot,ft);return ut.push(ht.entry),st.push(ht.exit),{entries:ut,exits:st}}if(isObject$1(lt.after))for(const ot in lt.after){const dt=lt.after[ot],ht=determineDelayFn(ot,this.delayMap)(this.contextSnapshot,ct),mt=this.getAfterActions(dt,ht);ut.push(mt.entry),st.push(mt.exit)}return{entries:ut,exits:st}}),__publicField$3(this,"executeActions",(at,lt)=>{var ut;const ct=determineActionsFn(at,this.guardMap)(this.contextSnapshot,lt,this.guardMeta);for(const st of toArray$3(ct)){const ot=isString$1(st)?(ut=this.actionMap)==null?void 0:ut[st]:st;warn(isString$1(st)&&!ot,`[@zag-js/core > execute-actions] No implementation found for action: \`${st}\``),ot==null||ot(this.state.context,lt,this.meta)}}),__publicField$3(this,"executeActivities",(at,lt,ct)=>{var ut;for(const st of lt){const ot=isString$1(st)?(ut=this.activityMap)==null?void 0:ut[st]:st;if(!ot){warn(`[@zag-js/core > execute-activity] No implementation found for activity: \`${st}\``);continue}const dt=ot(this.state.context,at,this.meta);if(dt){const ft=isString$1(st)?st:st.name||uuid$4();this.addActivityCleanup(ct??this.state.value,ft,dt)}}}),__publicField$3(this,"createEveryActivities",(at,lt)=>{if(at)if(isArray$4(at)){const ct=toArray$3(at).find(dt=>{const ft=dt.delay,mt=determineDelayFn(ft,this.delayMap)(this.contextSnapshot,this.state.event);return determineGuardFn(dt.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??mt!=null});if(!ct)return;const st=determineDelayFn(ct.delay,this.delayMap)(this.contextSnapshot,this.state.event);lt(()=>{const dt=globalThis.setInterval(()=>{this.executeActions(ct.actions,this.state.event)},st);return()=>{globalThis.clearInterval(dt)}})}else for(const ct in at){const ut=at==null?void 0:at[ct],ot=determineDelayFn(ct,this.delayMap)(this.contextSnapshot,this.state.event);lt(()=>{const ft=globalThis.setInterval(()=>{this.executeActions(ut,this.state.event)},ot);return()=>{globalThis.clearInterval(ft)}})}}),__publicField$3(this,"setEvent",at=>{this.state.previousEvent=this.state.event,this.state.event=ref$1(toEvent(at))}),__publicField$3(this,"performExitEffects",(at,lt)=>{const ct=this.state.value;if(ct==="")return;const ut=at?this.getStateNode(at):void 0;this.stopActivities(ct);const st=determineActionsFn(ut==null?void 0:ut.exit,this.guardMap)(this.contextSnapshot,lt,this.guardMeta),ot=toArray$3(st),dt=this.delayedEvents.get(ct);dt&&ot.push(...dt),this.executeActions(ot,lt),this.delayedEvents.delete(ct)}),__publicField$3(this,"performEntryEffects",(at,lt)=>{const ct=this.getStateNode(at),ut=toArray$3(ct==null?void 0:ct.activities);this.createEveryActivities(ct==null?void 0:ct.every,ft=>{ut.unshift(ft)}),ut.length>0&&this.executeActivities(lt,ut);const st=determineActionsFn(ct==null?void 0:ct.entry,this.guardMap)(this.contextSnapshot,lt,this.guardMeta),ot=toArray$3(st),dt=this.getDelayedEventActions(at);ct!=null&&ct.after&&dt&&(this.delayedEvents.set(at,dt==null?void 0:dt.exits),ot.push(...dt.entries)),this.executeActions(ot,lt),(ct==null?void 0:ct.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(ft=>{ft(this.stateSnapshot)}),this.stop())}),__publicField$3(this,"performTransitionEffects",(at,lt)=>{const ct=this.determineTransition(at,lt);this.executeActions(ct==null?void 0:ct.actions,lt)}),__publicField$3(this,"performStateChangeEffects",(at,lt,ct)=>{this.setEvent(ct);const ut=lt.changed||lt.reenter;ut&&this.performExitEffects(at,ct),this.performTransitionEffects(lt.transition,ct),this.setState(lt.target),ut&&this.performEntryEffects(lt.target,ct)}),__publicField$3(this,"determineTransition",(at,lt)=>{const ct=determineTransitionFn(at,this.guardMap);return ct==null?void 0:ct(this.contextSnapshot,lt,this.guardMeta)}),__publicField$3(this,"sendParent",at=>{var ct;this.parent||invariant("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const lt=toEvent(at);(ct=this.parent)==null||ct.send(lt)}),__publicField$3(this,"log",(...at)=>{}),__publicField$3(this,"send",at=>{const lt=toEvent(at);this.transition(this.state.value,lt)}),__publicField$3(this,"transition",(at,lt)=>{var dt,ft;const ct=isString$1(at)?this.getStateNode(at):at==null?void 0:at.stateNode,ut=toEvent(lt);if(!ct&&!this.config.on){const ht=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${at}, \`event\`: ${ut.type}`;warn(ht);return}const st=((dt=ct==null?void 0:ct.on)==null?void 0:dt[ut.type])??((ft=this.config.on)==null?void 0:ft[ut.type]),ot=this.getNextStateInfo(st,ut);return this.performStateChangeEffects(this.state.value,ot,ut),ot.stateNode}),__publicField$3(this,"subscribe",at=>(this.stateListeners.add(at),this.status==="Running"&&at(this.stateSnapshot),()=>{this.stateListeners.delete(at)})),__publicField$3(this,"onDone",at=>(this.doneListeners.add(at),this)),__publicField$3(this,"onTransition",at=>(this.stateListeners.add(at),this.status==="Running"&&at(this.stateSnapshot),this)),this.config=clone$1(_e),this.options=clone$1(_??{}),this.id=this.config.id??`machine-${uuid$4()}`,this.guardMap=((et=this.options)==null?void 0:et.guards)??{},this.actionMap=((tt=this.options)==null?void 0:tt.actions)??{},this.delayMap=((rt=this.options)==null?void 0:rt.delays)??{},this.activityMap=((nt=this.options)==null?void 0:nt.activities)??{},this.sync=((it=this.options)==null?void 0:it.sync)??!1,this.state=createProxy$1(this.config),this.initialContext=snapshot(this.state.context)}get stateSnapshot(){return cast(snapshot(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const _e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return _e.stateSnapshot},get initialContext(){return _e.initialContext},get initialState(){var _;return((_=_e.initialState)==null?void 0:_.target)??""}}}get meta(){var _e;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((_e=this.initialState)==null?void 0:_e.target)??"",getState:()=>this.stateSnapshot,getAction:_=>this.actionMap[_],getGuard:_=>this.guardMap[_]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}getHydrationState(){const _e=this.getState();return{value:_e.value,tags:_e.tags}}},createMachine=(_e,_)=>new Machine(_e,_),isMachine=_e=>_e instanceof Machine||(_e==null?void 0:_e.type)==="machine",clsx=(..._e)=>_e.map(_=>{var et;return(et=_==null?void 0:_.trim)==null?void 0:et.call(_)}).filter(Boolean).join(" "),CSS_REGEX=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,serialize$1=_e=>{const _={};let et;for(;et=CSS_REGEX.exec(_e);)_[et[1]]=et[2];return _},css$1=(_e,_)=>{if(isString$1(_e)){if(isString$1(_))return`${_e};${_}`;_e=serialize$1(_e)}else isString$1(_)&&(_=serialize$1(_));return Object.assign({},_e??{},_??{})};function mergeProps$1(..._e){let _={};for(let et of _e){for(let tt in _){if(tt.startsWith("on")&&typeof _[tt]=="function"&&typeof et[tt]=="function"){_[tt]=callAll(et[tt],_[tt]);continue}if(tt==="className"||tt==="class"){_[tt]=clsx(_[tt],et[tt]);continue}if(tt==="style"){_[tt]=css$1(_[tt],et[tt]);continue}_[tt]=et[tt]!==void 0?et[tt]:_[tt]}for(let tt in et)_[tt]===void 0&&(_[tt]=et[tt])}return _}function getRef(_e){var tt,rt;let _=(tt=Object.getOwnPropertyDescriptor(_e.props,"ref"))==null?void 0:tt.get,et=_&&"isReactWarning"in _&&_.isReactWarning;return et?_e.ref:(_=(rt=Object.getOwnPropertyDescriptor(_e,"ref"))==null?void 0:rt.get,et=_&&"isReactWarning"in _&&_.isReactWarning,et?_e.props.ref:_e.props.ref||_e.ref)}const withAsChild=_e=>{const _=reactExports.memo(reactExports.forwardRef((et,tt)=>{const{asChild:rt,children:nt,...it}=et;if(!rt)return reactExports.createElement(_e,{...it,ref:tt},nt);const at=reactExports.Children.only(nt);if(!reactExports.isValidElement(at))return null;const lt=getRef(at);return reactExports.cloneElement(at,{...mergeProps$1(it,at.props),ref:tt?composeRefs(tt,lt):lt})}));return _.displayName=_e.displayName||_e.name,_},jsxFactory=()=>{const _e=new Map;return new Proxy(withAsChild,{apply(_,et,tt){return withAsChild(tt[0])},get(_,et){const tt=et;return _e.has(tt)||_e.set(tt,withAsChild(tt)),_e.get(tt)}})},ark=jsxFactory(),createSplitProps=()=>(_e,_)=>_.reduce((et,tt)=>{const[rt,nt]=et,it=tt;return nt[it]!==void 0&&(rt[it]=nt[it]),delete nt[it],[rt,nt]},[{},{..._e}]),splitPresenceProps=_e=>createSplitProps()(_e,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function createNormalizer(_e){return new Proxy({},{get(){return _e}})}var createProps$1=()=>_e=>Array.from(new Set(_e));function connect$7(_e,_,et){const tt=_e.matches("mounted","unmountSuspended");return{skip:!_e.context.initial&&tt,present:tt,setNode(rt){rt&&_({type:"NODE.SET",node:rt})},unmount(){_({type:"UNMOUNT"})}}}function machine$6(_e){return createMachine({initial:_e.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,..._e},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(_){var et,tt;return parseMs((et=_.styles)==null?void 0:et.animationDuration)+parseMs((tt=_.styles)==null?void 0:tt.animationDelay)+ANIMATION_TIMEOUT_MARGIN}},actions:{setInitial(_){_.initial=!0},clearInitial(_){_.initial=!1},cleanupNode(_){_.node=null,_.styles=null},invokeOnExitComplete(_){var et;(et=_.onExitComplete)==null||et.call(_)},setNode(_,et){_.node=ref$1(et.node)},setStyles(_,et){const tt=et.node.ownerDocument.defaultView||window;_.styles=ref$1(tt.getComputedStyle(et.node))},syncPresence(_,et,{send:tt}){var it;if(_.present){tt({type:"MOUNT",src:"presence.changed"});return}if(!_.present&&((it=_.node)==null?void 0:it.ownerDocument.visibilityState)==="hidden"){tt({type:"UNMOUNT",src:"visibilitychange"});return}const rt=getAnimationName(_.styles);(_.immediate?queueMicrotask:requestAnimationFrame)(()=>{var at,lt;_.unmountAnimationName=rt,rt==="none"||rt===_.prevAnimationName||((at=_.styles)==null?void 0:at.display)==="none"||((lt=_.styles)==null?void 0:lt.animationDuration)==="0s"?tt({type:"UNMOUNT",src:"presence.changed"}):tt({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(_){(_.immediate?queueMicrotask:requestAnimationFrame)(()=>{_.prevAnimationName=getAnimationName(_.styles)})},clearPrevAnimationName(_){_.prevAnimationName=null}},activities:{trackAnimationEvents(_,et,{send:tt}){const rt=_.node;if(!rt)return;const nt=at=>{var ct,ut;(((ut=(ct=at.composedPath)==null?void 0:ct.call(at))==null?void 0:ut[0])??at.target)===rt&&(_.prevAnimationName=getAnimationName(_.styles))},it=at=>{var ut,st;const lt=getAnimationName(_.styles);(((st=(ut=at.composedPath)==null?void 0:ut.call(at))==null?void 0:st[0])??at.target)===rt&&lt===_.unmountAnimationName&&tt({type:"UNMOUNT",src:"animationend"})};return rt.addEventListener("animationstart",nt),rt.addEventListener("animationcancel",it),rt.addEventListener("animationend",it),()=>{rt.removeEventListener("animationstart",nt),rt.removeEventListener("animationcancel",it),rt.removeEventListener("animationend",it)}}}})}function getAnimationName(_e){return(_e==null?void 0:_e.animationName)||"none"}function parseMs(_e){return parseFloat(_e||"0")*1e3}var ANIMATION_TIMEOUT_MARGIN=16.667;createProps$1()(["onExitComplete","present","immediate"]);var normalizeProps=createNormalizer(_e=>_e),isArrayLike=_e=>(_e==null?void 0:_e.constructor.name)==="Array",isArrayEqual=(_e,_)=>{if(_e.length!==_.length)return!1;for(let et=0;et<_e.length;et++)if(!isEqual$1(_e[et],_[et]))return!1;return!0},isEqual$1=(_e,_)=>{if(Object.is(_e,_))return!0;if(_e==null&&_!=null||_e!=null&&_==null)return!1;if(typeof(_e==null?void 0:_e.isEqual)=="function"&&typeof(_==null?void 0:_.isEqual)=="function")return _e.isEqual(_);if(typeof _e=="function"&&typeof _=="function")return _e.toString()===_.toString();if(isArrayLike(_e)&&isArrayLike(_))return isArrayEqual(Array.from(_e),Array.from(_));if(typeof _e!="object"||typeof _!="object")return!1;const et=Object.keys(_??Object.create(null)),tt=et.length;for(let rt=0;rt<tt;rt++)if(!Reflect.has(_e,et[rt]))return!1;for(let rt=0;rt<tt;rt++){const nt=et[rt];if(!isEqual$1(_e[nt],_[nt]))return!1}return!0},fnToString=Function.prototype.toString;fnToString.call(Object);function compact$1(_e){if(!isPlainObject(_e)||_e===void 0)return _e;const _=Reflect.ownKeys(_e).filter(tt=>typeof tt=="string"),et={};for(const tt of _){const rt=_e[tt];rt!==void 0&&(et[tt]=compact$1(rt))}return et}var isPlainObject=_e=>_e&&typeof _e=="object"&&_e.constructor===Object;function useUpdateEffect(_e,_){const et=reactExports.useRef(!1),tt=reactExports.useRef(!1);reactExports.useEffect(()=>{if(et.current&&tt.current)return _e();tt.current=!0},_),reactExports.useEffect(()=>(et.current=!0,()=>{et.current=!1}),[])}var targetCache=globalRef("__zag__targetCache",()=>new WeakMap);function useSnapshot(_e,_){const{actions:et,context:tt,sync:rt}=_??{},nt=reactExports.useRef(void 0),it=reactExports.useRef(void 0),at=reactExports.useSyncExternalStore(reactExports.useCallback(st=>subscribe$1(_e.state,st,rt),[rt]),()=>{const st=snapshot(_e.state);try{if(nt.current&&it.current&&!isChanged(nt.current,st,it.current,new WeakMap))return nt.current}catch{}return st},()=>snapshot(_e.state));_e.setOptions({actions:et});const lt=reactExports.useMemo(()=>compact$1(tt??{}),[tt]);useUpdateEffect(()=>{const st=Object.entries(lt),ot=_e.contextSnapshot??{};st.map(([ht,mt])=>({key:ht,curr:mt,prev:ot[ht],equal:isEqual$1(ot[ht],mt)})).every(({equal:ht})=>ht)||_e.setContext(lt)},[lt]);const ct=new WeakMap;reactExports.useEffect(()=>{nt.current=at,it.current=ct});const ut=reactExports.useMemo(()=>new WeakMap,[]);return createProxy$2(at,ct,ut,targetCache)}function useActor(_e){return[useSnapshot(_e),_e.send]}function useConstant(_e){const _=reactExports.useRef(void 0);return _.current||(_.current={v:_e()}),_.current.v}var useSafeLayoutEffect$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useService(_e,_){const{state:et,context:tt}=_??{},rt=useConstant(()=>{const it=typeof _e=="function"?_e():_e;return tt&&it.setContext(tt),it._created(),it}),nt=reactExports.useRef(void 0);return useSafeLayoutEffect$1(()=>{const it=et??nt.current;return rt.start(it),()=>{rt.stop()}},[]),rt}function useMachine(_e,_){const et=useService(_e,_);return[useSnapshot(et,_),et.send,et]}function useEvent$1(_e,_={}){const{sync:et=!1}=_,tt=useLatestRef(_e);return reactExports.useCallback((...rt)=>{var nt;return et?queueMicrotask(()=>{var it;return(it=tt.current)==null?void 0:it.call(tt,...rt)}):(nt=tt.current)==null?void 0:nt.call(tt,...rt)},[et,tt])}function useLatestRef(_e){const _=reactExports.useRef(_e);return _.current=_e,_}const usePresence=_e=>{const{lazyMount:_,unmountOnExit:et,present:tt,...rt}=_e,nt=reactExports.useRef(!1),it={...rt,present:tt,onExitComplete:useEvent$1(_e.onExitComplete)},[at,lt]=useMachine(machine$6(it),{context:it}),ct=connect$7(at,lt);ct.present&&(nt.current=!0);const ut=!ct.present&&!nt.current&&_||et&&!ct.present&&nt.current,st=()=>({"data-state":tt?"open":"closed",hidden:!ct.present});return{ref:ct.setNode,getPresenceProps:st,present:ct.present,unmounted:ut}},[PresenceProvider,usePresenceContext]=createContext({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});function useCallbackRef(_e,_=[]){const et=reactExports.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return reactExports.useInsertionEffect(()=>{et.current=_e}),reactExports.useCallback((...tt)=>{var rt;return(rt=et.current)==null?void 0:rt.call(et,...tt)},_)}function useDisclosure(_e={}){const{onClose:_,onOpen:et,open:tt}=_e,rt=useCallbackRef(et),nt=useCallbackRef(_),[it,at]=reactExports.useState(_e.defaultOpen||!1),lt=tt!==void 0?tt:it,ct=tt!==void 0,ut=reactExports.useCallback(()=>{ct||at(!1),nt==null||nt()},[ct,nt]),st=reactExports.useCallback(()=>{ct||at(!0),rt==null||rt()},[ct,rt]),ot=reactExports.useCallback(()=>{lt?ut():st()},[lt,st,ut]);return{open:lt,onOpen:st,onClose:ut,onToggle:ot}}const colorMix=(_e,_)=>{var lt;if(!_e||typeof _e!="string")return{invalid:!0,value:_e};const[et,tt]=_e.split("/");if(!et||!tt||et==="currentBg")return{invalid:!0,value:et};const rt=_(`colors.${et}`),nt=(lt=_.raw(`opacity.${tt}`))==null?void 0:lt.value;if(!nt&&isNaN(Number(tt)))return{invalid:!0,value:et};const it=nt?Number(nt)*100+"%":`${tt}%`,at=rt??et;return{invalid:!1,color:at,value:`color-mix(in srgb, ${at} ${it}, transparent)`}},createColorMixTransform=_e=>(_,et)=>{const tt=et.utils.colorMix(_);if(tt.invalid)return{[_e]:_};const rt="--mix-"+_e;return{[rt]:tt.value,[_e]:`var(${rt}, ${tt.color})`}};function clone(_e){if(_e===null||typeof _e!="object")return _e;if(Array.isArray(_e))return _e.map(et=>clone(et));const _=Object.create(Object.getPrototypeOf(_e));for(const et of Object.keys(_e))_[et]=clone(_e[et]);return _}function merge$3(_e,_){if(_==null)return _e;for(const et of Object.keys(_))if(!(_[et]===void 0||et==="__proto__"))if(!isObject$5(_e[et])&&isObject$5(_[et]))Object.assign(_e,{[et]:_[et]});else if(_e[et]&&isObject$5(_[et]))merge$3(_e[et],_[et]);else if(Array.isArray(_[et])&&Array.isArray(_e[et])){let tt=0;for(;tt<_[et].length;tt++)isObject$5(_e[et][tt])&&isObject$5(_[et][tt])?merge$3(_e[et][tt],_[et][tt]):_e[et][tt]=_[et][tt]}else Object.assign(_e,{[et]:_[et]});return _e}function mergeWith(_e,..._){for(const et of _)merge$3(_e,et);return _e}const defineConditions=_e=>_e,defineRecipe=_e=>_e,defineSlotRecipe=_e=>_e,defineKeyframes=_e=>_e,defineGlobalStyles=_e=>_e,defineStyle=_e=>_e,defineTextStyles=_e=>_e,defineAnimationStyles=_e=>_e,defineLayerStyles=_e=>_e;function createProxy(){const _e=_=>_;return new Proxy(_e,{get(){return _e}})}const defineTokens=createProxy(),defineSemanticTokens=createProxy(),defineConfig=_e=>_e,mergeConfigs=(..._e)=>mergeWith({},..._e.map(clone)),escRegex=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function esc$1(_e){return`${_e}`.replace(escRegex,_=>`\\${_}`)}const dashCaseRegex=/[A-Z]/g;function dashCase(_e){return _e.replace(dashCaseRegex,_=>`-${_.toLowerCase()}`)}function cssVar(_e,_={}){const{fallback:et="",prefix:tt=""}=_,rt=dashCase(["-",tt,esc$1(_e)].filter(Boolean).join("-"));return{var:rt,ref:`var(${rt}${et?`, ${et}`:""})`}}const isCssVar=_e=>/^var\(--.+\)$/.test(_e),wrap$1=(_e,_)=>_!=null?`${_e}(${_})`:_,deg=_e=>{if(isCssVar(_e)||_e==null)return _e;const _=typeof _e=="string"&&!_e.endsWith("deg");return typeof _e=="number"||_?`${_e}deg`:_e},createFocusRing=_e=>({values:["outside","inside","mixed","none"],transform(_,{token:et}){const tt=et("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":tt,[_e]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":tt,[_e]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":tt,[_e]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":tt,[_e]:{outline:"none"}}}[_]??{}}}),divideColor=createColorMixTransform("borderColor"),createTransition=_e=>({transition:_e,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),defaultConditions=defineConditions({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),currentBgVar=cssVar("bg-currentcolor"),isCurrentBgVar=_e=>_e===currentBgVar.ref||_e==="currentBg",colorValues=_e=>({..._e("colors"),currentBg:currentBgVar}),defaultBaseConfig=defineConfig({conditions:defaultConditions,utilities:{background:{values:colorValues,shorthand:["bg"],transform(_e,_){if(isCurrentBgVar(_.raw))return{background:currentBgVar.ref};const et=createColorMixTransform("background")(_e,_);return{...et,[currentBgVar.var]:et==null?void 0:et.background}}},backgroundColor:{values:colorValues,shorthand:["bgColor"],transform(_e,_){if(isCurrentBgVar(_.raw))return{backgroundColor:currentBgVar.ref};const et=createColorMixTransform("backgroundColor")(_e,_);return{...et,[currentBgVar.var]:et==null?void 0:et.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(_e){return _e==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:_e}}},backgroundGradient:{shorthand:["bgGradient"],values(_e){return{..._e("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(_e){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:_e}}},gradientFrom:{values:colorValues,transform:createColorMixTransform("--gradient-from")},gradientTo:{values:colorValues,transform:createColorMixTransform("--gradient-to")},gradientVia:{values:colorValues,transform(_e,_){return{...createColorMixTransform("--gradient-via")(_e,_),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values:"gradients",shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderInlineEnd:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:colorValues,transform:createColorMixTransform("borderColor")},borderTopColor:{values:colorValues,transform:createColorMixTransform("borderTopColor")},borderBlockStartColor:{values:colorValues,transform:createColorMixTransform("borderBlockStartColor")},borderBottomColor:{values:colorValues,transform:createColorMixTransform("borderBottomColor")},borderBlockEndColor:{values:colorValues,transform:createColorMixTransform("borderBlockEndColor")},borderLeftColor:{values:colorValues,transform:createColorMixTransform("borderLeftColor")},borderInlineStartColor:{values:colorValues,shorthand:["borderStartColor"],transform:createColorMixTransform("borderInlineStartColor")},borderRightColor:{values:colorValues,transform:createColorMixTransform("borderRightColor")},borderInlineEndColor:{values:colorValues,shorthand:["borderEndColor"],transform:createColorMixTransform("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:_e=>({borderStartStartRadius:_e,borderEndStartRadius:_e})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:_e=>({borderStartEndRadius:_e,borderEndEndRadius:_e})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:_e=>({borderTopLeftRadius:_e,borderTopRightRadius:_e})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:_e=>({borderBottomLeftRadius:_e,borderBottomRightRadius:_e})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:_e=>({borderTopLeftRadius:_e,borderBottomLeftRadius:_e})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:_e=>({borderTopRightRadius:_e,borderBottomRightRadius:_e})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:colorValues,transform:createColorMixTransform("color")},fill:{values:colorValues,transform:createColorMixTransform("fill")},stroke:{values:colorValues,transform:createColorMixTransform("stroke")},accentColor:{values:colorValues,transform:createColorMixTransform("accentColor")},divideX:{values:{type:"string"},transform(_e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:_e,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(_e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:_e,borderBottomWidth:"0px"}}}},divideColor:{values:colorValues,transform(_e,_){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":divideColor(_e,_)}}},divideStyle:{property:"borderStyle",transform(_e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:_e}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:colorValues,transform:createColorMixTransform("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(_e){return _e!=="auto"?{filter:_e}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:_e=>({"--blur":wrap$1("blur",_e)})},brightness:{transform:_e=>({"--brightness":wrap$1("brightness",_e)})},contrast:{transform:_e=>({"--contrast":wrap$1("contrast",_e)})},grayscale:{transform:_e=>({"--grayscale":wrap$1("grayscale",_e)})},hueRotate:{transform:_e=>({"--hue-rotate":wrap$1("hue-rotate",deg(_e))})},invert:{transform:_e=>({"--invert":wrap$1("invert",_e)})},saturate:{transform:_e=>({"--saturate":wrap$1("saturate",_e)})},sepia:{transform:_e=>({"--sepia":wrap$1("sepia",_e)})},dropShadow:{transform:_e=>({"--drop-shadow":wrap$1("drop-shadow",_e)})},backdropFilter:{transform(_e){return _e!=="auto"?{backdropFilter:_e}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:_e=>({"--backdrop-blur":wrap$1("blur",_e)})},backdropBrightness:{transform:_e=>({"--backdrop-brightness":wrap$1("brightness",_e)})},backdropContrast:{transform:_e=>({"--backdrop-contrast":wrap$1("contrast",_e)})},backdropGrayscale:{transform:_e=>({"--backdrop-grayscale":wrap$1("grayscale",_e)})},backdropHueRotate:{transform:_e=>({"--backdrop-hue-rotate":wrap$1("hue-rotate",deg(_e))})},backdropInvert:{transform:_e=>({"--backdrop-invert":wrap$1("invert",_e)})},backdropOpacity:{transform:_e=>({"--backdrop-opacity":wrap$1("opacity",_e)})},backdropSaturate:{transform:_e=>({"--backdrop-saturate":wrap$1("saturate",_e)})},backdropSepia:{transform:_e=>({"--backdrop-sepia":wrap$1("sepia",_e)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:colorValues,transform:createColorMixTransform("outlineColor")},focusRing:createFocusRing("&:is(:focus, [data-focus])"),focusVisibleRing:createFocusRing("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:colorValues,transform:createColorMixTransform("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:_e=>({"--focus-ring-offset":_e})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:_e=>({"--focus-ring-width":_e})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:_e=>({"--focus-ring-style":_e})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:_e=>({width:_e,height:_e})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(_e,{raw:_,token:et})=>({[et.raw(`breakpoints.${_}`)?`@breakpoint ${_}`:`@media screen and (min-width: ${_e})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(_e,{raw:_,token:et}){return{[et.raw(`breakpoints.${_}`)?`@breakpoint ${_}Down`:`@media screen and (max-width: ${_e})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(_e){switch(_e){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:colorValues,transform:createColorMixTransform("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:_e=>({scrollMarginLeft:_e,scrollMarginRight:_e})},scrollMarginY:{values:"spacing",transform:_e=>({scrollMarginTop:_e,scrollMarginBottom:_e})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:_e=>({"--scroll-snap-strictness":_e})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(_e){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":_e,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:colorValues,transform:createColorMixTransform("--ring-color")},ringOffset:{transform:_e=>({"--ring-offset-width":_e})},ringOffsetColor:{values:colorValues,transform:createColorMixTransform("--ring-offset-color")},ringInset:{transform:_e=>({"--ring-inset":_e})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing",shorthand:["mt"]},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:colorValues,transform:createColorMixTransform("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:_e=>{let _=_e;return _e==="auto"&&(_="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),_e==="auto-gpu"&&(_="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:_}}},skewX:{transform:_e=>({"--skew-x":deg(_e)})},skewY:{transform:_e=>({"--skew-y":deg(_e)})},scaleX:{transform:_e=>({"--scale-x":_e})},scaleY:{transform:_e=>({"--scale-y":_e})},scale:{transform(_e){return _e!=="auto"?{scale:_e}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(_e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":_e?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:_e=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${_e} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${_e} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(_e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":_e?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:_e=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${_e} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${_e} * var(--space-y-reverse))`}})},rotate:{transform(_e){return _e!=="auto"?{rotate:deg(_e)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(_e){return{"--rotate-x":deg(_e)}}},rotateY:{transform(_e){return{"--rotate-y":deg(_e)}}},translate:{transform(_e){return _e!=="auto"?{translate:_e}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:_e=>({"--translate-x":_e})},translateY:{values:"spacing",transform:_e=>({"--translate-y":_e})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(_e){switch(_e){case"all":return createTransition("all");case"position":return createTransition("left, right, top, bottom, inset-inline, inset-block");case"colors":return createTransition("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return createTransition("opacity");case"shadow":return createTransition("box-shadow");case"transform":return createTransition("transform");case"size":return createTransition("width, height");case"backgrounds":return createTransition("background, background-color, background-image, background-position");case"common":return createTransition("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:_e}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(_e){return _e===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(_e){return _e==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:_e,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(_e){return srMapping[_e]||{}}},debug:{values:{type:"boolean"},transform(_e){return _e?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:colorValues,transform:createColorMixTransform("caretColor")},cursor:{values:"cursor"}}}),srMapping={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var userGeneratedStr="",userGenerated=userGeneratedStr.split(","),cssPropertiesStr="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",allCssProperties=cssPropertiesStr.split(",").concat(userGenerated),properties=new Map(allCssProperties.map(_e=>[_e,!0]));function memo$1(_e){const _=Object.create(null);return et=>(_[et]===void 0&&(_[et]=_e(et)),_[et])}var cssPropertySelectorRegex=/&|@/,isCssProperty=memo$1(_e=>properties.has(_e)||_e.startsWith("--")||cssPropertySelectorRegex.test(_e));const isNotNullish=_e=>_e!=null;function walkObject(_e,_,et={}){const{stop:tt,getKey:rt}=et;function nt(it,at=[]){if(isObject$5(it)||Array.isArray(it)){const lt={};for(const[ct,ut]of Object.entries(it)){const st=(rt==null?void 0:rt(ct,ut))??ct,ot=[...at,st];if(tt!=null&&tt(it,ot))return _(it,at);const dt=nt(ut,ot);isNotNullish(dt)&&(lt[st]=dt)}return lt}return _(it,at)}return nt(_e)}function mapObject(_e,_){return Array.isArray(_e)?_e.map(et=>_(et)):isObject$5(_e)?walkObject(_e,et=>_(et)):_e!=null?_(_e):_e}function flatten(_e,_){const et={};return walkObject(_e,(tt,rt)=>{tt&&(et[rt.join(".")]=tt.value)},{stop:_}),et}const memo=_e=>{const _=Object.create(null);function et(...tt){const rt=JSON.stringify(tt);return _[rt]===void 0&&(_[rt]=_e(...tt)),_[rt]}return et},BASE_FONT_SIZE=16,UNIT_PX="px",UNIT_EM="em",UNIT_REM="rem";function getUnit(_e=""){const _=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),et=new RegExp(`${UNIT_PX}|${UNIT_EM}|${UNIT_REM}`),tt=_e.match(new RegExp(`${_.source}(${et.source})`));return tt==null?void 0:tt[1]}function toPx(_e=""){if(typeof _e=="number")return`${_e}px`;const _=getUnit(_e);if(!_||_===UNIT_PX)return _e;if(_===UNIT_EM||_===UNIT_REM)return`${parseFloat(_e)*BASE_FONT_SIZE}${UNIT_PX}`}function toRem(_e=""){const _=getUnit(_e);if(!_||_===UNIT_REM)return _e;if(_===UNIT_EM)return`${parseFloat(_e)}${UNIT_REM}`;if(_===UNIT_PX)return`${parseFloat(_e)/BASE_FONT_SIZE}${UNIT_REM}`}const capitalize$1=_e=>_e.charAt(0).toUpperCase()+_e.slice(1);function createBreakpoints(_e){const _=sort(_e),et=Object.fromEntries(_);function tt(ot){return et[ot]}function rt(ot){return build$1(tt(ot))}function nt(){const ot=Object.keys(et),dt=getPermutations(ot),ft=ot.flatMap(ht=>{const mt=tt(ht),gt=[`${ht}Down`,build$1({max:adjust(mt.min)})],yt=[ht,build$1({min:mt.min})],vt=[`${ht}Only`,rt(ht)];return[yt,vt,gt]}).filter(([,ht])=>ht!=="").concat(dt.map(([ht,mt])=>{const gt=tt(ht),yt=tt(mt);return[`${ht}To${capitalize$1(mt)}`,build$1({min:gt.min,max:adjust(yt.min)})]}));return Object.fromEntries(ft)}function it(){const ot=nt();return Object.fromEntries(Object.entries(ot))}const at=it(),lt=ot=>at[ot];function ct(){return["base",...Object.keys(et)]}function ut(ot){return build$1({min:tt(ot).min})}function st(ot){return build$1({max:adjust(tt(ot).min)})}return{values:Object.values(et),only:rt,keys:ct,conditions:at,getCondition:lt,up:ut,down:st}}function adjust(_e){const _=parseFloat(toPx(_e)??"")-.04;return toRem(`${_}px`)}function sort(_e){return Object.entries(_e).sort(([,et],[,tt])=>parseInt(et,10)<parseInt(tt,10)?-1:1).map(([et,tt],rt,nt)=>{var at;let it=null;return rt<=nt.length-1&&(it=(at=nt[rt+1])==null?void 0:at[1]),it!=null&&(it=adjust(it)),[et,{name:et,min:toRem(tt),max:it}]})}function getPermutations(_e){const _=[];return _e.forEach((et,tt)=>{let rt=tt;rt++;let nt=_e[rt];for(;nt;)_.push([et,nt]),rt++,nt=_e[rt]}),_}function build$1({min:_e,max:_}){return _e==null&&_==null?"":["@media screen",_e&&`(min-width: ${_e})`,_&&`(max-width: ${_})`].filter(Boolean).join(" and ")}const mapEntries$1=(_e,_)=>Object.fromEntries(Object.entries(_e).map(([et,tt])=>_(et,tt))),createConditions=_e=>{const{breakpoints:_,conditions:et={}}=_e,tt=mapEntries$1(et,(ut,st)=>[`_${ut}`,st]),rt=Object.assign({},tt,_.conditions);function nt(){return Object.keys(rt)}function it(ut){return nt().includes(ut)||/^@|&|&$/.test(ut)||ut.startsWith("_")}function at(ut){return ut.filter(st=>st!=="base").sort((st,ot)=>{const dt=it(st),ft=it(ot);return dt&&!ft?1:!dt&&ft?-1:0})}function lt(ut){return ut.startsWith("@breakpoint")?_.getCondition(ut.replace("@breakpoint ","")):ut}function ct(ut){return Reflect.get(rt,ut)||ut}return{keys:nt,sort:at,has:it,resolve:ct,breakpoints:_.keys(),expandAtRule:lt}},createMediaQueryRegex=_e=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${_e})(.|
)+\\(\\s*max(-device)?-${_e}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${_e}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${_e})(.|
)+\\(\\s*min(-device)?-${_e}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${_e}`,"i")}),widthRegex=createMediaQueryRegex("width"),heightRegex=createMediaQueryRegex("height"),createQueryTester=_e=>({isMin:_testQuery(_e.minMax,_e.maxMin,_e.min),isMax:_testQuery(_e.maxMin,_e.minMax,_e.max)}),{isMin:isMinWidth,isMax:isMaxWidth}=createQueryTester(widthRegex),{isMin:isMinHeight,isMax:isMaxHeight}=createQueryTester(heightRegex),isPrint=/print/i,isPrintOnly=/^print$/i,isLength=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,lengthExec=/(\d)/,maxValue=Number.MAX_VALUE,multipliers={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function getQueryLength(_e){const _=isLength.exec(_e)||(isMinWidth(_e)||isMinHeight(_e)?lengthExec.exec(_e):null);if(!_)return maxValue;if(_[0]==="0")return 0;const et=parseFloat(_[1]),tt=_[2];return et*(multipliers[tt]||1)}function _testQuery(_e,_,et){return tt=>_e.test(tt)||!_.test(tt)&&et.test(tt)}function _testIsPrint(_e,_){const et=isPrint.test(_e),tt=isPrintOnly.test(_e),rt=isPrint.test(_),nt=isPrintOnly.test(_);return et&&rt?!tt&&nt?1:tt&&!nt?-1:_e.localeCompare(_):et?1:rt?-1:null}const sortAtParams=memo((_e,_)=>{const et=_testIsPrint(_e,_);if(et!==null)return et;const tt=isMinWidth(_e)||isMinHeight(_e),rt=isMaxWidth(_e)||isMaxHeight(_e),nt=isMinWidth(_)||isMinHeight(_),it=isMaxWidth(_)||isMaxHeight(_);if(tt&&it)return-1;if(rt&&nt)return 1;const at=getQueryLength(_e),lt=getQueryLength(_);return at===maxValue&&lt===maxValue?_e.localeCompare(_):at===maxValue?1:lt===maxValue?-1:at!==lt?at>lt?rt?-1:1:rt?1:-1:_e.localeCompare(_)});function sortQueries(_e){return _e.sort(([_],[et])=>sortAtParams(_,et))}function sortAtRules(_e){const _=[],et=[],tt={};for(const[it,at]of Object.entries(_e))it.startsWith("@media")?_.push([it,at]):it.startsWith("@container")?et.push([it,at]):isObject$5(at)?tt[it]=sortAtRules(at):tt[it]=at;const rt=sortQueries(_),nt=sortQueries(et);return{...tt,...Object.fromEntries(rt),...Object.fromEntries(nt)}}const importantRegex=/\s*!(important)?/i,isImportant=_e=>isString$2(_e)?importantRegex.test(_e):!1,withoutImportant=_e=>isString$2(_e)?_e.replace(importantRegex,"").trim():_e;function createCssFn(_e){const{transform:_,conditions:et,normalize:tt}=_e,rt=mergeCss(_e);return memo((...nt)=>{const it=rt(...nt),at=tt(it),lt=Object.create(null);return walkObject(at,(ct,ut)=>{const st=isImportant(ct);if(ct==null)return;const[ot,...dt]=et.sort(ut).map(et.resolve);st&&(ct=withoutImportant(ct));let ft=_(ot,ct)??Object.create(null);ft=walkObject(ft,ht=>isString$2(ht)&&st?`${ht} !important`:ht,{getKey:ht=>et.expandAtRule(ht)}),mergeByPath(lt,dt.flat(),ft)}),sortAtRules(lt)})}function mergeByPath(_e,_,et){let tt=_e;for(const rt of _)rt&&(tt[rt]||(tt[rt]=Object.create(null)),tt=tt[rt]);mergeWith(tt,et)}function compactFn(..._e){return _e.filter(_=>isObject$5(_)&&Object.keys(compact$3(_)).length>0)}function mergeCss(_e){function _(et){const tt=compactFn(...et);return tt.length===1?tt:tt.map(rt=>_e.normalize(rt))}return memo((...et)=>mergeWith({},..._(et)))}function omit$1(_e,_=[]){const et=Object.assign({},_e);for(const tt of _)tt in et&&delete et[tt];return et}const uniq=(..._e)=>{const _=_e.filter(Boolean);return Array.from(new Set(_))},defaults$2=_e=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],..._e});function createRecipeFn(_e){const{css:_,conditions:et,normalize:tt,layers:rt}=_e;function nt(at={}){const{base:lt,variants:ct,defaultVariants:ut,compoundVariants:st}=defaults$2(at),ot=createCssFn({conditions:et,normalize:tt,transform(yt,vt){var bt;return(bt=ct[yt])==null?void 0:bt[vt]}}),dt=(yt={})=>{const vt=tt({...ut,...compact$3(yt)});let bt={...lt};mergeWith(bt,ot(vt));const xt=it(st,vt);return rt.wrap("recipes",_(bt,xt))},ft=Object.keys(ct),ht=yt=>{const vt=omit$1(yt,["recipe"]),[bt,xt]=splitProps(vt,ft);return ft.includes("colorPalette")||(bt.colorPalette=yt.colorPalette||ut.colorPalette),ft.includes("orientation")&&(xt.orientation=yt.orientation),[bt,xt]},mt=Object.fromEntries(Object.entries(ct).map(([yt,vt])=>[yt,Object.keys(vt)]));return Object.assign(yt=>_(dt(yt)),{className:at.className,__cva__:!0,variantMap:mt,variantKeys:ft,raw:dt,config:at,splitVariantProps:ht,merge(yt){return nt(mergeCva(_e)(this,yt))}})}function it(at,lt){let ct={};return at.forEach(ut=>{Object.entries(ut).every(([ot,dt])=>ot==="css"?!0:(Array.isArray(dt)?dt:[dt]).some(ht=>lt[ot]===ht))&&(ct=_(ct,ut.css))}),ct}return nt}function mergeCva(_e){const{css:_}=_e;return function(tt,rt){const nt=defaults$2(rt.config),it=uniq(tt.variantKeys,Object.keys(rt.variants)),at=_(tt.base,nt.base),lt=Object.fromEntries(it.map(ot=>[ot,_(tt.config.variants[ot],nt.variants[ot])])),ct=mergeWith(tt.config.defaultVariants,nt.defaultVariants),ut=[...tt.compoundVariants,...nt.compoundVariants];return{className:cx(tt.className,rt.className),base:at,variants:lt,defaultVariants:ct,compoundVariants:ut}}}const defaultLayers={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},layerOrder={reset:0,base:1,tokens:2,recipes:3};function createLayers(_e){const _=_e.layers??defaultLayers,tt=Object.values(_).sort((rt,nt)=>layerOrder[rt]-layerOrder[nt]);return{names:tt,atRule:`@layer ${tt.join(", ")};`,wrap(rt,nt){return _e.disableLayers?nt:{[`@layer ${_[rt]}`]:nt}}}}function createNormalizeFn(_e){const{utility:_,normalize:et}=_e,{hasShorthand:tt,resolveShorthand:rt}=_;return function(nt){return walkObject(nt,et,{stop:it=>Array.isArray(it),getKey:tt?rt:void 0})}}function createPreflight(_e){const{preflight:_}=_e;if(!_)return{};const{scope:et="",level:tt="parent"}=isObject$5(_)?_:{};let rt="";et&&tt==="parent"?rt=`${et} `:et&&tt==="element"&&(rt=`&${et}`);const nt={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},it={[et||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(tt==="element"){const at=Object.entries(nt).reduce((lt,[ct,ut])=>(lt[ct]={[rt]:ut},lt),{});Object.assign(it,at)}else rt?it[rt]=nt:Object.assign(it,nt);return it}function createSerializeFn(_e){const{conditions:_,isValidProperty:et}=_e;return function(rt){return walkObject(rt,nt=>nt,{getKey:(nt,it)=>isObject$5(it)&&!_.has(nt)&&!et(nt)?parseSelectors(nt).map(at=>"&"+at).join(", "):nt})}}function parseSelectors(_e){const _=[];let et=0,tt="",rt=!1;for(let nt=0;nt<_e.length;nt++){const it=_e[nt];if(it==="\\"&&!rt){rt=!0,tt+=it;continue}if(rt){rt=!1,tt+=it;continue}it==="("?et++:it===")"&&et--,it===","&&et===0?(_.push(tt.trim()),tt=""):tt+=it}return tt&&_.push(tt.trim()),_}const getSlotRecipes=(_e={})=>{const _=rt=>{var nt;return{base:((nt=_e.base)==null?void 0:nt[rt])??{},variants:{},defaultVariants:_e.defaultVariants??{},compoundVariants:_e.compoundVariants?getSlotCompoundVariant(_e.compoundVariants,rt):[]}},tt=(_e.slots??[]).map(rt=>[rt,_(rt)]);for(const[rt,nt]of Object.entries(_e.variants??{}))for(const[it,at]of Object.entries(nt))tt.forEach(([lt,ct])=>{var ut;(ut=ct.variants)[rt]??(ut[rt]={}),ct.variants[rt][it]=at[lt]??{}});return Object.fromEntries(tt)},getSlotCompoundVariant=(_e,_)=>_e.filter(et=>et.css[_]).map(et=>({...et,css:et.css[_]}));function createSlotRecipeFn(_e){const{cva:_}=_e;return function(tt={}){const rt=Object.entries(getSlotRecipes(tt)).map(([st,ot])=>[st,_(ot)]);function nt(st){const ot=rt.map(([dt,ft])=>[dt,ft(st)]);return Object.fromEntries(ot)}const it=tt.variants??{},at=Object.keys(it);function lt(st){var ht;const ot=omit$1(st,["recipe"]),[dt,ft]=splitProps(ot,at);return at.includes("colorPalette")||(dt.colorPalette=st.colorPalette||((ht=tt.defaultVariants)==null?void 0:ht.colorPalette)),at.includes("orientation")&&(ft.orientation=st.orientation),[dt,ft]}const ct=Object.fromEntries(Object.entries(it).map(([st,ot])=>[st,Object.keys(ot)]));let ut={};return tt.className&&(ut=Object.fromEntries(tt.slots.map(st=>[st,`${tt.className}__${st}`]))),Object.assign(nt,{variantMap:ct,variantKeys:at,splitVariantProps:lt,classNameMap:ut})}}const createProps=()=>_e=>Array.from(new Set(_e)),rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,fcssescape=function(_e,_){return _?_e==="\0"?"�":_e==="-"&&_e.length===1?"\\-":_e.slice(0,-1)+"\\"+_e.charCodeAt(_e.length-1).toString(16):"\\"+_e},esc=_e=>(_e+"").replace(rcssescape,fcssescape),expandTokenReferences=(_e,_)=>{let et="",tt=0,rt="char",nt="",it="";const at=[];for(;tt<_e.length;){const lt=_e[tt];if(lt==="{"){const ut=_e.indexOf("}",tt);if(ut===-1)break;const st=_e.slice(tt+1,ut),ot=_(st);et+=ot??st,tt=ut+1;continue}if(rt==="token"&&lt===","){_e[tt]===""&&tt++,rt="fallback",at.push(rt);const ut=_(nt);ut!=null&&ut.endsWith(")")&&(et+=ut.slice(0,-1)),nt="",it="";continue}if(rt==="fallback"&&it+lt===", var("){const ot=cssVarParser(_e.slice(tt+1))+tt+1,dt=_e.slice(tt+1,ot);if(ot===-1)break;et+=", var("+dt+")",tt=ot+1,rt=at.pop()??rt,it="";continue}if(rt==="token"||rt==="fallback"){if(tt++,lt===")"){rt=at.pop()??rt??"char",it+=lt;const ut=nt&&(_(nt)??esc(nt));if(it){if(it=it.slice(1).trim(),!it.startsWith("token(")&&it.endsWith(")")&&(it=it.slice(0,-1)),it.includes("token(")){const ot=expandTokenReferences(it,_);ot&&(it=ot.slice(0,-1))}else if(it){const ot=_(it);ot&&(it=ot)}}const st=et.at(-1);it?st!=null&&st.trim()?et+=ut.slice(0,-1)+(", "+it+")"):et+=it:et+=ut||")",nt="",it="",rt="char";continue}rt==="token"&&(nt+=lt),rt==="fallback"&&(it+=lt);continue}const ct=_e.indexOf("token(",tt);if(ct!==-1){const ut=ct+6;et+=_e.slice(tt,ct),tt=ut,rt="token",at.push(rt);continue}et+=lt,tt++}return et},cssVarParser=_e=>{let _=0;const et=["("];for(;_<_e.length;){const tt=_e[_];if(tt==="(")et.push(tt);else if(tt===")"&&(et.pop(),et.length===0))return _;_++}return _};function mapToJson(_e){const _={};return _e.forEach((et,tt)=>{et instanceof Map?_[tt]=Object.fromEntries(et):_[tt]=et}),_}const REFERENCE_REGEX=/({([^}]*)})/g,CURLY_REGEX=/[{}]/g,TOKEN_PATH_REGEX=/\w+\.\w+/,getReferences=_e=>{if(!isString$2(_e))return[];const _=_e.match(REFERENCE_REGEX);return _?_.map(et=>et.replace(CURLY_REGEX,"")).map(et=>et.trim()):[]},hasReference=_e=>REFERENCE_REGEX.test(_e);function expandReferences(_e){var et,tt,rt;if(!((et=_e.extensions)!=null&&et.references))return((rt=(tt=_e.extensions)==null?void 0:tt.cssVar)==null?void 0:rt.ref)??_e.value;const _=_e.extensions.references??{};return _e.value=Object.keys(_).reduce((nt,it)=>{const at=_[it];if(at.extensions.conditions)return nt;const lt=expandReferences(at);return nt.replace(`{${it}}`,lt)},_e.value),delete _e.extensions.references,_e.value}function resolveReference(_e){return isObject$5(_e)&&_e.reference?_e.reference:String(_e)}const toExpression=(_e,..._)=>_.map(resolveReference).join(` ${_e} `).replace(/calc/g,""),add=(..._e)=>`calc(${toExpression("+",..._e)})`,subtract=(..._e)=>`calc(${toExpression("-",..._e)})`,multiply=(..._e)=>`calc(${toExpression("*",..._e)})`,divide=(..._e)=>`calc(${toExpression("/",..._e)})`,negate=_e=>{const _=resolveReference(_e);return _!=null&&!Number.isNaN(parseFloat(_))?String(_).startsWith("-")?String(_).slice(1):`-${_}`:multiply(_,-1)},calc=Object.assign(_e=>({add:(..._)=>calc(add(_e,..._)),subtract:(..._)=>calc(subtract(_e,..._)),multiply:(..._)=>calc(multiply(_e,..._)),divide:(..._)=>calc(divide(_e,..._)),negate:()=>calc(negate(_e)),toString:()=>_e.toString()}),{add,subtract,multiply,divide,negate}),addNegativeTokens={enforce:"pre",transform(_e){const{prefix:_,allTokens:et,formatCssVar:tt,formatTokenName:rt,registerToken:nt}=_e;et.filter(({extensions:at})=>at.category==="spacing").forEach(at=>{const lt=at.path.slice(),ct=tt(lt,_);if(isString$2(at.value)&&at.value==="0rem")return;const ut=structuredClone(at);Object.assign(ut.extensions,{negative:!0,prop:`-${at.extensions.prop}`,originalPath:lt}),ut.value=calc.negate(ct.ref);const st=ut.path[ut.path.length-1];st!=null&&(ut.path[ut.path.length-1]=`-${st}`),ut.path&&(ut.name=rt(ut.path)),nt(ut)})}},units=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),addPixelUnit={enforce:"post",transform(_e){_e.allTokens.filter(et=>units.has(et.extensions.category)&&!et.extensions.negative).forEach(et=>{Object.assign(et.extensions,{pixelValue:toPx(et.value)})})}},addVirtualPalette={enforce:"post",transform(_e){const{allTokens:_,registerToken:et,formatTokenName:tt}=_e,rt=_.filter(({extensions:at})=>at.category==="colors"),nt=new Map,it=new Map;rt.forEach(at=>{const{colorPalette:lt}=at.extensions;lt&&(lt.keys.forEach(ct=>{nt.set(tt(ct),ct)}),lt.roots.forEach(ct=>{var ot;const ut=tt(ct),st=it.get(ut)||[];if(st.push(at),it.set(ut,st),at.extensions.default&&ct.length===1){const dt=(ot=lt.keys[0])==null?void 0:ot.filter(Boolean);if(!dt.length)return;const ft=ct.concat(dt);nt.set(tt(ft),[])}}))}),nt.forEach(at=>{const lt=["colors","colorPalette",...at].filter(Boolean),ct=tt(lt),ut=tt(lt.slice(1));et({name:ct,value:ct,originalValue:ct,path:lt,extensions:{condition:"base",originalPath:lt,category:"colors",prop:ut,virtual:!0}},"pre")})}},removeEmptyTokens={enforce:"post",transform(_e){_e.allTokens=_e.allTokens.filter(_=>_.value!=="")}},tokenMiddlewares=[addNegativeTokens,addVirtualPalette,addPixelUnit,removeEmptyTokens],addCssVariables={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(_e,_){const{prefix:et,formatCssVar:tt}=_,{negative:rt,originalPath:nt}=_e.extensions,it=rt?nt:_e.path;return{cssVar:tt(it.filter(Boolean),et)}}},addConditionalCssVariables={enforce:"post",type:"value",name:"tokens/conditionals",transform(_e,_){const{prefix:et,formatCssVar:tt}=_,rt=getReferences(_e.value);return rt.length&&rt.forEach(nt=>{const it=tt(nt.split("."),et);_e.value=_e.value.replace(`{${it.ref}}`,it)}),_e.value}},addColorPalette={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(_e){return _e.extensions.category==="colors"&&!_e.extensions.virtual},transform(_e,_){let et=_e.path.slice();if(et.pop(),et.shift(),et.length===0){const at=[..._e.path];at.shift(),et=at}if(et.length===0)return{};const tt=et.reduce((at,lt,ct,ut)=>{const st=ut.slice(0,ct+1);return at.push(st),at},[]),rt=et[0],nt=_.formatTokenName(et),it=_e.path.slice(_e.path.indexOf(rt)+1).reduce((at,lt,ct,ut)=>(at.push(ut.slice(ct)),at),[]);return it.length===0&&it.push([""]),{colorPalette:{value:nt,roots:tt,keys:it}}}},tokenTransforms=[addCssVariables,addConditionalCssVariables,addColorPalette],isToken=_e=>isObject$5(_e)&&Object.prototype.hasOwnProperty.call(_e,"value");function expandBreakpoints(_e){return _e?{breakpoints:mapObject(_e,_=>({value:_})),sizes:Object.fromEntries(Object.entries(_e).map(([_,et])=>[`breakpoint-${_}`,{value:et}]))}:{breakpoints:{},sizes:{}}}function createTokenDictionary(_e){const{prefix:_="",tokens:et={},semanticTokens:tt={},breakpoints:rt={}}=_e,nt=Kt=>Kt.join("."),it=(Kt,Yt)=>cssVar(Kt.join("-"),{prefix:Yt}),at=[],lt=new Map,ct=new Map,ut=new Map,st=new Map,ot=new Map,dt=new Map,ft=new Map,ht=new Map,mt=[];function gt(Kt,Yt){at.push(Kt),lt.set(Kt.name,Kt),Yt&&ht.forEach(rr=>{rr.enforce===Yt&&Dt(rr,Kt)})}const yt=expandBreakpoints(rt),vt=compact$3({...et,breakpoints:yt.breakpoints,sizes:{...et.sizes,...yt.sizes}});function bt(){walkObject(vt,(Kt,Yt)=>{const rr=Yt.includes("DEFAULT");Yt=filterDefault(Yt);const ir=Yt[0],lr=nt(Yt),ar=isString$2(Kt)?{value:Kt}:Kt,ur={value:ar.value,originalValue:ar.value,name:lr,path:Yt,extensions:{condition:"base",originalPath:Yt,category:ir,prop:nt(Yt.slice(1))}};rr&&(ur.extensions.default=!0),gt(ur)},{stop:isToken}),walkObject(tt,(Kt,Yt)=>{const rr=Yt.includes("DEFAULT");Yt=filterBaseCondition(filterDefault(Yt));const ir=Yt[0],lr=nt(Yt),ar=isString$2(Kt.value)?{value:{base:Kt.value}}:Kt,ur={value:ar.value.base||"",originalValue:ar.value.base||"",name:lr,path:Yt,extensions:{originalPath:Yt,category:ir,conditions:ar.value,condition:"base",prop:nt(Yt.slice(1))}};rr&&(ur.extensions.default=!0),gt(ur)},{stop:isToken})}function xt(Kt){return lt.get(Kt)}function _t(Kt){const{condition:Yt}=Kt.extensions;Yt&&(ct.has(Yt)||ct.set(Yt,new Set),ct.get(Yt).add(Kt))}function St(Kt){const{category:Yt,prop:rr}=Kt.extensions;Yt&&(ft.has(Yt)||ft.set(Yt,new Map),ft.get(Yt).set(rr,Kt))}function wt(Kt){const{condition:Yt,negative:rr,virtual:ir,cssVar:lr}=Kt.extensions;rr||ir||!Yt||!lr||(ut.has(Yt)||ut.set(Yt,new Map),ut.get(Yt).set(lr.var,Kt.value))}function Et(Kt){const{category:Yt,prop:rr,cssVar:ir,negative:lr}=Kt.extensions;if(!Yt)return;dt.has(Yt)||dt.set(Yt,new Map);const ar=lr?Kt.extensions.conditions?Kt.originalValue:Kt.value:ir.ref;dt.get(Yt).set(rr,ar),ot.set([Yt,rr].join("."),ar)}function Tt(Kt){const{colorPalette:Yt,virtual:rr,default:ir}=Kt.extensions;!Yt||rr||Yt.roots.forEach(lr=>{var Sr;const ar=nt(lr);st.has(ar)||st.set(ar,new Map);const ur=replaceRootWithColorPalette([...Kt.path],[...lr]),fr=nt(ur),yr=xt(fr);if(!yr||!yr.extensions.cssVar)return;const{var:Tr}=yr.extensions.cssVar;if(st.get(ar).set(Tr,Kt.extensions.cssVar.ref),ir&&lr.length===1){const kr=nt(["colors","colorPalette"]),xr=xt(kr);if(!xr)return;const dr=nt(Kt.path),gr=xt(dr);if(!gr)return;const mr=(Sr=Yt.keys[0])==null?void 0:Sr.filter(Boolean);if(!mr.length)return;const Fr=nt(lr.concat(mr));st.has(Fr)||st.set(Fr,new Map),st.get(Fr).set(xr.extensions.cssVar.var,gr.extensions.cssVar.ref)}})}let Ct={};function It(){at.forEach(Kt=>{_t(Kt),St(Kt),wt(Kt),Et(Kt),Tt(Kt)}),Ct=mapToJson(dt)}const Pt=(Kt,Yt)=>{var yr;if(!Kt||typeof Kt!="string")return{invalid:!0,value:Kt};const[rr,ir]=Kt.split("/");if(!rr||!ir)return{invalid:!0,value:rr};const lr=Yt(rr),ar=(yr=xt(`opacity.${ir}`))==null?void 0:yr.value;if(!ar&&isNaN(Number(ir)))return{invalid:!0,value:rr};const ur=ar?Number(ar)*100+"%":`${ir}%`,fr=lr??rr;return{invalid:!1,color:fr,value:`color-mix(in srgb, ${fr} ${ur}, transparent)`}},At=memo((Kt,Yt)=>ot.get(Kt)??Yt),kt=memo(Kt=>Ct[Kt]||null),Rt=memo(Kt=>expandTokenReferences(Kt,Yt=>{if(!Yt)return;if(Yt.includes("/")){const ir=Pt(Yt,lr=>At(lr));if(ir.invalid)throw new Error("Invalid color mix at "+Yt+": "+ir.value);return ir.value}const rr=At(Yt);return rr||(TOKEN_PATH_REGEX.test(Yt)?esc(Yt):Yt)})),$t={prefix:_,allTokens:at,tokenMap:lt,registerToken:gt,getByName:xt,formatTokenName:nt,formatCssVar:it,flatMap:ot,cssVarMap:ut,categoryMap:ft,colorPaletteMap:st,getVar:At,getCategoryValues:kt,expandReferenceInValue:Rt};function Mt(...Kt){Kt.forEach(Yt=>{ht.set(Yt.name,Yt)})}function Nt(...Kt){mt.push(...Kt)}function Dt(Kt,Yt){if(Yt.extensions.references||isFunction$2(Kt.match)&&!Kt.match(Yt))return;const ir=(lr=>Kt.transform(lr,$t))(Yt);switch(!0){case Kt.type==="extensions":Object.assign(Yt.extensions,ir);break;case Kt.type==="value":Yt.value=ir;break;default:Yt[Kt.type]=ir;break}}function jt(Kt){mt.forEach(Yt=>{Yt.enforce===Kt&&Yt.transform($t)})}function Ut(Kt){ht.forEach(Yt=>{Yt.enforce===Kt&&at.forEach(rr=>{Dt(Yt,rr)})})}function Xt(){at.forEach(Kt=>{const Yt=getConditionalTokens(Kt);!Yt||Yt.length===0||Yt.forEach(rr=>{gt(rr)})})}function Wt(Kt){return getReferences(Kt).map(rr=>xt(rr)).filter(Boolean)}function Vt(){at.forEach(Kt=>{if(!hasReference(Kt.value))return;const Yt=Wt(Kt.value);Kt.extensions.references=Yt.reduce((rr,ir)=>(rr[ir.name]=ir,rr),{})})}function qt(){at.forEach(Kt=>{expandReferences(Kt)})}function tr(){jt("pre"),Ut("pre"),Xt(),Vt(),qt(),jt("post"),Ut("post"),It()}return bt(),Mt(...tokenTransforms),Nt(...tokenMiddlewares),tr(),$t}function filterDefault(_e){return _e[0]==="DEFAULT"?_e:_e.filter(_=>_!=="DEFAULT")}function filterBaseCondition(_e){return _e.filter(_=>_!=="base")}function getConditionalTokens(_e){if(!_e.extensions.conditions)return;const{conditions:_}=_e.extensions,et=[];return walkObject(_,(tt,rt)=>{const nt=filterBaseCondition(rt);if(!nt.length)return;const it=structuredClone(_e);it.value=tt,it.extensions.condition=nt.join(":"),et.push(it)}),et}function replaceRootWithColorPalette(_e,_){const et=_e.findIndex((tt,rt)=>_.every((nt,it)=>_e[rt+it]===nt));return et===-1||(_e.splice(et,_.length),_e.splice(et,0,"colorPalette")),_e}createProps()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function normalize$1(_e){return _e}function normalizeConfig(_e){return Object.fromEntries(Object.entries(_e).map(([_,et])=>[_,et]))}function createUtility(_e){const _=normalizeConfig(_e.config),et=_e.tokens,tt=new Map,rt=new Map;function nt(wt,Et){_[wt]=Et,it(wt,Et)}const it=(wt,Et)=>{const Tt=ht(Et);Tt&&(rt.set(wt,Tt),st(wt,Et))},at=()=>{for(const[wt,Et]of Object.entries(_))Et&&it(wt,Et)},lt=()=>{for(const[wt,Et]of Object.entries(_)){const{shorthand:Tt}=Et??{};if(!Tt)continue;(Array.isArray(Tt)?Tt:[Tt]).forEach(It=>tt.set(It,wt))}},ct=()=>{const wt=mapToJson(et.colorPaletteMap);nt("colorPalette",{values:Object.keys(wt),transform:memo(Et=>wt[Et])})},ut=new Map,st=(wt,Et)=>{if(!Et)return;const Tt=ht(Et,It=>`type:Tokens["${It}"]`);if(typeof Tt=="object"&&Tt.type){ut.set(wt,new Set([`type:${Tt.type}`]));return}if(Tt){const It=new Set(Object.keys(Tt));ut.set(wt,It)}const Ct=ut.get(wt)??new Set;Et.property&&ut.set(wt,Ct.add(`CssProperties["${Et.property}"]`))},ot=()=>{for(const[wt,Et]of Object.entries(_))Et&&st(wt,Et)},dt=(wt,Et)=>{const Tt=ut.get(wt)??new Set;ut.set(wt,new Set([...Tt,...Et]))},ft=()=>{const wt=new Map;for(const[Et,Tt]of ut.entries()){if(Tt.size===0){wt.set(Et,["string"]);continue}const Ct=Array.from(Tt).map(It=>It.startsWith("CssProperties")?It:It.startsWith("type:")?It.replace("type:",""):JSON.stringify(It));wt.set(Et,Ct)}return wt},ht=(wt,Et)=>{const{values:Tt}=wt,Ct=It=>{const Pt=Et==null?void 0:Et(It);return Pt?{[Pt]:Pt}:void 0};return isString$2(Tt)?(Ct==null?void 0:Ct(Tt))??et.getCategoryValues(Tt)??{}:Array.isArray(Tt)?Tt.reduce((It,Pt)=>(It[Pt]=Pt,It),{}):isFunction$2(Tt)?Tt(Et?Ct:et.getCategoryValues):Tt},mt=memo((wt,Et)=>({[wt]:wt.startsWith("--")?et.getVar(Et,Et):Et})),gt=Object.assign(et.getVar,{raw:wt=>et.getByName(wt)}),yt=memo((wt,Et)=>{var At;const Tt=xt(wt);isString$2(Et)&&!Et.includes("_EMO_")&&(Et=et.expandReferenceInValue(Et));const Ct=_[Tt];if(!Ct)return mt(Tt,Et);const It=(At=rt.get(Tt))==null?void 0:At[Et];if(!Ct.transform)return mt(wt,It??Et);const Pt=kt=>colorMix(kt,gt);return Ct.transform(It??Et,{raw:Et,token:gt,utils:{colorMix:Pt}})});function vt(){lt(),ct(),at(),ot()}vt();const bt=tt.size>0,xt=memo(wt=>tt.get(wt)??wt);return{keys:()=>[...Array.from(tt.keys()),...Object.keys(_)],hasShorthand:bt,transform:yt,shorthands:tt,resolveShorthand:xt,register:nt,getTypes:ft,addPropertyType:dt}}function createSystem(..._e){const _=mergeConfigs(..._e),{theme:et={},utilities:tt={},globalCss:rt={},cssVarsRoot:nt=":where(:root, :host)",cssVarsPrefix:it="chakra",preflight:at}=_,lt=createLayers(_),ct=createTokenDictionary({breakpoints:et.breakpoints,tokens:et.tokens,semanticTokens:et.semanticTokens,prefix:it}),ut=createBreakpoints(et.breakpoints??{}),st=createConditions({conditions:_.conditions??{},breakpoints:ut}),ot=createUtility({config:tt,tokens:ct});function dt(){const{textStyles:Mt,layerStyles:Nt,animationStyles:Dt}=et,jt=compact$3({textStyle:Mt,layerStyle:Nt,animationStyle:Dt});for(const[Ut,Xt]of Object.entries(jt)){const Wt=flatten(Xt??{},Vt=>isObject$5(Vt)&&"value"in Vt);ot.register(Ut,{values:Object.keys(Wt),transform(Vt){return vt(Wt[Vt])}})}}dt(),ot.addPropertyType("animationName",Object.keys(et.keyframes??{}));const ft=new Set(["css",...ot.keys(),...st.keys()]),ht=memo(Mt=>ft.has(Mt)||isCssProperty(Mt)),mt=Mt=>Array.isArray(Mt)?Mt.reduce((Nt,Dt,jt)=>{const Ut=st.breakpoints[jt];return Dt!=null&&(Nt[Ut]=Dt),Nt},{}):Mt,gt=createNormalizeFn({utility:ot,normalize:mt}),yt=createSerializeFn({conditions:st,isValidProperty:ht}),vt=createCssFn({transform:ot.transform,conditions:st,normalize:gt}),bt=createRecipeFn({css:vt,conditions:st,normalize:gt,layers:lt}),xt=createSlotRecipeFn({cva:bt});function _t(){const Mt={};for(const[Nt,Dt]of ct.cssVarMap.entries()){const jt=Object.fromEntries(Dt);if(Object.keys(jt).length===0)continue;const Ut=Nt==="base"?nt:st.resolve(Nt),Xt=vt(yt({[Ut]:jt}));mergeWith(Mt,Xt)}return lt.wrap("tokens",Mt)}function St(){const Mt=Object.fromEntries(Object.entries(et.keyframes??{}).map(([Dt,jt])=>[`@keyframes ${Dt}`,jt])),Nt=Object.assign({},Mt,vt(yt(rt)));return lt.wrap("base",Nt)}function wt(Mt){return splitProps(Mt,ht)}function Et(){const Mt=createPreflight({preflight:at});return lt.wrap("reset",Mt)}const Tt=getTokenMap(ct),Ct=(Mt,Nt)=>{var Dt;return((Dt=Tt.get(Mt))==null?void 0:Dt.value)||Nt};Ct.var=(Mt,Nt)=>{var Dt;return((Dt=Tt.get(Mt))==null?void 0:Dt.variable)||Nt};function It(Mt,Nt){var Dt;return((Dt=et.recipes)==null?void 0:Dt[Mt])??Nt}function Pt(Mt,Nt){var Dt;return((Dt=et.slotRecipes)==null?void 0:Dt[Mt])??Nt}function At(Mt){return Object.hasOwnProperty.call(et.recipes??{},Mt)}function kt(Mt){return Object.hasOwnProperty.call(et.slotRecipes??{},Mt)}function Rt(Mt){return At(Mt)||kt(Mt)}const $t=[Et(),St(),_t()];return{$$chakra:!0,_config:_,_global:$t,breakpoints:ut,tokens:ct,conditions:st,utility:ot,token:Ct,properties:ft,layers:lt,isValidProperty:ht,splitCssProps:wt,normalizeValue:mt,getTokenCss:_t,getGlobalCss:St,getPreflightCss:Et,css:vt,cva:bt,sva:xt,getRecipe:It,getSlotRecipe:Pt,hasRecipe:Rt,isRecipe:At,isSlotRecipe:kt}}function getTokenMap(_e){const _=new Map;return _e.allTokens.forEach(et=>{const{cssVar:tt,virtual:rt,conditions:nt}=et.extensions,it=nt||rt?tt.ref:et.value;_.set(et.name,{value:it,variable:tt.ref})}),_}const breakpoints={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},empty="var(--chakra-empty,/*!*/ /*!*/)",globalCss=defineGlobalStyles({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":empty,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(_e=>[`--${_e}`,empty])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(_e=>[`--backdrop-${_e}`,empty])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.muted/80"}}),layerStyles=defineLayerStyles({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),animationStyles=defineAnimationStyles({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),badgeRecipe=defineRecipe({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),buttonRecipe=defineRecipe({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),checkmarkRecipe=defineRecipe({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:variants$1,defaultVariants:defaultVariants$1}=badgeRecipe,codeRecipe=defineRecipe({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:variants$1,defaultVariants:defaultVariants$1}),colorSwatchRecipe=defineRecipe({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),containerRecipe=defineRecipe({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),headingRecipe=defineRecipe({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),iconRecipe=defineRecipe({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),inputRecipe=defineRecipe({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),inputAddonRecipe=defineRecipe({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:inputRecipe.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),kbdRecipe=defineRecipe({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),linkRecipe=defineRecipe({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),markRecipe=defineRecipe({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),radiomarkRecipe=defineRecipe({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),separatorRecipe=defineRecipe({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),skeletonRecipe=defineRecipe({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),skipNavLinkRecipe=defineRecipe({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),spinnerRecipe=defineRecipe({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),textareaRecipe=defineRecipe({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),recipes={badge:badgeRecipe,button:buttonRecipe,code:codeRecipe,container:containerRecipe,heading:headingRecipe,input:inputRecipe,inputAddon:inputAddonRecipe,kbd:kbdRecipe,link:linkRecipe,mark:markRecipe,separator:separatorRecipe,skeleton:skeletonRecipe,skipNavLink:skipNavLinkRecipe,spinner:spinnerRecipe,textarea:textareaRecipe,icon:iconRecipe,checkmark:checkmarkRecipe,radiomark:radiomarkRecipe,colorSwatch:colorSwatchRecipe},semanticColors=defineSemanticTokens.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}}}}),semanticRadii=defineSemanticTokens.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),semanticShadows=defineSemanticTokens.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}});var createAnatomy=(_e,_=[])=>({parts:(...et)=>{if(isEmpty(_))return createAnatomy(_e,et);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...et)=>createAnatomy(_e,[..._,...et]),rename:et=>createAnatomy(et,_),keys:()=>_,build:()=>[...new Set(_)].reduce((et,tt)=>Object.assign(et,{[tt]:{selector:[`&[data-scope="${toKebabCase(_e)}"][data-part="${toKebabCase(tt)}"]`,`& [data-scope="${toKebabCase(_e)}"][data-part="${toKebabCase(tt)}"]`].join(", "),attrs:{"data-scope":toKebabCase(_e),"data-part":toKebabCase(tt)}}}),{})}),toKebabCase=_e=>_e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),isEmpty=_e=>_e.length===0,anatomy$m=createAnatomy("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");anatomy$m.build();var dom$l=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`accordion:${_e.id}`},getItemId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.item)==null?void 0:tt.call(et,_))??`accordion:${_e.id}:item:${_}`},getItemContentId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemContent)==null?void 0:tt.call(et,_))??`accordion:${_e.id}:content:${_}`},getItemTriggerId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemTrigger)==null?void 0:tt.call(et,_))??`accordion:${_e.id}:trigger:${_}`},getRootEl:_e=>dom$l.getById(_e,dom$l.getRootId(_e)),getTriggerEls:_e=>{const et=`[aria-controls][data-ownedby='${CSS.escape(dom$l.getRootId(_e))}']:not([disabled])`;return queryAll(dom$l.getRootEl(_e),et)},getFirstTriggerEl:_e=>first(dom$l.getTriggerEls(_e)),getLastTriggerEl:_e=>last(dom$l.getTriggerEls(_e)),getNextTriggerEl:(_e,_)=>nextById(dom$l.getTriggerEls(_e),dom$l.getItemTriggerId(_e,_)),getPrevTriggerEl:(_e,_)=>prevById(dom$l.getTriggerEls(_e),dom$l.getItemTriggerId(_e,_))});createProps$1()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);createProps$1()(["value","disabled"]);var anatomy$l=createAnatomy("collapsible").parts("root","trigger","content");anatomy$l.build();var dom$k=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`collapsible:${_e.id}`},getContentId:_e=>{var _;return((_=_e.ids)==null?void 0:_.content)??`collapsible:${_e.id}:content`},getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`collapsible:${_e.id}:trigger`},getRootEl:_e=>dom$k.getById(_e,dom$k.getRootId(_e)),getContentEl:_e=>dom$k.getById(_e,dom$k.getContentId(_e)),getTriggerEl:_e=>dom$k.getById(_e,dom$k.getTriggerId(_e))});createProps$1()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","open.controlled","open"]);const[EnvironmentContextProvider,useEnvironmentContext]=createContext({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),sides=["top","right","bottom","left"],min$2=Math.min,max$3=Math.max,round$4=Math.round,floor$2=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(_e,_,et){return max$3(_e,min$2(_,et))}function evaluate(_e,_){return typeof _e=="function"?_e(_):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,_,et){et===void 0&&(et=!1);const tt=getAlignment(_e),rt=getAlignmentAxis(_e),nt=getAxisLength(rt);let it=rt==="x"?tt===(et?"end":"start")?"right":"left":tt==="start"?"bottom":"top";return _.reference[nt]>_.floating[nt]&&(it=getOppositePlacement(it)),[it,getOppositePlacement(it)]}function getExpandedPlacements(_e){const _=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),_,getOppositeAlignmentPlacement(_)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,_=>oppositeAlignmentMap[_])}function getSideList(_e,_,et){const tt=["left","right"],rt=["right","left"],nt=["top","bottom"],it=["bottom","top"];switch(_e){case"top":case"bottom":return et?_?rt:tt:_?tt:rt;case"left":case"right":return _?nt:it;default:return[]}}function getOppositeAxisPlacements(_e,_,et,tt){const rt=getAlignment(_e);let nt=getSideList(getSide(_e),et==="start",tt);return rt&&(nt=nt.map(it=>it+"-"+rt),_&&(nt=nt.concat(nt.map(getOppositeAlignmentPlacement)))),nt}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,_=>oppositeSideMap[_])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:_,y:et,width:tt,height:rt}=_e;return{width:tt,height:rt,top:et,left:_,right:_+tt,bottom:et+rt,x:_,y:et}}function computeCoordsFromPlacement(_e,_,et){let{reference:tt,floating:rt}=_e;const nt=getSideAxis(_),it=getAlignmentAxis(_),at=getAxisLength(it),lt=getSide(_),ct=nt==="y",ut=tt.x+tt.width/2-rt.width/2,st=tt.y+tt.height/2-rt.height/2,ot=tt[at]/2-rt[at]/2;let dt;switch(lt){case"top":dt={x:ut,y:tt.y-rt.height};break;case"bottom":dt={x:ut,y:tt.y+tt.height};break;case"right":dt={x:tt.x+tt.width,y:st};break;case"left":dt={x:tt.x-rt.width,y:st};break;default:dt={x:tt.x,y:tt.y}}switch(getAlignment(_)){case"start":dt[it]-=ot*(et&&ct?-1:1);break;case"end":dt[it]+=ot*(et&&ct?-1:1);break}return dt}const computePosition$1=async(_e,_,et)=>{const{placement:tt="bottom",strategy:rt="absolute",middleware:nt=[],platform:it}=et,at=nt.filter(Boolean),lt=await(it.isRTL==null?void 0:it.isRTL(_));let ct=await it.getElementRects({reference:_e,floating:_,strategy:rt}),{x:ut,y:st}=computeCoordsFromPlacement(ct,tt,lt),ot=tt,dt={},ft=0;for(let ht=0;ht<at.length;ht++){const{name:mt,fn:gt}=at[ht],{x:yt,y:vt,data:bt,reset:xt}=await gt({x:ut,y:st,initialPlacement:tt,placement:ot,strategy:rt,middlewareData:dt,rects:ct,platform:it,elements:{reference:_e,floating:_}});ut=yt??ut,st=vt??st,dt={...dt,[mt]:{...dt[mt],...bt}},xt&&ft<=50&&(ft++,typeof xt=="object"&&(xt.placement&&(ot=xt.placement),xt.rects&&(ct=xt.rects===!0?await it.getElementRects({reference:_e,floating:_,strategy:rt}):xt.rects),{x:ut,y:st}=computeCoordsFromPlacement(ct,ot,lt)),ht=-1)}return{x:ut,y:st,placement:ot,strategy:rt,middlewareData:dt}};async function detectOverflow(_e,_){var et;_===void 0&&(_={});const{x:tt,y:rt,platform:nt,rects:it,elements:at,strategy:lt}=_e,{boundary:ct="clippingAncestors",rootBoundary:ut="viewport",elementContext:st="floating",altBoundary:ot=!1,padding:dt=0}=evaluate(_,_e),ft=getPaddingObject(dt),mt=at[ot?st==="floating"?"reference":"floating":st],gt=rectToClientRect(await nt.getClippingRect({element:(et=await(nt.isElement==null?void 0:nt.isElement(mt)))==null||et?mt:mt.contextElement||await(nt.getDocumentElement==null?void 0:nt.getDocumentElement(at.floating)),boundary:ct,rootBoundary:ut,strategy:lt})),yt=st==="floating"?{x:tt,y:rt,width:it.floating.width,height:it.floating.height}:it.reference,vt=await(nt.getOffsetParent==null?void 0:nt.getOffsetParent(at.floating)),bt=await(nt.isElement==null?void 0:nt.isElement(vt))?await(nt.getScale==null?void 0:nt.getScale(vt))||{x:1,y:1}:{x:1,y:1},xt=rectToClientRect(nt.convertOffsetParentRelativeRectToViewportRelativeRect?await nt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:at,rect:yt,offsetParent:vt,strategy:lt}):yt);return{top:(gt.top-xt.top+ft.top)/bt.y,bottom:(xt.bottom-gt.bottom+ft.bottom)/bt.y,left:(gt.left-xt.left+ft.left)/bt.x,right:(xt.right-gt.right+ft.right)/bt.x}}const arrow$1=_e=>({name:"arrow",options:_e,async fn(_){const{x:et,y:tt,placement:rt,rects:nt,platform:it,elements:at,middlewareData:lt}=_,{element:ct,padding:ut=0}=evaluate(_e,_)||{};if(ct==null)return{};const st=getPaddingObject(ut),ot={x:et,y:tt},dt=getAlignmentAxis(rt),ft=getAxisLength(dt),ht=await it.getDimensions(ct),mt=dt==="y",gt=mt?"top":"left",yt=mt?"bottom":"right",vt=mt?"clientHeight":"clientWidth",bt=nt.reference[ft]+nt.reference[dt]-ot[dt]-nt.floating[ft],xt=ot[dt]-nt.reference[dt],_t=await(it.getOffsetParent==null?void 0:it.getOffsetParent(ct));let St=_t?_t[vt]:0;(!St||!await(it.isElement==null?void 0:it.isElement(_t)))&&(St=at.floating[vt]||nt.floating[ft]);const wt=bt/2-xt/2,Et=St/2-ht[ft]/2-1,Tt=min$2(st[gt],Et),Ct=min$2(st[yt],Et),It=Tt,Pt=St-ht[ft]-Ct,At=St/2-ht[ft]/2+wt,kt=clamp$1(It,At,Pt),Rt=!lt.arrow&&getAlignment(rt)!=null&&At!==kt&&nt.reference[ft]/2-(At<It?Tt:Ct)-ht[ft]/2<0,$t=Rt?At<It?At-It:At-Pt:0;return{[dt]:ot[dt]+$t,data:{[dt]:kt,centerOffset:At-kt-$t,...Rt&&{alignmentOffset:$t}},reset:Rt}}}),flip$1=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn(_){var et,tt;const{placement:rt,middlewareData:nt,rects:it,initialPlacement:at,platform:lt,elements:ct}=_,{mainAxis:ut=!0,crossAxis:st=!0,fallbackPlacements:ot,fallbackStrategy:dt="bestFit",fallbackAxisSideDirection:ft="none",flipAlignment:ht=!0,...mt}=evaluate(_e,_);if((et=nt.arrow)!=null&&et.alignmentOffset)return{};const gt=getSide(rt),yt=getSideAxis(at),vt=getSide(at)===at,bt=await(lt.isRTL==null?void 0:lt.isRTL(ct.floating)),xt=ot||(vt||!ht?[getOppositePlacement(at)]:getExpandedPlacements(at)),_t=ft!=="none";!ot&&_t&&xt.push(...getOppositeAxisPlacements(at,ht,ft,bt));const St=[at,...xt],wt=await detectOverflow(_,mt),Et=[];let Tt=((tt=nt.flip)==null?void 0:tt.overflows)||[];if(ut&&Et.push(wt[gt]),st){const At=getAlignmentSides(rt,it,bt);Et.push(wt[At[0]],wt[At[1]])}if(Tt=[...Tt,{placement:rt,overflows:Et}],!Et.every(At=>At<=0)){var Ct,It;const At=(((Ct=nt.flip)==null?void 0:Ct.index)||0)+1,kt=St[At];if(kt)return{data:{index:At,overflows:Tt},reset:{placement:kt}};let Rt=(It=Tt.filter($t=>$t.overflows[0]<=0).sort(($t,Mt)=>$t.overflows[1]-Mt.overflows[1])[0])==null?void 0:It.placement;if(!Rt)switch(dt){case"bestFit":{var Pt;const $t=(Pt=Tt.filter(Mt=>{if(_t){const Nt=getSideAxis(Mt.placement);return Nt===yt||Nt==="y"}return!0}).map(Mt=>[Mt.placement,Mt.overflows.filter(Nt=>Nt>0).reduce((Nt,Dt)=>Nt+Dt,0)]).sort((Mt,Nt)=>Mt[1]-Nt[1])[0])==null?void 0:Pt[0];$t&&(Rt=$t);break}case"initialPlacement":Rt=at;break}if(rt!==Rt)return{reset:{placement:Rt}}}return{}}}};function getSideOffsets(_e,_){return{top:_e.top-_.height,right:_e.right-_.width,bottom:_e.bottom-_.height,left:_e.left-_.width}}function isAnySideFullyClipped(_e){return sides.some(_=>_e[_]>=0)}const hide$1=function(_e){return _e===void 0&&(_e={}),{name:"hide",options:_e,async fn(_){const{rects:et}=_,{strategy:tt="referenceHidden",...rt}=evaluate(_e,_);switch(tt){case"referenceHidden":{const nt=await detectOverflow(_,{...rt,elementContext:"reference"}),it=getSideOffsets(nt,et.reference);return{data:{referenceHiddenOffsets:it,referenceHidden:isAnySideFullyClipped(it)}}}case"escaped":{const nt=await detectOverflow(_,{...rt,altBoundary:!0}),it=getSideOffsets(nt,et.floating);return{data:{escapedOffsets:it,escaped:isAnySideFullyClipped(it)}}}default:return{}}}}};async function convertValueToCoords(_e,_){const{placement:et,platform:tt,elements:rt}=_e,nt=await(tt.isRTL==null?void 0:tt.isRTL(rt.floating)),it=getSide(et),at=getAlignment(et),lt=getSideAxis(et)==="y",ct=["left","top"].includes(it)?-1:1,ut=nt&&lt?-1:1,st=evaluate(_,_e);let{mainAxis:ot,crossAxis:dt,alignmentAxis:ft}=typeof st=="number"?{mainAxis:st,crossAxis:0,alignmentAxis:null}:{mainAxis:st.mainAxis||0,crossAxis:st.crossAxis||0,alignmentAxis:st.alignmentAxis};return at&&typeof ft=="number"&&(dt=at==="end"?ft*-1:ft),lt?{x:dt*ut,y:ot*ct}:{x:ot*ct,y:dt*ut}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn(_){var et,tt;const{x:rt,y:nt,placement:it,middlewareData:at}=_,lt=await convertValueToCoords(_,_e);return it===((et=at.offset)==null?void 0:et.placement)&&(tt=at.arrow)!=null&&tt.alignmentOffset?{}:{x:rt+lt.x,y:nt+lt.y,data:{...lt,placement:it}}}}},shift$1=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn(_){const{x:et,y:tt,placement:rt}=_,{mainAxis:nt=!0,crossAxis:it=!1,limiter:at={fn:mt=>{let{x:gt,y:yt}=mt;return{x:gt,y:yt}}},...lt}=evaluate(_e,_),ct={x:et,y:tt},ut=await detectOverflow(_,lt),st=getSideAxis(getSide(rt)),ot=getOppositeAxis(st);let dt=ct[ot],ft=ct[st];if(nt){const mt=ot==="y"?"top":"left",gt=ot==="y"?"bottom":"right",yt=dt+ut[mt],vt=dt-ut[gt];dt=clamp$1(yt,dt,vt)}if(it){const mt=st==="y"?"top":"left",gt=st==="y"?"bottom":"right",yt=ft+ut[mt],vt=ft-ut[gt];ft=clamp$1(yt,ft,vt)}const ht=at.fn({..._,[ot]:dt,[st]:ft});return{...ht,data:{x:ht.x-et,y:ht.y-tt,enabled:{[ot]:nt,[st]:it}}}}}},limitShift$1=function(_e){return _e===void 0&&(_e={}),{options:_e,fn(_){const{x:et,y:tt,placement:rt,rects:nt,middlewareData:it}=_,{offset:at=0,mainAxis:lt=!0,crossAxis:ct=!0}=evaluate(_e,_),ut={x:et,y:tt},st=getSideAxis(rt),ot=getOppositeAxis(st);let dt=ut[ot],ft=ut[st];const ht=evaluate(at,_),mt=typeof ht=="number"?{mainAxis:ht,crossAxis:0}:{mainAxis:0,crossAxis:0,...ht};if(lt){const vt=ot==="y"?"height":"width",bt=nt.reference[ot]-nt.floating[vt]+mt.mainAxis,xt=nt.reference[ot]+nt.reference[vt]-mt.mainAxis;dt<bt?dt=bt:dt>xt&&(dt=xt)}if(ct){var gt,yt;const vt=ot==="y"?"width":"height",bt=["top","left"].includes(getSide(rt)),xt=nt.reference[st]-nt.floating[vt]+(bt&&((gt=it.offset)==null?void 0:gt[st])||0)+(bt?0:mt.crossAxis),_t=nt.reference[st]+nt.reference[vt]+(bt?0:((yt=it.offset)==null?void 0:yt[st])||0)-(bt?mt.crossAxis:0);ft<xt?ft=xt:ft>_t&&(ft=_t)}return{[ot]:dt,[st]:ft}}}},size$1=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn(_){var et,tt;const{placement:rt,rects:nt,platform:it,elements:at}=_,{apply:lt=()=>{},...ct}=evaluate(_e,_),ut=await detectOverflow(_,ct),st=getSide(rt),ot=getAlignment(rt),dt=getSideAxis(rt)==="y",{width:ft,height:ht}=nt.floating;let mt,gt;st==="top"||st==="bottom"?(mt=st,gt=ot===(await(it.isRTL==null?void 0:it.isRTL(at.floating))?"start":"end")?"left":"right"):(gt=st,mt=ot==="end"?"top":"bottom");const yt=ht-ut.top-ut.bottom,vt=ft-ut.left-ut.right,bt=min$2(ht-ut[mt],yt),xt=min$2(ft-ut[gt],vt),_t=!_.middlewareData.shift;let St=bt,wt=xt;if((et=_.middlewareData.shift)!=null&&et.enabled.x&&(wt=vt),(tt=_.middlewareData.shift)!=null&&tt.enabled.y&&(St=yt),_t&&!ot){const Tt=max$3(ut.left,0),Ct=max$3(ut.right,0),It=max$3(ut.top,0),Pt=max$3(ut.bottom,0);dt?wt=ft-2*(Tt!==0||Ct!==0?Tt+Ct:max$3(ut.left,ut.right)):St=ht-2*(It!==0||Pt!==0?It+Pt:max$3(ut.top,ut.bottom))}await lt({..._,availableWidth:wt,availableHeight:St});const Et=await it.getDimensions(at.floating);return ft!==Et.width||ht!==Et.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(_e){return isNode$1(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var _;return(_e==null||(_=_e.ownerDocument)==null?void 0:_.defaultView)||window}function getDocumentElement(_e){var _;return(_=(isNode$1(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:_.documentElement}function isNode$1(_e){return hasWindow()?_e instanceof Node||_e instanceof getWindow(_e).Node:!1}function isElement$1(_e){return hasWindow()?_e instanceof Element||_e instanceof getWindow(_e).Element:!1}function isHTMLElement(_e){return hasWindow()?_e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement:!1}function isShadowRoot(_e){return!hasWindow()||typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:_,overflowX:et,overflowY:tt,display:rt}=getComputedStyle$1(_e);return/auto|scroll|overlay|hidden|clip/.test(_+tt+et)&&!["inline","contents"].includes(rt)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isTopLayer(_e){return[":popover-open",":modal"].some(_=>{try{return _e.matches(_)}catch{return!1}})}function isContainingBlock(_e){const _=isWebKit(),et=isElement$1(_e)?getComputedStyle$1(_e):_e;return["transform","translate","scale","rotate","perspective"].some(tt=>et[tt]?et[tt]!=="none":!1)||(et.containerType?et.containerType!=="normal":!1)||!_&&(et.backdropFilter?et.backdropFilter!=="none":!1)||!_&&(et.filter?et.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(tt=>(et.willChange||"").includes(tt))||["paint","layout","strict","content"].some(tt=>(et.contain||"").includes(tt))}function getContainingBlock(_e){let _=getParentNode$1(_e);for(;isHTMLElement(_)&&!isLastTraversableNode(_);){if(isContainingBlock(_))return _;if(isTopLayer(_))return null;_=getParentNode$1(_)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$1(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement$1(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.scrollX,scrollTop:_e.scrollY}}function getParentNode$1(_e){if(getNodeName(_e)==="html")return _e;const _=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot(_)?_.host:_}function getNearestOverflowAncestor(_e){const _=getParentNode$1(_e);return isLastTraversableNode(_)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement(_)&&isOverflowElement(_)?_:getNearestOverflowAncestor(_)}function getOverflowAncestors(_e,_,et){var tt;_===void 0&&(_=[]),et===void 0&&(et=!0);const rt=getNearestOverflowAncestor(_e),nt=rt===((tt=_e.ownerDocument)==null?void 0:tt.body),it=getWindow(rt);if(nt){const at=getFrameElement(it);return _.concat(it,it.visualViewport||[],isOverflowElement(rt)?rt:[],at&&et?getOverflowAncestors(at):[])}return _.concat(rt,getOverflowAncestors(rt,[],et))}function getFrameElement(_e){return _e.parent&&Object.getPrototypeOf(_e.parent)?_e.frameElement:null}function getCssDimensions(_e){const _=getComputedStyle$1(_e);let et=parseFloat(_.width)||0,tt=parseFloat(_.height)||0;const rt=isHTMLElement(_e),nt=rt?_e.offsetWidth:et,it=rt?_e.offsetHeight:tt,at=round$4(et)!==nt||round$4(tt)!==it;return at&&(et=nt,tt=it),{width:et,height:tt,$:at}}function unwrapElement(_e){return isElement$1(_e)?_e:_e.contextElement}function getScale(_e){const _=unwrapElement(_e);if(!isHTMLElement(_))return createCoords(1);const et=_.getBoundingClientRect(),{width:tt,height:rt,$:nt}=getCssDimensions(_);let it=(nt?round$4(et.width):et.width)/tt,at=(nt?round$4(et.height):et.height)/rt;return(!it||!Number.isFinite(it))&&(it=1),(!at||!Number.isFinite(at))&&(at=1),{x:it,y:at}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const _=getWindow(_e);return!isWebKit()||!_.visualViewport?noOffsets:{x:_.visualViewport.offsetLeft,y:_.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,_,et){return _===void 0&&(_=!1),!et||_&&et!==getWindow(_e)?!1:_}function getBoundingClientRect(_e,_,et,tt){_===void 0&&(_=!1),et===void 0&&(et=!1);const rt=_e.getBoundingClientRect(),nt=unwrapElement(_e);let it=createCoords(1);_&&(tt?isElement$1(tt)&&(it=getScale(tt)):it=getScale(_e));const at=shouldAddVisualOffsets(nt,et,tt)?getVisualOffsets(nt):createCoords(0);let lt=(rt.left+at.x)/it.x,ct=(rt.top+at.y)/it.y,ut=rt.width/it.x,st=rt.height/it.y;if(nt){const ot=getWindow(nt),dt=tt&&isElement$1(tt)?getWindow(tt):tt;let ft=ot,ht=getFrameElement(ft);for(;ht&&tt&&dt!==ft;){const mt=getScale(ht),gt=ht.getBoundingClientRect(),yt=getComputedStyle$1(ht),vt=gt.left+(ht.clientLeft+parseFloat(yt.paddingLeft))*mt.x,bt=gt.top+(ht.clientTop+parseFloat(yt.paddingTop))*mt.y;lt*=mt.x,ct*=mt.y,ut*=mt.x,st*=mt.y,lt+=vt,ct+=bt,ft=getWindow(ht),ht=getFrameElement(ft)}}return rectToClientRect({width:ut,height:st,x:lt,y:ct})}function getWindowScrollBarX(_e,_){const et=getNodeScroll(_e).scrollLeft;return _?_.left+et:getBoundingClientRect(getDocumentElement(_e)).left+et}function getHTMLOffset(_e,_,et){et===void 0&&(et=!1);const tt=_e.getBoundingClientRect(),rt=tt.left+_.scrollLeft-(et?0:getWindowScrollBarX(_e,tt)),nt=tt.top+_.scrollTop;return{x:rt,y:nt}}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:_,rect:et,offsetParent:tt,strategy:rt}=_e;const nt=rt==="fixed",it=getDocumentElement(tt),at=_?isTopLayer(_.floating):!1;if(tt===it||at&&nt)return et;let lt={scrollLeft:0,scrollTop:0},ct=createCoords(1);const ut=createCoords(0),st=isHTMLElement(tt);if((st||!st&&!nt)&&((getNodeName(tt)!=="body"||isOverflowElement(it))&&(lt=getNodeScroll(tt)),isHTMLElement(tt))){const dt=getBoundingClientRect(tt);ct=getScale(tt),ut.x=dt.x+tt.clientLeft,ut.y=dt.y+tt.clientTop}const ot=it&&!st&&!nt?getHTMLOffset(it,lt,!0):createCoords(0);return{width:et.width*ct.x,height:et.height*ct.y,x:et.x*ct.x-lt.scrollLeft*ct.x+ut.x+ot.x,y:et.y*ct.y-lt.scrollTop*ct.y+ut.y+ot.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getDocumentRect(_e){const _=getDocumentElement(_e),et=getNodeScroll(_e),tt=_e.ownerDocument.body,rt=max$3(_.scrollWidth,_.clientWidth,tt.scrollWidth,tt.clientWidth),nt=max$3(_.scrollHeight,_.clientHeight,tt.scrollHeight,tt.clientHeight);let it=-et.scrollLeft+getWindowScrollBarX(_e);const at=-et.scrollTop;return getComputedStyle$1(tt).direction==="rtl"&&(it+=max$3(_.clientWidth,tt.clientWidth)-rt),{width:rt,height:nt,x:it,y:at}}function getViewportRect(_e,_){const et=getWindow(_e),tt=getDocumentElement(_e),rt=et.visualViewport;let nt=tt.clientWidth,it=tt.clientHeight,at=0,lt=0;if(rt){nt=rt.width,it=rt.height;const ct=isWebKit();(!ct||ct&&_==="fixed")&&(at=rt.offsetLeft,lt=rt.offsetTop)}return{width:nt,height:it,x:at,y:lt}}function getInnerBoundingClientRect(_e,_){const et=getBoundingClientRect(_e,!0,_==="fixed"),tt=et.top+_e.clientTop,rt=et.left+_e.clientLeft,nt=isHTMLElement(_e)?getScale(_e):createCoords(1),it=_e.clientWidth*nt.x,at=_e.clientHeight*nt.y,lt=rt*nt.x,ct=tt*nt.y;return{width:it,height:at,x:lt,y:ct}}function getClientRectFromClippingAncestor(_e,_,et){let tt;if(_==="viewport")tt=getViewportRect(_e,et);else if(_==="document")tt=getDocumentRect(getDocumentElement(_e));else if(isElement$1(_))tt=getInnerBoundingClientRect(_,et);else{const rt=getVisualOffsets(_e);tt={x:_.x-rt.x,y:_.y-rt.y,width:_.width,height:_.height}}return rectToClientRect(tt)}function hasFixedPositionAncestor(_e,_){const et=getParentNode$1(_e);return et===_||!isElement$1(et)||isLastTraversableNode(et)?!1:getComputedStyle$1(et).position==="fixed"||hasFixedPositionAncestor(et,_)}function getClippingElementAncestors(_e,_){const et=_.get(_e);if(et)return et;let tt=getOverflowAncestors(_e,[],!1).filter(at=>isElement$1(at)&&getNodeName(at)!=="body"),rt=null;const nt=getComputedStyle$1(_e).position==="fixed";let it=nt?getParentNode$1(_e):_e;for(;isElement$1(it)&&!isLastTraversableNode(it);){const at=getComputedStyle$1(it),lt=isContainingBlock(it);!lt&&at.position==="fixed"&&(rt=null),(nt?!lt&&!rt:!lt&&at.position==="static"&&!!rt&&["absolute","fixed"].includes(rt.position)||isOverflowElement(it)&&!lt&&hasFixedPositionAncestor(_e,it))?tt=tt.filter(ut=>ut!==it):rt=at,it=getParentNode$1(it)}return _.set(_e,tt),tt}function getClippingRect(_e){let{element:_,boundary:et,rootBoundary:tt,strategy:rt}=_e;const it=[...et==="clippingAncestors"?isTopLayer(_)?[]:getClippingElementAncestors(_,this._c):[].concat(et),tt],at=it[0],lt=it.reduce((ct,ut)=>{const st=getClientRectFromClippingAncestor(_,ut,rt);return ct.top=max$3(st.top,ct.top),ct.right=min$2(st.right,ct.right),ct.bottom=min$2(st.bottom,ct.bottom),ct.left=max$3(st.left,ct.left),ct},getClientRectFromClippingAncestor(_,at,rt));return{width:lt.right-lt.left,height:lt.bottom-lt.top,x:lt.left,y:lt.top}}function getDimensions(_e){const{width:_,height:et}=getCssDimensions(_e);return{width:_,height:et}}function getRectRelativeToOffsetParent(_e,_,et){const tt=isHTMLElement(_),rt=getDocumentElement(_),nt=et==="fixed",it=getBoundingClientRect(_e,!0,nt,_);let at={scrollLeft:0,scrollTop:0};const lt=createCoords(0);if(tt||!tt&&!nt)if((getNodeName(_)!=="body"||isOverflowElement(rt))&&(at=getNodeScroll(_)),tt){const ot=getBoundingClientRect(_,!0,nt,_);lt.x=ot.x+_.clientLeft,lt.y=ot.y+_.clientTop}else rt&&(lt.x=getWindowScrollBarX(rt));const ct=rt&&!tt&&!nt?getHTMLOffset(rt,at):createCoords(0),ut=it.left+at.scrollLeft-lt.x-ct.x,st=it.top+at.scrollTop-lt.y-ct.y;return{x:ut,y:st,width:it.width,height:it.height}}function isStaticPositioned(_e){return getComputedStyle$1(_e).position==="static"}function getTrueOffsetParent(_e,_){if(!isHTMLElement(_e)||getComputedStyle$1(_e).position==="fixed")return null;if(_)return _(_e);let et=_e.offsetParent;return getDocumentElement(_e)===et&&(et=et.ownerDocument.body),et}function getOffsetParent(_e,_){const et=getWindow(_e);if(isTopLayer(_e))return et;if(!isHTMLElement(_e)){let rt=getParentNode$1(_e);for(;rt&&!isLastTraversableNode(rt);){if(isElement$1(rt)&&!isStaticPositioned(rt))return rt;rt=getParentNode$1(rt)}return et}let tt=getTrueOffsetParent(_e,_);for(;tt&&isTableElement(tt)&&isStaticPositioned(tt);)tt=getTrueOffsetParent(tt,_);return tt&&isLastTraversableNode(tt)&&isStaticPositioned(tt)&&!isContainingBlock(tt)?et:tt||getContainingBlock(_e)||et}const getElementRects=async function(_e){const _=this.getOffsetParent||getOffsetParent,et=this.getDimensions,tt=await et(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await _(_e.floating),_e.strategy),floating:{x:0,y:0,width:tt.width,height:tt.height}}};function isRTL(_e){return getComputedStyle$1(_e).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function observeMove(_e,_){let et=null,tt;const rt=getDocumentElement(_e);function nt(){var at;clearTimeout(tt),(at=et)==null||at.disconnect(),et=null}function it(at,lt){at===void 0&&(at=!1),lt===void 0&&(lt=1),nt();const{left:ct,top:ut,width:st,height:ot}=_e.getBoundingClientRect();if(at||_(),!st||!ot)return;const dt=floor$2(ut),ft=floor$2(rt.clientWidth-(ct+st)),ht=floor$2(rt.clientHeight-(ut+ot)),mt=floor$2(ct),yt={rootMargin:-dt+"px "+-ft+"px "+-ht+"px "+-mt+"px",threshold:max$3(0,min$2(1,lt))||1};let vt=!0;function bt(xt){const _t=xt[0].intersectionRatio;if(_t!==lt){if(!vt)return it();_t?it(!1,_t):tt=setTimeout(()=>{it(!1,1e-7)},1e3)}vt=!1}try{et=new IntersectionObserver(bt,{...yt,root:rt.ownerDocument})}catch{et=new IntersectionObserver(bt,yt)}et.observe(_e)}return it(!0),nt}function autoUpdate(_e,_,et,tt){tt===void 0&&(tt={});const{ancestorScroll:rt=!0,ancestorResize:nt=!0,elementResize:it=typeof ResizeObserver=="function",layoutShift:at=typeof IntersectionObserver=="function",animationFrame:lt=!1}=tt,ct=unwrapElement(_e),ut=rt||nt?[...ct?getOverflowAncestors(ct):[],...getOverflowAncestors(_)]:[];ut.forEach(gt=>{rt&&gt.addEventListener("scroll",et,{passive:!0}),nt&&gt.addEventListener("resize",et)});const st=ct&&at?observeMove(ct,et):null;let ot=-1,dt=null;it&&(dt=new ResizeObserver(gt=>{let[yt]=gt;yt&&yt.target===ct&&dt&&(dt.unobserve(_),cancelAnimationFrame(ot),ot=requestAnimationFrame(()=>{var vt;(vt=dt)==null||vt.observe(_)})),et()}),ct&&!lt&&dt.observe(ct),dt.observe(_));let ft,ht=lt?getBoundingClientRect(_e):null;lt&&mt();function mt(){const gt=getBoundingClientRect(_e);ht&&(gt.x!==ht.x||gt.y!==ht.y||gt.width!==ht.width||gt.height!==ht.height)&&et(),ht=gt,ft=requestAnimationFrame(mt)}return et(),()=>{var gt;ut.forEach(yt=>{rt&&yt.removeEventListener("scroll",et),nt&&yt.removeEventListener("resize",et)}),st==null||st(),(gt=dt)==null||gt.disconnect(),dt=null,lt&&cancelAnimationFrame(ft)}}const offset$1=offset$2,shift=shift$1,flip=flip$1,size=size$1,hide=hide$1,arrow=arrow$1,limitShift=limitShift$1,computePosition=(_e,_,et)=>{const tt=new Map,rt={platform,...et},nt={...rt.platform,_c:tt};return computePosition$1(_e,_,{...rt,platform:nt})};function createDOMRect(_e=0,_=0,et=0,tt=0){if(typeof DOMRect=="function")return new DOMRect(_e,_,et,tt);const rt={x:_e,y:_,width:et,height:tt,top:_,right:_e+et,bottom:_+tt,left:_e};return{...rt,toJSON:()=>rt}}function getDOMRect(_e){if(!_e)return createDOMRect();const{x:_,y:et,width:tt,height:rt}=_e;return createDOMRect(_,et,tt,rt)}function getAnchorElement(_e,_){return{contextElement:isHTMLElement$1(_e)?_e:void 0,getBoundingClientRect:()=>{const et=_e,tt=_==null?void 0:_(et);return tt||!et?getDOMRect(tt):et.getBoundingClientRect()}}}var toVar=_e=>({variable:_e,reference:`var(${_e})`}),cssVars={arrowSize:toVar("--arrow-size"),arrowSizeHalf:toVar("--arrow-size-half"),arrowBg:toVar("--arrow-background"),transformOrigin:toVar("--transform-origin"),arrowOffset:toVar("--arrow-offset")},getTransformOrigin=_e=>({top:"bottom center","top-start":_e?`${_e.x}px bottom`:"left bottom","top-end":_e?`${_e.x}px bottom`:"right bottom",bottom:"top center","bottom-start":_e?`${_e.x}px top`:"top left","bottom-end":_e?`${_e.x}px top`:"top right",left:"right center","left-start":_e?`right ${_e.y}px`:"right top","left-end":_e?`right ${_e.y}px`:"right bottom",right:"left center","right-start":_e?`left ${_e.y}px`:"left top","right-end":_e?`left ${_e.y}px`:"left bottom"}),transformOriginMiddleware={name:"transformOrigin",fn({placement:_e,elements:_,middlewareData:et}){const{arrow:tt}=et,rt=getTransformOrigin(tt)[_e],{floating:nt}=_;return nt.style.setProperty(cssVars.transformOrigin.variable,rt),{data:{transformOrigin:rt}}}},rectMiddleware={name:"rects",fn({rects:_e}){return{data:_e}}},shiftArrowMiddleware=_e=>{if(_e)return{name:"shiftArrow",fn({placement:_,middlewareData:et}){if(!et.arrow)return{};const{x:tt,y:rt}=et.arrow,nt=_.split("-")[0];return Object.assign(_e.style,{left:tt!=null?`${tt}px`:"",top:rt!=null?`${rt}px`:"",[nt]:`calc(100% + ${cssVars.arrowOffset.reference})`}),{}}}};function getPlacementDetails(_e){const[_,et]=_e.split("-");return{side:_,align:et,hasAlign:et!=null}}var defaultOptions$1={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function roundByDpr(_e,_){const et=_e.devicePixelRatio||1;return Math.round(_*et)/et}function getBoundaryMiddleware(_e){return runIfFn(_e.boundary)}function getArrowMiddleware(_e,_){if(_e)return arrow({element:_e,padding:_.arrowPadding})}function getOffsetMiddleware(_e,_){if(!isNull(_.offset??_.gutter))return offset$1(({placement:et})=>{var ct,ut;const tt=((_e==null?void 0:_e.clientHeight)||0)/2,rt=((ct=_.offset)==null?void 0:ct.mainAxis)??_.gutter,nt=typeof rt=="number"?rt+tt:rt??tt,{hasAlign:it}=getPlacementDetails(et),at=it?void 0:_.shift,lt=((ut=_.offset)==null?void 0:ut.crossAxis)??at;return compact$2({crossAxis:lt,mainAxis:nt,alignmentAxis:_.shift})})}function getFlipMiddleware(_e){if(_e.flip)return flip({boundary:getBoundaryMiddleware(_e),padding:_e.overflowPadding,fallbackPlacements:_e.flip===!0?void 0:_e.flip})}function getShiftMiddleware(_e){if(!(!_e.slide&&!_e.overlap))return shift({boundary:getBoundaryMiddleware(_e),mainAxis:_e.slide,crossAxis:_e.overlap,padding:_e.overflowPadding,limiter:limitShift()})}function getSizeMiddleware(_e){return size({padding:_e.overflowPadding,apply({elements:_,rects:et,availableHeight:tt,availableWidth:rt}){const nt=_.floating,it=Math.round(et.reference.width);rt=Math.floor(rt),tt=Math.floor(tt),nt.style.setProperty("--reference-width",`${it}px`),nt.style.setProperty("--available-width",`${rt}px`),nt.style.setProperty("--available-height",`${tt}px`)}})}function hideWhenDetachedMiddleware(_e){var _;if(_e.hideWhenDetached)return hide({strategy:"referenceHidden",boundary:((_=_e.boundary)==null?void 0:_.call(_e))??"clippingAncestors"})}function getAutoUpdateOptions(_e){return _e?_e===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:_e:{}}function getPlacementImpl(_e,_,et={}){const tt=getAnchorElement(_e,et.getAnchorRect);if(!_||!tt)return;const rt=Object.assign({},defaultOptions$1,et),nt=_.querySelector("[data-part=arrow]"),it=[getOffsetMiddleware(nt,rt),getFlipMiddleware(rt),getShiftMiddleware(rt),getArrowMiddleware(nt,rt),shiftArrowMiddleware(nt),transformOriginMiddleware,getSizeMiddleware(rt),hideWhenDetachedMiddleware(rt),rectMiddleware],{placement:at,strategy:lt,onComplete:ct,onPositioned:ut}=rt,st=async()=>{var bt;if(!tt||!_)return;const ht=await computePosition(tt,_,{placement:at,middleware:it,strategy:lt});ct==null||ct(ht),ut==null||ut({placed:!0});const mt=getWindow$1(_),gt=roundByDpr(mt,ht.x),yt=roundByDpr(mt,ht.y);_.style.setProperty("--x",`${gt}px`),_.style.setProperty("--y",`${yt}px`),rt.hideWhenDetached&&(((bt=ht.middlewareData.hide)==null?void 0:bt.referenceHidden)?(_.style.setProperty("visibility","hidden"),_.style.setProperty("pointer-events","none")):(_.style.removeProperty("visibility"),_.style.removeProperty("pointer-events")));const vt=_.firstElementChild;if(vt){const xt=getComputedStyle$2(vt);_.style.setProperty("--z-index",xt.zIndex)}},ot=async()=>{et.updatePosition?(await et.updatePosition({updatePosition:st}),ut==null||ut({placed:!0})):await st()},dt=getAutoUpdateOptions(rt.listeners),ft=rt.listeners?autoUpdate(tt,_,ot,dt):noop$5;return ot(),()=>{ft==null||ft(),ut==null||ut({placed:!1})}}function getPlacement(_e,_,et={}){const{defer:tt,...rt}=et,nt=tt?raf$2:at=>at(),it=[];return it.push(nt(()=>{const at=typeof _e=="function"?_e():_e,lt=typeof _=="function"?_():_;it.push(getPlacementImpl(at,lt,rt))})),()=>{it.forEach(at=>at==null?void 0:at())}}var ARROW_FLOATING_STYLE={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function getPlacementStyles(_e={}){const{placement:_,sameWidth:et,fitViewport:tt,strategy:rt="absolute"}=_e;return{arrow:{position:"absolute",width:cssVars.arrowSize.reference,height:cssVars.arrowSize.reference,[cssVars.arrowSizeHalf.variable]:`calc(${cssVars.arrowSize.reference} / 2)`,[cssVars.arrowOffset.variable]:`calc(${cssVars.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:_?ARROW_FLOATING_STYLE[_.split("-")[0]]:void 0,background:cssVars.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:rt,isolation:"isolate",minWidth:et?void 0:"max-content",width:et?"var(--reference-width)":void 0,maxWidth:tt?"var(--available-width)":void 0,maxHeight:tt?"var(--available-height)":void 0,top:"0px",left:"0px",transform:_?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function getWindowFrames(_e){const _={each(et){var tt;for(let rt=0;rt<((tt=_e.frames)==null?void 0:tt.length);rt+=1){const nt=_e.frames[rt];nt&&et(nt)}},addEventListener(et,tt,rt){return _.each(nt=>{try{nt.document.addEventListener(et,tt,rt)}catch{}}),()=>{try{_.removeEventListener(et,tt,rt)}catch{}}},removeEventListener(et,tt,rt){_.each(nt=>{try{nt.document.removeEventListener(et,tt,rt)}catch{}})}};return _}function getParentWindow(_e){const _=_e.frameElement!=null?_e.parent:null;return{addEventListener:(et,tt,rt)=>{try{_==null||_.addEventListener(et,tt,rt)}catch{}return()=>{try{_==null||_.removeEventListener(et,tt,rt)}catch{}}},removeEventListener:(et,tt,rt)=>{try{_==null||_.removeEventListener(et,tt,rt)}catch{}}}}var POINTER_OUTSIDE_EVENT="pointerdown.outside",FOCUS_OUTSIDE_EVENT="focus.outside";function isComposedPathFocusable(_e){for(const _ of _e)if(isHTMLElement$1(_)&&isFocusable(_))return!0;return!1}var isPointerEvent=_e=>"clientY"in _e;function isEventPointWithin(_e,_){if(!isPointerEvent(_)||!_e)return!1;const et=_e.getBoundingClientRect();return et.width===0||et.height===0?!1:et.top<=_.clientY&&_.clientY<=et.top+et.height&&et.left<=_.clientX&&_.clientX<=et.left+et.width}function isPointInRect(_e,_){return _e.y<=_.y&&_.y<=_e.y+_e.height&&_e.x<=_.x&&_.x<=_e.x+_e.width}function isEventWithinScrollbar(_e,_){if(!_||!isPointerEvent(_e))return!1;const et=_.scrollHeight>_.clientHeight,tt=et&&_e.clientX>_.offsetLeft+_.clientWidth,rt=_.scrollWidth>_.clientWidth,nt=rt&&_e.clientY>_.offsetTop+_.clientHeight,it={x:_.offsetLeft,y:_.offsetTop,width:_.clientWidth+(et?16:0),height:_.clientHeight+(rt?16:0)},at={x:_e.clientX,y:_e.clientY};return isPointInRect(it,at)?tt||nt:!1}function trackInteractOutsideImpl(_e,_){const{exclude:et,onFocusOutside:tt,onPointerDownOutside:rt,onInteractOutside:nt,defer:it}=_;if(!_e)return;const at=getDocument(_e),lt=getWindow$1(_e),ct=getWindowFrames(lt),ut=getParentWindow(lt);function st(gt){const yt=getEventTarget(gt);if(!isHTMLElement$1(yt)||!yt.isConnected||contains$1(_e,yt)||isEventPointWithin(_e,gt))return!1;const vt=at.querySelector(`[aria-controls="${_e.id}"]`);if(vt){const xt=getNearestOverflowAncestor$1(vt);if(isEventWithinScrollbar(gt,xt))return!1}const bt=getNearestOverflowAncestor$1(_e);return isEventWithinScrollbar(gt,bt)?!1:!(et!=null&&et(yt))}const ot=new Set;function dt(gt){function yt(){var xt;const vt=it?raf$2:_t=>_t(),bt=((xt=gt.composedPath)==null?void 0:xt.call(gt))??[gt.target];vt(()=>{if(!(!_e||!st(gt))){if(rt||nt){const _t=callAll(rt,nt);_e.addEventListener(POINTER_OUTSIDE_EVENT,_t,{once:!0})}fireCustomEvent(_e,POINTER_OUTSIDE_EVENT,{bubbles:!1,cancelable:!0,detail:{originalEvent:gt,contextmenu:isContextMenuEvent(gt),focusable:isComposedPathFocusable(bt)}})}})}gt.pointerType==="touch"?(ot.forEach(vt=>vt()),ot.add(addDomEvent(at,"click",yt,{once:!0})),ot.add(ut.addEventListener("click",yt,{once:!0})),ot.add(ct.addEventListener("click",yt,{once:!0}))):yt()}const ft=new Set,ht=setTimeout(()=>{ft.add(addDomEvent(at,"pointerdown",dt,!0)),ft.add(ut.addEventListener("pointerdown",dt,!0)),ft.add(ct.addEventListener("pointerdown",dt,!0))},0);function mt(gt){(it?raf$2:vt=>vt())(()=>{if(!(!_e||!st(gt))){if(tt||nt){const vt=callAll(tt,nt);_e.addEventListener(FOCUS_OUTSIDE_EVENT,vt,{once:!0})}fireCustomEvent(_e,FOCUS_OUTSIDE_EVENT,{bubbles:!1,cancelable:!0,detail:{originalEvent:gt,contextmenu:!1,focusable:isFocusable(getEventTarget(gt))}})}})}return ft.add(addDomEvent(at,"focusin",mt,!0)),ft.add(ut.addEventListener("focusin",mt,!0)),ft.add(ct.addEventListener("focusin",mt,!0)),()=>{clearTimeout(ht),ot.forEach(gt=>gt()),ft.forEach(gt=>gt())}}function trackInteractOutside(_e,_){const{defer:et}=_,tt=et?raf$2:nt=>nt(),rt=[];return rt.push(tt(()=>{const nt=typeof _e=="function"?_e():_e;rt.push(trackInteractOutsideImpl(nt,_))})),()=>{rt.forEach(nt=>nt==null?void 0:nt())}}function fireCustomEvent(_e,_,et){const tt=_e.ownerDocument.defaultView||window,rt=new tt.CustomEvent(_,et);return _e.dispatchEvent(rt)}function trackEscapeKeydown(_e,_){const et=tt=>{tt.key==="Escape"&&(tt.isComposing||_==null||_(tt))};return addDomEvent(getDocument(_e),"keydown",et,{capture:!0})}var layerStack={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(_e=>_e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(_e){var tt;const _=this.indexOf(_e),et=this.topMostPointerBlockingLayer()?this.indexOf((tt=this.topMostPointerBlockingLayer())==null?void 0:tt.node):-1;return _<et},isTopMost(_e){const _=this.layers[this.count()-1];return(_==null?void 0:_.node)===_e},getNestedLayers(_e){return Array.from(this.layers).slice(this.indexOf(_e)+1)},isInNestedLayer(_e,_){return this.getNestedLayers(_e).some(et=>contains$1(et.node,_))},isInBranch(_e){return Array.from(this.branches).some(_=>contains$1(_,_e))},add(_e){const _=this.layers.push(_e);_e.node.style.setProperty("--layer-index",`${_}`)},addBranch(_e){this.branches.push(_e)},remove(_e){const _=this.indexOf(_e);_<0||(_<this.count()-1&&this.getNestedLayers(_e).forEach(tt=>tt.dismiss()),this.layers.splice(_,1),_e.style.removeProperty("--layer-index"))},removeBranch(_e){const _=this.branches.indexOf(_e);_>=0&&this.branches.splice(_,1)},indexOf(_e){return this.layers.findIndex(_=>_.node===_e)},dismiss(_e){var _;(_=this.layers[this.indexOf(_e)])==null||_.dismiss()},clear(){this.remove(this.layers[0].node)}},originalBodyPointerEvents;function assignPointerEventToLayers(){layerStack.layers.forEach(({node:_e})=>{_e.style.pointerEvents=layerStack.isBelowPointerBlockingLayer(_e)?"none":"auto"})}function clearPointerEvent(_e){_e.style.pointerEvents=""}function disablePointerEventsOutside(_e,_){const et=getDocument(_e),tt=[];if(layerStack.hasPointerBlockingLayer()&&!et.body.hasAttribute("data-inert")&&(originalBodyPointerEvents=document.body.style.pointerEvents,queueMicrotask(()=>{et.body.style.pointerEvents="none",et.body.setAttribute("data-inert","")})),_){const rt=waitForElements(_,nt=>{tt.push(setStyle(nt,{pointerEvents:"auto"}))});tt.push(rt)}return()=>{layerStack.hasPointerBlockingLayer()||(queueMicrotask(()=>{et.body.style.pointerEvents=originalBodyPointerEvents,et.body.removeAttribute("data-inert"),et.body.style.length===0&&et.body.removeAttribute("style")}),tt.forEach(rt=>rt()))}}function trackDismissableElementImpl(_e,_){if(!_e){warn("[@zag-js/dismissable] node is `null` or `undefined`");return}const{onDismiss:et,pointerBlocking:tt,exclude:rt,debug:nt}=_,it={dismiss:et,node:_e,pointerBlocking:tt};layerStack.add(it),assignPointerEventToLayers();function at(ot){var ft,ht;const dt=getEventTarget(ot.detail.originalEvent);layerStack.isBelowPointerBlockingLayer(_e)||layerStack.isInBranch(dt)||((ft=_.onPointerDownOutside)==null||ft.call(_,ot),(ht=_.onInteractOutside)==null||ht.call(_,ot),!ot.defaultPrevented&&(nt&&console.log("onPointerDownOutside:",ot.detail.originalEvent),et==null||et()))}function lt(ot){var ft,ht;const dt=getEventTarget(ot.detail.originalEvent);layerStack.isInBranch(dt)||((ft=_.onFocusOutside)==null||ft.call(_,ot),(ht=_.onInteractOutside)==null||ht.call(_,ot),!ot.defaultPrevented&&(nt&&console.log("onFocusOutside:",ot.detail.originalEvent),et==null||et()))}function ct(ot){var dt;layerStack.isTopMost(_e)&&((dt=_.onEscapeKeyDown)==null||dt.call(_,ot),!ot.defaultPrevented&&et&&(ot.preventDefault(),et()))}function ut(ot){var mt;if(!_e)return!1;const dt=typeof rt=="function"?rt():rt,ft=Array.isArray(dt)?dt:[dt],ht=(mt=_.persistentElements)==null?void 0:mt.map(gt=>gt()).filter(isHTMLElement$1);return ht&&ft.push(...ht),ft.some(gt=>contains$1(gt,ot))||layerStack.isInNestedLayer(_e,ot)}const st=[tt?disablePointerEventsOutside(_e,_.persistentElements):void 0,trackEscapeKeydown(_e,ct),trackInteractOutside(_e,{exclude:ut,onFocusOutside:lt,onPointerDownOutside:at,defer:_.defer})];return()=>{layerStack.remove(_e),assignPointerEventToLayers(),clearPointerEvent(_e),st.forEach(ot=>ot==null?void 0:ot())}}function trackDismissableElement(_e,_){const{defer:et}=_,tt=et?raf$2:nt=>nt(),rt=[];return rt.push(tt(()=>{const nt=isFunction$1(_e)?_e():_e;rt.push(trackDismissableElementImpl(nt,_))})),()=>{tt(()=>{rt.forEach(nt=>nt==null?void 0:nt())})}}function trackDismissableBranch(_e,_={}){const{defer:et}=_,tt=et?raf$2:nt=>nt(),rt=[];return rt.push(tt(()=>{const nt=isFunction$1(_e)?_e():_e;if(!nt){warn("[@zag-js/dismissable] branch node is `null` or `undefined`");return}layerStack.addBranch(nt),rt.push(()=>{layerStack.removeBranch(nt)})})),()=>{tt(()=>{rt.forEach(nt=>nt==null?void 0:nt())})}}var anatomy$k=createAnatomy("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);anatomy$k.build();var dom$j=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`color-picker:${_e.id}`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`color-picker:${_e.id}:label`},getHiddenInputId:_e=>{var _;return((_=_e.ids)==null?void 0:_.hiddenInput)??`color-picker:${_e.id}:hidden-input`},getControlId:_e=>{var _;return((_=_e.ids)==null?void 0:_.control)??`color-picker:${_e.id}:control`},getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`color-picker:${_e.id}:trigger`},getContentId:_e=>{var _;return((_=_e.ids)==null?void 0:_.content)??`color-picker:${_e.id}:content`},getPositionerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.positioner)??`color-picker:${_e.id}:positioner`},getFormatSelectId:_e=>{var _;return((_=_e.ids)==null?void 0:_.formatSelect)??`color-picker:${_e.id}:format-select`},getAreaId:_e=>{var _;return((_=_e.ids)==null?void 0:_.area)??`color-picker:${_e.id}:area`},getAreaGradientId:_e=>{var _;return((_=_e.ids)==null?void 0:_.areaGradient)??`color-picker:${_e.id}:area-gradient`},getAreaThumbId:_e=>{var _;return((_=_e.ids)==null?void 0:_.areaThumb)??`color-picker:${_e.id}:area-thumb`},getChannelSliderTrackId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.channelSliderTrack)==null?void 0:tt.call(et,_))??`color-picker:${_e.id}:slider-track:${_}`},getChannelSliderThumbId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.channelSliderThumb)==null?void 0:tt.call(et,_))??`color-picker:${_e.id}:slider-thumb:${_}`},getContentEl:_e=>dom$j.getById(_e,dom$j.getContentId(_e)),getAreaThumbEl:_e=>dom$j.getById(_e,dom$j.getAreaThumbId(_e)),getChannelSliderThumbEl:(_e,_)=>dom$j.getById(_e,dom$j.getChannelSliderThumbId(_e,_)),getChannelInputEl:(_e,_)=>{const et=`input[data-channel="${_}"]`;return[...queryAll(dom$j.getContentEl(_e),et),...queryAll(dom$j.getControlEl(_e),et)]},getFormatSelectEl:_e=>dom$j.getById(_e,dom$j.getFormatSelectId(_e)),getHiddenInputEl:_e=>dom$j.getById(_e,dom$j.getHiddenInputId(_e)),getAreaEl:_e=>dom$j.getById(_e,dom$j.getAreaId(_e)),getAreaValueFromPoint(_e,_){const et=dom$j.getAreaEl(_e);if(!et)return;const{percent:tt}=getRelativePoint(_,et);return tt},getControlEl:_e=>dom$j.getById(_e,dom$j.getControlId(_e)),getTriggerEl:_e=>dom$j.getById(_e,dom$j.getTriggerId(_e)),getPositionerEl:_e=>dom$j.getById(_e,dom$j.getPositionerId(_e)),getChannelSliderTrackEl:(_e,_)=>dom$j.getById(_e,dom$j.getChannelSliderTrackId(_e,_)),getChannelSliderValueFromPoint(_e,_,et){const tt=dom$j.getChannelSliderTrackEl(_e,et);if(!tt)return;const{percent:rt}=getRelativePoint(_,tt);return rt},getChannelInputEls:_e=>[...queryAll(dom$j.getContentEl(_e),"input[data-channel]"),...queryAll(dom$j.getControlEl(_e),"input[data-channel]")]});const[RenderStrategyPropsProvider,useRenderStrategyPropsContext]=createContext({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),splitRenderStrategyProps=_e=>createSplitProps()(_e,["lazyMount","unmountOnExit"]),[DialogProvider,useDialogContext]=createContext({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),DialogBackdrop=reactExports.forwardRef((_e,_)=>{const et=useDialogContext(),tt=useRenderStrategyPropsContext(),rt=usePresence({...tt,present:et.open}),nt=mergeProps$1(et.getBackdropProps(),rt.getPresenceProps(),_e);return rt.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...nt,ref:composeRefs(rt.ref,_)})});DialogBackdrop.displayName="DialogBackdrop";const DialogCloseTrigger=reactExports.forwardRef((_e,_)=>{const et=useDialogContext(),tt=mergeProps$1(et.getCloseTriggerProps(),_e);return jsxRuntimeExports.jsx(ark.button,{...tt,ref:_})});DialogCloseTrigger.displayName="DialogCloseTrigger";const DialogContent=reactExports.forwardRef((_e,_)=>{const et=useDialogContext(),tt=usePresenceContext(),rt=mergeProps$1(et.getContentProps(),tt.getPresenceProps(),_e);return tt.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...rt,ref:composeRefs(tt.ref,_)})});DialogContent.displayName="DialogContent";const DialogDescription=reactExports.forwardRef((_e,_)=>{const et=useDialogContext(),tt=mergeProps$1(et.getDescriptionProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});DialogDescription.displayName="DialogDescription";const DialogPositioner=reactExports.forwardRef((_e,_)=>{const et=useDialogContext(),tt=mergeProps$1(et.getPositionerProps(),_e);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});DialogPositioner.displayName="DialogPositioner";var counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=_e=>_e&&(_e.host||unwrapHost(_e.parentNode)),correctTargets=(_e,_)=>_.map(et=>{if(_e.contains(et))return et;const tt=unwrapHost(et);return tt&&_e.contains(tt)?tt:(console.error("[zag-js > ariaHidden] target",et,"in not contained inside",_e,". Doing nothing"),null)}).filter(et=>!!et),isIgnoredNode=_e=>_e.localName==="next-route-announcer"||_e.localName==="script"||_e.hasAttribute("aria-live")?!0:_e.matches("[data-live-announcer]"),walkTreeOutside=(_e,_)=>{const{parentNode:et,markerName:tt,controlAttribute:rt}=_,nt=correctTargets(et,Array.isArray(_e)?_e:[_e]);markerMap[tt]||(markerMap[tt]=new WeakMap);const it=markerMap[tt],at=[],lt=new Set,ct=new Set(nt),ut=ot=>{!ot||lt.has(ot)||(lt.add(ot),ut(ot.parentNode))};nt.forEach(ut);const st=ot=>{!ot||ct.has(ot)||Array.prototype.forEach.call(ot.children,dt=>{if(lt.has(dt))st(dt);else try{if(isIgnoredNode(dt))return;const ft=dt.getAttribute(rt),ht=ft!==null&&ft!=="false",mt=(counterMap.get(dt)||0)+1,gt=(it.get(dt)||0)+1;counterMap.set(dt,mt),it.set(dt,gt),at.push(dt),mt===1&&ht&&uncontrolledNodes.set(dt,!0),gt===1&&dt.setAttribute(tt,""),ht||dt.setAttribute(rt,"")}catch(ft){console.error("[zag-js > ariaHidden] cannot operate on ",dt,ft)}})};return st(et),lt.clear(),lockCount++,()=>{at.forEach(ot=>{const dt=counterMap.get(ot)-1,ft=it.get(ot)-1;counterMap.set(ot,dt),it.set(ot,ft),dt||(uncontrolledNodes.has(ot)||ot.removeAttribute(rt),uncontrolledNodes.delete(ot)),ft||ot.removeAttribute(tt)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},getParentNode=_e=>(Array.isArray(_e)?_e[0]:_e).ownerDocument.body,hideOthers=(_e,_=getParentNode(_e),et="data-aria-hidden")=>{if(_)return walkTreeOutside(_e,{parentNode:_,markerName:et,controlAttribute:"aria-hidden"})},raf$1=_e=>{const _=requestAnimationFrame(()=>_e());return()=>cancelAnimationFrame(_)};function ariaHidden(_e,_={}){const{defer:et=!0}=_,tt=et?raf$1:nt=>nt(),rt=[];return rt.push(tt(()=>{const it=(typeof _e=="function"?_e():_e).filter(Boolean);it.length!==0&&rt.push(hideOthers(it))})),()=>{rt.forEach(nt=>nt==null?void 0:nt())}}var __defProp$2=Object.defineProperty,__defNormalProp$2=(_e,_,et)=>_ in _e?__defProp$2(_e,_,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[_]=et,__publicField$2=(_e,_,et)=>__defNormalProp$2(_e,typeof _!="symbol"?_+"":_,et),activeFocusTraps={activateTrap(_e,_){if(_e.length>0){const tt=_e[_e.length-1];tt!==_&&tt.pause()}const et=_e.indexOf(_);et===-1||_e.splice(et,1),_e.push(_)},deactivateTrap(_e,_){const et=_e.indexOf(_);et!==-1&&_e.splice(et,1),_e.length>0&&_e[_e.length-1].unpause()}},sharedTrapStack=[],FocusTrap=class{constructor(_e,_){__publicField$2(this,"trapStack"),__publicField$2(this,"config"),__publicField$2(this,"doc"),__publicField$2(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),__publicField$2(this,"listenerCleanups",[]),__publicField$2(this,"handleFocus",tt=>{const rt=getEventTarget(tt),nt=this.findContainerIndex(rt,tt)>=0;if(nt||isDocument(rt))nt&&(this.state.mostRecentlyFocusedNode=rt);else{tt.stopImmediatePropagation();let it,at=!0;if(this.state.mostRecentlyFocusedNode)if(getTabIndex(this.state.mostRecentlyFocusedNode)>0){const lt=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:ct}=this.state.containerGroups[lt];if(ct.length>0){const ut=ct.findIndex(st=>st===this.state.mostRecentlyFocusedNode);ut>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?ut+1<ct.length&&(it=ct[ut+1],at=!1):ut-1>=0&&(it=ct[ut-1],at=!1))}}else this.state.containerGroups.some(lt=>lt.tabbableNodes.some(ct=>getTabIndex(ct)>0))||(at=!1);else at=!1;at&&(it=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),it?this.tryFocus(it):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),__publicField$2(this,"handlePointerDown",tt=>{const rt=getEventTarget(tt);if(!(this.findContainerIndex(rt,tt)>=0)){if(valueOrHandler(this.config.clickOutsideDeactivates,tt)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}valueOrHandler(this.config.allowOutsideClick,tt)||tt.preventDefault()}}),__publicField$2(this,"handleClick",tt=>{const rt=getEventTarget(tt);this.findContainerIndex(rt,tt)>=0||valueOrHandler(this.config.clickOutsideDeactivates,tt)||valueOrHandler(this.config.allowOutsideClick,tt)||(tt.preventDefault(),tt.stopImmediatePropagation())}),__publicField$2(this,"handleTabKey",tt=>{if(this.config.isKeyForward(tt)||this.config.isKeyBackward(tt)){this.state.recentNavEvent=tt;const rt=this.config.isKeyBackward(tt),nt=this.findNextNavNode({event:tt,isBackward:rt});if(!nt)return;isTabEvent(tt)&&tt.preventDefault(),this.tryFocus(nt)}}),__publicField$2(this,"handleEscapeKey",tt=>{isEscapeEvent(tt)&&valueOrHandler(this.config.escapeDeactivates,tt)!==!1&&(tt.preventDefault(),this.deactivate())}),__publicField$2(this,"_mutationObserver"),__publicField$2(this,"setupMutationObserver",()=>{const tt=this.doc.defaultView||window;this._mutationObserver=new tt.MutationObserver(rt=>{rt.some(it=>Array.from(it.removedNodes).some(lt=>lt===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),__publicField$2(this,"updateObservedNodes",()=>{var tt;(tt=this._mutationObserver)==null||tt.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(rt=>{var nt;(nt=this._mutationObserver)==null||nt.observe(rt,{subtree:!0,childList:!0})})}),__publicField$2(this,"getInitialFocusNode",()=>{let tt=this.getNodeForOption("initialFocus",{hasFallback:!0});if(tt===!1)return!1;if(tt===void 0||tt&&!isFocusable(tt))if(this.findContainerIndex(this.doc.activeElement)>=0)tt=this.doc.activeElement;else{const rt=this.state.tabbableGroups[0];tt=rt&&rt.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else tt===null&&(tt=this.getNodeForOption("fallbackFocus"));if(!tt)throw new Error("Your focus-trap needs to have at least one focusable element");return tt.isConnected||(tt=this.getNodeForOption("fallbackFocus")),tt}),__publicField$2(this,"tryFocus",tt=>{if(tt!==!1&&tt!==getActiveElement(this.doc)){if(!tt||!tt.focus){this.tryFocus(this.getInitialFocusNode());return}tt.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=tt,isSelectableInput(tt)&&tt.select()}}),__publicField$2(this,"deactivate",tt=>{if(!this.state.active)return this;const rt={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...tt};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),activeFocusTraps.deactivateTrap(this.trapStack,this);const nt=this.getOption(rt,"onDeactivate"),it=this.getOption(rt,"onPostDeactivate"),at=this.getOption(rt,"checkCanReturnFocus"),lt=this.getOption(rt,"returnFocus","returnFocusOnDeactivate");nt==null||nt();const ct=()=>{delay(()=>{if(lt){const ut=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(ut)}it==null||it()})};if(lt&&at){const ut=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return at(ut).then(ct,ct),this}return ct(),this}),__publicField$2(this,"pause",tt=>{if(this.state.paused||!this.state.active)return this;const rt=this.getOption(tt,"onPause"),nt=this.getOption(tt,"onPostPause");return this.state.paused=!0,rt==null||rt(),this.removeListeners(),this.updateObservedNodes(),nt==null||nt(),this}),__publicField$2(this,"unpause",tt=>{if(!this.state.paused||!this.state.active)return this;const rt=this.getOption(tt,"onUnpause"),nt=this.getOption(tt,"onPostUnpause");return this.state.paused=!1,rt==null||rt(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),nt==null||nt(),this}),__publicField$2(this,"updateContainerElements",tt=>(this.state.containers=Array.isArray(tt)?tt.filter(Boolean):[tt].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),__publicField$2(this,"getReturnFocusNode",tt=>{const rt=this.getNodeForOption("setReturnFocus",{params:[tt]});return rt||(rt===!1?!1:tt)}),__publicField$2(this,"getOption",(tt,rt,nt)=>tt&&tt[rt]!==void 0?tt[rt]:this.config[nt||rt]),__publicField$2(this,"getNodeForOption",(tt,{hasFallback:rt=!1,params:nt=[]}={})=>{let it=this.config[tt];if(typeof it=="function"&&(it=it(...nt)),it===!0&&(it=void 0),!it){if(it===void 0||it===!1)return it;throw new Error(`\`${tt}\` was specified but was not a node, or did not return a node`)}let at=it;if(typeof it=="string"){try{at=this.doc.querySelector(it)}catch(lt){throw new Error(`\`${tt}\` appears to be an invalid selector; error="${lt.message}"`)}if(!at&&!rt)throw new Error(`\`${tt}\` as selector refers to no known node`)}return at}),__publicField$2(this,"findNextNavNode",tt=>{const{event:rt,isBackward:nt=!1}=tt,it=tt.target||getEventTarget(rt);this.updateTabbableNodes();let at=null;if(this.state.tabbableGroups.length>0){const lt=this.findContainerIndex(it,rt),ct=lt>=0?this.state.containerGroups[lt]:void 0;if(lt<0)nt?at=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:at=this.state.tabbableGroups[0].firstTabbableNode;else if(nt){let ut=this.state.tabbableGroups.findIndex(({firstTabbableNode:st})=>it===st);if(ut<0&&((ct==null?void 0:ct.container)===it||isFocusable(it)&&!isTabbable(it)&&!(ct!=null&&ct.nextTabbableNode(it,!1)))&&(ut=lt),ut>=0){const st=ut===0?this.state.tabbableGroups.length-1:ut-1,ot=this.state.tabbableGroups[st];at=getTabIndex(it)>=0?ot.lastTabbableNode:ot.lastDomTabbableNode}else isTabEvent(rt)||(at=ct==null?void 0:ct.nextTabbableNode(it,!1))}else{let ut=this.state.tabbableGroups.findIndex(({lastTabbableNode:st})=>it===st);if(ut<0&&((ct==null?void 0:ct.container)===it||isFocusable(it)&&!isTabbable(it)&&!(ct!=null&&ct.nextTabbableNode(it)))&&(ut=lt),ut>=0){const st=ut===this.state.tabbableGroups.length-1?0:ut+1,ot=this.state.tabbableGroups[st];at=getTabIndex(it)>=0?ot.firstTabbableNode:ot.firstDomTabbableNode}else isTabEvent(rt)||(at=ct==null?void 0:ct.nextTabbableNode(it))}}else at=this.getNodeForOption("fallbackFocus");return at}),this.trapStack=_.trapStack||sharedTrapStack;const et={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(tt){return isTabEvent(tt)&&!tt.shiftKey},isKeyBackward(tt){return isTabEvent(tt)&&tt.shiftKey},..._};this.doc=et.document||getDocument(Array.isArray(_e)?_e[0]:_e),this.config=et,this.updateContainerElements(_e),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(_e,_){const et=typeof(_==null?void 0:_.composedPath)=="function"?_.composedPath():void 0;return this.state.containerGroups.findIndex(({container:tt,tabbableNodes:rt})=>tt.contains(_e)||(et==null?void 0:et.includes(tt))||rt.find(nt=>nt===_e))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(_e=>{const _=getTabbables(_e),et=getFocusables(_e),tt=_.length>0?_[0]:void 0,rt=_.length>0?_[_.length-1]:void 0,nt=et.find(ct=>isTabbable(ct)),it=et.slice().reverse().find(ct=>isTabbable(ct)),at=!!_.find(ct=>getTabIndex(ct)>0);function lt(ct,ut=!0){const st=_.indexOf(ct);return st<0?ut?et.slice(et.indexOf(ct)+1).find(ot=>isTabbable(ot)):et.slice(0,et.indexOf(ct)).reverse().find(ot=>isTabbable(ot)):_[st+(ut?1:-1)]}return{container:_e,tabbableNodes:_,focusableNodes:et,posTabIndexesFound:at,firstTabbableNode:tt,lastTabbableNode:rt,firstDomTabbableNode:nt,lastDomTabbableNode:it,nextTabbableNode:lt}}),this.state.tabbableGroups=this.state.containerGroups.filter(_e=>_e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(_e=>_e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return activeFocusTraps.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?delay(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(addDomEvent(this.doc,"focusin",this.handleFocus,!0),addDomEvent(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),addDomEvent(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),addDomEvent(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),addDomEvent(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),addDomEvent(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(_e=>_e()),this.listenerCleanups=[],this}activate(_e){if(this.state.active)return this;const _=this.getOption(_e,"onActivate"),et=this.getOption(_e,"onPostActivate"),tt=this.getOption(_e,"checkCanFocusTrap");tt||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,_==null||_();const rt=()=>{tt&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),et==null||et()};return tt?(tt(this.state.containers.concat()).then(rt,rt),this):(rt(),this)}},isTabEvent=_e=>_e.key==="Tab",valueOrHandler=(_e,..._)=>typeof _e=="function"?_e(..._):_e,isEscapeEvent=_e=>!_e.isComposing&&_e.key==="Escape",delay=_e=>setTimeout(_e,0),isSelectableInput=_e=>_e.localName==="input"&&"select"in _e&&typeof _e.select=="function";function trapFocus(_e,_={}){let et;const tt=raf$2(()=>{const rt=typeof _e=="function"?_e():_e;if(rt){et=new FocusTrap(rt,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:rt,..._,document:getDocument(rt)});try{et.activate()}catch{}}});return function(){et==null||et.deactivate(),tt()}}var LOCK_CLASSNAME="data-scroll-lock";function assignStyle(_e,_){if(!_e)return;const et=Object.keys(_).reduce((tt,rt)=>(tt[rt]=_e.style.getPropertyValue(rt),tt),{});return Object.assign(_e.style,_),()=>{Object.assign(_e.style,et)}}function setCSSProperty(_e,_,et){if(!_e)return;const tt=_e.style.getPropertyValue(_);return _e.style.setProperty(_,et),()=>{tt?_e.style.setProperty(_,tt):_e.style.removeProperty(_)}}function getPaddingProperty(_e){const _=_e.getBoundingClientRect().left;return Math.round(_)+_e.scrollLeft?"paddingLeft":"paddingRight"}function preventBodyScroll(_e){const _=_e??document,et=_.defaultView??window,{documentElement:tt,body:rt}=_;if(rt.hasAttribute(LOCK_CLASSNAME))return;rt.setAttribute(LOCK_CLASSNAME,"");const it=et.innerWidth-tt.clientWidth,at=()=>setCSSProperty(tt,"--scrollbar-width",`${it}px`),lt=getPaddingProperty(tt),ct=()=>assignStyle(rt,{overflow:"hidden",[lt]:`${it}px`}),ut=()=>{const{scrollX:ot,scrollY:dt,visualViewport:ft}=et,ht=(ft==null?void 0:ft.offsetLeft)??0,mt=(ft==null?void 0:ft.offsetTop)??0,gt=assignStyle(rt,{position:"fixed",overflow:"hidden",top:`${-(dt-Math.floor(mt))}px`,left:`${-(ot-Math.floor(ht))}px`,right:"0",[lt]:`${it}px`});return()=>{gt==null||gt(),et.scrollTo({left:ot,top:dt,behavior:"instant"})}},st=[at(),isIos()?ut():ct()];return()=>{st.forEach(ot=>ot==null?void 0:ot()),rt.removeAttribute(LOCK_CLASSNAME)}}var anatomy$j=createAnatomy("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),parts$7=anatomy$j.build(),dom$i=createScope({getPositionerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.positioner)??`dialog:${_e.id}:positioner`},getBackdropId:_e=>{var _;return((_=_e.ids)==null?void 0:_.backdrop)??`dialog:${_e.id}:backdrop`},getContentId:_e=>{var _;return((_=_e.ids)==null?void 0:_.content)??`dialog:${_e.id}:content`},getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`dialog:${_e.id}:trigger`},getTitleId:_e=>{var _;return((_=_e.ids)==null?void 0:_.title)??`dialog:${_e.id}:title`},getDescriptionId:_e=>{var _;return((_=_e.ids)==null?void 0:_.description)??`dialog:${_e.id}:description`},getCloseTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.closeTrigger)??`dialog:${_e.id}:close`},getContentEl:_e=>dom$i.getById(_e,dom$i.getContentId(_e)),getPositionerEl:_e=>dom$i.getById(_e,dom$i.getPositionerId(_e)),getBackdropEl:_e=>dom$i.getById(_e,dom$i.getBackdropId(_e)),getTriggerEl:_e=>dom$i.getById(_e,dom$i.getTriggerId(_e)),getTitleEl:_e=>dom$i.getById(_e,dom$i.getTitleId(_e)),getDescriptionEl:_e=>dom$i.getById(_e,dom$i.getDescriptionId(_e)),getCloseTriggerEl:_e=>dom$i.getById(_e,dom$i.getCloseTriggerId(_e))});function connect$6(_e,_,et){const tt=_e.context["aria-label"],rt=_e.matches("open"),nt=_e.context.renderedElements;return{open:rt,setOpen(it){it!==rt&&_(it?"OPEN":"CLOSE")},getTriggerProps(){return et.button({...parts$7.trigger.attrs,dir:_e.context.dir,id:dom$i.getTriggerId(_e.context),"aria-haspopup":"dialog",type:"button","aria-expanded":rt,"data-state":rt?"open":"closed","aria-controls":dom$i.getContentId(_e.context),onClick(it){it.defaultPrevented||_("TOGGLE")}})},getBackdropProps(){return et.element({...parts$7.backdrop.attrs,dir:_e.context.dir,hidden:!rt,id:dom$i.getBackdropId(_e.context),"data-state":rt?"open":"closed"})},getPositionerProps(){return et.element({...parts$7.positioner.attrs,dir:_e.context.dir,id:dom$i.getPositionerId(_e.context),style:{pointerEvents:rt?void 0:"none"}})},getContentProps(){return et.element({...parts$7.content.attrs,dir:_e.context.dir,role:_e.context.role,hidden:!rt,id:dom$i.getContentId(_e.context),tabIndex:-1,"data-state":rt?"open":"closed","aria-modal":!0,"aria-label":tt||void 0,"aria-labelledby":tt||!nt.title?void 0:dom$i.getTitleId(_e.context),"aria-describedby":nt.description?dom$i.getDescriptionId(_e.context):void 0})},getTitleProps(){return et.element({...parts$7.title.attrs,dir:_e.context.dir,id:dom$i.getTitleId(_e.context)})},getDescriptionProps(){return et.element({...parts$7.description.attrs,dir:_e.context.dir,id:dom$i.getDescriptionId(_e.context)})},getCloseTriggerProps(){return et.button({...parts$7.closeTrigger.attrs,dir:_e.context.dir,id:dom$i.getCloseTriggerId(_e.context),type:"button",onClick(it){it.defaultPrevented||(it.stopPropagation(),_("CLOSE"))}})}}}function machine$5(_e){const _=compact$2(_e);return createMachine({id:"dialog",initial:_.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,..._},created:["setAlertDialogProps"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:et=>!!et["open.controlled"]},activities:{trackDismissableElement(et,tt,{send:rt}){return trackDismissableElement(()=>dom$i.getContentEl(et),{defer:!0,pointerBlocking:et.modal,exclude:[dom$i.getTriggerEl(et)],onInteractOutside(it){var at;(at=et.onInteractOutside)==null||at.call(et,it),et.closeOnInteractOutside||it.preventDefault()},persistentElements:et.persistentElements,onFocusOutside:et.onFocusOutside,onPointerDownOutside:et.onPointerDownOutside,onEscapeKeyDown(it){var at;(at=et.onEscapeKeyDown)==null||at.call(et,it),et.closeOnEscape||it.preventDefault()},onDismiss(){rt({type:"CLOSE",src:"interact-outside"})}})},preventScroll(et){if(et.preventScroll)return preventBodyScroll(dom$i.getDoc(et))},trapFocus(et){return!et.trapFocus||!et.modal?void 0:trapFocus(()=>dom$i.getContentEl(et),{preventScroll:!0,returnFocusOnDeactivate:!!et.restoreFocus,initialFocus:et.initialFocusEl,setReturnFocus:rt=>{var nt;return((nt=et.finalFocusEl)==null?void 0:nt.call(et))??rt}})},hideContentBelow(et){return et.modal?ariaHidden(()=>[dom$i.getContentEl(et)],{defer:!0}):void 0}},actions:{setAlertDialogProps(et){et.role==="alertdialog"&&(et.initialFocusEl||(et.initialFocusEl=()=>dom$i.getCloseTriggerEl(et)),et.closeOnInteractOutside=!1)},checkRenderedElements(et){raf$2(()=>{et.renderedElements.title=!!dom$i.getTitleEl(et),et.renderedElements.description=!!dom$i.getDescriptionEl(et)})},syncZIndex(et){raf$2(()=>{const tt=dom$i.getContentEl(et);if(!tt)return;const rt=getComputedStyle$2(tt);[dom$i.getPositionerEl(et),dom$i.getBackdropEl(et)].forEach(it=>{it==null||it.style.setProperty("--z-index",rt.zIndex)})})},invokeOnClose(et){var tt;(tt=et.onOpenChange)==null||tt.call(et,{open:!1})},invokeOnOpen(et){var tt;(tt=et.onOpenChange)==null||tt.call(et,{open:!0})},toggleVisibility(et,tt,{send:rt}){rt({type:et.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:tt})}}})}createProps$1()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const useDialog=(_e={})=>{const{getRootNode:_}=useEnvironmentContext(),{dir:et}=useLocaleContext(),tt={id:reactExports.useId(),getRootNode:_,dir:et,open:_e.defaultOpen,"open.controlled":_e.open!==void 0,..._e},rt={...tt,open:_e.open,onOpenChange:useEvent$1(_e.onOpenChange,{sync:!0}),onEscapeKeyDown:useEvent$1(_e.onEscapeKeyDown),onInteractOutside:useEvent$1(_e.onInteractOutside)},[nt,it]=useMachine(machine$5(tt),{context:rt});return connect$6(nt,it,normalizeProps)},DialogRoot=_e=>{const[_,{children:et,...tt}]=splitPresenceProps(_e),[rt]=splitRenderStrategyProps(_),nt=useDialog(tt),it=usePresence(mergeProps$1({present:nt.open},_));return jsxRuntimeExports.jsx(DialogProvider,{value:nt,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:rt,children:jsxRuntimeExports.jsx(PresenceProvider,{value:it,children:et})})})},DialogRootProvider=_e=>{const[_,{value:et,children:tt}]=splitPresenceProps(_e),[rt]=splitRenderStrategyProps(_),nt=usePresence(mergeProps$1({present:et.open},_));return jsxRuntimeExports.jsx(DialogProvider,{value:et,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:rt,children:jsxRuntimeExports.jsx(PresenceProvider,{value:nt,children:tt})})})},DialogTitle=reactExports.forwardRef((_e,_)=>{const et=useDialogContext(),tt=mergeProps$1(et.getTitleProps(),_e);return jsxRuntimeExports.jsx(ark.h2,{...tt,ref:_})});DialogTitle.displayName="DialogTitle";const DialogTrigger=reactExports.forwardRef((_e,_)=>{const et=useDialogContext(),tt=usePresenceContext(),rt=mergeProps$1({...et.getTriggerProps(),"aria-controls":tt.unmounted?void 0:et.getTriggerProps()["aria-controls"]},_e);return jsxRuntimeExports.jsx(ark.button,{...rt,ref:_})});DialogTrigger.displayName="DialogTrigger";const[FieldProvider,useFieldContext]=createContext({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1});var anatomy$i=createAnatomy("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");anatomy$i.build();var dom$h=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`editable:${_e.id}`},getAreaId:_e=>{var _;return((_=_e.ids)==null?void 0:_.area)??`editable:${_e.id}:area`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`editable:${_e.id}:label`},getPreviewId:_e=>{var _;return((_=_e.ids)==null?void 0:_.preview)??`editable:${_e.id}:preview`},getInputId:_e=>{var _;return((_=_e.ids)==null?void 0:_.input)??`editable:${_e.id}:input`},getControlId:_e=>{var _;return((_=_e.ids)==null?void 0:_.control)??`editable:${_e.id}:control`},getSubmitTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.submitTrigger)??`editable:${_e.id}:submit`},getCancelTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.cancelTrigger)??`editable:${_e.id}:cancel`},getEditTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.editTrigger)??`editable:${_e.id}:edit`},getInputEl:_e=>dom$h.getById(_e,dom$h.getInputId(_e)),getPreviewEl:_e=>dom$h.getById(_e,dom$h.getPreviewId(_e)),getSubmitTriggerEl:_e=>dom$h.getById(_e,dom$h.getSubmitTriggerId(_e)),getCancelTriggerEl:_e=>dom$h.getById(_e,dom$h.getCancelTriggerId(_e)),getEditTriggerEl:_e=>dom$h.getById(_e,dom$h.getEditTriggerId(_e))});createProps$1()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","edit.controlled","submitMode","translations","value"]);const FieldErrorText$1=reactExports.forwardRef((_e,_)=>{const et=useFieldContext(),tt=mergeProps$1(et.getErrorTextProps(),_e);return et!=null&&et.invalid?jsxRuntimeExports.jsx(ark.span,{...tt,ref:_}):null});FieldErrorText$1.displayName="FieldErrorText";const FieldHelperText$1=reactExports.forwardRef((_e,_)=>{const et=useFieldContext(),tt=mergeProps$1(et==null?void 0:et.getHelperTextProps(),_e);return jsxRuntimeExports.jsx(ark.span,{...tt,ref:_})});FieldHelperText$1.displayName="FieldHelperText";const FieldInput=reactExports.forwardRef((_e,_)=>{const et=useFieldContext(),tt=mergeProps$1(et==null?void 0:et.getInputProps(),_e);return jsxRuntimeExports.jsx(ark.input,{...tt,ref:_})});FieldInput.displayName="FieldInput";const FieldLabel$1=reactExports.forwardRef((_e,_)=>{const et=useFieldContext(),tt=mergeProps$1(et==null?void 0:et.getLabelProps(),_e);return jsxRuntimeExports.jsx(ark.label,{...tt,ref:_})});FieldLabel$1.displayName="FieldLabel";const useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,[FieldsetProvider,useFieldsetContext]=createContext({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),fieldAnatomy$1=createAnatomy("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),parts$6=fieldAnatomy$1.build(),useField=_e=>{const _=useFieldsetContext(),{ids:et,disabled:tt=!!(_!=null&&_.disabled),invalid:rt=!1,readOnly:nt=!1,required:it=!1}=_e,at=reactExports.useRef(!1),lt=reactExports.useRef(!1),ct=_e.id??reactExports.useId(),ut=reactExports.useRef(null),st=(et==null?void 0:et.control)??`field::${ct}`,ot=(et==null?void 0:et.errorText)??`field::${ct}::error-text`,dt=(et==null?void 0:et.helperText)??`field::${ct}::helper-text`,ft=(et==null?void 0:et.label)??`field::${ct}::label`;useSafeLayoutEffect(()=>{const Et=ut.current;if(!Et)return;const Tt=getWindow$1(Et),Ct=Tt.document,It=()=>{at.current=!!Ct.getElementById(ot),lt.current=!!Ct.getElementById(dt)};It();const Pt=new Tt.MutationObserver(It);return Pt.observe(Et,{childList:!0,subtree:!0}),()=>Pt.disconnect()},[ot,dt]);const ht=reactExports.useMemo(()=>{const Et=[];return at.current&&rt&&Et.push(ot),lt.current&&Et.push(dt),Et.join(" ")||void 0},[rt,ot,dt]),mt=reactExports.useMemo(()=>()=>({...parts$6.root.attrs,id:st,ref:ut,role:"group","data-disabled":dataAttr$1(tt),"data-invalid":dataAttr$1(rt),"data-readonly":dataAttr$1(nt)}),[tt,rt,nt,st]),gt=reactExports.useMemo(()=>()=>({...parts$6.label.attrs,id:ft,"data-disabled":dataAttr$1(tt),"data-invalid":dataAttr$1(rt),"data-readonly":dataAttr$1(nt),htmlFor:ct}),[tt,rt,nt,ct,ft]),yt=reactExports.useMemo(()=>()=>({"aria-describedby":ht,"aria-invalid":ariaAttr(rt),"data-invalid":dataAttr$1(rt),"data-required":dataAttr$1(it),"data-readonly":dataAttr$1(nt),id:ct,required:it,disabled:tt,readOnly:nt}),[ht,rt,it,nt,ct,tt]),vt=reactExports.useMemo(()=>()=>({...yt(),...parts$6.input.attrs}),[yt]),bt=reactExports.useMemo(()=>()=>({...yt(),...parts$6.textarea.attrs}),[yt]),xt=reactExports.useMemo(()=>()=>({...yt(),...parts$6.select.attrs}),[yt]),_t=reactExports.useMemo(()=>()=>({id:dt,...parts$6.helperText.attrs}),[dt]),St=reactExports.useMemo(()=>()=>({id:ot,...parts$6.errorText.attrs,"aria-live":"polite"}),[ot]),wt=reactExports.useMemo(()=>()=>({"aria-hidden":!0,...parts$6.requiredIndicator.attrs}),[]);return{ariaDescribedby:ht,ids:{root:st,control:ct,label:ft,errorText:ot,helperText:dt},refs:{rootRef:ut},disabled:tt,invalid:rt,readOnly:nt,required:it,getLabelProps:gt,getRootProps:mt,getInputProps:vt,getTextareaProps:bt,getSelectProps:xt,getHelperTextProps:_t,getErrorTextProps:St,getRequiredIndicatorProps:wt}},FieldRoot$1=reactExports.forwardRef((_e,_)=>{const[et,tt]=createSplitProps()(_e,["id","ids","disabled","invalid","readOnly","required"]),rt=useField(et),nt=mergeProps$1(rt.getRootProps(),tt);return jsxRuntimeExports.jsx(FieldProvider,{value:rt,children:jsxRuntimeExports.jsx(ark.div,{...nt,ref:composeRefs(_,rt.refs.rootRef)})})});FieldRoot$1.displayName="FieldRoot";var autoresizeTextarea=_e=>{var ct;if(!_e)return;const _=getComputedStyle$2(_e),et=getWindow$1(_e),tt=getDocument(_e),rt=()=>{_e.style.height="auto";const ut=parseInt(_.borderTopWidth,10),st=parseInt(_.borderBottomWidth,10);_e.style.height=`${_e.scrollHeight+ut+st}px`};_e.addEventListener("input",rt);const nt=Object.getPrototypeOf(_e),it=Object.getOwnPropertyDescriptor(nt,"value");Object.defineProperty(_e,"value",{...it,set(){var ut;(ut=it==null?void 0:it.set)==null||ut.apply(this,arguments),rt()}});const at=new et.ResizeObserver(()=>rt());at.observe(_e);const lt=new et.MutationObserver(()=>rt());return lt.observe(_e,{attributes:!0,attributeFilter:["rows","placeholder"]}),(ct=tt.fonts)==null||ct.addEventListener("loadingdone",rt),()=>{var ut;_e.removeEventListener("input",rt),(ut=tt.fonts)==null||ut.removeEventListener("loadingdone",rt),at.disconnect(),lt.disconnect()}};const FieldTextarea=reactExports.forwardRef((_e,_)=>{const{autoresize:et,...tt}=_e,rt=reactExports.useRef(null),nt=useFieldContext(),it=mergeProps$1(nt==null?void 0:nt.getTextareaProps(),{style:{resize:et?"none":void 0}},tt);return reactExports.useEffect(()=>{if(et)return autoresizeTextarea(rt.current)},[et]),jsxRuntimeExports.jsx(ark.textarea,{...it,ref:composeRefs(_,rt)})});FieldTextarea.displayName="FieldTextarea";const fieldsetAnatomy$1=createAnatomy("fieldset").parts("root","errorText","helperText","legend");fieldsetAnatomy$1.build();var anatomy$h=createAnatomy("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");anatomy$h.build();var dom$g=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`file:${_e.id}`},getDropzoneId:_e=>{var _;return((_=_e.ids)==null?void 0:_.dropzone)??`file:${_e.id}:dropzone`},getHiddenInputId:_e=>{var _;return((_=_e.ids)==null?void 0:_.hiddenInput)??`file:${_e.id}:input`},getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`file:${_e.id}:trigger`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`file:${_e.id}:label`},getItemId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.item)==null?void 0:tt.call(et,_))??`file:${_e.id}:item:${_}`},getItemNameId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemName)==null?void 0:tt.call(et,_))??`file:${_e.id}:item-name:${_}`},getItemSizeTextId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemSizeText)==null?void 0:tt.call(et,_))??`file:${_e.id}:item-size:${_}`},getItemPreviewId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemPreview)==null?void 0:tt.call(et,_))??`file:${_e.id}:item-preview:${_}`},getRootEl:_e=>dom$g.getById(_e,dom$g.getRootId(_e)),getHiddenInputEl:_e=>dom$g.getById(_e,dom$g.getHiddenInputId(_e)),getDropzoneEl:_e=>dom$g.getById(_e,dom$g.getDropzoneId(_e))});createProps$1()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);createProps$1()(["file"]);var anatomy$g=createAnatomy("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem");anatomy$g.build();var dom$f=createScope({getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`menu:${_e.id}:trigger`},getContextTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.contextTrigger)??`menu:${_e.id}:ctx-trigger`},getContentId:_e=>{var _;return((_=_e.ids)==null?void 0:_.content)??`menu:${_e.id}:content`},getArrowId:_e=>{var _;return((_=_e.ids)==null?void 0:_.arrow)??`menu:${_e.id}:arrow`},getPositionerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.positioner)??`menu:${_e.id}:popper`},getGroupId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.group)==null?void 0:tt.call(et,_))??`menu:${_e.id}:group:${_}`},getGroupLabelId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.groupLabel)==null?void 0:tt.call(et,_))??`menu:${_e.id}:group-label:${_}`},getContentEl:_e=>dom$f.getById(_e,dom$f.getContentId(_e)),getPositionerEl:_e=>dom$f.getById(_e,dom$f.getPositionerId(_e)),getTriggerEl:_e=>dom$f.getById(_e,dom$f.getTriggerId(_e)),getHighlightedItemEl:_e=>_e.highlightedValue?dom$f.getById(_e,_e.highlightedValue):null,getArrowEl:_e=>dom$f.getById(_e,dom$f.getArrowId(_e)),getElements:_e=>{const et=`[role^="menuitem"][data-ownedby=${CSS.escape(dom$f.getContentId(_e))}]:not([data-disabled])`;return queryAll(dom$f.getContentEl(_e),et)},getFirstEl:_e=>first(dom$f.getElements(_e)),getLastEl:_e=>last(dom$f.getElements(_e)),getNextEl:(_e,_)=>nextById(dom$f.getElements(_e),_e.highlightedValue,_??_e.loopFocus),getPrevEl:(_e,_)=>prevById(dom$f.getElements(_e),_e.highlightedValue,_??_e.loopFocus),getElemByKey:(_e,_)=>getByTypeahead(dom$f.getElements(_e),{state:_e.typeaheadState,key:_,activeId:_e.highlightedValue}),isTargetDisabled:_e=>isHTMLElement$1(_e)&&(_e.dataset.disabled===""||_e.hasAttribute("disabled")),isTriggerItem:_e=>{var _;return!!((_=_e==null?void 0:_e.getAttribute("role"))!=null&&_.startsWith("menuitem"))&&!!(_e!=null&&_e.hasAttribute("aria-controls"))},getOptionFromItemEl(_e){return{id:_e.id,name:_e.dataset.name,value:_e.dataset.value,valueText:_e.dataset.valueText,type:_e.dataset.type}}});createProps$1()(["anchorPoint","aria-label","closeOnSelect","composite","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open.controlled","open","positioning","typeahead"]);createProps$1()(["closeOnSelect","disabled","value","valueText"]);createProps$1()(["htmlFor"]);createProps$1()(["id"]);createProps$1()(["disabled","valueText","closeOnSelect","type","value","checked","onCheckedChange"]);var anatomy$f=createAnatomy("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");anatomy$f.build();var dom$e=createScope({getAnchorId:_e=>{var _;return((_=_e.ids)==null?void 0:_.anchor)??`popover:${_e.id}:anchor`},getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`popover:${_e.id}:trigger`},getContentId:_e=>{var _;return((_=_e.ids)==null?void 0:_.content)??`popover:${_e.id}:content`},getPositionerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.positioner)??`popover:${_e.id}:popper`},getArrowId:_e=>{var _;return((_=_e.ids)==null?void 0:_.arrow)??`popover:${_e.id}:arrow`},getTitleId:_e=>{var _;return((_=_e.ids)==null?void 0:_.title)??`popover:${_e.id}:title`},getDescriptionId:_e=>{var _;return((_=_e.ids)==null?void 0:_.description)??`popover:${_e.id}:desc`},getCloseTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.closeTrigger)??`popover:${_e.id}:close`},getAnchorEl:_e=>dom$e.getById(_e,dom$e.getAnchorId(_e)),getTriggerEl:_e=>dom$e.getById(_e,dom$e.getTriggerId(_e)),getContentEl:_e=>dom$e.getById(_e,dom$e.getContentId(_e)),getPositionerEl:_e=>dom$e.getById(_e,dom$e.getPositionerId(_e)),getTitleEl:_e=>dom$e.getById(_e,dom$e.getTitleId(_e)),getDescriptionEl:_e=>dom$e.getById(_e,dom$e.getDescriptionId(_e)),getFocusableEls:_e=>getFocusables(dom$e.getContentEl(_e)),getFirstFocusableEl:_e=>dom$e.getFocusableEls(_e)[0]});createProps$1()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);function isVirtualClick(_e){return _e.mozInputSource===0&&_e.isTrusted?!0:_e.detail===0&&!_e.pointerType}function isValidKey(_e){return!(_e.metaKey||!isMac()&&_e.altKey||_e.ctrlKey||_e.key==="Control"||_e.key==="Shift"||_e.key==="Meta")}var nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function isKeyboardFocusEvent(_e,_,et){const tt=et?getEventTarget(et):null,rt=getWindow$1(tt);return _e=_e||tt instanceof rt.HTMLInputElement&&!nonTextInputTypes.has(tt==null?void 0:tt.type)||tt instanceof rt.HTMLTextAreaElement||tt instanceof rt.HTMLElement&&tt.isContentEditable,!(_e&&_==="keyboard"&&et instanceof rt.KeyboardEvent&&!Reflect.has(FOCUS_VISIBLE_INPUT_KEYS,et.key))}var currentModality=null,changeHandlers=new Set,listenerMap=new Map,hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1,FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function triggerChangeHandlers(_e,_){for(let et of changeHandlers)et(_e,_)}function handleKeyboardEvent(_e){hasEventBeforeFocus=!0,isValidKey(_e)&&(currentModality="keyboard",triggerChangeHandlers("keyboard",_e))}function handlePointerEvent(_e){currentModality="pointer",(_e.type==="mousedown"||_e.type==="pointerdown")&&(hasEventBeforeFocus=!0,triggerChangeHandlers("pointer",_e))}function handleClickEvent(_e){isVirtualClick(_e)&&(hasEventBeforeFocus=!0,currentModality="virtual")}function handleFocusEvent(_e){const _=getEventTarget(_e);_===getWindow$1(_)||_===getDocument(_)||(!hasEventBeforeFocus&&!hasBlurredWindowRecently&&(currentModality="virtual",triggerChangeHandlers("virtual",_e)),hasEventBeforeFocus=!1,hasBlurredWindowRecently=!1)}function handleWindowBlur(){hasEventBeforeFocus=!1,hasBlurredWindowRecently=!0}function setupGlobalFocusEvents(_e){if(typeof window>"u"||listenerMap.get(getWindow$1(_e)))return;const _=getWindow$1(_e),et=getDocument(_e);let tt=_.HTMLElement.prototype.focus;_.HTMLElement.prototype.focus=function(){currentModality="virtual",triggerChangeHandlers("virtual",null),hasEventBeforeFocus=!0,tt.apply(this,arguments)},et.addEventListener("keydown",handleKeyboardEvent,!0),et.addEventListener("keyup",handleKeyboardEvent,!0),et.addEventListener("click",handleClickEvent,!0),_.addEventListener("focus",handleFocusEvent,!0),_.addEventListener("blur",handleWindowBlur,!1),typeof _.PointerEvent<"u"?(et.addEventListener("pointerdown",handlePointerEvent,!0),et.addEventListener("pointermove",handlePointerEvent,!0),et.addEventListener("pointerup",handlePointerEvent,!0)):(et.addEventListener("mousedown",handlePointerEvent,!0),et.addEventListener("mousemove",handlePointerEvent,!0),et.addEventListener("mouseup",handlePointerEvent,!0)),_.addEventListener("beforeunload",()=>{tearDownWindowFocusTracking(_e)},{once:!0}),listenerMap.set(_,{focus:tt})}var tearDownWindowFocusTracking=(_e,_)=>{const et=getWindow$1(_e),tt=getDocument(_e);listenerMap.has(et)&&(et.HTMLElement.prototype.focus=listenerMap.get(et).focus,tt.removeEventListener("keydown",handleKeyboardEvent,!0),tt.removeEventListener("keyup",handleKeyboardEvent,!0),tt.removeEventListener("click",handleClickEvent,!0),et.removeEventListener("focus",handleFocusEvent,!0),et.removeEventListener("blur",handleWindowBlur,!1),typeof et.PointerEvent<"u"?(tt.removeEventListener("pointerdown",handlePointerEvent,!0),tt.removeEventListener("pointermove",handlePointerEvent,!0),tt.removeEventListener("pointerup",handlePointerEvent,!0)):(tt.removeEventListener("mousedown",handlePointerEvent,!0),tt.removeEventListener("mousemove",handlePointerEvent,!0),tt.removeEventListener("mouseup",handlePointerEvent,!0)),listenerMap.delete(et))};function isFocusVisible(){return currentModality==="keyboard"}function trackFocusVisible(_e={}){const{isTextInput:_,autoFocus:et,onChange:tt,root:rt}=_e;setupGlobalFocusEvents(rt),tt==null||tt({isFocusVisible:et||isFocusVisible(),modality:currentModality});const nt=(it,at)=>{isKeyboardFocusEvent(!!_,it,at)&&(tt==null||tt({isFocusVisible:isFocusVisible(),modality:it}))};return changeHandlers.add(nt),()=>{changeHandlers.delete(nt)}}var rafId,observedElements=new Map,getRectFn=_e=>_e.getBoundingClientRect();function trackElementRect(_e,_){const{scope:et="rect",getRect:tt=getRectFn,onChange:rt}=_,nt=getLoopFn({scope:et,getRect:tt}),it=observedElements.get(_e);return it?(it.callbacks.push(rt),rt(tt(_e))):(observedElements.set(_e,{rect:{},callbacks:[rt]}),observedElements.size===1&&(rafId=requestAnimationFrame(nt))),function(){const lt=observedElements.get(_e);if(!lt)return;const ct=lt.callbacks.indexOf(rt);ct>-1&&lt.callbacks.splice(ct,1),lt.callbacks.length===0&&(observedElements.delete(_e),observedElements.size===0&&cancelAnimationFrame(rafId))}}function getLoopFn(_e){const{scope:_,getRect:et}=_e,tt=getEqualityFn(_);return function rt(){const nt=[];observedElements.forEach((it,at)=>{const lt=et(at);tt(it.rect,lt)||(it.rect=lt,nt.push(it))}),nt.forEach(it=>{it.callbacks.forEach(at=>at(it.rect))}),rafId=requestAnimationFrame(rt)}}var isEqualSize=(_e,_)=>_e.width===_.width&&_e.height===_.height,isEqualPosition=(_e,_)=>_e.top===_.top&&_e.left===_.left,isEqualRect=(_e,_)=>isEqualSize(_e,_)&&isEqualPosition(_e,_);function getEqualityFn(_e){return _e==="size"?isEqualSize:_e==="position"?isEqualPosition:isEqualRect}var anatomy$e=createAnatomy("radio-group").parts("root","label","item","itemText","itemControl","indicator");anatomy$e.build();var dom$d=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`radio-group:${_e.id}`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`radio-group:${_e.id}:label`},getItemId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.item)==null?void 0:tt.call(et,_))??`radio-group:${_e.id}:radio:${_}`},getItemHiddenInputId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemHiddenInput)==null?void 0:tt.call(et,_))??`radio-group:${_e.id}:radio:input:${_}`},getItemControlId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemControl)==null?void 0:tt.call(et,_))??`radio-group:${_e.id}:radio:control:${_}`},getItemLabelId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemLabel)==null?void 0:tt.call(et,_))??`radio-group:${_e.id}:radio:label:${_}`},getIndicatorId:_e=>{var _;return((_=_e.ids)==null?void 0:_.indicator)??`radio-group:${_e.id}:indicator`},getRootEl:_e=>dom$d.getById(_e,dom$d.getRootId(_e)),getItemHiddenInputEl:(_e,_)=>dom$d.getById(_e,dom$d.getItemHiddenInputId(_e,_)),getIndicatorEl:_e=>dom$d.getById(_e,dom$d.getIndicatorId(_e)),getFirstEnabledInputEl:_e=>{var _;return(_=dom$d.getRootEl(_e))==null?void 0:_.querySelector("input:not(:disabled)")},getFirstEnabledAndCheckedInputEl:_e=>{var _;return(_=dom$d.getRootEl(_e))==null?void 0:_.querySelector("input:not(:disabled):checked")},getInputEls:_e=>{const et=`input[type=radio][data-ownedby='${CSS.escape(dom$d.getRootId(_e))}']:not([disabled])`;return queryAll(dom$d.getRootEl(_e),et)},getActiveRadioEl:_e=>{if(_e.value)return dom$d.getById(_e,dom$d.getItemId(_e,_e.value))},getOffsetRect:_e=>({left:(_e==null?void 0:_e.offsetLeft)??0,top:(_e==null?void 0:_e.offsetTop)??0,width:(_e==null?void 0:_e.offsetWidth)??0,height:(_e==null?void 0:_e.offsetHeight)??0}),getRectById:(_e,_)=>{const et=dom$d.getById(_e,dom$d.getItemId(_e,_));if(et)return dom$d.resolveRect(dom$d.getOffsetRect(et))},resolveRect:_e=>({width:`${_e.width}px`,height:`${_e.height}px`,left:`${_e.left}px`,top:`${_e.top}px`})});createProps$1()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value"]);createProps$1()(["value","disabled","invalid"]);var anatomy$d=createAnatomy("rating-group").parts("root","label","item","control");anatomy$d.build();var dom$c=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`rating:${_e.id}`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`rating:${_e.id}:label`},getHiddenInputId:_e=>{var _;return((_=_e.ids)==null?void 0:_.hiddenInput)??`rating:${_e.id}:input`},getControlId:_e=>{var _;return((_=_e.ids)==null?void 0:_.control)??`rating:${_e.id}:control`},getItemId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.item)==null?void 0:tt.call(et,_))??`rating:${_e.id}:item:${_}`},getRootEl:_e=>dom$c.getById(_e,dom$c.getRootId(_e)),getControlEl:_e=>dom$c.getById(_e,dom$c.getControlId(_e)),getRadioEl:(_e,_=_e.value)=>{const et=`[role=radio][aria-posinset='${Math.ceil(_)}']`;return query(dom$c.getControlEl(_e),et)},getHiddenInputEl:_e=>dom$c.getById(_e,dom$c.getHiddenInputId(_e)),dispatchChangeEvent:_e=>{const _=dom$c.getHiddenInputEl(_e);_&&dispatchInputValueEvent(_,{value:_e.value})}});createProps$1()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value"]);createProps$1()(["index"]);var __defProp$1=Object.defineProperty,__defNormalProp$1=(_e,_,et)=>_ in _e?__defProp$1(_e,_,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[_]=et,__publicField$1=(_e,_,et)=>__defNormalProp$1(_e,_+"",et),fallback$1={itemToValue(_e){return typeof _e=="string"?_e:isObject$1(_e)&&hasProp(_e,"value")?_e.value:""},itemToString(_e){return typeof _e=="string"?_e:isObject$1(_e)&&hasProp(_e,"label")?_e.label:fallback$1.itemToValue(_e)},isItemDisabled(_e){return isObject$1(_e)&&hasProp(_e,"disabled")?!!_e.disabled:!1}},ListCollection=class{constructor(_e){this.options=_e,__publicField$1(this,"items"),this.items=[..._e.items]}isEqual(_e){return isEqual$2(this.items,_e.items)}setItems(_e){this.items=Array.from(_e)}getValues(_e=this.items){return Array.from(_e).map(_=>this.getItemValue(_)).filter(Boolean)}find(_e){if(_e==null)return null;const _=this.items.findIndex(et=>this.getItemValue(et)===_e);return _!=null?this.items[_]:null}findMany(_e){return Array.from(_e).map(_=>this.find(_)).filter(Boolean)}at(_e){return this.items[_e]??null}sortFn(_e,_){const et=this.indexOf(_e),tt=this.indexOf(_);return(et??0)-(tt??0)}sort(_e){return[..._e].sort(this.sortFn.bind(this))}getItemValue(_e){var _,et;return _e==null?null:((et=(_=this.options).itemToValue)==null?void 0:et.call(_,_e))??fallback$1.itemToValue(_e)}getItemDisabled(_e){var _,et;return _e==null?!1:((et=(_=this.options).isItemDisabled)==null?void 0:et.call(_,_e))??fallback$1.isItemDisabled(_e)}stringifyItem(_e){var _,et;return _e==null?null:((et=(_=this.options).itemToString)==null?void 0:et.call(_,_e))??fallback$1.itemToString(_e)}stringify(_e){return _e==null?null:this.stringifyItem(this.find(_e))}stringifyItems(_e,_=", "){return Array.from(_e).map(et=>this.stringifyItem(et)).filter(Boolean).join(_)}stringifyMany(_e,_){return this.stringifyItems(this.findMany(_e),_)}has(_e){return this.indexOf(_e)!==-1}hasItem(_e){return _e==null?!1:this.has(this.getItemValue(_e))}get size(){return this.items.length}get firstValue(){let _e=0;for(;this.getItemDisabled(this.at(_e));)_e++;return this.getItemValue(this.at(_e))}get lastValue(){let _e=this.size-1;for(;this.getItemDisabled(this.at(_e));)_e--;return this.getItemValue(this.at(_e))}getNextValue(_e,_=1,et=!1){let tt=this.indexOf(_e);if(tt===-1)return null;for(tt=et?Math.min(tt+_,this.size-1):tt+_;tt<=this.size&&this.getItemDisabled(this.at(tt));)tt++;return this.getItemValue(this.at(tt))}getPreviousValue(_e,_=1,et=!1){let tt=this.indexOf(_e);if(tt===-1)return null;for(tt=et?Math.max(tt-_,0):tt-_;tt>=0&&this.getItemDisabled(this.at(tt));)tt--;return this.getItemValue(this.at(tt))}indexOf(_e){return _e==null?-1:this.items.findIndex(_=>this.getItemValue(_)===_e)}getByText(_e,_){let et=_!=null?wrap(this.items,this.indexOf(_)):this.items;return _e.length===1&&(et=et.filter(rt=>this.getItemValue(rt)!==_)),et.find(rt=>match$2(this.stringifyItem(rt),_e))}search(_e,_){const{state:et,currentValue:tt,timeout:rt=350}=_,nt=et.keysSoFar+_e,at=nt.length>1&&Array.from(nt).every(ot=>ot===nt[0])?nt[0]:nt,lt=this.getByText(at,tt),ct=this.getItemValue(lt);function ut(){clearTimeout(et.timer),et.timer=-1}function st(ot){et.keysSoFar=ot,ut(),ot!==""&&(et.timer=+setTimeout(()=>{st(""),ut()},rt))}return st(nt),ct}*[Symbol.iterator](){yield*this.items}insertBefore(_e,_){const et=this.indexOf(_e);et!==-1&&this.items.splice(et,0,_)}insertAfter(_e,_){const et=this.indexOf(_e);et!==-1&&this.items.splice(et+1,0,_)}reorder(_e,_){if(_e===-1||_===-1||_e===_)return;const[et]=this.items.splice(_e,1);this.items.splice(_,0,et)}json(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},match$2=(_e,_)=>!!(_e!=null&&_e.toLowerCase().startsWith(_.toLowerCase())),wrap=(_e,_)=>_e.map((et,tt)=>_e[(Math.max(_,0)+tt)%_e.length]);const createListCollection=_e=>ref$1(new ListCollection(_e)),[SelectProvider,useSelectContext]=createContext({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),SelectClearTrigger$2=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=mergeProps$1(et.getClearTriggerProps(),_e);return jsxRuntimeExports.jsx(ark.button,{...tt,ref:_})});SelectClearTrigger$2.displayName="SelectClearTrigger";const SelectContent$2=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=usePresenceContext(),rt=mergeProps$1(et.getContentProps(),tt.getPresenceProps(),_e);return tt.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...rt,ref:composeRefs(tt.ref,_)})});SelectContent$2.displayName="SelectContent";const SelectContext$1=_e=>_e.children(useSelectContext()),SelectControl$1=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=mergeProps$1(et.getControlProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});SelectControl$1.displayName="SelectControl";const SelectHiddenSelect$1=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=mergeProps$1(et.getHiddenSelectProps(),_e),rt=et.value.length===0,nt=useFieldContext();return jsxRuntimeExports.jsxs(ark.select,{"aria-describedby":nt==null?void 0:nt.ariaDescribedby,...tt,ref:_,children:[rt&&jsxRuntimeExports.jsx("option",{value:""}),et.collection.items.map((it,at)=>jsxRuntimeExports.jsx("option",{value:et.collection.getItemValue(it)??"",disabled:et.collection.getItemDisabled(it)},at))]})});SelectHiddenSelect$1.displayName="SelectHiddenSelect";const SelectIndicator$1=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=mergeProps$1(et.getIndicatorProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});SelectIndicator$1.displayName="SelectIndicator";const[SelectItemProvider,useSelectItemContext]=createContext({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[SelectItemPropsProvider,useSelectItemPropsContext]=createContext({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),SelectItem$2=reactExports.forwardRef((_e,_)=>{const[et,tt]=createSplitProps()(_e,["item","persistFocus"]),rt=useSelectContext(),nt=mergeProps$1(rt.getItemProps(et),tt),it=rt.getItemState(et);return jsxRuntimeExports.jsx(SelectItemPropsProvider,{value:et,children:jsxRuntimeExports.jsx(SelectItemProvider,{value:it,children:jsxRuntimeExports.jsx(ark.div,{...nt,ref:_})})})});SelectItem$2.displayName="SelectItem";const[SelectItemGroupPropsProvider,useSelectItemGroupPropsContext]=createContext({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),SelectItemGroup$1=reactExports.forwardRef((_e,_)=>{const et=reactExports.useId(),[tt,rt]=createSplitProps()(_e,["id"]),nt={id:et,...tt},it=useSelectContext(),at=mergeProps$1(it.getItemGroupProps(nt),rt);return jsxRuntimeExports.jsx(SelectItemGroupPropsProvider,{value:nt,children:jsxRuntimeExports.jsx(ark.div,{...at,ref:_})})});SelectItemGroup$1.displayName="SelectItemGroup";const SelectItemGroupLabel$1=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=useSelectItemGroupPropsContext(),rt=mergeProps$1(et.getItemGroupLabelProps({htmlFor:tt.id}),_e);return jsxRuntimeExports.jsx(ark.div,{...rt,ref:_})});SelectItemGroupLabel$1.displayName="SelectItemGroupLabel";const SelectItemIndicator$1=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=useSelectItemPropsContext(),rt=mergeProps$1(et.getItemIndicatorProps(tt),_e);return jsxRuntimeExports.jsx(ark.div,{...rt,ref:_})});SelectItemIndicator$1.displayName="SelectItemIndicator";const SelectItemText=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=useSelectItemPropsContext(),rt=mergeProps$1(et.getItemTextProps(tt),_e);return jsxRuntimeExports.jsx(ark.span,{...rt,ref:_})});SelectItemText.displayName="SelectItemText";const SelectLabel=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=mergeProps$1(et.getLabelProps(),_e);return jsxRuntimeExports.jsx(ark.label,{...tt,ref:_})});SelectLabel.displayName="SelectLabel";const SelectPositioner$1=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=mergeProps$1(et.getPositionerProps(),_e);return usePresenceContext().unmounted?null:jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});SelectPositioner$1.displayName="SelectPositioner";var anatomy$c=createAnatomy("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),parts$5=anatomy$c.build(),collection=_e=>ref$1(new ListCollection(_e));collection.empty=()=>ref$1(new ListCollection({items:[]}));var dom$b=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`select:${_e.id}`},getContentId:_e=>{var _;return((_=_e.ids)==null?void 0:_.content)??`select:${_e.id}:content`},getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`select:${_e.id}:trigger`},getClearTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.clearTrigger)??`select:${_e.id}:clear-trigger`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`select:${_e.id}:label`},getControlId:_e=>{var _;return((_=_e.ids)==null?void 0:_.control)??`select:${_e.id}:control`},getItemId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.item)==null?void 0:tt.call(et,_))??`select:${_e.id}:option:${_}`},getHiddenSelectId:_e=>{var _;return((_=_e.ids)==null?void 0:_.hiddenSelect)??`select:${_e.id}:select`},getPositionerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.positioner)??`select:${_e.id}:positioner`},getItemGroupId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemGroup)==null?void 0:tt.call(et,_))??`select:${_e.id}:optgroup:${_}`},getItemGroupLabelId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.itemGroupLabel)==null?void 0:tt.call(et,_))??`select:${_e.id}:optgroup-label:${_}`},getHiddenSelectEl:_e=>dom$b.getById(_e,dom$b.getHiddenSelectId(_e)),getContentEl:_e=>dom$b.getById(_e,dom$b.getContentId(_e)),getControlEl:_e=>dom$b.getById(_e,dom$b.getControlId(_e)),getTriggerEl:_e=>dom$b.getById(_e,dom$b.getTriggerId(_e)),getClearTriggerEl:_e=>dom$b.getById(_e,dom$b.getClearTriggerId(_e)),getPositionerEl:_e=>dom$b.getById(_e,dom$b.getPositionerId(_e)),getHighlightedOptionEl(_e){return _e.highlightedValue?dom$b.getById(_e,dom$b.getItemId(_e,_e.highlightedValue)):null}});function connect$5(_e,_,et){const tt=_e.context.isDisabled,rt=_e.context.invalid,nt=_e.context.readOnly,it=_e.context.isInteractive,at=_e.context.composite,lt=_e.hasTag("open"),ct=_e.matches("focused"),ut=_e.context.highlightedValue,st=_e.context.highlightedItem,ot=_e.context.selectedItems,dt=_e.context.isTypingAhead,ft=_e.context.collection,ht=ut?dom$b.getItemId(_e.context,ut):void 0;function mt(yt){const vt=ft.getItemDisabled(yt.item),bt=ft.getItemValue(yt.item);return{value:bt,disabled:!!(tt||vt),highlighted:ut===bt,selected:_e.context.value.includes(bt)}}const gt=getPlacementStyles({..._e.context.positioning,placement:_e.context.currentPlacement});return{open:lt,focused:ct,empty:_e.context.value.length===0,highlightedItem:st,highlightedValue:ut,selectedItems:ot,hasSelectedItems:_e.context.hasSelectedItems,value:_e.context.value,valueAsString:_e.context.valueAsString,collection:ft,multiple:!!_e.context.multiple,disabled:!!tt,setCollection(yt){_({type:"COLLECTION.SET",value:yt})},reposition(yt={}){_({type:"POSITIONING.SET",options:yt})},focus(){var yt;(yt=dom$b.getTriggerEl(_e.context))==null||yt.focus({preventScroll:!0})},setOpen(yt){yt!==lt&&_(yt?"OPEN":"CLOSE")},selectValue(yt){_({type:"ITEM.SELECT",value:yt})},setValue(yt){_({type:"VALUE.SET",value:yt})},selectAll(){_({type:"VALUE.SET",value:ft.getValues()})},highlightValue(yt){_({type:"HIGHLIGHTED_VALUE.SET",value:yt})},clearValue(yt){_(yt?{type:"ITEM.CLEAR",value:yt}:{type:"VALUE.CLEAR"})},getItemState:mt,getRootProps(){return et.element({...parts$5.root.attrs,dir:_e.context.dir,id:dom$b.getRootId(_e.context),"data-invalid":dataAttr$1(rt),"data-readonly":dataAttr$1(nt)})},getLabelProps(){return et.label({dir:_e.context.dir,id:dom$b.getLabelId(_e.context),...parts$5.label.attrs,"data-disabled":dataAttr$1(tt),"data-invalid":dataAttr$1(rt),"data-readonly":dataAttr$1(nt),htmlFor:dom$b.getHiddenSelectId(_e.context),onClick(yt){var vt;yt.defaultPrevented||tt||(vt=dom$b.getTriggerEl(_e.context))==null||vt.focus({preventScroll:!0})}})},getControlProps(){return et.element({...parts$5.control.attrs,dir:_e.context.dir,id:dom$b.getControlId(_e.context),"data-state":lt?"open":"closed","data-focus":dataAttr$1(ct),"data-disabled":dataAttr$1(tt),"data-invalid":dataAttr$1(rt)})},getValueTextProps(){return et.element({...parts$5.valueText.attrs,dir:_e.context.dir,"data-disabled":dataAttr$1(tt),"data-invalid":dataAttr$1(rt),"data-focus":dataAttr$1(ct)})},getTriggerProps(){return et.button({id:dom$b.getTriggerId(_e.context),disabled:tt,dir:_e.context.dir,type:"button",role:"combobox","aria-controls":dom$b.getContentId(_e.context),"aria-expanded":lt,"aria-haspopup":"listbox","data-state":lt?"open":"closed","aria-invalid":rt,"aria-labelledby":dom$b.getLabelId(_e.context),...parts$5.trigger.attrs,"data-disabled":dataAttr$1(tt),"data-invalid":dataAttr$1(rt),"data-readonly":dataAttr$1(nt),"data-placement":_e.context.currentPlacement,"data-placeholder-shown":dataAttr$1(!_e.context.hasSelectedItems),onClick(yt){it&&(yt.defaultPrevented||_({type:"TRIGGER.CLICK"}))},onFocus(){_("TRIGGER.FOCUS")},onBlur(){_("TRIGGER.BLUR")},onKeyDown(yt){if(yt.defaultPrevented||!it)return;const bt={ArrowUp(){_({type:"TRIGGER.ARROW_UP"})},ArrowDown(xt){_({type:xt.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){_({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){_({type:"TRIGGER.ARROW_RIGHT"})},Home(){_({type:"TRIGGER.HOME"})},End(){_({type:"TRIGGER.END"})},Enter(){_({type:"TRIGGER.ENTER"})},Space(xt){_(dt?{type:"TRIGGER.TYPEAHEAD",key:xt.key}:{type:"TRIGGER.ENTER"})}}[getEventKey(yt,_e.context)];if(bt){bt(yt),yt.preventDefault();return}getByTypeahead.isValidEvent(yt)&&(_({type:"TRIGGER.TYPEAHEAD",key:yt.key}),yt.preventDefault())}})},getIndicatorProps(){return et.element({...parts$5.indicator.attrs,dir:_e.context.dir,"aria-hidden":!0,"data-state":lt?"open":"closed","data-disabled":dataAttr$1(tt),"data-invalid":dataAttr$1(rt),"data-readonly":dataAttr$1(nt)})},getItemProps(yt){const vt=mt(yt);return et.element({id:dom$b.getItemId(_e.context,vt.value),role:"option",...parts$5.item.attrs,dir:_e.context.dir,"data-value":vt.value,"aria-selected":vt.selected,"data-state":vt.selected?"checked":"unchecked","data-highlighted":dataAttr$1(vt.highlighted),"data-disabled":dataAttr$1(vt.disabled),"aria-disabled":ariaAttr(vt.disabled),onPointerMove(bt){vt.disabled||bt.pointerType!=="mouse"||vt.value!==_e.context.highlightedValue&&_({type:"ITEM.POINTER_MOVE",value:vt.value})},onClick(bt){bt.defaultPrevented||vt.disabled||_({type:"ITEM.CLICK",src:"pointerup",value:vt.value})},onPointerLeave(bt){vt.disabled||yt.persistFocus||bt.pointerType!=="mouse"||!_e.previousEvent.type.includes("POINTER")||_({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(yt){const vt=mt(yt);return et.element({...parts$5.itemText.attrs,"data-state":vt.selected?"checked":"unchecked","data-disabled":dataAttr$1(vt.disabled),"data-highlighted":dataAttr$1(vt.highlighted)})},getItemIndicatorProps(yt){const vt=mt(yt);return et.element({"aria-hidden":!0,...parts$5.itemIndicator.attrs,"data-state":vt.selected?"checked":"unchecked",hidden:!vt.selected})},getItemGroupLabelProps(yt){const{htmlFor:vt}=yt;return et.element({...parts$5.itemGroupLabel.attrs,id:dom$b.getItemGroupLabelId(_e.context,vt),role:"group",dir:_e.context.dir})},getItemGroupProps(yt){const{id:vt}=yt;return et.element({...parts$5.itemGroup.attrs,"data-disabled":dataAttr$1(tt),id:dom$b.getItemGroupId(_e.context,vt),"aria-labelledby":dom$b.getItemGroupLabelId(_e.context,vt),dir:_e.context.dir})},getClearTriggerProps(){return et.button({...parts$5.clearTrigger.attrs,id:dom$b.getClearTriggerId(_e.context),type:"button","aria-label":"Clear value","data-invalid":dataAttr$1(rt),disabled:tt,hidden:!_e.context.hasSelectedItems,dir:_e.context.dir,onClick(yt){yt.defaultPrevented||_("CLEAR.CLICK")}})},getHiddenSelectProps(){return et.select({name:_e.context.name,form:_e.context.form,disabled:tt,multiple:_e.context.multiple,required:_e.context.required,"aria-hidden":!0,id:dom$b.getHiddenSelectId(_e.context),defaultValue:_e.context.multiple?_e.context.value:_e.context.value[0],style:visuallyHiddenStyle,tabIndex:-1,onFocus(){var yt;(yt=dom$b.getTriggerEl(_e.context))==null||yt.focus({preventScroll:!0})},"aria-labelledby":dom$b.getLabelId(_e.context)})},getPositionerProps(){return et.element({...parts$5.positioner.attrs,dir:_e.context.dir,id:dom$b.getPositionerId(_e.context),style:gt.floating})},getContentProps(){return et.element({hidden:!lt,dir:_e.context.dir,id:dom$b.getContentId(_e.context),role:at?"listbox":"dialog",...parts$5.content.attrs,"data-state":lt?"open":"closed","data-placement":_e.context.currentPlacement,"data-activedescendant":ht,"aria-activedescendant":at?ht:void 0,"aria-multiselectable":_e.context.multiple&&at?!0:void 0,"aria-labelledby":dom$b.getLabelId(_e.context),tabIndex:0,onKeyDown(yt){if(!it||!isSelfTarget(yt))return;if(yt.key==="Tab"&&!isValidTabEvent(yt)){yt.preventDefault();return}const vt={ArrowUp(){_({type:"CONTENT.ARROW_UP"})},ArrowDown(){_({type:"CONTENT.ARROW_DOWN"})},Home(){_({type:"CONTENT.HOME"})},End(){_({type:"CONTENT.END"})},Enter(){_({type:"ITEM.CLICK",src:"keydown.enter"})},Space(_t){var St;dt?_({type:"CONTENT.TYPEAHEAD",key:_t.key}):(St=vt.Enter)==null||St.call(vt,_t)}},bt=vt[getEventKey(yt)];if(bt){bt(yt),yt.preventDefault();return}const xt=getEventTarget(yt);isEditableElement(xt)||getByTypeahead.isValidEvent(yt)&&(_({type:"CONTENT.TYPEAHEAD",key:yt.key}),yt.preventDefault())}})},getListProps(){return et.element({...parts$5.list.attrs,tabIndex:0,role:at?void 0:"listbox","aria-labelledby":dom$b.getTriggerId(_e.context),"aria-activedescendant":at?void 0:ht,"aria-multiselectable":!at&&_e.context.multiple?!0:void 0})}}}var{and:and$2,not:not$4,or:or$1}=guards;function machine$4(_e){const _=compact$2(_e);return createMachine({id:"select",context:{value:[],highlightedValue:null,loopFocus:!1,closeOnSelect:!_.multiple,disabled:!1,readOnly:!1,composite:!0,..._,highlightedItem:null,selectedItems:[],valueAsString:"",collection:_.collection??collection.empty(),typeahead:getByTypeahead.defaultOptions,fieldsetDisabled:!1,positioning:{placement:"bottom-start",gutter:8,..._.positioning}},computed:{hasSelectedItems:et=>et.value.length>0,isTypingAhead:et=>et.typeahead.keysSoFar!=="",isDisabled:et=>!!et.disabled||et.fieldsetDisabled,isInteractive:et=>!(et.isDisabled||et.readOnly)},initial:_.open?"open":"idle",created:["syncCollection"],entry:["syncSelectElement"],watch:{open:["toggleVisibility"],value:["syncSelectedItems","syncSelectElement"],highlightedValue:["syncHighlightedItem"],collection:["syncCollection"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]},"COLLECTION.SET":{actions:["setCollection"]}},activities:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:or$1("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:and$2(not$4("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:not$4("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:and$2(not$4("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:not$4("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:not$4("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:not$4("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:not$4("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],activities:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":{target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:and$2("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:and$2("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:and$2("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}}},{guards:{loop:et=>!!et.loopFocus,multiple:et=>!!et.multiple,hasSelectedItems:et=>!!et.hasSelectedItems,hasHighlightedItem:et=>et.highlightedValue!=null,isFirstItemHighlighted:et=>et.highlightedValue===et.collection.firstValue,isLastItemHighlighted:et=>et.highlightedValue===et.collection.lastValue,closeOnSelect:(et,tt)=>!!(tt.closeOnSelect??et.closeOnSelect),isOpenControlled:et=>!!et["open.controlled"],isTriggerClickEvent:(et,tt)=>{var rt;return((rt=tt.previousEvent)==null?void 0:rt.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:(et,tt)=>{var rt;return((rt=tt.previousEvent)==null?void 0:rt.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:(et,tt)=>{var rt;return((rt=tt.previousEvent)==null?void 0:rt.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:(et,tt)=>{var rt;return((rt=tt.previousEvent)==null?void 0:rt.type)==="TRIGGER.ARROW_DOWN"}},activities:{trackFormControlState(et,tt,{initialContext:rt}){return trackFormControl(dom$b.getHiddenSelectEl(et),{onFieldsetDisabledChange(nt){et.fieldsetDisabled=nt},onFormReset(){set$5.selectedItems(et,rt.value)}})},trackDismissableElement(et,tt,{send:rt}){const nt=()=>dom$b.getContentEl(et);let it=!0;return trackDismissableElement(nt,{defer:!0,exclude:[dom$b.getTriggerEl(et),dom$b.getClearTriggerEl(et)],onFocusOutside:et.onFocusOutside,onPointerDownOutside:et.onPointerDownOutside,onInteractOutside(at){var lt;(lt=et.onInteractOutside)==null||lt.call(et,at),it=!(at.detail.focusable||at.detail.contextmenu)},onDismiss(){rt({type:"CLOSE",src:"interact-outside",restoreFocus:it})}})},computePlacement(et){return et.currentPlacement=et.positioning.placement,getPlacement(()=>dom$b.getTriggerEl(et),()=>dom$b.getPositionerEl(et),{defer:!0,...et.positioning,onComplete(nt){et.currentPlacement=nt.placement}})},scrollToHighlightedItem(et,tt,{getState:rt}){const nt=at=>{if(et.highlightedValue==null||rt().event.type.includes("POINTER"))return;const ct=dom$b.getHighlightedOptionEl(et),ut=dom$b.getContentEl(et);if(et.scrollToIndexFn){const st=et.collection.indexOf(et.highlightedValue);et.scrollToIndexFn({index:st,immediate:at});return}scrollIntoView(ct,{rootEl:ut,block:"nearest"})};return raf$2(()=>nt(!0)),observeAttributes(()=>dom$b.getContentEl(et),{defer:!0,attributes:["data-activedescendant"],callback(){nt(!1)}})}},actions:{reposition(et,tt){const rt=()=>dom$b.getPositionerEl(et);getPlacement(dom$b.getTriggerEl(et),rt,{...et.positioning,...tt.options,defer:!0,listeners:!1,onComplete(nt){et.currentPlacement=nt.placement}})},toggleVisibility(et,tt,{send:rt}){rt({type:et.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:tt})},highlightPreviousItem(et){if(et.highlightedValue==null)return;const tt=et.collection.getPreviousValue(et.highlightedValue);set$5.highlightedItem(et,tt)},highlightNextItem(et){if(et.highlightedValue==null)return;const tt=et.collection.getNextValue(et.highlightedValue);set$5.highlightedItem(et,tt)},highlightFirstItem(et){const tt=et.collection.firstValue;set$5.highlightedItem(et,tt)},highlightLastItem(et){const tt=et.collection.lastValue;set$5.highlightedItem(et,tt)},setInitialFocus(et){raf$2(()=>{const tt=getInitialFocus({root:dom$b.getContentEl(et)});tt==null||tt.focus({preventScroll:!0})})},focusTriggerEl(et,tt){var nt;const rt=tt.restoreFocus??((nt=tt.previousEvent)==null?void 0:nt.restoreFocus);rt!=null&&!rt||raf$2(()=>{const it=dom$b.getTriggerEl(et);it==null||it.focus({preventScroll:!0})})},selectHighlightedItem(et,tt){let rt=tt.value??et.highlightedValue;if(rt==null)return;const nt=et.deselectable&&!et.multiple&&et.value.includes(rt);rt=nt?null:rt,set$5.selectedItem(et,rt,nt)},highlightComputedFirstItem(et){const tt=et.hasSelectedItems?et.collection.sort(et.value)[0]:et.collection.firstValue;set$5.highlightedItem(et,tt)},highlightComputedLastItem(et){const tt=et.hasSelectedItems?et.collection.sort(et.value)[0]:et.collection.lastValue;set$5.highlightedItem(et,tt)},highlightFirstSelectedItem(et){if(!et.hasSelectedItems)return;const[tt]=et.collection.sort(et.value);set$5.highlightedItem(et,tt)},highlightItem(et,tt){set$5.highlightedItem(et,tt.value)},highlightMatchingItem(et,tt){const rt=et.collection.search(tt.key,{state:et.typeahead,currentValue:et.highlightedValue});rt!=null&&set$5.highlightedItem(et,rt)},setHighlightedItem(et,tt){set$5.highlightedItem(et,tt.value)},clearHighlightedItem(et){set$5.highlightedItem(et,null,!0)},selectItem(et,tt){const rt=et.deselectable&&!et.multiple&&et.value.includes(tt.value),nt=rt?null:tt.value;set$5.selectedItem(et,nt,rt)},clearItem(et,tt){const rt=et.value.filter(nt=>nt!==tt.value);set$5.selectedItems(et,rt)},setSelectedItems(et,tt){set$5.selectedItems(et,tt.value)},clearSelectedItems(et){set$5.selectedItems(et,[])},selectPreviousItem(et){const tt=et.collection.getPreviousValue(et.value[0]);set$5.selectedItem(et,tt)},selectNextItem(et){const tt=et.collection.getNextValue(et.value[0]);set$5.selectedItem(et,tt)},selectFirstItem(et){const tt=et.collection.firstValue;set$5.selectedItem(et,tt)},selectLastItem(et){const tt=et.collection.lastValue;set$5.selectedItem(et,tt)},selectMatchingItem(et,tt){const rt=et.collection.search(tt.key,{state:et.typeahead,currentValue:et.value[0]});rt!=null&&set$5.selectedItem(et,rt)},scrollContentToTop(et){var tt;et.scrollToIndexFn?et.scrollToIndexFn({index:0,immediate:!0}):(tt=dom$b.getContentEl(et))==null||tt.scrollTo(0,0)},invokeOnOpen(et){var tt;(tt=et.onOpenChange)==null||tt.call(et,{open:!0})},invokeOnClose(et){var tt;(tt=et.onOpenChange)==null||tt.call(et,{open:!1})},syncSelectElement(et){const tt=dom$b.getHiddenSelectEl(et);if(tt){if(et.value.length===0&&!et.multiple){tt.selectedIndex=-1;return}for(const rt of tt.options)rt.selected=et.value.includes(rt.value)}},setCollection(et,tt){et.collection=tt.value},syncCollection(et){const tt=et.collection.findMany(et.value),rt=et.collection.stringifyItems(tt);et.highlightedItem=et.collection.find(et.highlightedValue),et.selectedItems=tt,et.valueAsString=rt},syncSelectedItems(et){sync$1.valueChange(et)},syncHighlightedItem(et){sync$1.highlightChange(et)}}})}function dispatchChangeEvent(_e){raf$2(()=>{const _=dom$b.getHiddenSelectEl(_e);if(!_)return;const et=dom$b.getWin(_e),tt=new et.Event("change",{bubbles:!0,composed:!0});_.dispatchEvent(tt)})}var sync$1={valueChange:_e=>{const _=_e.selectedItems;_e.selectedItems=_e.value.map(et=>{const tt=_.find(rt=>_e.collection.getItemValue(rt)===et);return tt||_e.collection.find(et)}),_e.valueAsString=_e.collection.stringifyItems(_e.selectedItems)},highlightChange:_e=>{_e.highlightedItem=_e.collection.find(_e.highlightedValue)}},invoke$3={valueChange:_e=>{var _;sync$1.valueChange(_e),(_=_e.onValueChange)==null||_.call(_e,{value:Array.from(_e.value),items:Array.from(_e.selectedItems)}),dispatchChangeEvent(_e)},highlightChange:_e=>{var _;sync$1.highlightChange(_e),(_=_e.onHighlightChange)==null||_.call(_e,{highlightedValue:_e.highlightedValue,highlightedItem:_e.highlightedItem,highlightedIndex:_e.collection.indexOf(_e.highlightedValue)})}},set$5={selectedItem:(_e,_,et=!1)=>{if(!isEqual$2(_e.value,_)&&!(_==null&&!et)){if(_==null&&et){_e.value=[],invoke$3.valueChange(_e);return}_e.value=_e.multiple?addOrRemove(_e.value,_):[_],invoke$3.valueChange(_e)}},selectedItems:(_e,_)=>{isEqual$2(_e.value,_)||(_e.value=_,invoke$3.valueChange(_e))},highlightedItem:(_e,_,et=!1)=>{isEqual$2(_e.highlightedValue,_)||_==null&&!et||(_e.highlightedValue=_??null,invoke$3.highlightChange(_e))}};createProps$1()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);createProps$1()(["item","persistFocus"]);createProps$1()(["id"]);createProps$1()(["htmlFor"]);const useSelect=_e=>{const{collection:_,...et}=_e,tt=useLocaleContext(),rt=useEnvironmentContext(),nt=useFieldContext(),it={id:reactExports.useId(),ids:{label:nt==null?void 0:nt.ids.label,hiddenSelect:nt==null?void 0:nt.ids.control},disabled:nt==null?void 0:nt.disabled,readOnly:nt==null?void 0:nt.readOnly,invalid:nt==null?void 0:nt.invalid,required:nt==null?void 0:nt.required,dir:tt.dir,getRootNode:rt.getRootNode,collection:_,open:_e.defaultOpen,value:_e.defaultValue,"open.controlled":_e.open!==void 0,...et},at=(()=>{const{collection:st,...ot}=it;return{...ot,value:_e.value,onValueChange:useEvent$1(_e.onValueChange,{sync:!0}),onHighlightChange:useEvent$1(_e.onHighlightChange),onOpenChange:useEvent$1(_e.onOpenChange)}})(),[lt,ct,ut]=useMachine(machine$4(it),{context:at});return reactExports.useEffect(()=>{ut.setContext({collection:_})},[_]),connect$5(lt,ct,normalizeProps)},SelectImpl$1=(_e,_)=>{const[et,tt]=splitPresenceProps(_e),[rt,nt]=createSplitProps()(tt,["closeOnSelect","collection","composite","defaultOpen","defaultValue","deselectable","disabled","form","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),it=useSelect(rt),at=usePresence(mergeProps$1({present:it.open},et)),lt=mergeProps$1(it.getRootProps(),nt);return jsxRuntimeExports.jsx(SelectProvider,{value:it,children:jsxRuntimeExports.jsx(PresenceProvider,{value:at,children:jsxRuntimeExports.jsx(ark.div,{...lt,ref:_})})})},SelectRoot$2=reactExports.forwardRef(SelectImpl$1),SelectImpl=(_e,_)=>{const[et,tt]=splitPresenceProps(_e),[{value:rt},nt]=createSplitProps()(tt,["value"]),it=usePresence(mergeProps$1({present:rt.open},et)),at=mergeProps$1(rt.getRootProps(),nt);return jsxRuntimeExports.jsx(SelectProvider,{value:rt,children:jsxRuntimeExports.jsx(PresenceProvider,{value:it,children:jsxRuntimeExports.jsx(ark.div,{...at,ref:_})})})},SelectRootProvider=reactExports.forwardRef(SelectImpl),SelectTrigger$2=reactExports.forwardRef((_e,_)=>{const et=useSelectContext(),tt=mergeProps$1(et.getTriggerProps(),_e);return jsxRuntimeExports.jsx(ark.button,{...tt,ref:_})});SelectTrigger$2.displayName="SelectTrigger";const SelectValueText$2=reactExports.forwardRef((_e,_)=>{const{children:et,placeholder:tt,...rt}=_e,nt=useSelectContext(),it=mergeProps$1(nt.getValueTextProps(),rt);return jsxRuntimeExports.jsx(ark.span,{...it,ref:_,children:et||nt.valueAsString||tt})});SelectValueText$2.displayName="SelectValueText";var anatomy$b=createAnatomy("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");anatomy$b.build();function getBounds(_e){const _=_e[0],et=_e[_e.length-1];return[_,et]}function getRangeOffsets(_e){const[_,et]=getBounds(_e.valuePercent);if(_e.valuePercent.length===1){if(_e.origin==="center"){const tt=_e.valuePercent[0]<50,rt=tt?`${_e.valuePercent[0]}%`:"50%",nt=tt?"50%":`${100-_e.valuePercent[0]}%`;return{start:rt,end:nt}}return{start:"0%",end:`${100-et}%`}}return{start:`${_}%`,end:`${100-et}%`}}function getRangeStyle(_e){return _e.isVertical?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[_e.isRtl?"right":"left"]:"var(--slider-range-start)",[_e.isRtl?"left":"right"]:"var(--slider-range-end)"}}function getVerticalThumbOffset(_e){const{height:_=0}=_e.thumbSize??{},et=getValueTransformer([_e.min,_e.max],[-_/2,_/2]);return parseFloat(et(_e.value).toFixed(2))}function getHorizontalThumbOffset(_e){const{width:_=0}=_e.thumbSize??{};if(_e.isRtl){const tt=getValueTransformer([_e.max,_e.min],[-_/2,_/2]);return-1*parseFloat(tt(_e.value).toFixed(2))}const et=getValueTransformer([_e.min,_e.max],[-_/2,_/2]);return parseFloat(et(_e.value).toFixed(2))}function getOffset$2(_e,_){if(_e.thumbAlignment==="center")return`${_}%`;const et=_e.isVertical?getVerticalThumbOffset(_e):getHorizontalThumbOffset(_e);return`calc(${_}% - ${et}px)`}function getThumbOffset(_e){let _=getValuePercent(_e.value,_e.min,_e.max)*100;return getOffset$2(_e,_)}function getVisibility(_e){let _="visible";return _e.thumbAlignment==="contain"&&!_e.hasMeasuredThumbSize&&(_="hidden"),_}function getThumbStyle(_e,_){const et=_e.isVertical?"bottom":"insetInlineStart";return{visibility:getVisibility(_e),position:"absolute",transform:"var(--slider-thumb-transform)",[et]:`var(--slider-thumb-offset-${_})`}}function getControlStyle(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function getRootStyle(_e){const _=getRangeOffsets(_e);return{..._e.value.reduce((tt,rt,nt)=>{const it=getThumbOffset({..._e,value:rt});return{...tt,[`--slider-thumb-offset-${nt}`]:it}},{}),"--slider-thumb-transform":_e.isVertical?"translateY(50%)":_e.isRtl?"translateX(50%)":"translateX(-50%)","--slider-range-start":_.start,"--slider-range-end":_.end}}function getMarkerStyle(_e,_){return{visibility:getVisibility(_e),position:"absolute",pointerEvents:"none",[_e.isHorizontal?"insetInlineStart":"bottom"]:getThumbOffset({..._e,value:_}),translate:"var(--tx) var(--ty)","--tx":_e.isHorizontal?_e.isRtl?"50%":"-50%":"0%","--ty":_e.isHorizontal?"0%":"50%"}}function getMarkerGroupStyle(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}var styleGetterFns={getRootStyle,getControlStyle,getThumbStyle,getRangeStyle,getMarkerStyle,getMarkerGroupStyle},dom$a=createScope({...styleGetterFns,getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`slider:${_e.id}`},getThumbId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.thumb)==null?void 0:tt.call(et,_))??`slider:${_e.id}:thumb:${_}`},getHiddenInputId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.hiddenInput)==null?void 0:tt.call(et,_))??`slider:${_e.id}:input:${_}`},getControlId:_e=>{var _;return((_=_e.ids)==null?void 0:_.control)??`slider:${_e.id}:control`},getTrackId:_e=>{var _;return((_=_e.ids)==null?void 0:_.track)??`slider:${_e.id}:track`},getRangeId:_e=>{var _;return((_=_e.ids)==null?void 0:_.range)??`slider:${_e.id}:range`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`slider:${_e.id}:label`},getValueTextId:_e=>{var _;return((_=_e.ids)==null?void 0:_.valueText)??`slider:${_e.id}:value-text`},getMarkerId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.marker)==null?void 0:tt.call(et,_))??`slider:${_e.id}:marker:${_}`},getRootEl:_e=>dom$a.getById(_e,dom$a.getRootId(_e)),getThumbEl:(_e,_)=>dom$a.getById(_e,dom$a.getThumbId(_e,_)),getHiddenInputEl:(_e,_)=>dom$a.getById(_e,dom$a.getHiddenInputId(_e,_)),getControlEl:_e=>dom$a.getById(_e,dom$a.getControlId(_e)),getElements:_e=>queryAll(dom$a.getControlEl(_e),"[role=slider]"),getFirstEl:_e=>dom$a.getElements(_e)[0],getRangeEl:_e=>dom$a.getById(_e,dom$a.getRangeId(_e)),getValueFromPoint(_e,_){const et=dom$a.getControlEl(_e);if(!et)return;const rt=getRelativePoint(_,et).getPercentValue({orientation:_e.orientation,dir:_e.dir,inverted:{y:!0}});return getPercentValue(rt,_e.min,_e.max,_e.step)},dispatchChangeEvent(_e){Array.from(_e.value).forEach((et,tt)=>{const rt=dom$a.getHiddenInputEl(_e,tt);rt&&dispatchInputValueEvent(rt,{value:et})})}});createProps$1()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value"]);createProps$1()(["index","name"]);const[SwitchProvider,useSwitchContext]=createContext({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),SwitchControl$1=reactExports.forwardRef((_e,_)=>{const et=useSwitchContext(),tt=mergeProps$1(et.getControlProps(),_e);return jsxRuntimeExports.jsx(ark.span,{...tt,ref:_})});SwitchControl$1.displayName="SwitchControl";const SwitchHiddenInput$1=reactExports.forwardRef((_e,_)=>{const et=useSwitchContext(),tt=mergeProps$1(et.getHiddenInputProps(),_e),rt=useFieldContext();return jsxRuntimeExports.jsx(ark.input,{"aria-describedby":rt==null?void 0:rt.ariaDescribedby,...tt,ref:_})});SwitchHiddenInput$1.displayName="SwitchHiddenInput";const SwitchLabel$1=reactExports.forwardRef((_e,_)=>{const et=useSwitchContext(),tt=mergeProps$1(et.getLabelProps(),_e);return jsxRuntimeExports.jsx(ark.span,{...tt,ref:_})});SwitchLabel$1.displayName="SwitchLabel";var anatomy$a=createAnatomy("switch").parts("root","label","control","thumb"),parts$4=anatomy$a.build(),dom$9=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`switch:${_e.id}`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`switch:${_e.id}:label`},getThumbId:_e=>{var _;return((_=_e.ids)==null?void 0:_.thumb)??`switch:${_e.id}:thumb`},getControlId:_e=>{var _;return((_=_e.ids)==null?void 0:_.control)??`switch:${_e.id}:control`},getHiddenInputId:_e=>{var _;return((_=_e.ids)==null?void 0:_.hiddenInput)??`switch:${_e.id}:input`},getRootEl:_e=>dom$9.getById(_e,dom$9.getRootId(_e)),getHiddenInputEl:_e=>dom$9.getById(_e,dom$9.getHiddenInputId(_e))});function connect$4(_e,_,et){const tt=_e.context.isDisabled,rt=_e.context.readOnly,nt=_e.context.checked,it=!tt&&_e.context.focused,at=!tt&&_e.context.focusVisible,lt={"data-active":dataAttr$1(_e.context.active),"data-focus":dataAttr$1(it),"data-focus-visible":dataAttr$1(at),"data-readonly":dataAttr$1(rt),"data-hover":dataAttr$1(_e.context.hovered),"data-disabled":dataAttr$1(tt),"data-state":_e.context.checked?"checked":"unchecked","data-invalid":dataAttr$1(_e.context.invalid)};return{checked:nt,disabled:tt,focused:it,setChecked(ct){_({type:"CHECKED.SET",checked:ct,isTrusted:!1})},toggleChecked(){_({type:"CHECKED.TOGGLE",checked:nt,isTrusted:!1})},getRootProps(){return et.label({...parts$4.root.attrs,...lt,dir:_e.context.dir,id:dom$9.getRootId(_e.context),htmlFor:dom$9.getHiddenInputId(_e.context),onPointerMove(){tt||_({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){tt||_({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(ct){if(tt)return;getEventTarget(ct)===dom$9.getHiddenInputEl(_e.context)&&ct.stopPropagation()}})},getLabelProps(){return et.element({...parts$4.label.attrs,...lt,dir:_e.context.dir,id:dom$9.getLabelId(_e.context)})},getThumbProps(){return et.element({...parts$4.thumb.attrs,...lt,dir:_e.context.dir,id:dom$9.getThumbId(_e.context),"aria-hidden":!0})},getControlProps(){return et.element({...parts$4.control.attrs,...lt,dir:_e.context.dir,id:dom$9.getControlId(_e.context),"aria-hidden":!0})},getHiddenInputProps(){return et.input({id:dom$9.getHiddenInputId(_e.context),type:"checkbox",required:_e.context.required,defaultChecked:nt,disabled:tt,"aria-labelledby":dom$9.getLabelId(_e.context),"aria-invalid":_e.context.invalid,name:_e.context.name,form:_e.context.form,value:_e.context.value,style:visuallyHiddenStyle,onFocus(){const ct=isFocusVisible();_({type:"CONTEXT.SET",context:{focused:!0,focusVisible:ct}})},onBlur(){_({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(ct){if(rt){ct.preventDefault();return}const ut=ct.currentTarget.checked;_({type:"CHECKED.SET",checked:ut,isTrusted:!0})}})}}}var{not:not$3}=guards;function machine$3(_e){const _=compact$2(_e);return createMachine({id:"switch",initial:"ready",context:{checked:!1,label:"switch",value:"on",disabled:!1,..._,fieldsetDisabled:!1,focusVisible:!1},computed:{isDisabled:et=>et.disabled||et.fieldsetDisabled},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:not$3("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:not$3("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}}},{guards:{isTrusted:(et,tt)=>!!tt.isTrusted},activities:{trackPressEvent(et){if(!et.isDisabled)return trackPress({pointerNode:dom$9.getRootEl(et),keyboardNode:dom$9.getHiddenInputEl(et),isValidKey:tt=>tt.key===" ",onPress:()=>et.active=!1,onPressStart:()=>et.active=!0,onPressEnd:()=>et.active=!1})},trackFocusVisible(et){if(!et.isDisabled)return trackFocusVisible({root:dom$9.getRootNode(et)})},trackFormControlState(et,tt,{send:rt,initialContext:nt}){return trackFormControl(dom$9.getHiddenInputEl(et),{onFieldsetDisabledChange(it){et.fieldsetDisabled=it},onFormReset(){rt({type:"CHECKED.SET",checked:!!nt.checked,src:"form-reset"})}})}},actions:{setContext(et,tt){Object.assign(et,tt.context)},syncInputElement(et){const tt=dom$9.getHiddenInputEl(et);tt&&(tt.checked=!!et.checked)},removeFocusIfNeeded(et){et.disabled&&et.focused&&(et.focused=!1)},setChecked(et,tt){set$4.checked(et,tt.checked)},toggleChecked(et,tt){set$4.checked(et,!et.checked)},dispatchChangeEvent(et){const tt=dom$9.getHiddenInputEl(et);dispatchInputCheckedEvent(tt,{checked:et.checked})}}})}var invoke$2={change:_e=>{var _;(_=_e.onCheckedChange)==null||_.call(_e,{checked:_e.checked})}},set$4={checked:(_e,_)=>{isEqual$2(_e.checked,_)||(_e.checked=_,invoke$2.change(_e))}};createProps$1()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const useSwitch=(_e={})=>{const{getRootNode:_}=useEnvironmentContext(),{dir:et}=useLocaleContext(),tt=useFieldContext(),rt={id:reactExports.useId(),ids:{label:tt==null?void 0:tt.ids.label,hiddenInput:tt==null?void 0:tt.ids.control},dir:et,disabled:tt==null?void 0:tt.disabled,readOnly:tt==null?void 0:tt.readOnly,invalid:tt==null?void 0:tt.invalid,required:tt==null?void 0:tt.required,getRootNode:_,checked:_e.defaultChecked,..._e},nt={...rt,checked:_e.checked,onCheckedChange:useEvent$1(_e.onCheckedChange,{sync:!0})},[it,at]=useMachine(machine$3(rt),{context:nt});return connect$4(it,at,normalizeProps)},SwitchRoot$1=reactExports.forwardRef((_e,_)=>{const[et,tt]=createSplitProps()(_e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),rt=useSwitch(et),nt=mergeProps$1(rt.getRootProps(),tt);return jsxRuntimeExports.jsx(SwitchProvider,{value:rt,children:jsxRuntimeExports.jsx(ark.label,{...nt,ref:_})})});SwitchRoot$1.displayName="SwitchRoot";const SwitchRootProvider=reactExports.forwardRef((_e,_)=>{const[{value:et},tt]=createSplitProps()(_e,["value"]),rt=mergeProps$1(et.getRootProps(),tt);return jsxRuntimeExports.jsx(SwitchProvider,{value:et,children:jsxRuntimeExports.jsx(ark.label,{...rt,ref:_})})});SwitchRootProvider.displayName="SwitchRootProvider";const SwitchThumb$1=reactExports.forwardRef((_e,_)=>{const et=useSwitchContext(),tt=mergeProps$1(et.getThumbProps(),_e);return jsxRuntimeExports.jsx(ark.span,{...tt,ref:_})});SwitchThumb$1.displayName="SwitchThumb";const[AvatarProvider,useAvatarContext]=createContext({name:"AvatarContext",hookName:"useAvatarContext",providerName:"<AvatarProvider />"}),AvatarFallback$2=reactExports.forwardRef((_e,_)=>{const et=useAvatarContext(),tt=mergeProps$1(et.getFallbackProps(),_e);return jsxRuntimeExports.jsx(ark.span,{...tt,ref:_})});AvatarFallback$2.displayName="AvatarFallback";const AvatarImage$1=reactExports.forwardRef((_e,_)=>{const et=useAvatarContext(),tt=mergeProps$1(et.getImageProps(),_e);return jsxRuntimeExports.jsx(ark.img,{...tt,ref:_})});AvatarImage$1.displayName="AvatarImage";var anatomy$9=createAnatomy("avatar").parts("root","image","fallback"),parts$3=anatomy$9.build(),dom$8=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`avatar:${_e.id}`},getImageId:_e=>{var _;return((_=_e.ids)==null?void 0:_.image)??`avatar:${_e.id}:image`},getFallbackId:_e=>{var _;return((_=_e.ids)==null?void 0:_.fallback)??`avatar:${_e.id}:fallback`},getRootEl:_e=>dom$8.getById(_e,dom$8.getRootId(_e)),getImageEl:_e=>dom$8.getById(_e,dom$8.getImageId(_e))});function connect$3(_e,_,et){const tt=_e.matches("loaded");return{loaded:tt,setSrc(rt){_({type:"SRC.SET",src:rt})},setLoaded(){_({type:"IMG.LOADED",src:"api"})},setError(){_({type:"IMG.ERROR",src:"api"})},getRootProps(){return et.element({...parts$3.root.attrs,dir:_e.context.dir,id:dom$8.getRootId(_e.context)})},getImageProps(){return et.img({...parts$3.image.attrs,hidden:!tt,dir:_e.context.dir,id:dom$8.getImageId(_e.context),"data-state":tt?"visible":"hidden",onLoad(){_({type:"IMG.LOADED",src:"element"})},onError(){_({type:"IMG.ERROR",src:"element"})}})},getFallbackProps(){return et.element({...parts$3.fallback.attrs,dir:_e.context.dir,id:dom$8.getFallbackId(_e.context),hidden:tt,"data-state":tt?"hidden":"visible"})}}}function machine$2(_e){const _=compact$2(_e);return createMachine({id:"avatar",initial:"loading",activities:["trackImageRemoval"],context:_,on:{"SRC.CHANGE":{target:"loading"},"IMG.UNMOUNT":{target:"error"}},states:{loading:{activities:["trackSrcChange"],entry:["checkImageStatus"],on:{"IMG.LOADED":{target:"loaded",actions:["invokeOnLoad"]},"IMG.ERROR":{target:"error",actions:["invokeOnError"]}}},error:{activities:["trackSrcChange"],on:{"IMG.LOADED":{target:"loaded",actions:["invokeOnLoad"]}}},loaded:{activities:["trackSrcChange"],on:{"IMG.ERROR":{target:"error",actions:["invokeOnError"]}}}}},{activities:{trackSrcChange(et,tt,{send:rt}){const nt=dom$8.getImageEl(et);return observeAttributes(nt,{attributes:["src","srcset"],callback(){rt({type:"SRC.CHANGE"})}})},trackImageRemoval(et,tt,{send:rt}){const nt=dom$8.getRootEl(et);return observeChildren(nt,{callback(it){Array.from(it[0].removedNodes).find(ct=>ct.nodeType===Node.ELEMENT_NODE&&ct.matches("[data-scope=avatar][data-part=image]"))&&rt({type:"IMG.UNMOUNT"})}})}},actions:{invokeOnLoad(et){var tt;(tt=et.onStatusChange)==null||tt.call(et,{status:"loaded"})},invokeOnError(et){var tt;(tt=et.onStatusChange)==null||tt.call(et,{status:"error"})},checkImageStatus(et,tt,{send:rt}){const nt=dom$8.getImageEl(et);if(nt!=null&&nt.complete){const it=hasLoaded(nt)?"IMG.LOADED":"IMG.ERROR";rt({type:it,src:"ssr"})}}}})}function hasLoaded(_e){return _e.complete&&_e.naturalWidth!==0&&_e.naturalHeight!==0}createProps$1()(["dir","id","ids","onStatusChange","getRootNode"]);const useAvatar=(_e={})=>{const{getRootNode:_}=useEnvironmentContext(),{dir:et}=useLocaleContext(),tt={id:reactExports.useId(),dir:et,getRootNode:_,..._e},rt={...tt,onStatusChange:useEvent$1(_e.onStatusChange)},[nt,it]=useMachine(machine$2(tt),{context:rt});return connect$3(nt,it,normalizeProps)},AvatarRoot$1=reactExports.forwardRef((_e,_)=>{const[et,tt]=createSplitProps()(_e,["id","ids","onStatusChange"]),rt=useAvatar(et),nt=mergeProps$1(rt.getRootProps(),tt);return jsxRuntimeExports.jsx(AvatarProvider,{value:rt,children:jsxRuntimeExports.jsx(ark.div,{...nt,ref:_})})});AvatarRoot$1.displayName="AvatarRoot";const AvatarRootProvider=reactExports.forwardRef((_e,_)=>{const[{value:et},tt]=createSplitProps()(_e,["value"]),rt=mergeProps$1(et.getRootProps(),tt);return jsxRuntimeExports.jsx(AvatarProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...rt,ref:_})})});AvatarRootProvider.displayName="AvatarRootProvider";var anatomy$8=createAnatomy("checkbox").parts("root","label","control","indicator");anatomy$8.build();var dom$7=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`checkbox:${_e.id}`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`checkbox:${_e.id}:label`},getControlId:_e=>{var _;return((_=_e.ids)==null?void 0:_.control)??`checkbox:${_e.id}:control`},getHiddenInputId:_e=>{var _;return((_=_e.ids)==null?void 0:_.hiddenInput)??`checkbox:${_e.id}:input`},getRootEl:_e=>dom$7.getById(_e,dom$7.getRootId(_e)),getHiddenInputEl:_e=>dom$7.getById(_e,dom$7.getHiddenInputId(_e))});createProps$1()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const checkboxAnatomy=anatomy$8.extendWith("group"),colorPickerAnatomy=anatomy$k.extendWith("view");var anatomy$7=createAnatomy("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");anatomy$7.build();var dom$6=createScope({getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`hover-card:${_e.id}:trigger`},getContentId:_e=>{var _;return((_=_e.ids)==null?void 0:_.content)??`hover-card:${_e.id}:content`},getPositionerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.positioner)??`hover-card:${_e.id}:popper`},getArrowId:_e=>{var _;return((_=_e.ids)==null?void 0:_.arrow)??`hover-card:${_e.id}:arrow`},getTriggerEl:_e=>dom$6.getById(_e,dom$6.getTriggerId(_e)),getContentEl:_e=>dom$6.getById(_e,dom$6.getContentId(_e)),getPositionerEl:_e=>dom$6.getById(_e,dom$6.getPositionerId(_e))});createProps$1()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","open.controlled","open","openDelay","positioning"]);const[NumberInputProvider,useNumberInputContext]=createContext({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),NumberInputControl$1=reactExports.forwardRef((_e,_)=>{const et=useNumberInputContext(),tt=mergeProps$1(et.getControlProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});NumberInputControl$1.displayName="NumberInputControl";const NumberInputDecrementTrigger$1=reactExports.forwardRef((_e,_)=>{const et=useNumberInputContext(),tt=mergeProps$1(et.getDecrementTriggerProps(),_e);return jsxRuntimeExports.jsx(ark.button,{...tt,ref:_})});NumberInputDecrementTrigger$1.displayName="NumberInputDecrementTrigger";const NumberInputIncrementTrigger$1=reactExports.forwardRef((_e,_)=>{const et=useNumberInputContext(),tt=mergeProps$1(et.getIncrementTriggerProps(),_e);return jsxRuntimeExports.jsx(ark.button,{...tt,ref:_})});NumberInputIncrementTrigger$1.displayName="NumberInputIncrementTrigger";const NumberInputInput$1=reactExports.forwardRef((_e,_)=>{const et=useNumberInputContext(),tt=mergeProps$1(et.getInputProps(),_e),rt=useFieldContext();return jsxRuntimeExports.jsx(ark.input,{"aria-describedby":rt==null?void 0:rt.ariaDescribedby,...tt,ref:_})});NumberInputInput$1.displayName="NumberInputInput";const NumberInputLabel=reactExports.forwardRef((_e,_)=>{const et=useNumberInputContext(),tt=mergeProps$1(et.getLabelProps(),_e);return jsxRuntimeExports.jsx(ark.label,{...tt,ref:_})});NumberInputLabel.displayName="NumberInputLabel";let $488c6ddbf4ef74c2$var$formatterCache=new Map,$488c6ddbf4ef74c2$var$supportsSignDisplay=!1;try{$488c6ddbf4ef74c2$var$supportsSignDisplay=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let $488c6ddbf4ef74c2$var$supportsUnit=!1;try{$488c6ddbf4ef74c2$var$supportsUnit=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const $488c6ddbf4ef74c2$var$UNITS={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5{format(_){let et="";if(!$488c6ddbf4ef74c2$var$supportsSignDisplay&&this.options.signDisplay!=null?et=$488c6ddbf4ef74c2$export$711b50b3c525e0f2(this.numberFormatter,this.options.signDisplay,_):et=this.numberFormatter.format(_),this.options.style==="unit"&&!$488c6ddbf4ef74c2$var$supportsUnit){var tt;let{unit:rt,unitDisplay:nt="short",locale:it}=this.resolvedOptions();if(!rt)return et;let at=(tt=$488c6ddbf4ef74c2$var$UNITS[rt])===null||tt===void 0?void 0:tt[nt];et+=at[it]||at.default}return et}formatToParts(_){return this.numberFormatter.formatToParts(_)}formatRange(_,et){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(_,et);if(et<_)throw new RangeError("End date must be >= start date");return`${this.format(_)} – ${this.format(et)}`}formatRangeToParts(_,et){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(_,et);if(et<_)throw new RangeError("End date must be >= start date");let tt=this.numberFormatter.formatToParts(_),rt=this.numberFormatter.formatToParts(et);return[...tt.map(nt=>({...nt,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...rt.map(nt=>({...nt,source:"endRange"}))]}resolvedOptions(){let _=this.numberFormatter.resolvedOptions();return!$488c6ddbf4ef74c2$var$supportsSignDisplay&&this.options.signDisplay!=null&&(_={..._,signDisplay:this.options.signDisplay}),!$488c6ddbf4ef74c2$var$supportsUnit&&this.options.style==="unit"&&(_={..._,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),_}constructor(_,et={}){this.numberFormatter=$488c6ddbf4ef74c2$var$getCachedNumberFormatter(_,et),this.options=et}}function $488c6ddbf4ef74c2$var$getCachedNumberFormatter(_e,_={}){let{numberingSystem:et}=_;if(et&&_e.includes("-nu-")&&(_e.includes("-u-")||(_e+="-u-"),_e+=`-nu-${et}`),_.style==="unit"&&!$488c6ddbf4ef74c2$var$supportsUnit){var tt;let{unit:it,unitDisplay:at="short"}=_;if(!it)throw new Error('unit option must be provided with style: "unit"');if(!(!((tt=$488c6ddbf4ef74c2$var$UNITS[it])===null||tt===void 0)&&tt[at]))throw new Error(`Unsupported unit ${it} with unitDisplay = ${at}`);_={..._,style:"decimal"}}let rt=_e+(_?Object.entries(_).sort((it,at)=>it[0]<at[0]?-1:1).join():"");if($488c6ddbf4ef74c2$var$formatterCache.has(rt))return $488c6ddbf4ef74c2$var$formatterCache.get(rt);let nt=new Intl.NumberFormat(_e,_);return $488c6ddbf4ef74c2$var$formatterCache.set(rt,nt),nt}function $488c6ddbf4ef74c2$export$711b50b3c525e0f2(_e,_,et){if(_==="auto")return _e.format(et);if(_==="never")return _e.format(Math.abs(et));{let tt=!1;if(_==="always"?tt=et>0||Object.is(et,0):_==="exceptZero"&&(Object.is(et,-0)||Object.is(et,0)?et=Math.abs(et):tt=et>0),tt){let rt=_e.format(-et),nt=_e.format(et),it=rt.replace(nt,"").replace(/\u200e|\u061C/,"");return[...it].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),rt.replace(nt,"!!!").replace(it,"+").replace("!!!",nt)}else return _e.format(et)}}const $6c7bd7858deea686$var$CURRENCY_SIGN_REGEX=new RegExp("^.*\\(.*\\).*$"),$6c7bd7858deea686$var$NUMBERING_SYSTEMS=["latn","arab","hanidec","deva","beng"];class $6c7bd7858deea686$export$cd11ab140839f11d{parse(_){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,_).parse(_)}isValidPartialNumber(_,et,tt){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,_).isValidPartialNumber(_,et,tt)}getNumberingSystem(_){return $6c7bd7858deea686$var$getNumberParserImpl(this.locale,this.options,_).options.numberingSystem}constructor(_,et={}){this.locale=_,this.options=et}}const $6c7bd7858deea686$var$numberParserCache=new Map;function $6c7bd7858deea686$var$getNumberParserImpl(_e,_,et){let tt=$6c7bd7858deea686$var$getCachedNumberParser(_e,_);if(!_e.includes("-nu-")&&!tt.isValidPartialNumber(et)){for(let rt of $6c7bd7858deea686$var$NUMBERING_SYSTEMS)if(rt!==tt.options.numberingSystem){let nt=$6c7bd7858deea686$var$getCachedNumberParser(_e+(_e.includes("-u-")?"-nu-":"-u-nu-")+rt,_);if(nt.isValidPartialNumber(et))return nt}}return tt}function $6c7bd7858deea686$var$getCachedNumberParser(_e,_){let et=_e+(_?Object.entries(_).sort((rt,nt)=>rt[0]<nt[0]?-1:1).join():""),tt=$6c7bd7858deea686$var$numberParserCache.get(et);return tt||(tt=new $6c7bd7858deea686$var$NumberParserImpl(_e,_),$6c7bd7858deea686$var$numberParserCache.set(et,tt)),tt}class $6c7bd7858deea686$var$NumberParserImpl{parse(_){let et=this.sanitize(_);if(this.symbols.group&&(et=$6c7bd7858deea686$var$replaceAll(et,this.symbols.group,"")),this.symbols.decimal&&(et=et.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(et=et.replace(this.symbols.minusSign,"-")),et=et.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let it=et.indexOf("-");et=et.replace("-","");let at=et.indexOf(".");at===-1&&(at=et.length),et=et.replace(".",""),at-2===0?et=`0.${et}`:at-2===-1?et=`0.0${et}`:at-2===-2?et="0.00":et=`${et.slice(0,at-2)}.${et.slice(at-2)}`,it>-1&&(et=`-${et}`)}let tt=et?+et:NaN;if(isNaN(tt))return NaN;if(this.options.style==="percent"){var rt,nt;let it={...this.options,style:"decimal",minimumFractionDigits:Math.min(((rt=this.options.minimumFractionDigits)!==null&&rt!==void 0?rt:0)+2,20),maximumFractionDigits:Math.min(((nt=this.options.maximumFractionDigits)!==null&&nt!==void 0?nt:0)+2,20)};return new $6c7bd7858deea686$export$cd11ab140839f11d(this.locale,it).parse(new $488c6ddbf4ef74c2$export$cc77c4ff7e8673c5(this.locale,it).format(tt))}return this.options.currencySign==="accounting"&&$6c7bd7858deea686$var$CURRENCY_SIGN_REGEX.test(_)&&(tt=-1*tt),tt}sanitize(_){return _=_.replace(this.symbols.literals,""),this.symbols.minusSign&&(_=_.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(_=_.replace(",",this.symbols.decimal),_=_.replace("،",this.symbols.decimal)),this.symbols.group&&(_=$6c7bd7858deea686$var$replaceAll(_,".",this.symbols.group))),this.options.locale==="fr-FR"&&(_=$6c7bd7858deea686$var$replaceAll(_,"."," ")),_}isValidPartialNumber(_,et=-1/0,tt=1/0){return _=this.sanitize(_),this.symbols.minusSign&&_.startsWith(this.symbols.minusSign)&&et<0?_=_.slice(this.symbols.minusSign.length):this.symbols.plusSign&&_.startsWith(this.symbols.plusSign)&&tt>0&&(_=_.slice(this.symbols.plusSign.length)),this.symbols.group&&_.startsWith(this.symbols.group)||this.symbols.decimal&&_.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(_=$6c7bd7858deea686$var$replaceAll(_,this.symbols.group,"")),_=_.replace(this.symbols.numeral,""),this.symbols.decimal&&(_=_.replace(this.symbols.decimal,"")),_.length===0)}constructor(_,et={}){this.locale=_,this.formatter=new Intl.NumberFormat(_,et),this.options=this.formatter.resolvedOptions(),this.symbols=$6c7bd7858deea686$var$getSymbols(_,this.formatter,this.options,et);var tt,rt;this.options.style==="percent"&&(((tt=this.options.minimumFractionDigits)!==null&&tt!==void 0?tt:0)>18||((rt=this.options.maximumFractionDigits)!==null&&rt!==void 0?rt:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const $6c7bd7858deea686$var$nonLiteralParts=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),$6c7bd7858deea686$var$pluralNumbers=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function $6c7bd7858deea686$var$getSymbols(_e,_,et,tt){var rt,nt,it,at;let lt=new Intl.NumberFormat(_e,{...et,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),ct=lt.formatToParts(-10000.111),ut=lt.formatToParts(10000.111),st=$6c7bd7858deea686$var$pluralNumbers.map(Tt=>lt.formatToParts(Tt));var ot;let dt=(ot=(rt=ct.find(Tt=>Tt.type==="minusSign"))===null||rt===void 0?void 0:rt.value)!==null&&ot!==void 0?ot:"-",ft=(nt=ut.find(Tt=>Tt.type==="plusSign"))===null||nt===void 0?void 0:nt.value;!ft&&((tt==null?void 0:tt.signDisplay)==="exceptZero"||(tt==null?void 0:tt.signDisplay)==="always")&&(ft="+");let mt=(it=new Intl.NumberFormat(_e,{...et,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(Tt=>Tt.type==="decimal"))===null||it===void 0?void 0:it.value,gt=(at=ct.find(Tt=>Tt.type==="group"))===null||at===void 0?void 0:at.value,yt=ct.filter(Tt=>!$6c7bd7858deea686$var$nonLiteralParts.has(Tt.type)).map(Tt=>$6c7bd7858deea686$var$escapeRegex(Tt.value)),vt=st.flatMap(Tt=>Tt.filter(Ct=>!$6c7bd7858deea686$var$nonLiteralParts.has(Ct.type)).map(Ct=>$6c7bd7858deea686$var$escapeRegex(Ct.value))),bt=[...new Set([...yt,...vt])].sort((Tt,Ct)=>Ct.length-Tt.length),xt=bt.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${bt.join("|")}|[\\p{White_Space}]`,"gu"),_t=[...new Intl.NumberFormat(et.locale,{useGrouping:!1}).format(9876543210)].reverse(),St=new Map(_t.map((Tt,Ct)=>[Tt,Ct])),wt=new RegExp(`[${_t.join("")}]`,"g");return{minusSign:dt,plusSign:ft,decimal:mt,group:gt,literals:xt,numeral:wt,index:Tt=>String(St.get(Tt))}}function $6c7bd7858deea686$var$replaceAll(_e,_,et){return _e.replaceAll?_e.replaceAll(_,et):_e.split(_).join(et)}function $6c7bd7858deea686$var$escapeRegex(_e){return _e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var anatomy$6=createAnatomy("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),parts$2=anatomy$6.build(),dom$5=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`number-input:${_e.id}`},getInputId:_e=>{var _;return((_=_e.ids)==null?void 0:_.input)??`number-input:${_e.id}:input`},getIncrementTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.incrementTrigger)??`number-input:${_e.id}:inc`},getDecrementTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.decrementTrigger)??`number-input:${_e.id}:dec`},getScrubberId:_e=>{var _;return((_=_e.ids)==null?void 0:_.scrubber)??`number-input:${_e.id}:scrubber`},getCursorId:_e=>`number-input:${_e.id}:cursor`,getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`number-input:${_e.id}:label`},getInputEl:_e=>dom$5.getById(_e,dom$5.getInputId(_e)),getIncrementTriggerEl:_e=>dom$5.getById(_e,dom$5.getIncrementTriggerId(_e)),getDecrementTriggerEl:_e=>dom$5.getById(_e,dom$5.getDecrementTriggerId(_e)),getScrubberEl:_e=>dom$5.getById(_e,dom$5.getScrubberId(_e)),getCursorEl:_e=>dom$5.getDoc(_e).getElementById(dom$5.getCursorId(_e)),getPressedTriggerEl:(_e,_=_e.hint)=>{let et=null;return _==="increment"&&(et=dom$5.getIncrementTriggerEl(_e)),_==="decrement"&&(et=dom$5.getDecrementTriggerEl(_e)),et},setupVirtualCursor(_e){if(!isSafari())return dom$5.createVirtualCursor(_e),()=>{var _;(_=dom$5.getCursorEl(_e))==null||_.remove()}},preventTextSelection(_e){const _=dom$5.getDoc(_e),et=_.documentElement,tt=_.body;return tt.style.pointerEvents="none",et.style.userSelect="none",et.style.cursor="ew-resize",()=>{tt.style.pointerEvents="",et.style.userSelect="",et.style.cursor="",et.style.length||et.removeAttribute("style"),tt.style.length||tt.removeAttribute("style")}},getMousemoveValue(_e,_){const et=dom$5.getWin(_e),tt=roundToDpr(_.movementX,et.devicePixelRatio),rt=roundToDpr(_.movementY,et.devicePixelRatio);let nt=tt>0?"increment":tt<0?"decrement":null;_e.isRtl&&nt==="increment"&&(nt="decrement"),_e.isRtl&&nt==="decrement"&&(nt="increment");const it={x:_e.scrubberCursorPoint.x+tt,y:_e.scrubberCursorPoint.y+rt},at=et.innerWidth,lt=roundToDpr(7.5,et.devicePixelRatio);return it.x=wrap$2(it.x+lt,at)-lt,{hint:nt,point:it}},createVirtualCursor(_e){const _=dom$5.getDoc(_e),et=_.createElement("div");et.className="scrubber--cursor",et.id=dom$5.getCursorId(_e),Object.assign(et.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:MAX_Z_INDEX,transform:_e.scrubberCursorPoint?`translate3d(${_e.scrubberCursorPoint.x}px, ${_e.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),et.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,_.body.appendChild(et)}});function connect$2(_e,_,et){const tt=_e.hasTag("focus"),rt=_e.context.isDisabled,nt=_e.context.readOnly,it=_e.context.isValueEmpty,at=_e.context.isOutOfRange||!!_e.context.invalid,lt=rt||!_e.context.canIncrement||nt,ct=rt||!_e.context.canDecrement||nt,ut=_e.context.translations;return{focused:tt,invalid:at,empty:it,value:_e.context.formattedValue,valueAsNumber:_e.context.valueAsNumber,setValue(st){_({type:"VALUE.SET",value:st})},clearValue(){_("VALUE.CLEAR")},increment(){_("VALUE.INCREMENT")},decrement(){_("VALUE.DECREMENT")},setToMax(){_({type:"VALUE.SET",value:_e.context.max})},setToMin(){_({type:"VALUE.SET",value:_e.context.min})},focus(){var st;(st=dom$5.getInputEl(_e.context))==null||st.focus()},getRootProps(){return et.element({id:dom$5.getRootId(_e.context),...parts$2.root.attrs,dir:_e.context.dir,"data-disabled":dataAttr$1(rt),"data-focus":dataAttr$1(tt),"data-invalid":dataAttr$1(at)})},getLabelProps(){return et.label({...parts$2.label.attrs,dir:_e.context.dir,"data-disabled":dataAttr$1(rt),"data-focus":dataAttr$1(tt),"data-invalid":dataAttr$1(at),id:dom$5.getLabelId(_e.context),htmlFor:dom$5.getInputId(_e.context)})},getControlProps(){return et.element({...parts$2.control.attrs,dir:_e.context.dir,role:"group","aria-disabled":rt,"data-focus":dataAttr$1(tt),"data-disabled":dataAttr$1(rt),"data-invalid":dataAttr$1(at),"aria-invalid":ariaAttr(_e.context.invalid)})},getValueTextProps(){return et.element({...parts$2.valueText.attrs,dir:_e.context.dir,"data-disabled":dataAttr$1(rt),"data-invalid":dataAttr$1(at),"data-focus":dataAttr$1(tt)})},getInputProps(){return et.input({...parts$2.input.attrs,dir:_e.context.dir,name:_e.context.name,form:_e.context.form,id:dom$5.getInputId(_e.context),role:"spinbutton",defaultValue:_e.context.formattedValue,pattern:_e.context.pattern,inputMode:_e.context.inputMode,"aria-invalid":ariaAttr(at),"data-invalid":dataAttr$1(at),disabled:rt,"data-disabled":dataAttr$1(rt),readOnly:_e.context.readOnly,required:_e.context.required,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":_e.context.min,"aria-valuemax":_e.context.max,"aria-valuenow":Number.isNaN(_e.context.valueAsNumber)?void 0:_e.context.valueAsNumber,"aria-valuetext":_e.context.valueText,onFocus(){_("INPUT.FOCUS")},onBlur(){_("INPUT.BLUR")},onInput(st){_({type:"INPUT.CHANGE",target:st.currentTarget,hint:"set"})},onBeforeInput(st){try{const{selectionStart:ot,selectionEnd:dt,value:ft}=st.currentTarget,ht=ft.slice(0,ot)+(st.data??"")+ft.slice(dt);_e.context.parser.isValidPartialNumber(ht)||st.preventDefault()}catch{}},onKeyDown(st){if(st.defaultPrevented||nt||isComposingEvent(st))return;const ot=getEventStep(st)*_e.context.step,ft={ArrowUp(){_({type:"INPUT.ARROW_UP",step:ot}),st.preventDefault()},ArrowDown(){_({type:"INPUT.ARROW_DOWN",step:ot}),st.preventDefault()},Home(){isModifierKey(st)||(_("INPUT.HOME"),st.preventDefault())},End(){isModifierKey(st)||(_("INPUT.END"),st.preventDefault())},Enter(){_("INPUT.ENTER")}}[st.key];ft==null||ft(st)}})},getDecrementTriggerProps(){return et.button({...parts$2.decrementTrigger.attrs,dir:_e.context.dir,id:dom$5.getDecrementTriggerId(_e.context),disabled:ct,"data-disabled":dataAttr$1(ct),"aria-label":ut.decrementLabel,type:"button",tabIndex:-1,"aria-controls":dom$5.getInputId(_e.context),onPointerDown(st){var ot;ct||!isLeftClick(st)||(_({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:st.pointerType}),st.pointerType==="mouse"&&st.preventDefault(),st.pointerType==="touch"&&((ot=st.currentTarget)==null||ot.focus({preventScroll:!0})))},onPointerUp(st){_({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:st.pointerType})},onPointerLeave(){ct||_({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return et.button({...parts$2.incrementTrigger.attrs,dir:_e.context.dir,id:dom$5.getIncrementTriggerId(_e.context),disabled:lt,"data-disabled":dataAttr$1(lt),"aria-label":ut.incrementLabel,type:"button",tabIndex:-1,"aria-controls":dom$5.getInputId(_e.context),onPointerDown(st){var ot;lt||!isLeftClick(st)||(_({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:st.pointerType}),st.pointerType==="mouse"&&st.preventDefault(),st.pointerType==="touch"&&((ot=st.currentTarget)==null||ot.focus({preventScroll:!0})))},onPointerUp(st){_({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:st.pointerType})},onPointerLeave(st){_({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:st.pointerType})}})},getScrubberProps(){return et.element({...parts$2.scrubber.attrs,dir:_e.context.dir,"data-disabled":dataAttr$1(rt),id:dom$5.getScrubberId(_e.context),role:"presentation",onMouseDown(st){if(rt)return;const ot=getEventPoint(st),ft=getWindow$1(st.currentTarget).devicePixelRatio;ot.x=ot.x-roundToDpr(7.5,ft),ot.y=ot.y-roundToDpr(7.5,ft),_({type:"SCRUBBER.PRESS_DOWN",point:ot}),st.preventDefault()},style:{cursor:rt?void 0:"ew-resize"}})}}}function recordCursor(_e){if(_e.ownerDocument.activeElement===_e)try{const{selectionStart:_,selectionEnd:et,value:tt}=_e,rt=tt.substring(0,_),nt=tt.substring(et);return{start:_,end:et,value:tt,beforeTxt:rt,afterTxt:nt}}catch{}}function restoreCursor(_e,_){if(_e.ownerDocument.activeElement===_e){if(!_){_e.setSelectionRange(_e.value.length,_e.value.length);return}try{const{value:et}=_e,{beforeTxt:tt="",afterTxt:rt="",start:nt}=_;let it=et.length;if(et.endsWith(rt))it=et.length-rt.length;else if(et.startsWith(tt))it=tt.length;else if(nt!=null){const at=tt[nt-1],lt=et.indexOf(at,nt-1);lt!==-1&&(it=lt+1)}_e.setSelectionRange(it,it)}catch{}}}var createFormatter=(_e,_={})=>ref$1(new Intl.NumberFormat(_e,_)),createParser=(_e,_={})=>ref$1(new $6c7bd7858deea686$export$cd11ab140839f11d(_e,_)),parseValue=(_e,_)=>_e.formatOptions?_e.parser.parse(String(_)):parseFloat(_),formatValue=(_e,_)=>Number.isNaN(_)?"":_e.formatOptions?_e.formatter.format(_):_.toString(),{not:not$2,and:and$1}=guards;function machine$1(_e){const _=compact$2(_e);return createMachine({id:"number-input",initial:"idle",context:{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!0,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",value:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,invalid:!1,spinOnPress:!0,disabled:!1,readOnly:!1,..._,hint:null,scrubberCursorPoint:null,fieldsetDisabled:!1,formatter:createFormatter(_.locale||"en-US",_.formatOptions),parser:createParser(_.locale||"en-US",_.formatOptions),translations:{incrementLabel:"increment value",decrementLabel:"decrease value",..._.translations}},computed:{isRtl:et=>et.dir==="rtl",valueAsNumber:et=>parseValue(et,et.value),formattedValue:et=>formatValue(et,et.valueAsNumber),isAtMin:et=>isValueAtMin(et.valueAsNumber,et.min),isAtMax:et=>isValueAtMax(et.valueAsNumber,et.max),isOutOfRange:et=>!isValueWithinRange(et.valueAsNumber,et.min,et.max),isValueEmpty:et=>et.value==="",isDisabled:et=>!!et.disabled||et.fieldsetDisabled,canIncrement:et=>et.allowOverflow||!et.isAtMax,canDecrement:et=>et.allowOverflow||!et.isAtMin,valueText:et=>{var tt,rt;return(rt=(tt=et.translations).valueText)==null?void 0:rt.call(tt,et.value)}},watch:{formatOptions:["setFormatterAndParser","syncInputElement"],locale:["setFormatterAndParser","syncInputElement"],value:["syncInputElement"],isOutOfRange:["invokeOnInvalid"],scrubberCursorPoint:["setVirtualCursorPosition"]},activities:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue","setHintToSet"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:"focus",activities:"attachWheelListener",on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:"increment"},"INPUT.ARROW_DOWN":{actions:"decrement"},"INPUT.HOME":{actions:"decrementToMin"},"INPUT.END":{actions:"incrementToMax"},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:and$1("clampValueOnBlur",not$2("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:"focus",activities:"trackButtonDisabled",entry:choose([{guard:"isIncrementHint",actions:"increment"},{guard:"isDecrementHint",actions:"decrement"}]),after:{CHANGE_DELAY:{target:"spinning",guard:and$1("isInRange","spinOnPress")}},on:{"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:"clearHint"},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:"focus",activities:"trackButtonDisabled",every:[{delay:"CHANGE_INTERVAL",guard:and$1(not$2("isAtMin"),"isIncrementHint"),actions:"increment"},{delay:"CHANGE_INTERVAL",guard:and$1(not$2("isAtMax"),"isDecrementHint"),actions:"decrement"}],on:{"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:"focus",activities:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}}},{delays:{CHANGE_INTERVAL:50,CHANGE_DELAY:300},guards:{clampValueOnBlur:et=>et.clampValueOnBlur,isAtMin:et=>et.isAtMin,spinOnPress:et=>!!et.spinOnPress,isAtMax:et=>et.isAtMax,isInRange:et=>!et.isOutOfRange,isDecrementHint:(et,tt)=>(tt.hint??et.hint)==="decrement",isIncrementHint:(et,tt)=>(tt.hint??et.hint)==="increment",isTouchPointer:(et,tt)=>tt.pointerType==="touch"},activities:{trackFormControl(et,tt,{initialContext:rt}){const nt=dom$5.getInputEl(et);return trackFormControl(nt,{onFieldsetDisabledChange(it){et.fieldsetDisabled=it},onFormReset(){set$3.value(et,rt.value)}})},setupVirtualCursor(et){return dom$5.setupVirtualCursor(et)},preventTextSelection(et){return dom$5.preventTextSelection(et)},trackButtonDisabled(et,tt,{send:rt}){const nt=dom$5.getPressedTriggerEl(et,et.hint);return observeAttributes(nt,{attributes:["disabled"],callback(){rt({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener(et,tt,{send:rt}){const nt=dom$5.getInputEl(et);if(!nt||!dom$5.isActiveElement(et,nt)||!et.allowMouseWheel)return;function it(at){at.preventDefault();const lt=Math.sign(at.deltaY)*-1;lt===1?rt("VALUE.INCREMENT"):lt===-1&&rt("VALUE.DECREMENT")}return addDomEvent(nt,"wheel",it,{passive:!1})},activatePointerLock(et){if(!isSafari())return requestPointerLock(dom$5.getDoc(et))},trackMousemove(et,tt,{send:rt}){const nt=dom$5.getDoc(et);function it(lt){if(!et.scrubberCursorPoint)return;const ct=dom$5.getMousemoveValue(et,lt);ct.hint&&rt({type:"SCRUBBER.POINTER_MOVE",hint:ct.hint,point:ct.point})}function at(){rt("SCRUBBER.POINTER_UP")}return callAll(addDomEvent(nt,"mousemove",it,!1),addDomEvent(nt,"mouseup",at,!1))}},actions:{focusInput(et){if(!et.focusInputOnChange)return;const tt=dom$5.getInputEl(et);dom$5.isActiveElement(et,tt)||raf$2(()=>tt==null?void 0:tt.focus({preventScroll:!0}))},increment(et,tt){const rt=incrementValue(et.valueAsNumber,tt.step??et.step),nt=formatValue(et,clampValue(rt,et.min,et.max));set$3.value(et,nt)},decrement(et,tt){const rt=decrementValue(et.valueAsNumber,tt.step??et.step),nt=formatValue(et,clampValue(rt,et.min,et.max));set$3.value(et,nt)},setClampedValue(et){const tt=clampValue(et.valueAsNumber,et.min,et.max);set$3.value(et,formatValue(et,tt))},setRawValue(et,tt){const rt=parseValue(et,tt.value),nt=formatValue(et,clampValue(rt,et.min,et.max));set$3.value(et,nt)},setValue(et,tt){var nt;const rt=((nt=tt.target)==null?void 0:nt.value)??tt.value;set$3.value(et,rt)},clearValue(et){set$3.value(et,"")},incrementToMax(et){const tt=formatValue(et,et.max);set$3.value(et,tt)},decrementToMin(et){const tt=formatValue(et,et.min);set$3.value(et,tt)},setHint(et,tt){et.hint=tt.hint},clearHint(et){et.hint=null},setHintToSet(et){et.hint="set"},invokeOnFocus(et){var tt;(tt=et.onFocusChange)==null||tt.call(et,{focused:!0,value:et.formattedValue,valueAsNumber:et.valueAsNumber})},invokeOnBlur(et){var tt;(tt=et.onFocusChange)==null||tt.call(et,{focused:!1,value:et.formattedValue,valueAsNumber:et.valueAsNumber})},invokeOnInvalid(et){var rt;if(!et.isOutOfRange)return;const tt=et.valueAsNumber>et.max?"rangeOverflow":"rangeUnderflow";(rt=et.onValueInvalid)==null||rt.call(et,{reason:tt,value:et.formattedValue,valueAsNumber:et.valueAsNumber})},syncInputElement(et,tt){const rt=tt.type.endsWith("CHANGE")?et.value:et.formattedValue;sync.input(et,rt)},setFormattedValue(et){set$3.value(et,et.formattedValue)},setCursorPoint(et,tt){et.scrubberCursorPoint=tt.point},clearCursorPoint(et){et.scrubberCursorPoint=null},setVirtualCursorPosition(et){const tt=dom$5.getCursorEl(et);if(!tt||!et.scrubberCursorPoint)return;const{x:rt,y:nt}=et.scrubberCursorPoint;tt.style.transform=`translate3d(${rt}px, ${nt}px, 0px)`},setFormatterAndParser(et){et.locale&&(et.formatter=createFormatter(et.locale,et.formatOptions),et.parser=createParser(et.locale,et.formatOptions))}},compareFns:{formatOptions:(et,tt)=>isEqual$2(et,tt),scrubberCursorPoint:(et,tt)=>isEqual$2(et,tt)}})}var sync={input(_e,_){const et=dom$5.getInputEl(_e);if(!et)return;const tt=recordCursor(et);raf$2(()=>{setElementValue(et,_),restoreCursor(et,tt)})}},invoke$1={onChange:_e=>{var _;(_=_e.onValueChange)==null||_.call(_e,{value:_e.value,valueAsNumber:_e.valueAsNumber})}},set$3={value:(_e,_)=>{isEqual$2(_e.value,_)||(_e.value=_,invoke$1.onChange(_e))}};const useNumberInput=(_e={})=>{const{getRootNode:_}=useEnvironmentContext(),{dir:et,locale:tt}=useLocaleContext(),rt=useFieldContext(),nt={id:reactExports.useId(),ids:{label:rt==null?void 0:rt.ids.label,input:rt==null?void 0:rt.ids.control},disabled:rt==null?void 0:rt.disabled,readOnly:rt==null?void 0:rt.readOnly,required:rt==null?void 0:rt.required,invalid:rt==null?void 0:rt.invalid,dir:et,locale:tt,getRootNode:_,value:_e.defaultValue,..._e},it={...nt,value:_e.value,onValueChange:useEvent$1(_e.onValueChange,{sync:!0}),onValueInvalid:useEvent$1(_e.onValueInvalid),onFocusChange:useEvent$1(_e.onFocusChange)},[at,lt]=useMachine(machine$1(nt),{context:it});return connect$2(at,lt,normalizeProps)},NumberInputRoot$1=reactExports.forwardRef((_e,_)=>{const[et,tt]=createSplitProps()(_e,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),rt=useNumberInput(et),nt=mergeProps$1(rt.getRootProps(),tt);return jsxRuntimeExports.jsx(NumberInputProvider,{value:rt,children:jsxRuntimeExports.jsx(ark.div,{...nt,ref:_})})});NumberInputRoot$1.displayName="NumberInputRoot";const NumberInputRootProvider=reactExports.forwardRef((_e,_)=>{const[{value:et},tt]=createSplitProps()(_e,["value"]),rt=mergeProps$1(et.getRootProps(),tt);return jsxRuntimeExports.jsx(NumberInputProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...rt,ref:_})})});NumberInputRootProvider.displayName="NumberInputRootProvider";const NumberInputScrubber=reactExports.forwardRef((_e,_)=>{const et=useNumberInputContext(),tt=mergeProps$1(et.getScrubberProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});NumberInputScrubber.displayName="NumberInputScrubber";const NumberInputValueText=reactExports.forwardRef((_e,_)=>{const{children:et,...tt}=_e,rt=useNumberInputContext(),nt=mergeProps$1(rt.getValueTextProps(),tt);return jsxRuntimeExports.jsx(ark.span,{...nt,ref:_,children:et||rt.value})});NumberInputValueText.displayName="NumberInputValueText";var anatomy$5=createAnatomy("pinInput").parts("root","label","input","control");anatomy$5.build();var dom$4=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`pin-input:${_e.id}`},getInputId:(_e,_)=>{var et,tt;return((tt=(et=_e.ids)==null?void 0:et.input)==null?void 0:tt.call(et,_))??`pin-input:${_e.id}:${_}`},getHiddenInputId:_e=>{var _;return((_=_e.ids)==null?void 0:_.hiddenInput)??`pin-input:${_e.id}:hidden`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`pin-input:${_e.id}:label`},getControlId:_e=>{var _;return((_=_e.ids)==null?void 0:_.control)??`pin-input:${_e.id}:control`},getRootEl:_e=>dom$4.getById(_e,dom$4.getRootId(_e)),getInputEls:_e=>{const et=`input[data-ownedby=${CSS.escape(dom$4.getRootId(_e))}]`;return queryAll(dom$4.getRootEl(_e),et)},getInputEl:(_e,_)=>dom$4.getById(_e,dom$4.getInputId(_e,_)),getFocusedInputEl:_e=>dom$4.getInputEls(_e)[_e.focusedIndex],getFirstInputEl:_e=>dom$4.getInputEls(_e)[0],getHiddenInputEl:_e=>dom$4.getById(_e,dom$4.getHiddenInputId(_e))}),anatomy$4=createAnatomy("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");anatomy$4.build();createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`progress-${_e.id}`},getTrackId:_e=>{var _;return((_=_e.ids)==null?void 0:_.track)??`progress-${_e.id}-track`},getLabelId:_e=>{var _;return((_=_e.ids)==null?void 0:_.label)??`progress-${_e.id}-label`},getCircleId:_e=>{var _;return((_=_e.ids)==null?void 0:_.circle)??`progress-${_e.id}-circle`}});createProps$1()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange"]);var anatomy$3=createAnatomy("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");anatomy$3.build();var dom$3=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`qrcode:${_e.id}:root`},getFrameId:_e=>{var _;return((_=_e.ids)==null?void 0:_.frame)??`qrcode:${_e.id}:frame`},getFrameEl:_e=>dom$3.getById(_e,dom$3.getFrameId(_e))});createProps$1()(["ids","value","id","encoding","dir","getRootNode","onValueChange"]);const segmentGroupAnatomy=anatomy$e.rename("segment-group");segmentGroupAnatomy.build();var anatomy$2=createAnatomy("tooltip").parts("trigger","arrow","arrowTip","positioner","content");anatomy$2.build();var dom$2=createScope({getTriggerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.trigger)??`tooltip:${_e.id}:trigger`},getContentId:_e=>{var _;return((_=_e.ids)==null?void 0:_.content)??`tooltip:${_e.id}:content`},getArrowId:_e=>{var _;return((_=_e.ids)==null?void 0:_.arrow)??`tooltip:${_e.id}:arrow`},getPositionerId:_e=>{var _;return((_=_e.ids)==null?void 0:_.positioner)??`tooltip:${_e.id}:popper`},getTriggerEl:_e=>dom$2.getById(_e,dom$2.getTriggerId(_e)),getContentEl:_e=>dom$2.getById(_e,dom$2.getContentId(_e)),getPositionerEl:_e=>dom$2.getById(_e,dom$2.getPositionerId(_e)),getArrowEl:_e=>dom$2.getById(_e,dom$2.getArrowId(_e))});proxy({id:null,prevId:null,setId(_e){this.prevId=this.id,this.id=_e}});createProps$1()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);const accordionAnatomy=anatomy$m.extendWith("itemBody"),actionBarAnatomy=createAnatomy("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),alertAnatomy=createAnatomy("alert").parts("title","description","root","indicator","content"),breadcrumbAnatomy=createAnatomy("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),blockquoteAnatomy=createAnatomy("blockquote").parts("root","icon","content","caption"),cardAnatomy=createAnatomy("card").parts("root","header","body","footer","title","description"),checkboxCardAnatomy=createAnatomy("checkbox-card",["root","control","label","description","addon","indicator","content"]),dataListAnatomy=createAnatomy("data-list").parts("root","item","itemLabel","itemValue"),dialogAnatomy=anatomy$j.extendWith("header","body","footer","backdrop"),drawerAnatomy=anatomy$j.extendWith("header","body","footer","backdrop"),editableAnatomy=anatomy$i.extendWith("textarea"),emptyStateAnatomy=createAnatomy("empty-state",["root","content","indicator","title","description"]),fieldAnatomy=fieldAnatomy$1.extendWith("requiredIndicator"),fieldsetAnatomy=fieldsetAnatomy$1.extendWith("content"),fileUploadAnatomy=anatomy$h.extendWith("itemContent","dropzoneContent"),listAnatomy=createAnatomy("list").parts("root","item","indicator"),menuAnatomy=anatomy$g.extendWith("itemCommand"),nativeSelectAnatomy=createAnatomy("select").parts("root","field","indicator"),popoverAnatomy=anatomy$f.extendWith("header","body","footer"),radioGroupAnatomy=anatomy$e.extendWith("itemAddon","itemIndicator"),radioCardAnatomy=radioGroupAnatomy.extendWith("itemContent","itemDescription"),ratingGroupAnatomy=anatomy$d.extendWith("itemIndicator"),selectAnatomy=anatomy$c.extendWith("indicatorGroup"),sliderAnatomy=anatomy$b.extendWith("markerIndicator"),statAnatomy=createAnatomy("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),statusAnatomy=createAnatomy("status").parts("root","indicator"),stepsAnatomy=createAnatomy("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),switchAnatomy=anatomy$a.extendWith("indicator"),tableAnatomy=createAnatomy("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),toastAnatomy=createAnatomy("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),tabsAnatomy=createAnatomy("tabs").parts("root","trigger","list","content","contentGroup","indicator"),tagAnatomy=createAnatomy("tag").parts("root","label","closeTrigger","startElement","endElement"),timelineAnatomy=createAnatomy("timeline").parts("root","item","content","separator","indicator","connector","title","description"),accordionSlotRecipe=defineSlotRecipe({className:"chakra-accordion",slots:accordionAnatomy.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),actionBarSlotRecipe=defineSlotRecipe({className:"chakra-action-bar",slots:actionBarAnatomy.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),alertSlotRecipe=defineSlotRecipe({slots:alertAnatomy.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),avatarSlotRecipe=defineSlotRecipe({slots:anatomy$9.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),blockquoteSlotRecipe=defineSlotRecipe({className:"chakra-blockquote",slots:blockquoteAnatomy.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),breadcrumbSlotRecipe=defineSlotRecipe({className:"chakra-breadcrumb",slots:breadcrumbAnatomy.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),cardSlotRecipe=defineSlotRecipe({className:"chakra-card",slots:cardAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var Ho,Xo,Yo,Ko,qo,Zo,Qo,Jo,na,ga,ba,xa,$a,es;const checkboxSlotRecipe=defineSlotRecipe({slots:checkboxAnatomy.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:checkmarkRecipe.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(Xo=(Ho=checkmarkRecipe.variants)==null?void 0:Ho.size)==null?void 0:Xo.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(Ko=(Yo=checkmarkRecipe.variants)==null?void 0:Yo.size)==null?void 0:Ko.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(Zo=(qo=checkmarkRecipe.variants)==null?void 0:qo.size)==null?void 0:Zo.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(Jo=(Qo=checkmarkRecipe.variants)==null?void 0:Qo.size)==null?void 0:Jo.lg}},variant:{outline:{control:(ga=(na=checkmarkRecipe.variants)==null?void 0:na.variant)==null?void 0:ga.outline},solid:{control:(xa=(ba=checkmarkRecipe.variants)==null?void 0:ba.variant)==null?void 0:xa.solid},subtle:{control:(es=($a=checkmarkRecipe.variants)==null?void 0:$a.variant)==null?void 0:es.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var ts,rs,ns,is,os,as,ss;const checkboxCardSlotRecipe=defineSlotRecipe({slots:checkboxCardAnatomy.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8",borderColor:"border.subtle"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm"},addon:{_disabled:{opacity:"0.5"}},indicator:checkmarkRecipe.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(ts=checkmarkRecipe.variants)==null?void 0:ts.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(rs=checkmarkRecipe.variants)==null?void 0:rs.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(ns=checkmarkRecipe.variants)==null?void 0:ns.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:(is=checkmarkRecipe.variants)==null?void 0:is.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(os=checkmarkRecipe.variants)==null?void 0:os.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(as=checkmarkRecipe.variants)==null?void 0:as.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(ss=checkmarkRecipe.variants)==null?void 0:ss.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),collapsibleSlotRecipe=defineSlotRecipe({slots:anatomy$l.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var ls,cs,us,ds,fs,hs,ps,ms,gs,ys,vs,bs,xs,_s,Ss,Es,ws,Ts;const colorPickerSlotRecipe=defineSlotRecipe({className:"colorPicker",slots:colorPickerAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm"},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...colorSwatchRecipe.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...inputRecipe.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(cs=(ls=inputRecipe.variants)==null?void 0:ls.size)==null?void 0:cs["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(ds=(us=inputRecipe.variants)==null?void 0:us.size)==null?void 0:ds.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(hs=(fs=inputRecipe.variants)==null?void 0:fs.size)==null?void 0:hs.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(ms=(ps=inputRecipe.variants)==null?void 0:ps.size)==null?void 0:ms.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(ys=(gs=inputRecipe.variants)==null?void 0:gs.size)==null?void 0:ys.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(bs=(vs=inputRecipe.variants)==null?void 0:vs.size)==null?void 0:bs.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(_s=(xs=inputRecipe.variants)==null?void 0:xs.size)==null?void 0:_s["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(Es=(Ss=inputRecipe.variants)==null?void 0:Ss.variant)==null?void 0:Es.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(Ts=(ws=inputRecipe.variants)==null?void 0:ws.variant)==null?void 0:Ts.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),dataListSlotRecipe=defineSlotRecipe({slots:dataListAnatomy.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),dialogSlotRecipe=defineSlotRecipe({slots:dialogAnatomy.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),drawerSlotRecipe=defineSlotRecipe({slots:drawerAnatomy.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),sharedStyles=defineStyle({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),editableSlotRecipe=defineSlotRecipe({slots:editableAnatomy.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...sharedStyles,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...sharedStyles,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),emptyStateSlotRecipe=defineSlotRecipe({slots:emptyStateAnatomy.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),fieldSlotRecipe=defineSlotRecipe({className:"chakra-field",slots:fieldAnatomy.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),fieldsetSlotRecipe=defineSlotRecipe({className:"fieldset",slots:fieldsetAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),fileUploadSlotRecipe=defineSlotRecipe({className:"chakra-file-upload",slots:fileUploadAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3"},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{alignSelf:"flex-start"},itemPreviewImage:{width:"10",height:"10",objectFit:"scale-down"}},defaultVariants:{}}),hoverCardSlotRecipe=defineSlotRecipe({className:"chakra-hover-card",slots:anatomy$7.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),listSlotRecipe=defineSlotRecipe({className:"chakra-list",slots:listAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert",listStylePosition:"inside"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),menuSlotRecipe=defineSlotRecipe({className:"chakra-menu",slots:menuAnatomy.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"}},itemText:{flex:"1"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),selectSlotRecipe=defineSlotRecipe({className:"chakra-select",slots:selectAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var Cs,Ps;const nativeSelectSlotRecipe=defineSlotRecipe({className:"chakra-native-select",slots:nativeSelectAnatomy.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(Cs=selectSlotRecipe.variants)==null?void 0:Cs.variant.outline.trigger},subtle:{field:(Ps=selectSlotRecipe.variants)==null?void 0:Ps.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:selectSlotRecipe.defaultVariants});function mapEntries(_e,_){const et={};for(const tt in _e){const rt=_(tt,_e[tt]);et[rt[0]]=rt[1]}return et}const triggerStyle=defineStyle({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),numberInputSlotRecipe=defineSlotRecipe({className:"chakra-number-input",slots:anatomy$6.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...inputRecipe.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...triggerStyle,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...triggerStyle,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:inputRecipe.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:inputRecipe.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:inputRecipe.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:inputRecipe.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:mapEntries(inputRecipe.variants.variant,(_e,_)=>[_e,{input:_}])},defaultVariants:{size:"md",variant:"outline"}}),{variants,defaultVariants}=inputRecipe,pinInputSlotRecipe=defineSlotRecipe({className:"chakra-pin-input",slots:anatomy$5.keys(),base:{input:{...inputRecipe.base,textAlign:"center",width:"var(--input-height)"}},variants:{size:mapEntries(variants.size,(_e,_)=>[_e,{input:_}]),variant:mapEntries(variants.variant,(_e,_)=>[_e,{input:_}])},defaultVariants}),popoverSlotRecipe=defineSlotRecipe({className:"chakra-popover",slots:popoverAnatomy.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),progressSlotRecipe=defineSlotRecipe({slots:anatomy$4.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),progressCircleSlotRecipe=defineSlotRecipe({className:"chakra-progress-circle",slots:anatomy$4.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),qrCodeSlotRecipe=defineSlotRecipe({slots:anatomy$3.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var As,Rs,Is,$s,Os,Ms,ks;const radioCardSlotRecipe=defineSlotRecipe({className:"chakra-radio-card",slots:radioCardAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:radiomarkRecipe.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(As=radiomarkRecipe.variants)==null?void 0:As.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(Rs=radiomarkRecipe.variants)==null?void 0:Rs.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(Is=radiomarkRecipe.variants)==null?void 0:Is.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:($s=radiomarkRecipe.variants)==null?void 0:$s.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(Os=radiomarkRecipe.variants)==null?void 0:Os.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(Ms=radiomarkRecipe.variants)==null?void 0:Ms.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(ks=radiomarkRecipe.variants)==null?void 0:ks.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var Ds,Ns,Ls,Fs,js,Bs,Us,zs,Vs,Ws,Gs,Hs,Xs,Ys;const radioGroupSlotRecipe=defineSlotRecipe({className:"chakra-radio-group",slots:radioGroupAnatomy.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:radiomarkRecipe.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(Ns=(Ds=radiomarkRecipe.variants)==null?void 0:Ds.variant)==null?void 0:Ns.outline},subtle:{itemControl:(Fs=(Ls=radiomarkRecipe.variants)==null?void 0:Ls.variant)==null?void 0:Fs.subtle},solid:{itemControl:(Bs=(js=radiomarkRecipe.variants)==null?void 0:js.variant)==null?void 0:Bs.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(zs=(Us=radiomarkRecipe.variants)==null?void 0:Us.size)==null?void 0:zs.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(Ws=(Vs=radiomarkRecipe.variants)==null?void 0:Vs.size)==null?void 0:Ws.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(Hs=(Gs=radiomarkRecipe.variants)==null?void 0:Gs.size)==null?void 0:Hs.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(Ys=(Xs=radiomarkRecipe.variants)==null?void 0:Xs.size)==null?void 0:Ys.lg}}},defaultVariants:{size:"md",variant:"solid"}}),ratingGroupSlotRecipe=defineSlotRecipe({className:"chakra-rating-group",slots:ratingGroupAnatomy.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),segmentGroupSlotRecipe=defineSlotRecipe({className:"chakra-segment-group",slots:segmentGroupAnatomy.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted"},item:{display:"flex",alignItems:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",insetInlineStart:0,insetBlock:"1.5",bg:"border",width:"1px",transition:"opacity 0.2s"},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{root:{height:"6"},item:{textStyle:"xs",px:"3",gap:"1"}},sm:{root:{height:"8"},item:{textStyle:"sm",px:"4",gap:"2"}},md:{root:{height:"10"},item:{textStyle:"sm",px:"4",gap:"2"}},lg:{root:{height:"10"},item:{textStyle:"md",px:"5",gap:"3"}}}},defaultVariants:{size:"md"}}),sliderSlotRecipe=defineSlotRecipe({className:"chakra-slider",slots:sliderAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label]":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label]":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),statSlotRecipe=defineSlotRecipe({className:"chakra-stat",slots:statAnatomy.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),statusSlotRecipe=defineSlotRecipe({className:"chakra-status",slots:statusAnatomy.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),stepsSlotRecipe=defineSlotRecipe({className:"chakra-steps",slots:stepsAnatomy.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),switchSlotRecipe=defineSlotRecipe({slots:switchAnatomy.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),tableSlotRecipe=defineSlotRecipe({className:"chakra-table",slots:tableAnatomy.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),tabsSlotRecipe=defineSlotRecipe({slots:tabsAnatomy.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var Ks;const badgeVariant=(Ks=badgeRecipe.variants)==null?void 0:Ks.variant,tagSlotRecipe=defineSlotRecipe({slots:tagAnatomy.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:badgeVariant==null?void 0:badgeVariant.subtle},solid:{root:badgeVariant==null?void 0:badgeVariant.solid},outline:{root:badgeVariant==null?void 0:badgeVariant.outline},surface:{root:badgeVariant==null?void 0:badgeVariant.surface}}},defaultVariants:{size:"md",variant:"surface"}}),timelineSlotRecipe=defineSlotRecipe({slots:timelineAnatomy.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),toastSlotRecipe=defineSlotRecipe({slots:toastAnatomy.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),tooltipSlotRecipe=defineSlotRecipe({slots:anatomy$2.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),slotRecipes={accordion:accordionSlotRecipe,actionBar:actionBarSlotRecipe,alert:alertSlotRecipe,avatar:avatarSlotRecipe,blockquote:blockquoteSlotRecipe,breadcrumb:breadcrumbSlotRecipe,card:cardSlotRecipe,checkbox:checkboxSlotRecipe,checkboxCard:checkboxCardSlotRecipe,collapsible:collapsibleSlotRecipe,dataList:dataListSlotRecipe,dialog:dialogSlotRecipe,drawer:drawerSlotRecipe,editable:editableSlotRecipe,emptyState:emptyStateSlotRecipe,field:fieldSlotRecipe,fieldset:fieldsetSlotRecipe,fileUpload:fileUploadSlotRecipe,hoverCard:hoverCardSlotRecipe,list:listSlotRecipe,menu:menuSlotRecipe,nativeSelect:nativeSelectSlotRecipe,numberInput:numberInputSlotRecipe,pinInput:pinInputSlotRecipe,popover:popoverSlotRecipe,progress:progressSlotRecipe,progressCircle:progressCircleSlotRecipe,radioCard:radioCardSlotRecipe,radioGroup:radioGroupSlotRecipe,ratingGroup:ratingGroupSlotRecipe,segmentGroup:segmentGroupSlotRecipe,select:selectSlotRecipe,slider:sliderSlotRecipe,stat:statSlotRecipe,steps:stepsSlotRecipe,switch:switchSlotRecipe,table:tableSlotRecipe,tabs:tabsSlotRecipe,tag:tagSlotRecipe,toast:toastSlotRecipe,tooltip:tooltipSlotRecipe,status:statusSlotRecipe,timeline:timelineSlotRecipe,colorPicker:colorPickerSlotRecipe,qrCode:qrCodeSlotRecipe},textStyles=defineTextStyles({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}}}),animations=defineTokens.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),aspectRatios=defineTokens.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),blurs=defineTokens.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),borders=defineTokens.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),colors=defineTokens.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),cursor=defineTokens.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),durations=defineTokens.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),easings=defineTokens.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),fontSizes=defineTokens.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),fontWeights=defineTokens.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),fallback='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fonts=defineTokens.fonts({heading:{value:`Inter, ${fallback}`},body:{value:`Inter, ${fallback}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),keyframes=defineKeyframes({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),letterSpacings=defineTokens.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),lineHeights=defineTokens.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),radii=defineTokens.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),spacing=defineTokens.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),largeSizes=defineTokens.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),namedSizes=defineTokens.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),fractionalSizes=defineTokens.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),sizes$1=defineTokens.sizes({...largeSizes,...spacing,...fractionalSizes,...namedSizes}),zIndices=defineTokens.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),defaultThemeConfig=defineConfig({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss,theme:{breakpoints,keyframes,tokens:{aspectRatios,animations,blurs,borders,colors,durations,easings,fonts,fontSizes,fontWeights,letterSpacings,lineHeights,radii,spacing,sizes:sizes$1,zIndex:zIndices,cursor},semanticTokens:{colors:semanticColors,shadows:semanticShadows,radii:semanticRadii},recipes,slotRecipes,textStyles,layerStyles,animationStyles}}),defaultConfig$1=mergeConfigs(defaultBaseConfig,defaultThemeConfig),defaultSystem=createSystem(defaultConfig$1);function useSlotRecipe(_e){const{key:_,recipe:et}=_e,tt=useChakraContext();return reactExports.useMemo(()=>{const rt=et||(_!=null?tt.getSlotRecipe(_):{});return tt.sva(structuredClone(rt))},[_,et,tt])}const upperFirst=_e=>_e.charAt(0).toUpperCase()+_e.slice(1),createSlotRecipeContext=_e=>{const{key:_,recipe:et}=_e,tt=upperFirst(_||et.className||"Component"),[rt,nt]=createContext$1({name:`${tt}StylesContext`,errorMessage:`use${tt}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${tt}.Root />" `}),[it,at]=createContext$1({name:`${tt}ClassNameContext`,errorMessage:`use${tt}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${tt}.Root />" `,strict:!1}),[lt,ct]=createContext$1({strict:!1,name:`${tt}PropsContext`,providerName:`${tt}PropsContext`,defaultValue:{}});function ut(ft){const{unstyled:ht,...mt}=ft,gt=useSlotRecipe({key:_,recipe:mt.recipe||et}),[yt,vt]=gt.splitVariantProps(mt);return{styles:ht?EMPTY_SLOT_STYLES:gt(yt),classNames:gt.classNameMap,props:vt}}function st(ft,ht={}){const{defaultProps:mt}=ht,gt=yt=>{const vt=mergeProps$2(mt,ct(),yt),{styles:bt,classNames:xt,props:_t}=ut(vt);return jsxRuntimeExports.jsx(rt,{value:bt,children:jsxRuntimeExports.jsx(it,{value:xt,children:jsxRuntimeExports.jsx(ft,{..._t})})})};return gt.displayName=ft.displayName||ft.name,gt}return{StylesProvider:rt,ClassNamesProvider:it,PropsProvider:lt,usePropsContext:ct,useRecipeResult:ut,withProvider:(ft,ht,mt)=>{const{defaultProps:gt,...yt}=mt??{},vt=chakra(ft,{},yt),bt=reactExports.forwardRef((xt,_t)=>{var Pt;const St=mergeProps$2(gt??{},ct(),xt),{styles:wt,props:Et,classNames:Tt}=ut(St),Ct=Tt[ht],It=jsxRuntimeExports.jsx(rt,{value:wt,children:jsxRuntimeExports.jsx(it,{value:Tt,children:jsxRuntimeExports.jsx(vt,{ref:_t,...Et,css:[wt[ht],St.css],className:cx(St.className,Ct)})})});return((Pt=mt==null?void 0:mt.wrapElement)==null?void 0:Pt.call(mt,It,St))??It});return bt.displayName=ft.displayName||ft.name,bt},withContext:(ft,ht,mt)=>{const gt=chakra(ft,{},mt),yt=reactExports.forwardRef((vt,bt)=>{const xt=nt(),_t=at(),St=_t==null?void 0:_t[ht];return jsxRuntimeExports.jsx(gt,{...vt,css:[ht?xt[ht]:void 0,vt.css],ref:bt,className:cx(vt.className,St)})});return yt.displayName=ft.displayName||ft.name,yt},withRootProvider:st,useStyles:nt,useClassNames:at}},CheckIcon=_e=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",..._e,children:jsxRuntimeExports.jsx("path",{d:"M20 6 9 17l-5-5"})}),ChevronUpIcon=_e=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",..._e,children:jsxRuntimeExports.jsx("path",{d:"m18 15-6-6-6 6"})}),ChevronDownIcon=_e=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",..._e,children:jsxRuntimeExports.jsx("path",{d:"m6 9 6 6 6-6"})}),CheckCircleIcon=_e=>jsxRuntimeExports.jsx(chakra.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",..._e,children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"})}),WarningIcon=_e=>jsxRuntimeExports.jsx(chakra.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",..._e,children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM11 7H13V13H11V7Z"})}),CloseIcon=_e=>jsxRuntimeExports.jsx(chakra.svg,{viewBox:"0 0 24 24",fill:"currentColor",..._e,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),{withProvider:withProvider$6,withContext:withContext$b,useStyles:useAvatarStyles,PropsProvider:PropsProvider$c}=createSlotRecipeContext({key:"avatar"});withProvider$6(AvatarRootProvider,"root",{forwardAsChild:!0});const AvatarRoot=withProvider$6(AvatarRoot$1,"root",{forwardAsChild:!0}),AvatarPropsProvider=PropsProvider$c,AvatarFallback$1=withContext$b(AvatarFallback$2,"fallback",{forwardAsChild:!0}),AvatarImage=withContext$b(AvatarImage$1,"image",{forwardAsChild:!0,defaultProps:{draggable:"false",referrerPolicy:"no-referrer"}}),AvatarIcon=reactExports.forwardRef(function(_,et){return jsxRuntimeExports.jsx(chakra.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1.2em",width:"1.2em",ref:et,..._,children:jsxRuntimeExports.jsx("path",{d:"M20 22H18V20C18 18.3431 16.6569 17 15 17H9C7.34315 17 6 18.3431 6 20V22H4V20C4 17.2386 6.23858 15 9 15H15C17.7614 15 20 17.2386 20 20V22ZM12 13C8.68629 13 6 10.3137 6 7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7C18 10.3137 15.3137 13 12 13ZM12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"})})}),Box=chakra("div");Box.displayName="Box";const Span=chakra("span"),AbsoluteCenter=chakra("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}}},defaultVariants:{axis:"both"}});AbsoluteCenter.displayName="AbsoluteCenter";const{withContext:withContext$a,PropsProvider:PropsProvider$b}=createRecipeContext({key:"spinner"}),Spinner=withContext$a("span"),Loader$2=reactExports.forwardRef(function(_,et){const{spinner:tt=jsxRuntimeExports.jsx(Spinner,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:rt="start",children:nt,text:it,visible:at=!0,...lt}=_;return at?it?jsxRuntimeExports.jsxs(Span,{ref:et,display:"contents",...lt,children:[rt==="start"&&tt,it,rt==="end"&&tt]}):tt?jsxRuntimeExports.jsxs(Span,{ref:et,display:"contents",...lt,children:[jsxRuntimeExports.jsx(AbsoluteCenter,{display:"inline-flex",children:tt}),jsxRuntimeExports.jsx(Span,{opacity:0,children:nt})]}):jsxRuntimeExports.jsx(Span,{ref:et,display:"contents",...lt,children:nt}):nt}),{useRecipeResult:useRecipeResult$1,PropsProvider:PropsProvider$a,usePropsContext}=createRecipeContext({key:"button"}),Button$1=reactExports.forwardRef(function(_,et){const tt=usePropsContext(),rt=reactExports.useMemo(()=>mergeProps$2(tt,_),[tt,_]),nt=useRecipeResult$1(rt),{loading:it,loadingText:at,children:lt,spinner:ct,spinnerPlacement:ut,...st}=nt.props;return jsxRuntimeExports.jsx(chakra.button,{type:"button",ref:et,...st,disabled:it||st.disabled,className:cx(nt.className,rt.className),css:[nt.styles,rt.css],children:!rt.asChild&&it?jsxRuntimeExports.jsx(Loader$2,{spinner:ct,text:at,spinnerPlacement:ut,children:lt}):lt})}),IconButton=reactExports.forwardRef(function(_,et){return jsxRuntimeExports.jsx(Button$1,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:et,..._})}),dataAttr=_e=>_e?"":void 0,StyledGroup=chakra("div",{base:{display:"inline-flex",gap:"0.5rem",isolation:"isolate",position:"relative","& [data-group-item]":{_focusVisible:{zIndex:1}}},variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}},attached:{true:{gap:"0!"}},grow:{true:{display:"flex","& > *":{flex:1}}},stacking:{"first-on-top":{"& > [data-group-item]":{zIndex:"calc(var(--group-count) - var(--group-index))"}},"last-on-top":{"& > [data-group-item]":{zIndex:"var(--group-index)"}}}},compoundVariants:[{orientation:"horizontal",attached:!0,css:{"& > *[data-first]":{borderEndRadius:"0!",marginEnd:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginEnd:"-1px"},"& > *[data-last]":{borderStartRadius:"0!"}}},{orientation:"vertical",attached:!0,css:{"& > *[data-first]":{borderBottomRadius:"0!",marginBottom:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginBottom:"-1px"},"& > *[data-last]":{borderTopRadius:"0!"}}}],defaultVariants:{orientation:"horizontal"}}),Group$1=reactExports.memo(reactExports.forwardRef(function(_,et){const{align:tt="center",justify:rt="flex-start",children:nt,wrap:it,...at}=_,lt=reactExports.Children.count(nt),ct=reactExports.useMemo(()=>reactExports.Children.toArray(nt).filter(reactExports.isValidElement).map((st,ot)=>{const dt=st.props;return reactExports.cloneElement(st,{...dt,"data-group-item":"","data-first":dataAttr(ot===0),"data-last":dataAttr(ot===lt-1),"data-between":dataAttr(ot>0&&ot<lt-1),style:{"--group-count":lt,"--group-index":ot,...(dt==null?void 0:dt.style)??{}}})}),[nt,lt]);return jsxRuntimeExports.jsx(StyledGroup,{ref:et,alignItems:tt,justifyContent:rt,flexWrap:it,...at,children:ct})})),{withRootProvider,withContext:withContext$9,useStyles:useDrawerStyles,PropsProvider:PropsProvider$9}=createSlotRecipeContext({key:"drawer"});withRootProvider(DialogRootProvider,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const DrawerRoot$1=withRootProvider(DialogRoot,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),DrawerTrigger$1=withContext$9(DialogTrigger,"trigger",{forwardAsChild:!0}),DrawerPositioner=withContext$9(DialogPositioner,"positioner",{forwardAsChild:!0}),DrawerContent$1=withContext$9(DialogContent,"content",{forwardAsChild:!0});withContext$9(DialogDescription,"description",{forwardAsChild:!0});const DrawerTitle$1=withContext$9(DialogTitle,"title",{forwardAsChild:!0}),DrawerCloseTrigger$1=withContext$9(DialogCloseTrigger,"closeTrigger",{forwardAsChild:!0}),DrawerActionTrigger$1=reactExports.forwardRef(function(_,et){const tt=useDialogContext();return jsxRuntimeExports.jsx(chakra.button,{..._,ref:et,onClick:()=>tt.setOpen(!1)})}),DrawerBackdrop$1=withContext$9(DialogBackdrop,"backdrop",{forwardAsChild:!0}),DrawerBody$1=withContext$9("div","body"),DrawerFooter$1=withContext$9("div","footer"),DrawerHeader$1=withContext$9("div","header"),{useRecipeResult,PropsProvider:PropsProvider$8}=createRecipeContext({key:"icon"}),Icon$2=reactExports.forwardRef(function(_,et){const{styles:tt,className:rt,props:nt}=useRecipeResult({asChild:!_.as,..._});return jsxRuntimeExports.jsx(chakra.svg,{ref:et,focusable:!1,"aria-hidden":"true",...nt,css:[tt,_.css],className:cx(rt,_.className)})});function createIcon(_e){const{viewBox:_="0 0 24 24",d:et,displayName:tt,defaultProps:rt={}}=_e,nt=reactExports.Children.toArray(_e.path),it=reactExports.forwardRef((at,lt)=>jsxRuntimeExports.jsx(Icon$2,{ref:lt,asChild:!1,viewBox:_,...rt,...at,children:nt.length?nt:jsxRuntimeExports.jsx("path",{fill:"currentColor",d:et})}));return it.displayName=tt,it}const{withProvider:withProvider$5,withContext:withContext$8,useStyles:useFieldStyles,useClassNames,PropsProvider:PropsProvider$7}=createSlotRecipeContext({key:"field"}),FieldRoot=withProvider$5(FieldRoot$1,"root",{forwardAsChild:!0}),FieldLabel=withContext$8(FieldLabel$1,"label",{forwardAsChild:!0}),FieldHelperText=withContext$8(FieldHelperText$1,"helperText",{forwardAsChild:!0}),FieldErrorText=withContext$8(FieldErrorText$1,"errorText",{forwardAsChild:!0});createIcon({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"});const FieldRequiredIndicator=reactExports.forwardRef(function(_,et){const{fallback:tt,children:rt="*",...nt}=_,it=useFieldContext(),at=useClassNames(),lt=useFieldStyles();return it!=null&&it.required?jsxRuntimeExports.jsx(chakra.span,{ref:et,"aria-hidden":"true",...nt,className:cx(at.requiredIndicator,_.className),css:[lt.requiredIndicator,_.css],children:rt}):tt}),Flex=reactExports.forwardRef(function(_,et){const{direction:tt,align:rt,justify:nt,wrap:it,basis:at,grow:lt,shrink:ct,inline:ut,...st}=_;return jsxRuntimeExports.jsx(chakra.div,{ref:et,...st,css:{display:ut?"inline-flex":"flex",flexDirection:tt,alignItems:rt,justifyContent:nt,flexWrap:it,flexBasis:at,flexGrow:lt,flexShrink:ct,..._.css}})}),Image$2=reactExports.forwardRef(function(_,et){const{align:tt,fit:rt="cover",...nt}=_;return jsxRuntimeExports.jsx(chakra.img,{ref:et,objectFit:rt,objectPosition:tt,className:cx("chakra-image",_.className),...nt})}),{withContext:withContext$7,PropsProvider:PropsProvider$6}=createRecipeContext({key:"input"}),Input=withContext$7(FieldInput),InputElement=chakra("div",{base:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:2,color:"fg.subtle",height:"full",fontSize:"sm",px:"3"},variants:{placement:{start:{insetInlineStart:"0"},end:{insetInlineEnd:"0"}}}}),{withProvider:withProvider$4,withContext:withContext$6,useStyles:useNumberInputStyles,PropsProvider:PropsProvider$5}=createSlotRecipeContext({key:"numberInput"});withProvider$4(NumberInputRootProvider,"root",{forwardAsChild:!0});const NumberInputRoot=withProvider$4(NumberInputRoot$1,"root",{forwardAsChild:!0}),NumberInputControl=withContext$6(NumberInputControl$1,"control",{forwardAsChild:!0});withContext$6(NumberInputLabel,"label",{forwardAsChild:!0});const NumberInputInput=withContext$6(NumberInputInput$1,"input",{forwardAsChild:!0}),NumberInputIncrementTrigger=withContext$6(NumberInputIncrementTrigger$1,"incrementTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronUpIcon,{})}}),NumberInputDecrementTrigger=withContext$6(NumberInputDecrementTrigger$1,"decrementTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronDownIcon,{})}});withContext$6(NumberInputScrubber,"scrubber",{forwardAsChild:!0});withContext$6(NumberInputValueText,"valueText",{forwardAsChild:!0});const Portal$1=_e=>{var lt;const{children:_,disabled:et}=_e,[tt,rt]=reactExports.useState((lt=_e.container)==null?void 0:lt.current),nt=reactExports.useSyncExternalStore(subscribe,()=>!1,()=>!0),{getRootNode:it}=useEnvironmentContext();if(reactExports.useEffect(()=>{rt(()=>{var ct;return(ct=_e.container)==null?void 0:ct.current})},[_e.container]),nt||et)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:_});const at=tt??getPortalNode(it);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reactExports.Children.map(_,ct=>reactDomExports.createPortal(ct,at))})},getPortalNode=_e=>{const _=_e==null?void 0:_e(),et=_.getRootNode();return isShadowRoot$1(et)?et:getDocument(_).body},subscribe=()=>()=>{},{withProvider:withProvider$3,withContext:withContext$5,useStyles:useSelectStyles,PropsProvider:PropsProvider$4}=createSlotRecipeContext({key:"select"});withProvider$3(SelectRootProvider,"root",{forwardAsChild:!0});const SelectRoot$1=withProvider$3(SelectRoot$2,"root",{forwardAsChild:!0}),SelectTrigger$1=withContext$5(SelectTrigger$2,"trigger",{forwardAsChild:!0}),SelectPositioner=withContext$5(SelectPositioner$1,"positioner",{forwardAsChild:!0}),SelectContent$1=withContext$5(SelectContent$2,"content",{forwardAsChild:!0}),SelectValueText$1=withContext$5(SelectValueText$2,"valueText",{forwardAsChild:!0}),SelectClearTrigger$1=withContext$5(SelectClearTrigger$2,"clearTrigger",{forwardAsChild:!0}),SelectItemGroup=withContext$5(SelectItemGroup$1,"itemGroup",{forwardAsChild:!0}),SelectItemGroupLabel=withContext$5(SelectItemGroupLabel$1,"itemGroupLabel",{forwardAsChild:!0}),SelectItem$1=withContext$5(SelectItem$2,"item",{forwardAsChild:!0});withContext$5(SelectItemText,"itemText",{forwardAsChild:!0});const SelectItemIndicator=withContext$5(SelectItemIndicator$1,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CheckIcon,{})}}),SelectIndicatorGroup=withContext$5("div","indicatorGroup"),SelectIndicator=withContext$5(SelectIndicator$1,"indicator",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(ChevronDownIcon,{})}}),SelectControl=withContext$5(SelectControl$1,"control",{forwardAsChild:!0});withContext$5(SelectLabel,"label",{forwardAsChild:!0});const SelectContext=SelectContext$1,SelectHiddenSelect=SelectHiddenSelect$1;function getSeparatorStyles(_e){const{gap:_,direction:et}=_e,tt={column:{marginY:_,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:_,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:_,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:_,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":mapObject(et,rt=>tt[rt])}}function getValidChildren(_e){return reactExports.Children.toArray(_e).filter(_=>reactExports.isValidElement(_))}const Stack=reactExports.forwardRef(function(_,et){const{direction:tt="column",align:rt,justify:nt,gap:it="0.5rem",wrap:at,children:lt,separator:ct,className:ut,...st}=_,ot=reactExports.useMemo(()=>getSeparatorStyles({gap:it,direction:tt}),[it,tt]),dt=reactExports.useMemo(()=>ct?getValidChildren(lt).map((ft,ht,mt)=>{const gt=typeof ft.key<"u"?ft.key:ht,yt=reactExports.cloneElement(ct,{css:[ot,ct.props.css]});return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ft,ht===mt.length-1?null:yt]},gt)}):lt,[lt,ct,ot]);return jsxRuntimeExports.jsx(chakra.div,{ref:et,display:"flex",alignItems:rt,justifyContent:nt,flexDirection:tt,flexWrap:at,gap:ct?void 0:it,className:cx("chakra-stack",ut),...st,children:dt})}),HStack=reactExports.forwardRef(function(_,et){return jsxRuntimeExports.jsx(Stack,{align:"center",..._,direction:"row",ref:et})}),VStack=reactExports.forwardRef(function(_,et){return jsxRuntimeExports.jsx(Stack,{align:"center",..._,direction:"column",ref:et})}),{withProvider:withProvider$2,withContext:withContext$4,useStyles:useSwitchStyles,PropsProvider:PropsProvider$3}=createSlotRecipeContext({key:"switch"});withProvider$2(SwitchRootProvider,"root",{forwardAsChild:!0});const SwitchRoot=withProvider$2(SwitchRoot$1,"root",{forwardAsChild:!0}),SwitchLabel=withContext$4(SwitchLabel$1,"label",{forwardAsChild:!0}),SwitchControl=withContext$4(SwitchControl$1,"control",{forwardAsChild:!0}),SwitchThumb=withContext$4(SwitchThumb$1,"thumb",{forwardAsChild:!0}),SwitchIndicator=reactExports.forwardRef(function(_,et){const tt=useSwitchContext(),rt=useSwitchStyles(),{fallback:nt,children:it,...at}=_;return jsxRuntimeExports.jsx(chakra.span,{ref:et,"data-checked":dataAttr(tt.checked),...at,css:[rt.indicator,_.css],children:tt.checked?it:nt})}),SwitchThumbIndicator=reactExports.forwardRef(function(_,et){const tt=useSwitchContext(),{fallback:rt,children:nt,...it}=_;return jsxRuntimeExports.jsx(chakra.span,{ref:et,"data-checked":dataAttr(tt.checked),...it,children:tt.checked?nt:rt})}),SwitchHiddenInput=SwitchHiddenInput$1;function useDebounce(_e,_){const[et,tt]=reactExports.useState(_e);return reactExports.useEffect(()=>{const rt=setTimeout(()=>{tt(_e)},_);return()=>{clearTimeout(rt)}},[_e,_]),et}const[TabsProvider,useTabsContext]=createContext({name:"TabsContext",hookName:"useTabsContext",providerName:"<TabsProvider />"}),TabContent=reactExports.forwardRef((_e,_)=>{const[et,tt]=createSplitProps()(_e,["value"]),rt=useTabsContext(),nt=useRenderStrategyPropsContext(),it=usePresence({...nt,present:useDebounce(rt.value===_e.value,0),immediate:!0}),at=mergeProps$1(rt.getContentProps(et),it.getPresenceProps(),tt);return jsxRuntimeExports.jsx(PresenceProvider,{value:it,children:it.unmounted?null:jsxRuntimeExports.jsx(ark.div,{...at,ref:composeRefs(it.ref,_)})})});TabContent.displayName="TabContent";const TabIndicator=reactExports.forwardRef((_e,_)=>{const et=useTabsContext(),tt=mergeProps$1(et.getIndicatorProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});TabIndicator.displayName="TabIndicator";const TabList=reactExports.forwardRef((_e,_)=>{const et=useTabsContext(),tt=mergeProps$1(et.getListProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});TabList.displayName="TabList";const TabTrigger=reactExports.forwardRef((_e,_)=>{const[et,tt]=createSplitProps()(_e,["disabled","value"]),rt=useTabsContext(),nt=mergeProps$1(rt.getTriggerProps(et),tt);return jsxRuntimeExports.jsx(ark.button,{...nt,ref:_})});TabTrigger.displayName="TabTrigger";var anatomy$1=createAnatomy("tabs").parts("root","list","trigger","content","indicator"),parts$1=anatomy$1.build(),dom$1=createScope({getRootId:_e=>{var _;return((_=_e.ids)==null?void 0:_.root)??`tabs:${_e.id}`},getListId:_e=>{var _;return((_=_e.ids)==null?void 0:_.list)??`tabs:${_e.id}:list`},getContentId:(_e,_)=>{var et;return((et=_e.ids)==null?void 0:et.content)??`tabs:${_e.id}:content-${_}`},getTriggerId:(_e,_)=>{var et;return((et=_e.ids)==null?void 0:et.trigger)??`tabs:${_e.id}:trigger-${_}`},getIndicatorId:_e=>{var _;return((_=_e.ids)==null?void 0:_.indicator)??`tabs:${_e.id}:indicator`},getListEl:_e=>dom$1.getById(_e,dom$1.getListId(_e)),getContentEl:(_e,_)=>dom$1.getById(_e,dom$1.getContentId(_e,_)),getTriggerEl:(_e,_)=>dom$1.getById(_e,dom$1.getTriggerId(_e,_)),getIndicatorEl:_e=>dom$1.getById(_e,dom$1.getIndicatorId(_e)),getElements:_e=>{const et=`[role=tab][data-ownedby='${CSS.escape(dom$1.getListId(_e))}']:not([disabled])`;return queryAll(dom$1.getListEl(_e),et)},getFirstTriggerEl:_e=>first(dom$1.getElements(_e)),getLastTriggerEl:_e=>last(dom$1.getElements(_e)),getNextTriggerEl:(_e,_)=>nextById(dom$1.getElements(_e),dom$1.getTriggerId(_e,_),_e.loopFocus),getPrevTriggerEl:(_e,_)=>prevById(dom$1.getElements(_e),dom$1.getTriggerId(_e,_),_e.loopFocus),getSelectedContentEl:_e=>{if(_e.value)return dom$1.getContentEl(_e,_e.value)},getSelectedTriggerEl:_e=>{if(_e.value)return dom$1.getTriggerEl(_e,_e.value)},getOffsetRect:_e=>({left:(_e==null?void 0:_e.offsetLeft)??0,top:(_e==null?void 0:_e.offsetTop)??0,width:(_e==null?void 0:_e.offsetWidth)??0,height:(_e==null?void 0:_e.offsetHeight)??0}),getRectById:(_e,_)=>{const et=itemById(dom$1.getElements(_e),dom$1.getTriggerId(_e,_));return dom$1.resolveRect(dom$1.getOffsetRect(et))},resolveRect:_e=>({width:`${_e.width}px`,height:`${_e.height}px`,left:`${_e.left}px`,top:`${_e.top}px`})});function connect$1(_e,_,et){const tt=_e.context.translations,rt=_e.matches("focused"),nt=_e.context.orientation==="vertical",it=_e.context.orientation==="horizontal",at=_e.context.composite,lt=_e.context.indicatorState;function ct(ut){return{selected:_e.context.value===ut.value,focused:_e.context.focusedValue===ut.value,disabled:!!ut.disabled}}return{value:_e.context.value,focusedValue:_e.context.focusedValue,setValue(ut){_({type:"SET_VALUE",value:ut})},clearValue(){_({type:"CLEAR_VALUE"})},setIndicatorRect(ut){const st=dom$1.getTriggerId(_e.context,ut);_({type:"SET_INDICATOR_RECT",id:st})},syncTabIndex(){_("SYNC_TAB_INDEX")},selectNext(ut){_({type:"TAB_FOCUS",value:ut,src:"selectNext"}),_({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(ut){_({type:"TAB_FOCUS",value:ut,src:"selectPrev"}),_({type:"ARROW_PREV",src:"selectPrev"})},focus(){var ut;(ut=dom$1.getSelectedTriggerEl(_e.context))==null||ut.focus()},getRootProps(){return et.element({...parts$1.root.attrs,id:dom$1.getRootId(_e.context),"data-orientation":_e.context.orientation,"data-focus":dataAttr$1(rt),dir:_e.context.dir})},getListProps(){return et.element({...parts$1.list.attrs,id:dom$1.getListId(_e.context),role:"tablist",dir:_e.context.dir,"data-focus":dataAttr$1(rt),"aria-orientation":_e.context.orientation,"data-orientation":_e.context.orientation,"aria-label":tt==null?void 0:tt.listLabel,onKeyDown(ut){if(ut.defaultPrevented||!isSelfTarget(ut)||isComposingEvent(ut))return;const st={ArrowDown(){it||_({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){it||_({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){nt||_({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){nt||_({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){_("HOME")},End(){_("END")},Enter(){_({type:"ENTER"})}};let ot=getEventKey(ut,_e.context);const dt=st[ot];dt&&(ut.preventDefault(),dt(ut))}})},getTriggerState:ct,getTriggerProps(ut){const{value:st,disabled:ot}=ut,dt=ct(ut);return et.button({...parts$1.trigger.attrs,role:"tab",type:"button",disabled:ot,dir:_e.context.dir,"data-orientation":_e.context.orientation,"data-disabled":dataAttr$1(ot),"aria-disabled":ot,"data-value":st,"aria-selected":dt.selected,"data-selected":dataAttr$1(dt.selected),"data-focus":dataAttr$1(dt.focused),"aria-controls":dt.selected?dom$1.getContentId(_e.context,st):void 0,"data-ownedby":dom$1.getListId(_e.context),"data-ssr":dataAttr$1(_e.context.ssr),id:dom$1.getTriggerId(_e.context,st),tabIndex:dt.selected&&at?0:-1,onFocus(){_({type:"TAB_FOCUS",value:st})},onBlur(ft){const ht=ft.relatedTarget;(ht==null?void 0:ht.getAttribute("role"))!=="tab"&&_({type:"TAB_BLUR"})},onClick(ft){ft.defaultPrevented||ot||(isSafari()&&ft.currentTarget.focus(),_({type:"TAB_CLICK",value:st}))}})},getContentProps(ut){const{value:st}=ut,ot=_e.context.value===st;return et.element({...parts$1.content.attrs,dir:_e.context.dir,id:dom$1.getContentId(_e.context,st),tabIndex:at?0:-1,"aria-labelledby":dom$1.getTriggerId(_e.context,st),role:"tabpanel","data-ownedby":dom$1.getListId(_e.context),"data-selected":dataAttr$1(ot),"data-orientation":_e.context.orientation,hidden:!ot})},getIndicatorProps(){var ut,st,ot,dt;return et.element({id:dom$1.getIndicatorId(_e.context),...parts$1.indicator.attrs,dir:_e.context.dir,"data-orientation":_e.context.orientation,style:{"--transition-property":"left, right, top, bottom, width, height","--left":(ut=lt.rect)==null?void 0:ut.left,"--top":(st=lt.rect)==null?void 0:st.top,"--width":(ot=lt.rect)==null?void 0:ot.width,"--height":(dt=lt.rect)==null?void 0:dt.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:lt.transition?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[it?"left":"top"]:it?"var(--left)":"var(--top)"}})}}}var{not:not$1}=guards;function machine(_e){const _=compact$2(_e);return createMachine({initial:"idle",context:{dir:"ltr",orientation:"horizontal",activationMode:"automatic",value:null,loopFocus:!0,composite:!0,navigate(et){clickIfLink(et.node)},..._,focusedValue:_.value??null,ssr:!0,indicatorState:{rendered:!1,transition:!1,rect:{left:"0px",top:"0px",width:"0px",height:"0px"}}},watch:{value:["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","navigateIfNeeded"],dir:["syncIndicatorRect"],orientation:["syncIndicatorRect"]},on:{SET_VALUE:{actions:"setValue"},CLEAR_VALUE:{actions:"clearValue"},SET_INDICATOR_RECT:{actions:"setIndicatorRect"},SYNC_TAB_INDEX:{actions:"syncTabIndex"}},created:["syncFocusedValue"],entry:["checkRenderedElements","syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:"setFocusedValue"},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:"focusPrevTab"}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:"focusNextTab"}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:"focusFirstTab"}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:"focusLastTab"}],ENTER:{guard:not$1("selectOnFocus"),actions:"selectFocusedTab"},TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{selectOnFocus:et=>et.activationMode==="automatic"},actions:{syncFocusedValue(et){et.value!=null&&et.focusedValue==null&&(et.focusedValue=et.value)},selectFocusedTab(et){raf$2(()=>{const rt=et.deselectable&&et.value===et.focusedValue?null:et.focusedValue;set$2.value(et,rt)})},setFocusedValue(et,tt){tt.value!=null&&set$2.focusedValue(et,tt.value)},clearFocusedValue(et){set$2.focusedValue(et,null)},setValue(et,tt){const nt=et.deselectable&&et.value===et.focusedValue?null:tt.value;set$2.value(et,nt)},clearValue(et){set$2.value(et,null)},focusFirstTab(et){raf$2(()=>{var tt;(tt=dom$1.getFirstTriggerEl(et))==null||tt.focus()})},focusLastTab(et){raf$2(()=>{var tt;(tt=dom$1.getLastTriggerEl(et))==null||tt.focus()})},focusNextTab(et){if(!et.focusedValue)return;const tt=dom$1.getNextTriggerEl(et,et.focusedValue);raf$2(()=>{et.composite?tt==null||tt.focus():(tt==null?void 0:tt.dataset.value)!=null&&set$2.focusedValue(et,tt.dataset.value)})},focusPrevTab(et){if(!et.focusedValue)return;const tt=dom$1.getPrevTriggerEl(et,et.focusedValue);raf$2(()=>{et.composite?tt==null||tt.focus():(tt==null?void 0:tt.dataset.value)!=null&&set$2.focusedValue(et,tt.dataset.value)})},checkRenderedElements(et){et.indicatorState.rendered=!!dom$1.getIndicatorEl(et)},syncTabIndex(et){raf$2(()=>{const tt=dom$1.getSelectedContentEl(et);if(!tt)return;getFocusables(tt).length>0?tt.removeAttribute("tabindex"):tt.setAttribute("tabindex","0")})},cleanupObserver(et){var tt;(tt=et.indicatorCleanup)==null||tt.call(et)},allowIndicatorTransition(et){et.indicatorState.transition=!0},setIndicatorRect(et,tt){const rt=tt.id??et.value;!et.indicatorState.rendered||!rt||!dom$1.getTriggerEl(et,rt)||(et.indicatorState.rect=dom$1.getRectById(et,rt),nextTick(()=>{et.indicatorState.transition=!1}))},syncSsr(et){et.ssr=!1},syncIndicatorRect(et){var nt;(nt=et.indicatorCleanup)==null||nt.call(et);const tt=et.value;if(!et.indicatorState.rendered||!tt)return;const rt=dom$1.getSelectedTriggerEl(et);rt&&(et.indicatorCleanup=trackElementRect(rt,{getRect(it){return dom$1.getOffsetRect(it)},onChange(it){et.indicatorState.rect=dom$1.resolveRect(it),nextTick(()=>{et.indicatorState.transition=!1})}}))},navigateIfNeeded(et){const tt=dom$1.getSelectedTriggerEl(et);isAnchorElement(tt)&&et.navigate({value:et.value,node:tt})}}})}var invoke={change:_e=>{var _;_e.value!=null&&((_=_e.onValueChange)==null||_.call(_e,{value:_e.value}))},focusChange:_e=>{var _;_e.focusedValue!=null&&((_=_e.onFocusChange)==null||_.call(_e,{focusedValue:_e.focusedValue}))}},set$2={value:(_e,_)=>{isEqual$2(_,_e.value)||(_e.value=_,invoke.change(_e))},focusedValue:(_e,_)=>{isEqual$2(_,_e.focusedValue)||(_e.focusedValue=_,invoke.focusChange(_e))}};createProps$1()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value"]);createProps$1()(["disabled","value"]);createProps$1()(["value"]);const useTabs=(_e={})=>{const{getRootNode:_}=useEnvironmentContext(),{dir:et}=useLocaleContext(),tt={id:reactExports.useId(),dir:et,getRootNode:_,value:_e.defaultValue,..._e},rt={...tt,value:_e.value,onValueChange:useEvent$1(_e.onValueChange,{sync:!0}),onFocusChange:useEvent$1(_e.onFocusChange)},[nt,it]=useMachine(machine(tt),{context:rt});return connect$1(nt,it,normalizeProps)},TabsRoot$1=reactExports.forwardRef((_e,_)=>{const[et,tt]=splitRenderStrategyProps(_e),[rt,nt]=createSplitProps()(tt,["activationMode","composite","defaultValue","deselectable","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value"]),it=useTabs(rt),at=mergeProps$1(it.getRootProps(),nt);return jsxRuntimeExports.jsx(TabsProvider,{value:it,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...at,ref:_})})})});TabsRoot$1.displayName="TabsRoot";const TabsRootProvider=reactExports.forwardRef((_e,_)=>{const[et,tt]=splitRenderStrategyProps(_e),[{value:rt},nt]=createSplitProps()(tt,["value"]),it=mergeProps$1(rt.getRootProps(),nt);return jsxRuntimeExports.jsx(TabsProvider,{value:rt,children:jsxRuntimeExports.jsx(RenderStrategyPropsProvider,{value:et,children:jsxRuntimeExports.jsx(ark.div,{...it,ref:_})})})});TabsRootProvider.displayName="TabsRootProvider";const{withProvider:withProvider$1,withContext:withContext$3,useStyles:useTabsStyles,PropsProvider:PropsProvider$2}=createSlotRecipeContext({key:"tabs"});withProvider$1(TabsRootProvider,"root",{forwardAsChild:!0});const TabsRoot=withProvider$1(TabsRoot$1,"root",{forwardAsChild:!0}),TabsTrigger=withContext$3(TabTrigger,"trigger",{forwardAsChild:!0}),TabsContent=withContext$3(TabContent,"content",{forwardAsChild:!0}),TabsContentGroup=withContext$3("div","contentGroup"),TabsList=withContext$3(TabList,"list",{forwardAsChild:!0});withContext$3(TabIndicator,"indicator",{forwardAsChild:!0});const{withContext:withContext$2,PropsProvider:PropsProvider$1}=createRecipeContext({key:"textarea"}),Textarea=withContext$2(FieldTextarea);var anatomy=createAnatomy("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),parts=anatomy.build(),dom=createScope({getRegionId:_e=>`toast-group:${_e}`,getRegionEl:(_e,_)=>dom.getById(_e,`toast-group:${_}`),getRootId:_e=>`toast:${_e.id}`,getRootEl:_e=>dom.getById(_e,dom.getRootId(_e)),getTitleId:_e=>`toast:${_e.id}:title`,getDescriptionId:_e=>`toast:${_e.id}:description`,getCloseTriggerId:_e=>`toast${_e.id}:close`});function getToastsByPlacement(_e,_){return _e.filter(et=>et.state.context.placement===_)}var defaultTimeouts={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function getToastDuration(_e,_){return _e??defaultTimeouts[_]??defaultTimeouts.DEFAULT}function getGroupPlacementStyle(_e,_){var ut;const et=_e.offsets,tt=typeof et=="string"?{left:et,right:et,bottom:et,top:et}:et,rt=_e.dir==="rtl",nt=_.replace("-start",rt?"-right":"-left").replace("-end",rt?"-left":"-right"),it=nt.includes("right"),at=nt.includes("left"),lt={position:"fixed",pointerEvents:_e.count>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${_e.gap}px`,"--first-height":`${((ut=_e.heights[0])==null?void 0:ut.height)||0}px`,zIndex:MAX_Z_INDEX};let ct="center";if(it&&(ct="flex-end"),at&&(ct="flex-start"),lt.alignItems=ct,nt.includes("top")){const st=tt.top;lt.top=`max(env(safe-area-inset-top, 0px), ${st})`}if(nt.includes("bottom")){const st=tt.bottom;lt.bottom=`max(env(safe-area-inset-bottom, 0px), ${st})`}if(!nt.includes("left")){const st=tt.right;lt.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${st})`}if(!nt.includes("right")){const st=tt.left;lt.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${st})`}return lt}function getPlacementStyle(_e,_){const[et]=_e.placement.split("-"),tt=!_e.frontmost,rt=!_e.stacked,nt={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${_e.removeDelay}ms`,"--duration":`${_e.type==="loading"?Number.MAX_SAFE_INTEGER:_e.duration}ms`,"--initial-height":`${_e.height}px`,"--offset":`${_e.offset}px`,"--index":_e.index,"--z-index":_e.zIndex,"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},it=at=>Object.assign(nt,at);return et==="top"?it({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):et==="bottom"&&it({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),_e.mounted&&(it({"--y":"0","--opacity":"1"}),_e.stacked&&it({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),_||it({"--opacity":"0",pointerEvents:"none"}),tt&&rt&&(it({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),_||it({"--y":"calc(var(--sign) * 40%)"})),tt&&_e.stacked&&!_&&it({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),_e.frontmost&&!_&&it({"--y":"calc(var(--lift) * -100%)"}),nt}function getGhostBeforeStyle(_e,_){const et={position:"absolute",inset:"0",scale:"1 2",pointerEvents:_?"none":"auto"},tt=rt=>Object.assign(et,rt);return _e.frontmost&&!_&&tt({height:"calc(var(--initial-height) + 80%)"}),et}function getGhostAfterStyle(_e,_){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function groupConnect(_e,_,et){function tt(){return isMachine(_e)?_e.getState():_e}function rt(ut){return getToastsByPlacement(tt().context.toasts,ut)}function nt(ut){const st=tt().context.toasts;return st.length?!!st.find(ot=>ot.id==ut):!1}function it(ut){const st=`toast:${uuid$4()}`,ot=ut.id?ut.id:st;return nt(ot)||_({type:"ADD_TOAST",toast:{...ut,id:ot}}),ot}function at(ut,st){return nt(ut)&&_({type:"UPDATE_TOAST",id:ut,toast:st}),ut}function lt(ut){const{id:st}=ut;return(st?nt(st):!1)&&st!=null?at(st,ut):it(ut)}function ct(ut){ut==null?_("DISMISS_ALL"):nt(ut)&&_({type:"DISMISS_TOAST",id:ut})}return{getCount(){return tt().context.count},getPlacements(){const st=tt().context.toasts.map(ot=>ot.state.context.placement);return Array.from(new Set(st))},getToastsByPlacement:rt,isVisible:nt,create:it,update:at,upsert:lt,dismiss:ct,remove(ut){ut==null?_("REMOVE_ALL"):nt(ut)&&_({type:"REMOVE_TOAST",id:ut})},dismissByPlacement(ut){rt(ut).forEach(ot=>ct(ot.id))},loading(ut){return lt({...ut,type:"loading"})},success(ut){return lt({...ut,type:"success"})},error(ut){return lt({...ut,type:"error"})},promise(ut,st,ot={}){const dt=lt({...ot,...st.loading,type:"loading"});return runIfFn(ut).then(ft=>{const ht=runIfFn(st.success,ft);lt({...ot,...ht,id:dt,type:"success"})}).catch(ft=>{const ht=runIfFn(st.error,ft);lt({...ot,...ht,id:dt,type:"error"})}).finally(()=>{var ft;(ft=st.finally)==null||ft.call(st)}),dt},pause(ut){ut==null?_("PAUSE_ALL"):nt(ut)&&_({type:"PAUSE_TOAST",id:ut})},resume(ut){ut==null?_("RESUME_ALL"):nt(ut)&&_({type:"RESUME_TOAST",id:ut})},getGroupProps(ut){const{placement:st,label:ot="Notifications"}=ut,dt=tt(),ft=dt.context.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),[ht,mt="center"]=st.split("-");return et.element({...parts.group.attrs,dir:dt.context.dir,tabIndex:-1,"aria-label":`${st} ${ot} ${ft}`,id:dom.getRegionId(st),"data-placement":st,"data-side":ht,"data-align":mt,"aria-live":"polite",role:"region",style:getGroupPlacementStyle(dt.context,st),onMouseMove(){_({type:"REGION.POINTER_ENTER",placement:st})},onMouseLeave(){_({type:"REGION.POINTER_LEAVE",placement:st})},onFocus(gt){_({type:"REGION.FOCUS",target:gt.relatedTarget})},onBlur(gt){dt.context.isFocusWithin&&!contains$1(gt.currentTarget,gt.relatedTarget)&&_({type:"REGION.BLUR"})}})},subscribe(ut){const st=tt();return subscribe$1(st.context.toasts,()=>{const dt=rt(st.context.placement).map(ft=>ft.getState().context);ut(dt)})}}}var{not,and,or}=guards;function createToastMachine(_e){const{type:_="info",duration:et,id:tt="1",placement:rt="bottom",removeDelay:nt=200,...it}=_e,at=compact$2(it),lt=getToastDuration(et,_);return createMachine({id:tt,context:{id:tt,type:_,remaining:lt,duration:lt,removeDelay:nt,createdAt:Date.now(),placement:rt,...at,height:0,offset:0,frontmost:!1,mounted:!1,index:-1,zIndex:0},initial:_==="loading"?"visible:persist":"visible",on:{UPDATE:[{guard:and("hasTypeChanged","isChangingToLoading"),target:"visible:persist",actions:["setContext"]},{guard:or("hasDurationChanged","hasTypeChanged"),target:"visible:updating",actions:["setContext"]},{actions:["setContext"]}],MEASURE:{actions:["measureHeight"]}},entry:["invokeOnVisible"],activities:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],after:{0:"visible"}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:not("isLoadingType"),target:"visible",actions:["setCreatedAt"]},DISMISS:"dismissing"}},visible:{tags:["visible"],after:{VISIBLE_DURATION:"dismissing"},on:{DISMISS:"dismissing",PAUSE:{target:"visible:persist",actions:"setRemainingDuration"}}},dismissing:{entry:"invokeOnDismiss",after:{REMOVE_DELAY:{target:"unmounted",actions:"notifyParentToRemove"}}},unmounted:{entry:"invokeOnUnmount",type:"final"}}},{activities:{trackHeight(ct,ut,{self:st}){let ot;return raf$2(()=>{const dt=dom.getRootEl(ct);if(!dt)return;ct.mounted=!0;const ft=queryAll(dt,"[data-ghost]");warn(ft.length!==2,"[toast] No ghost element found in toast. Render the `ghostBefore` and `ghostAfter` elements");const ht=()=>{const yt=dt.style.height;dt.style.height="auto";const vt=dt.getBoundingClientRect().height;dt.style.height=yt,ct.height=vt,st.sendParent({type:"UPDATE_HEIGHT",id:st.id,height:vt,placement:ct.placement})};ht();const mt=dom.getWin(ct),gt=new mt.MutationObserver(ht);gt.observe(dt,{childList:!0,subtree:!0,characterData:!0}),ot=()=>gt.disconnect()}),()=>ot==null?void 0:ot()}},guards:{isChangingToLoading:(ct,ut)=>{var st;return((st=ut.toast)==null?void 0:st.type)==="loading"},isLoadingType:ct=>ct.type==="loading",hasTypeChanged:(ct,ut)=>{var st;return((st=ut.toast)==null?void 0:st.type)!=null&&ut.toast.type!==ct.type},hasDurationChanged:(ct,ut)=>{var st;return((st=ut.toast)==null?void 0:st.duration)!=null&&ut.toast.duration!==ct.duration}},delays:{VISIBLE_DURATION:ct=>ct.remaining,REMOVE_DELAY:ct=>ct.removeDelay},actions:{measureHeight(ct,ut,{self:st}){raf$2(()=>{const ot=dom.getRootEl(ct);if(!ot)return;ct.mounted=!0;const dt=ot.style.height;ot.style.height="auto";const ft=ot.getBoundingClientRect().height;ot.style.height=dt,ct.height=ft,st.sendParent({type:"UPDATE_HEIGHT",id:st.id,height:ft,placement:ct.placement})})},setRemainingDuration(ct){ct.remaining-=Date.now()-ct.createdAt},setCreatedAt(ct){ct.createdAt=Date.now()},notifyParentToRemove(ct,ut,{self:st}){st.sendParent({type:"REMOVE_TOAST",id:st.id})},invokeOnDismiss(ct){var ut;(ut=ct.onStatusChange)==null||ut.call(ct,{status:"dismissing"})},invokeOnUnmount(ct){var ut;(ut=ct.onStatusChange)==null||ut.call(ct,{status:"unmounted"})},invokeOnVisible(ct){var ut;(ut=ct.onStatusChange)==null||ut.call(ct,{status:"visible"})},setContext(ct,ut){var ft,ht;const st=(ft=ut.toast)==null?void 0:ft.duration,ot=((ht=ut.toast)==null?void 0:ht.type)??ct.type,dt=getToastDuration(st,ot);Object.assign(ct,{...ut.toast,duration:dt,remaining:dt})}}})}function groupMachine(_e){const _=compact$2(_e);return createMachine({id:"toaster",initial:_.overlap?"overlap":"stack",context:{dir:"ltr",max:Number.MAX_SAFE_INTEGER,gap:16,pauseOnPageIdle:!1,hotkey:["altKey","KeyT"],offsets:"1rem",placement:"bottom",removeDelay:200,..._,toasts:[],lastFocusedEl:null,isFocusWithin:!1,heights:[]},computed:{count:et=>et.toasts.length},activities:["trackDocumentVisibility","trackHotKeyPress"],watch:{toasts:["collapsedIfEmpty","setDismissableBranch"]},exit:["removeToasts","clearDismissableBranch","clearLastFocusedEl"],on:{PAUSE_TOAST:{actions:["pauseToast"]},PAUSE_ALL:{actions:["pauseToasts"]},RESUME_TOAST:{actions:["resumeToast"]},RESUME_ALL:{actions:["resumeToasts"]},ADD_TOAST:{guard:"isWithinRange",actions:["createToast","syncToastIndex"]},UPDATE_TOAST:{actions:["updateToast"]},DISMISS_TOAST:{actions:["dismissToast"]},DISMISS_ALL:{actions:["dismissToasts"]},REMOVE_TOAST:{actions:["removeToast","syncToastIndex","syncToastOffset"]},REMOVE_ALL:{actions:["removeToasts"]},UPDATE_HEIGHT:{actions:["syncHeights","syncToastOffset"]},"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","restoreLastFocusedEl"]},{actions:["resumeToasts","restoreLastFocusedEl"]}]},states:{stack:{entry:["expandToasts"],on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap"},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{entry:["collapseToasts"],on:{"REGION.STACK":{target:"stack"},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts"]}}}}},{guards:{isWithinRange:et=>et.toasts.length<et.max,isOverlapping:et=>!!et.overlap},activities:{trackHotKeyPress(et,tt,{send:rt}){return addDomEvent(document,"keydown",it=>{et.hotkey.every(lt=>it[lt]||it.code===lt)&&rt({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility(et,tt,{send:rt}){if(!et.pauseOnPageIdle)return;const nt=dom.getDoc(et);return addDomEvent(nt,"visibilitychange",()=>{rt(nt.visibilityState==="hidden"?"PAUSE_ALL":"RESUME_ALL")})}},actions:{setDismissableBranch(et){var it;const rt=getToastsByPlacement(et.toasts,et.placement).length>0;if(!rt){(it=et._cleanup)==null||it.call(et);return}if(rt&&et._cleanup)return;const nt=()=>dom.getRegionEl(et,et.placement);et._cleanup=trackDismissableBranch(nt,{defer:!0})},clearDismissableBranch(et){var tt;(tt=et._cleanup)==null||tt.call(et)},focusRegionEl(et){queueMicrotask(()=>{var tt;(tt=dom.getRegionEl(et,et.placement))==null||tt.focus()})},expandToasts(et){each(et,tt=>{tt.state.context.stacked=!0})},collapseToasts(et){each(et,tt=>{tt.state.context.stacked=!1})},collapsedIfEmpty(et,tt,{send:rt}){!et.overlap||et.toasts.length>1||rt("REGION.OVERLAP")},pauseToast(et,tt,{self:rt}){rt.sendChild("PAUSE",tt.id)},pauseToasts(et){et.toasts.forEach(tt=>tt.send("PAUSE"))},resumeToast(et,tt,{self:rt}){rt.sendChild("RESUME",tt.id)},resumeToasts(et){et.toasts.forEach(tt=>tt.send("RESUME"))},measureToasts(et){et.toasts.forEach(tt=>tt.send("MEASURE"))},createToast(et,tt,{self:rt,getState:nt}){const it={placement:et.placement,duration:et.duration,removeDelay:et.removeDelay,...tt.toast,dir:et.dir,getRootNode:et.getRootNode,stacked:nt().matches("stack")},at=createToastMachine(it),lt=rt.spawn(at);et.toasts=[lt,...et.toasts]},updateToast(et,tt,{self:rt}){rt.sendChild({type:"UPDATE",toast:tt.toast},tt.id)},dismissToast(et,tt,{self:rt}){rt.sendChild("DISMISS",tt.id)},dismissToasts(et){et.toasts.forEach(tt=>tt.send("DISMISS"))},removeToast(et,tt,{self:rt}){rt.stopChild(tt.id),et.toasts=et.toasts.filter(nt=>nt.id!==tt.id),et.heights=et.heights.filter(nt=>nt.id!==tt.id)},removeToasts(et,tt,{self:rt}){et.toasts.forEach(nt=>rt.stopChild(nt.id)),et.toasts=[],et.heights=[]},syncHeights(et,tt){const rt=et.heights.find(nt=>nt.id===tt.id);if(rt)rt.height=tt.height,rt.placement=tt.placement;else{const nt={id:tt.id,height:tt.height,placement:tt.placement};et.heights=[nt,...et.heights]}},syncToastIndex(et){each(et,(tt,rt,nt)=>{tt.state.context.index=rt,tt.state.context.frontmost=rt===0,tt.state.context.zIndex=nt.length-rt})},syncToastOffset(et,tt){const rt=tt.placement??et.placement;each({...et,placement:rt},nt=>{const it=Math.max(et.heights.findIndex(lt=>lt.id===nt.id),0),at=et.heights.reduce((lt,ct,ut)=>ut>=it?lt:lt+ct.height,0);nt.state.context.offset=it*et.gap+at})},setLastFocusedEl(et,tt){et.isFocusWithin||!tt.target||(et.isFocusWithin=!0,et.lastFocusedEl=ref$1(tt.target))},restoreLastFocusedEl(et){et.isFocusWithin=!1,et.lastFocusedEl&&(et.lastFocusedEl.focus({preventScroll:!0}),et.lastFocusedEl=null)},clearLastFocusedEl(et){et.lastFocusedEl&&(et.lastFocusedEl.focus({preventScroll:!0}),et.lastFocusedEl=null,et.isFocusWithin=!1)}}})}function each(_e,_){getToastsByPlacement(_e.toasts,_e.placement).forEach(_)}function connect(_e,_,et){const tt=_e.hasTag("visible"),rt=_e.hasTag("paused"),nt=_e.context.placement,it=_e.context.type,[at,lt="center"]=nt.split("-");return{type:it,title:_e.context.title,description:_e.context.description,placement:nt,visible:tt,paused:rt,pause(){_("PAUSE")},resume(){_("RESUME")},dismiss(){_("DISMISS")},getRootProps(){return et.element({...parts.root.attrs,dir:_e.context.dir,id:dom.getRootId(_e.context),"data-state":tt?"open":"closed","data-type":it,"data-placement":nt,"data-align":lt,"data-side":at,"data-mounted":dataAttr$1(_e.context.mounted),"data-paused":dataAttr$1(rt),"data-first":dataAttr$1(_e.context.frontmost),"data-sibling":dataAttr$1(!_e.context.frontmost),"data-stack":dataAttr$1(_e.context.stacked),"data-overlap":dataAttr$1(!_e.context.stacked),role:"status","aria-atomic":"true","aria-describedby":_e.context.description?dom.getDescriptionId(_e.context):void 0,"aria-labelledby":_e.context.title?dom.getTitleId(_e.context):void 0,tabIndex:0,style:getPlacementStyle(_e.context,tt),onKeyDown(ct){ct.defaultPrevented||ct.key=="Escape"&&(_("DISMISS"),ct.preventDefault())}})},getGhostBeforeProps(){return et.element({"data-ghost":"before",style:getGhostBeforeStyle(_e.context,tt)})},getGhostAfterProps(){return et.element({"data-ghost":"after",style:getGhostAfterStyle()})},getTitleProps(){return et.element({...parts.title.attrs,id:dom.getTitleId(_e.context)})},getDescriptionProps(){return et.element({...parts.description.attrs,id:dom.getDescriptionId(_e.context)})},getActionTriggerProps(){return et.button({...parts.actionTrigger.attrs,type:"button",onClick(ct){var ut,st;ct.defaultPrevented||((st=(ut=_e.context.action)==null?void 0:ut.onClick)==null||st.call(ut),_("DISMISS"))}})},getCloseTriggerProps(){return et.button({id:dom.getCloseTriggerId(_e.context),...parts.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(ct){ct.defaultPrevented||_("DISMISS")}})}}}var group={connect:groupConnect,machine:groupMachine};const createToaster=_e=>{const _=group.machine({id:"1",..._e});return{...group.connect(_,_.send,normalizeProps),machine:_}},[ToastProvider,useToastContext]=createContext({name:"ToastContext",hookName:"useToastContext",providerName:"<ToastProvider />"}),ToastActionTrigger$1=reactExports.forwardRef((_e,_)=>{const et=useToastContext(),tt=mergeProps$1(et.getActionTriggerProps(),_e);return jsxRuntimeExports.jsx(ark.button,{...tt,ref:_})});ToastActionTrigger$1.displayName="ToastActionTrigger";const ToastCloseTrigger$1=reactExports.forwardRef((_e,_)=>{const et=useToastContext(),tt=mergeProps$1(et.getCloseTriggerProps(),_e);return jsxRuntimeExports.jsx(ark.button,{...tt,ref:_})});ToastCloseTrigger$1.displayName="ToastCloseTrigger";const ToastDescription$1=reactExports.forwardRef((_e,_)=>{const et=useToastContext(),tt=mergeProps$1(et.getDescriptionProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});ToastDescription$1.displayName="ToastDescription";const ToastRoot$1=reactExports.forwardRef((_e,_)=>{const et=useToastContext(),tt=mergeProps$1(et.getRootProps(),_e);return jsxRuntimeExports.jsxs("div",{...tt,ref:_,children:[jsxRuntimeExports.jsx("div",{...et.getGhostBeforeProps()}),_e.children,jsxRuntimeExports.jsx("div",{...et.getGhostAfterProps()})]})});ToastRoot$1.displayName="ToastRoot";const ToastTitle$1=reactExports.forwardRef((_e,_)=>{const et=useToastContext(),tt=mergeProps$1(et.getTitleProps(),_e);return jsxRuntimeExports.jsx(ark.div,{...tt,ref:_})});ToastTitle$1.displayName="ToastTitle";const Toaster$2=reactExports.forwardRef((_e,_)=>{const{toaster:et,children:tt,...rt}=_e,[nt,it]=useMachine(et.machine),at=nt.context.placement,lt=group.connect(nt,it,normalizeProps),ct=lt.getToastsByPlacement(at),ut=mergeProps$1(lt.getGroupProps({placement:at}),rt);return jsxRuntimeExports.jsx(ark.div,{...ut,ref:_,children:ct.map(st=>jsxRuntimeExports.jsx(ToastActor,{value:st,children:ot=>tt(ot)},st.id))})});Toaster$2.displayName="Toaster";const ToastActor=_e=>{const[_,et]=useActor(_e.value),tt=connect(_,et,normalizeProps);return jsxRuntimeExports.jsx(ToastProvider,{value:tt,children:_e.children(_.context)})},{withProvider,withContext:withContext$1,useStyles:useToastStyles}=createSlotRecipeContext({key:"toast"}),Toaster$1=chakra(Toaster$2,{},{forwardAsChild:!0}),ToastRoot=withProvider(ToastRoot$1,"root",{forwardAsChild:!0}),ToastCloseTrigger=withContext$1(ToastCloseTrigger$1,"closeTrigger",{forwardAsChild:!0,defaultProps:{children:jsxRuntimeExports.jsx(CloseIcon,{})}}),ToastTitle=withContext$1(ToastTitle$1,"title",{forwardAsChild:!0}),ToastDescription=withContext$1(ToastDescription$1,"description",{forwardAsChild:!0}),ToastActionTrigger=withContext$1(ToastActionTrigger$1,"actionTrigger",{forwardAsChild:!0}),iconMap={warning:WarningIcon,success:CheckCircleIcon,error:WarningIcon},ToastIndicator=reactExports.forwardRef(function(_,et){const tt=useToastContext(),rt=useToastStyles(),nt=iconMap[tt.type];return nt?jsxRuntimeExports.jsx(nt,{ref:et,..._,css:[rt.indicator,_.css]}):null}),{withContext,PropsProvider}=createRecipeContext({key:"text"}),Text$1=withContext("p"),canvasStyles={background:{container:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:"auto"},image:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",objectFit:"cover",zIndex:1},video:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",objectFit:"cover",zIndex:1,transform:"scaleX(-1)"}},canvas:{container:{position:"relative",width:"100%",height:"100%",zIndex:"1",pointerEvents:"auto"}},subtitle:{container:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#eff6ff",padding:"15px 30px",borderRadius:"12px",minWidth:"60%",maxWidth:"95%",zIndex:2},text:{color:"rgba(0,0,0,0.3)",fontSize:"1.5rem",textAlign:"center",lineHeight:"1.4",whiteSpace:"pre-wrap"}},wsStatus:{container:{position:"absolute",top:"20px",left:"20px",zIndex:2,padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"medium",color:"white",transition:"all 0.2s",cursor:"pointer",userSelect:"none",_hover:{opacity:.8}}}},toaster=createToaster({placement:"top-end",pauseOnPageIdle:!0,max:5});function Toaster(){return jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsx(Toaster$1,{toaster,insetInline:{mdDown:"4"},children:_e=>{var _;return jsxRuntimeExports.jsxs(ToastRoot,{width:{md:"sm"},children:[_e.type==="loading"?jsxRuntimeExports.jsx(Spinner,{size:"sm",color:"blue.solid"}):jsxRuntimeExports.jsx(ToastIndicator,{}),jsxRuntimeExports.jsxs(Stack,{gap:"1",flex:"1",maxWidth:"100%",children:[_e.title&&jsxRuntimeExports.jsx(ToastTitle,{children:_e.title}),_e.description&&jsxRuntimeExports.jsx(ToastDescription,{children:_e.description})]}),_e.action&&jsxRuntimeExports.jsx(ToastActionTrigger,{children:_e.action.label}),((_=_e.meta)==null?void 0:_.closable)&&jsxRuntimeExports.jsx(ToastCloseTrigger,{})]})}})})}const DEFAULT_CAMERA_CONFIG={width:320,height:240},CameraContext=reactExports.createContext(null);function CameraProvider({children:_e}){const[_,et]=reactExports.useState(!1),[tt,rt]=reactExports.useState(!1),[nt,it]=reactExports.useState(DEFAULT_CAMERA_CONFIG),at=reactExports.useRef(null),lt=reactExports.useRef(null),ct=reactExports.useRef(null),ut=reactExports.useCallback(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera API is not supported on this device");if(!(await navigator.mediaDevices.enumerateDevices()).some(yt=>yt.kind==="videoinput"))throw new Error("No camera found on this device");const gt=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:nt.width},height:{ideal:nt.height}}});at.current=gt,ct.current&&(ct.current.srcObject=gt),et(!0)}catch(ht){throw console.error("Failed to start camera:",ht),toaster.create({title:`Failed to start camera: ${ht}`,type:"error",duration:2e3}),ht}},[nt]),st=reactExports.useCallback(()=>{at.current&&(at.current.getTracks().forEach(ht=>ht.stop()),at.current=null,et(!1))},[]),ot=reactExports.useCallback(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera API is not supported on this device");if(!(await navigator.mediaDevices.enumerateDevices()).some(yt=>yt.kind==="videoinput"))throw new Error("No camera found on this device");const gt=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:nt.width},height:{ideal:nt.height}}});lt.current=gt,rt(!0)}catch(ht){throw console.error("Failed to start background camera:",ht),toaster.create({title:`Failed to start background camera: ${ht}`,type:"error",duration:2e3}),ht}},[nt]),dt=reactExports.useCallback(()=>{lt.current&&(lt.current.getTracks().forEach(ht=>ht.stop()),lt.current=null,rt(!1))},[]),ft=reactExports.useMemo(()=>({isStreaming:_,stream:at.current,startCamera:ut,stopCamera:st,cameraConfig:nt,setCameraConfig:it,videoRef:ct,backgroundStream:lt.current,startBackgroundCamera:ot,stopBackgroundCamera:dt,isBackgroundStreaming:tt}),[_,ut,st,nt,tt,ot,dt]);return jsxRuntimeExports.jsx(CameraContext.Provider,{value:ft,children:_e})}function useCamera(){const _e=reactExports.useContext(CameraContext);if(!_e)throw new Error("useCamera must be used within a CameraProvider");return _e}function useLocalStorage(_e,_,et){const[tt,rt]=reactExports.useState(()=>{try{const it=window.localStorage.getItem(_e);return it?JSON.parse(it):_}catch(it){return console.error(`Error reading localStorage key "${_e}":`,it),_}});return[tt,it=>{try{const at=it instanceof Function?it(tt):it,lt=et!=null&&et.filter?et.filter(at):at;rt(at),window.localStorage.setItem(_e,JSON.stringify(lt))}catch(at){console.error(`Error setting localStorage key "${_e}":`,at)}}]}var extendStatics=function(_e,_){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(et,tt){et.__proto__=tt}||function(et,tt){for(var rt in tt)Object.prototype.hasOwnProperty.call(tt,rt)&&(et[rt]=tt[rt])},extendStatics(_e,_)};function __extends(_e,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");extendStatics(_e,_);function et(){this.constructor=_e}_e.prototype=_===null?Object.create(_):(et.prototype=_.prototype,new et)}function __values(_e){var _=typeof Symbol=="function"&&Symbol.iterator,et=_&&_e[_],tt=0;if(et)return et.call(_e);if(_e&&typeof _e.length=="number")return{next:function(){return _e&&tt>=_e.length&&(_e=void 0),{value:_e&&_e[tt++],done:!_e}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(_e,_){var et=typeof Symbol=="function"&&_e[Symbol.iterator];if(!et)return _e;var tt=et.call(_e),rt,nt=[],it;try{for(;(_===void 0||_-- >0)&&!(rt=tt.next()).done;)nt.push(rt.value)}catch(at){it={error:at}}finally{try{rt&&!rt.done&&(et=tt.return)&&et.call(tt)}finally{if(it)throw it.error}}return nt}function __spreadArray(_e,_,et){if(et||arguments.length===2)for(var tt=0,rt=_.length,nt;tt<rt;tt++)(nt||!(tt in _))&&(nt||(nt=Array.prototype.slice.call(_,0,tt)),nt[tt]=_[tt]);return _e.concat(nt||Array.prototype.slice.call(_))}typeof SuppressedError=="function"&&SuppressedError;function isFunction(_e){return typeof _e=="function"}function createErrorClass(_e){var _=function(tt){Error.call(tt),tt.stack=new Error().stack},et=_e(_);return et.prototype=Object.create(Error.prototype),et.prototype.constructor=et,et}var UnsubscriptionError=createErrorClass(function(_e){return function(et){_e(this),this.message=et?et.length+` errors occurred during unsubscription:
`+et.map(function(tt,rt){return rt+1+") "+tt.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=et}});function arrRemove(_e,_){if(_e){var et=_e.indexOf(_);0<=et&&_e.splice(et,1)}}var Subscription=function(){function _e(_){this.initialTeardown=_,this.closed=!1,this._parentage=null,this._finalizers=null}return _e.prototype.unsubscribe=function(){var _,et,tt,rt,nt;if(!this.closed){this.closed=!0;var it=this._parentage;if(it)if(this._parentage=null,Array.isArray(it))try{for(var at=__values(it),lt=at.next();!lt.done;lt=at.next()){var ct=lt.value;ct.remove(this)}}catch(ht){_={error:ht}}finally{try{lt&&!lt.done&&(et=at.return)&&et.call(at)}finally{if(_)throw _.error}}else it.remove(this);var ut=this.initialTeardown;if(isFunction(ut))try{ut()}catch(ht){nt=ht instanceof UnsubscriptionError?ht.errors:[ht]}var st=this._finalizers;if(st){this._finalizers=null;try{for(var ot=__values(st),dt=ot.next();!dt.done;dt=ot.next()){var ft=dt.value;try{execFinalizer(ft)}catch(ht){nt=nt??[],ht instanceof UnsubscriptionError?nt=__spreadArray(__spreadArray([],__read(nt)),__read(ht.errors)):nt.push(ht)}}}catch(ht){tt={error:ht}}finally{try{dt&&!dt.done&&(rt=ot.return)&&rt.call(ot)}finally{if(tt)throw tt.error}}}if(nt)throw new UnsubscriptionError(nt)}},_e.prototype.add=function(_){var et;if(_&&_!==this)if(this.closed)execFinalizer(_);else{if(_ instanceof _e){if(_.closed||_._hasParent(this))return;_._addParent(this)}(this._finalizers=(et=this._finalizers)!==null&&et!==void 0?et:[]).push(_)}},_e.prototype._hasParent=function(_){var et=this._parentage;return et===_||Array.isArray(et)&&et.includes(_)},_e.prototype._addParent=function(_){var et=this._parentage;this._parentage=Array.isArray(et)?(et.push(_),et):et?[et,_]:_},_e.prototype._removeParent=function(_){var et=this._parentage;et===_?this._parentage=null:Array.isArray(et)&&arrRemove(et,_)},_e.prototype.remove=function(_){var et=this._finalizers;et&&arrRemove(et,_),_ instanceof _e&&_._removeParent(this)},_e.EMPTY=function(){var _=new _e;return _.closed=!0,_}(),_e}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(_e){return _e instanceof Subscription||_e&&"closed"in _e&&isFunction(_e.remove)&&isFunction(_e.add)&&isFunction(_e.unsubscribe)}function execFinalizer(_e){isFunction(_e)?_e():_e.unsubscribe()}var config$2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(_e,_){for(var et=[],tt=2;tt<arguments.length;tt++)et[tt-2]=arguments[tt];return setTimeout.apply(void 0,__spreadArray([_e,_],__read(et)))},clearTimeout:function(_e){return clearTimeout(_e)},delegate:void 0};function reportUnhandledError(_e){timeoutProvider.setTimeout(function(){throw _e})}function noop$4(){}function errorContext(_e){_e()}var Subscriber=function(_e){__extends(_,_e);function _(et){var tt=_e.call(this)||this;return tt.isStopped=!1,et?(tt.destination=et,isSubscription(et)&&et.add(tt)):tt.destination=EMPTY_OBSERVER,tt}return _.create=function(et,tt,rt){return new SafeSubscriber(et,tt,rt)},_.prototype.next=function(et){this.isStopped||this._next(et)},_.prototype.error=function(et){this.isStopped||(this.isStopped=!0,this._error(et))},_.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},_.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_e.prototype.unsubscribe.call(this),this.destination=null)},_.prototype._next=function(et){this.destination.next(et)},_.prototype._error=function(et){try{this.destination.error(et)}finally{this.unsubscribe()}},_.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},_}(Subscription),ConsumerObserver=function(){function _e(_){this.partialObserver=_}return _e.prototype.next=function(_){var et=this.partialObserver;if(et.next)try{et.next(_)}catch(tt){handleUnhandledError(tt)}},_e.prototype.error=function(_){var et=this.partialObserver;if(et.error)try{et.error(_)}catch(tt){handleUnhandledError(tt)}else handleUnhandledError(_)},_e.prototype.complete=function(){var _=this.partialObserver;if(_.complete)try{_.complete()}catch(et){handleUnhandledError(et)}},_e}(),SafeSubscriber=function(_e){__extends(_,_e);function _(et,tt,rt){var nt=_e.call(this)||this,it;return isFunction(et)||!et?it={next:et??void 0,error:tt??void 0,complete:rt??void 0}:it=et,nt.destination=new ConsumerObserver(it),nt}return _}(Subscriber);function handleUnhandledError(_e){reportUnhandledError(_e)}function defaultErrorHandler(_e){throw _e}var EMPTY_OBSERVER={closed:!0,next:noop$4,error:defaultErrorHandler,complete:noop$4},observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity(_e){return _e}function pipeFromArray(_e){return _e.length===0?identity:_e.length===1?_e[0]:function(et){return _e.reduce(function(tt,rt){return rt(tt)},et)}}var Observable=function(){function _e(_){_&&(this._subscribe=_)}return _e.prototype.lift=function(_){var et=new _e;return et.source=this,et.operator=_,et},_e.prototype.subscribe=function(_,et,tt){var rt=this,nt=isSubscriber(_)?_:new SafeSubscriber(_,et,tt);return errorContext(function(){var it=rt,at=it.operator,lt=it.source;nt.add(at?at.call(nt,lt):lt?rt._subscribe(nt):rt._trySubscribe(nt))}),nt},_e.prototype._trySubscribe=function(_){try{return this._subscribe(_)}catch(et){_.error(et)}},_e.prototype.forEach=function(_,et){var tt=this;return et=getPromiseCtor(et),new et(function(rt,nt){var it=new SafeSubscriber({next:function(at){try{_(at)}catch(lt){nt(lt),it.unsubscribe()}},error:nt,complete:rt});tt.subscribe(it)})},_e.prototype._subscribe=function(_){var et;return(et=this.source)===null||et===void 0?void 0:et.subscribe(_)},_e.prototype[observable]=function(){return this},_e.prototype.pipe=function(){for(var _=[],et=0;et<arguments.length;et++)_[et]=arguments[et];return pipeFromArray(_)(this)},_e.prototype.toPromise=function(_){var et=this;return _=getPromiseCtor(_),new _(function(tt,rt){var nt;et.subscribe(function(it){return nt=it},function(it){return rt(it)},function(){return tt(nt)})})},_e.create=function(_){return new _e(_)},_e}();function getPromiseCtor(_e){var _;return(_=_e??config$2.Promise)!==null&&_!==void 0?_:Promise}function isObserver(_e){return _e&&isFunction(_e.next)&&isFunction(_e.error)&&isFunction(_e.complete)}function isSubscriber(_e){return _e&&_e instanceof Subscriber||isObserver(_e)&&isSubscription(_e)}var ObjectUnsubscribedError=createErrorClass(function(_e){return function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(_e){__extends(_,_e);function _(){var et=_e.call(this)||this;return et.closed=!1,et.currentObservers=null,et.observers=[],et.isStopped=!1,et.hasError=!1,et.thrownError=null,et}return _.prototype.lift=function(et){var tt=new AnonymousSubject(this,this);return tt.operator=et,tt},_.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},_.prototype.next=function(et){var tt=this;errorContext(function(){var rt,nt;if(tt._throwIfClosed(),!tt.isStopped){tt.currentObservers||(tt.currentObservers=Array.from(tt.observers));try{for(var it=__values(tt.currentObservers),at=it.next();!at.done;at=it.next()){var lt=at.value;lt.next(et)}}catch(ct){rt={error:ct}}finally{try{at&&!at.done&&(nt=it.return)&&nt.call(it)}finally{if(rt)throw rt.error}}}})},_.prototype.error=function(et){var tt=this;errorContext(function(){if(tt._throwIfClosed(),!tt.isStopped){tt.hasError=tt.isStopped=!0,tt.thrownError=et;for(var rt=tt.observers;rt.length;)rt.shift().error(et)}})},_.prototype.complete=function(){var et=this;errorContext(function(){if(et._throwIfClosed(),!et.isStopped){et.isStopped=!0;for(var tt=et.observers;tt.length;)tt.shift().complete()}})},_.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(_.prototype,"observed",{get:function(){var et;return((et=this.observers)===null||et===void 0?void 0:et.length)>0},enumerable:!1,configurable:!0}),_.prototype._trySubscribe=function(et){return this._throwIfClosed(),_e.prototype._trySubscribe.call(this,et)},_.prototype._subscribe=function(et){return this._throwIfClosed(),this._checkFinalizedStatuses(et),this._innerSubscribe(et)},_.prototype._innerSubscribe=function(et){var tt=this,rt=this,nt=rt.hasError,it=rt.isStopped,at=rt.observers;return nt||it?EMPTY_SUBSCRIPTION:(this.currentObservers=null,at.push(et),new Subscription(function(){tt.currentObservers=null,arrRemove(at,et)}))},_.prototype._checkFinalizedStatuses=function(et){var tt=this,rt=tt.hasError,nt=tt.thrownError,it=tt.isStopped;rt?et.error(nt):it&&et.complete()},_.prototype.asObservable=function(){var et=new Observable;return et.source=this,et},_.create=function(et,tt){return new AnonymousSubject(et,tt)},_}(Observable),AnonymousSubject=function(_e){__extends(_,_e);function _(et,tt){var rt=_e.call(this)||this;return rt.destination=et,rt.source=tt,rt}return _.prototype.next=function(et){var tt,rt;(rt=(tt=this.destination)===null||tt===void 0?void 0:tt.next)===null||rt===void 0||rt.call(tt,et)},_.prototype.error=function(et){var tt,rt;(rt=(tt=this.destination)===null||tt===void 0?void 0:tt.error)===null||rt===void 0||rt.call(tt,et)},_.prototype.complete=function(){var et,tt;(tt=(et=this.destination)===null||et===void 0?void 0:et.complete)===null||tt===void 0||tt.call(et)},_.prototype._subscribe=function(et){var tt,rt;return(rt=(tt=this.source)===null||tt===void 0?void 0:tt.subscribe(et))!==null&&rt!==void 0?rt:EMPTY_SUBSCRIPTION},_}(Subject);const mo=class mo{constructor(){eo(this,"ws",null);eo(this,"messageSubject",new Subject);eo(this,"stateSubject",new Subject);eo(this,"currentState","CLOSED")}static getInstance(){return mo.instance||(mo.instance=new mo),mo.instance}initializeConnection(){this.sendMessage({type:"fetch-backgrounds"}),this.sendMessage({type:"fetch-configs"}),this.sendMessage({type:"fetch-history-list"}),this.sendMessage({type:"create-new-history"})}connect(_){var et,tt;(((et=this.ws)==null?void 0:et.readyState)===WebSocket.CONNECTING||((tt=this.ws)==null?void 0:tt.readyState)===WebSocket.OPEN)&&this.disconnect();try{this.ws=new WebSocket(_),this.currentState="CONNECTING",this.stateSubject.next("CONNECTING"),this.ws.onopen=()=>{this.currentState="OPEN",this.stateSubject.next("OPEN"),this.initializeConnection()},this.ws.onmessage=rt=>{try{const nt=JSON.parse(rt.data);this.messageSubject.next(nt)}catch(nt){console.error("Failed to parse WebSocket message:",nt),toaster.create({title:`Failed to parse WebSocket message: ${nt}`,type:"error",duration:2e3})}},this.ws.onclose=()=>{this.currentState="CLOSED",this.stateSubject.next("CLOSED")},this.ws.onerror=()=>{this.currentState="CLOSED",this.stateSubject.next("CLOSED")}}catch(rt){console.error("Failed to connect to WebSocket:",rt),this.currentState="CLOSED",this.stateSubject.next("CLOSED")}}sendMessage(_){var et;((et=this.ws)==null?void 0:et.readyState)===WebSocket.OPEN?this.ws.send(JSON.stringify(_)):(console.warn("WebSocket is not open. Unable to send message:",_),toaster.create({title:"WebSocket is not open.",type:"error",duration:2e3}))}onMessage(_){return this.messageSubject.subscribe(_)}onStateChange(_){return this.stateSubject.subscribe(_)}disconnect(){var _;(_=this.ws)==null||_.close(),this.ws=null}getCurrentState(){return this.currentState}};eo(mo,"instance");let WebSocketService=mo;const wsService=WebSocketService.getInstance(),DEFAULT_WS_URL="ws://127.0.0.1:12393/client-ws",DEFAULT_BASE_URL="http://127.0.0.1:12393",WebSocketContext=React.createContext({sendMessage:wsService.sendMessage.bind(wsService),wsState:"CLOSED",reconnect:()=>wsService.connect(DEFAULT_WS_URL),wsUrl:DEFAULT_WS_URL,setWsUrl:()=>{},baseUrl:DEFAULT_BASE_URL,setBaseUrl:()=>{}});function useWebSocket(){const _e=reactExports.useContext(WebSocketContext);if(!_e)throw new Error("useWebSocket must be used within a WebSocketProvider");return _e}const defaultWsUrl=DEFAULT_WS_URL,defaultBaseUrl=DEFAULT_BASE_URL,BgUrlContext=reactExports.createContext(null);function BgUrlProvider({children:_e}){const{baseUrl:_}=useWebSocket(),et=`${_}/bg/yishifan.jpg`,[tt,rt]=useLocalStorage("backgroundUrl",et),[nt,it]=reactExports.useState([]),at=reactExports.useCallback(()=>{rt(et)},[rt,et]),lt=reactExports.useCallback(ft=>{it(ht=>[...ht,ft])},[]),ct=reactExports.useCallback(ft=>{it(ht=>ht.filter(mt=>mt.name!==ft))},[]),ut=reactExports.useMemo(()=>tt===et,[tt,et]),[st,ot]=reactExports.useState(!1),dt=reactExports.useMemo(()=>({backgroundUrl:tt,setBackgroundUrl:rt,backgroundFiles:nt,setBackgroundFiles:it,resetBackground:at,addBackgroundFile:lt,removeBackgroundFile:ct,isDefaultBackground:ut,useCameraBackground:st,setUseCameraBackground:ot}),[tt,rt,nt,at,lt,ct,ut,st]);return jsxRuntimeExports.jsx(BgUrlContext.Provider,{value:dt,children:_e})}function useBgUrl(){const _e=reactExports.useContext(BgUrlContext);if(!_e)throw new Error("useBgUrl must be used within a BgUrlProvider");return _e}const Background=reactExports.memo(({children:_e})=>{const _=reactExports.useRef(null),{backgroundStream:et,isBackgroundStreaming:tt,startBackgroundCamera:rt,stopBackgroundCamera:nt}=useCamera(),{useCameraBackground:it,backgroundUrl:at}=useBgUrl();return reactExports.useEffect(()=>{it?rt():nt()},[it,rt,nt]),reactExports.useEffect(()=>{_.current&&et&&(_.current.srcObject=et)},[et]),jsxRuntimeExports.jsxs(Box,{...canvasStyles.background.container,children:[it?jsxRuntimeExports.jsx("video",{ref:_,autoPlay:!0,playsInline:!0,muted:!0,style:{...canvasStyles.background.video,display:tt?"block":"none",transform:"scaleX(-1)"}}):jsxRuntimeExports.jsx(Image$2,{...canvasStyles.background.image,src:at,alt:"background"}),_e]})});Background.displayName="Background";const DEFAULT_SUBTITLE={text:"Hi, I'm some random AI VTuber. Who the hell are ya? Ahh, you must be amazed by my awesomeness, right? right?"},SubtitleContext=reactExports.createContext(null),SubtitleProvider=reactExports.memo(({children:_e})=>{const[_,et]=reactExports.useState(DEFAULT_SUBTITLE.text),[tt,rt]=reactExports.useState(!0),nt=reactExports.useMemo(()=>({subtitleText:_,setSubtitleText:et,showSubtitle:tt,setShowSubtitle:rt}),[_,tt]);return jsxRuntimeExports.jsx(SubtitleContext.Provider,{value:nt,children:_e})});function useSubtitle(){const _e=reactExports.useContext(SubtitleContext);if(!_e)throw new Error("useSubtitle must be used within a SubtitleProvider");return _e}const useSubtitleDisplay=()=>{const _e=useSubtitle();return{subtitleText:reactExports.useMemo(()=>_e?_e.subtitleText:null,[_e==null?void 0:_e.subtitleText]),isLoaded:!!_e}},SubtitleText=reactExports.memo(({text:_e})=>jsxRuntimeExports.jsx(Text$1,{...canvasStyles.subtitle.text,children:_e}));SubtitleText.displayName="SubtitleText";const Subtitle=reactExports.memo(()=>{const{subtitleText:_e,isLoaded:_}=useSubtitleDisplay(),{showSubtitle:et}=useSubtitle();return!_||!_e||!et?null:jsxRuntimeExports.jsx(Box,{...canvasStyles.subtitle.container,children:jsxRuntimeExports.jsx(SubtitleText,{text:_e})})});Subtitle.displayName="Subtitle";const useWSStatus=()=>{const{wsState:_e,reconnect:_}=useWebSocket(),et=reactExports.useCallback(()=>{_e!=="OPEN"&&_e!=="CONNECTING"&&_()},[_e,_]);return reactExports.useMemo(()=>{switch(_e){case"OPEN":return{color:"green.500",text:"Connected",isDisconnected:!1,handleClick:et};case"CONNECTING":return{color:"yellow.500",text:"Connecting",isDisconnected:!1,handleClick:et};default:return{color:"red.500",text:"Click to Reconnect",isDisconnected:!0,handleClick:et}}},[_e,et])},StatusContent=({text:_e})=>_e,MemoizedStatusContent=reactExports.memo(StatusContent),WebSocketStatus=reactExports.memo(()=>{const{color:_e,text:_,handleClick:et,isDisconnected:tt}=useWSStatus();return jsxRuntimeExports.jsx(Box,{...canvasStyles.wsStatus.container,backgroundColor:_e,onClick:et,cursor:tt?"pointer":"default",_hover:{opacity:tt?.8:1},children:jsxRuntimeExports.jsx(MemoizedStatusContent,{text:_})})});WebSocketStatus.displayName="WebSocketStatus";const DEFAULT_CONFIG$1={confName:"",confUid:"",configFiles:[]},ConfigContext$1=reactExports.createContext(null);function CharacterConfigProvider({children:_e}){const[_,et]=reactExports.useState(DEFAULT_CONFIG$1.confName),[tt,rt]=reactExports.useState(DEFAULT_CONFIG$1.confUid),[nt,it]=reactExports.useState(DEFAULT_CONFIG$1.configFiles),at=reactExports.useCallback(ct=>{var ut;return(ut=nt.find(st=>st.name===ct))==null?void 0:ut.filename},[nt]),lt=reactExports.useMemo(()=>({confName:_,confUid:tt,configFiles:nt,setConfName:et,setConfUid:rt,setConfigFiles:it,getFilenameByName:at}),[_,tt,nt,at]);return reactExports.useEffect(()=>{var ct,ut;(ut=(ct=window.api)==null?void 0:ct.updateConfigFiles)==null||ut.call(ct,nt)},[nt]),jsxRuntimeExports.jsx(ConfigContext$1.Provider,{value:lt,children:_e})}function useConfig$1(){const _e=reactExports.useContext(ConfigContext$1);if(!_e)throw new Error("useConfig must be used within a CharacterConfigProvider");return _e}const DEFAULT_CONFIG={modelInfo:{scrollToResize:!0},isLoading:!1},Live2DConfigContext=reactExports.createContext(null);function Live2DConfigProvider({children:_e}){const{confUid:_}=useConfig$1(),[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState(DEFAULT_CONFIG.isLoading);reactExports.useEffect(()=>{var ht;const ft=(ht=window.api)==null?void 0:ht.onModeChanged(mt=>{tt(mt==="pet")});return()=>ft==null?void 0:ft()},[]);const it=(ft,ht)=>`${ft}_${ht?"pet":"window"}`,[at,lt]=useLocalStorage("modelInfo",DEFAULT_CONFIG.modelInfo,{filter:ft=>ft&&{...ft,url:""}}),[ct,ut]=useLocalStorage("scale_memory",{}),st=ft=>{if(ft!=null&&ft.url){if(!_){console.warn("Attempting to set model info without confUid"),toaster.create({title:"Attempting to set model info without confUid",type:"error",duration:2e3});return}if(JSON.stringify(ft)!==JSON.stringify(at))if(ft){const ht=it(_,et);let mt;const gt=ct[ht];gt!==void 0?mt=gt:(mt=Number(ft.kScale||.001),ut(yt=>({...yt,[ht]:mt}))),console.log("finalScale",mt),lt({...ft,kScale:mt,pointerInteractive:"pointerInteractive"in ft?ft.pointerInteractive:(at==null?void 0:at.pointerInteractive)??!1,scrollToResize:"scrollToResize"in ft?ft.scrollToResize:(at==null?void 0:at.scrollToResize)??!0})}else lt(void 0)}},ot=reactExports.useCallback(ft=>{if(at){const ht=it(_,et),mt=Number(ft.toFixed(8));ut(gt=>({...gt,[ht]:mt})),lt({...at,kScale:mt})}},[at,_,et,ut,lt]);reactExports.useEffect(()=>{if(at){const ft=it(_,et),ht=ct[ft];ht!==void 0&&ht!==Number(at.kScale)&&st({...at,kScale:ht})}},[et,at]);const dt=reactExports.useMemo(()=>({modelInfo:at,setModelInfo:st,isLoading:rt,setIsLoading:nt,updateModelScale:ot}),[at,rt,ot]);return jsxRuntimeExports.jsx(Live2DConfigContext.Provider,{value:dt,children:_e})}function useLive2DConfig(){const _e=reactExports.useContext(Live2DConfigContext);if(!_e)throw new Error("useLive2DConfig must be used within a Live2DConfigProvider");return _e}var dist={},ortWeb_min={exports:{}};const backends={},backendsSortedByPriority=[],registerBackend=(_e,_,et)=>{if(_&&typeof _.init=="function"&&typeof _.createSessionHandler=="function"){const tt=backends[_e];if(tt===void 0)backends[_e]={backend:_,priority:et};else{if(tt.priority>et)return;if(tt.priority===et&&tt.backend!==_)throw new Error(`cannot register backend "${_e}" using priority ${et}`)}if(et>=0){const rt=backendsSortedByPriority.indexOf(_e);rt!==-1&&backendsSortedByPriority.splice(rt,1);for(let nt=0;nt<backendsSortedByPriority.length;nt++)if(backends[backendsSortedByPriority[nt]].priority<=et){backendsSortedByPriority.splice(nt,0,_e);return}backendsSortedByPriority.push(_e)}return}throw new TypeError("not a valid backend")},resolveBackend=async _e=>{const _=_e.length===0?backendsSortedByPriority:_e,et=[];for(const tt of _){const rt=backends[tt];if(rt){if(rt.initialized)return rt.backend;if(rt.aborted)continue;const nt=!!rt.initPromise;try{return nt||(rt.initPromise=rt.backend.init()),await rt.initPromise,rt.initialized=!0,rt.backend}catch(it){nt||et.push({name:tt,err:it}),rt.aborted=!0}finally{delete rt.initPromise}}}throw new Error(`no available backend found. ERR: ${et.map(tt=>`[${tt.name}] ${tt.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(_){if(_!==void 0){if(typeof _!="string"||["verbose","info","warning","error","fatal"].indexOf(_)===-1)throw new Error(`Unsupported logging level: ${_}`);this.logLevelInternal=_}}get logLevel(){return this.logLevelInternal}}const env$1=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=_e=>{let _=1;for(let et=0;et<_e.length;et++){const tt=_e[et];if(typeof tt!="number"||!Number.isSafeInteger(tt))throw new TypeError(`dims[${et}] must be an integer, got: ${tt}`);if(tt<0)throw new RangeError(`dims[${et}] must be a non-negative integer, got: ${tt}`);_*=tt}return _};let Tensor$1=class po{constructor(_,et,tt){let rt,nt,it;if(typeof _=="string")if(rt=_,it=tt,_==="string"){if(!Array.isArray(et))throw new TypeError("A string tensor's data must be a string array.");nt=et}else{const lt=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(_);if(lt===void 0)throw new TypeError(`Unsupported tensor type: ${_}.`);if(Array.isArray(et))nt=lt.from(et);else if(et instanceof lt)nt=et;else throw new TypeError(`A ${rt} tensor's data must be type of ${lt}`)}else if(it=et,Array.isArray(_)){if(_.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const lt=typeof _[0];if(lt==="string")rt="string",nt=_;else if(lt==="boolean")rt="bool",nt=Uint8Array.from(_);else throw new TypeError(`Invalid element type of data array: ${lt}.`)}else{const lt=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(_.constructor);if(lt===void 0)throw new TypeError(`Unsupported type for tensor data: ${_.constructor}.`);rt=lt,nt=_}if(it===void 0)it=[nt.length];else if(!Array.isArray(it))throw new TypeError("A tensor's dims must be a number array");const at=calculateSize(it);if(at!==nt.length)throw new Error(`Tensor's size(${at}) does not match data length(${nt.length}).`);this.dims=it,this.type=rt,this.data=nt,this.size=at}static bufferToTensor(_,et){if(_===void 0)throw new Error("Image buffer must be defined");if(et.height===void 0||et.width===void 0)throw new Error("Image height and width must be defined");const{height:tt,width:rt}=et,nt=et.norm;let it,at;nt===void 0||nt.mean===void 0?it=255:it=nt.mean,nt===void 0||nt.bias===void 0?at=0:at=nt.bias;const lt=et.bitmapFormat!==void 0?et.bitmapFormat:"RGBA",ct=et.tensorFormat!==void 0&&et.tensorFormat!==void 0?et.tensorFormat:"RGB",ut=tt*rt,st=ct==="RGBA"?new Float32Array(ut*4):new Float32Array(ut*3);let ot=4,dt=0,ft=1,ht=2,mt=3,gt=0,yt=ut,vt=ut*2,bt=-1;lt==="RGB"&&(ot=3,dt=0,ft=1,ht=2,mt=-1),ct==="RGBA"?bt=ut*3:ct==="RBG"?(gt=0,vt=ut,yt=ut*2):ct==="BGR"&&(vt=0,yt=ut,gt=ut*2);for(let _t=0;_t<ut;_t++,dt+=ot,ht+=ot,ft+=ot,mt+=ot)st[gt++]=(_[dt]+at)/it,st[yt++]=(_[ft]+at)/it,st[vt++]=(_[ht]+at)/it,bt!==-1&&mt!==-1&&(st[bt++]=(_[mt]+at)/it);return ct==="RGBA"?new po("float32",st,[1,4,tt,rt]):new po("float32",st,[1,3,tt,rt])}static async fromImage(_,et){const tt=typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement,rt=typeof ImageData<"u"&&_ instanceof ImageData,nt=typeof ImageBitmap<"u"&&_ instanceof ImageBitmap,it=typeof String<"u"&&(_ instanceof String||typeof _=="string");let at,lt={};if(tt){const ct=document.createElement("canvas"),ut=ct.getContext("2d");if(ut!=null){let st=_.naturalHeight,ot=_.naturalWidth;if(et!==void 0&&et.resizedHeight!==void 0&&et.resizedWidth!==void 0&&(st=et.resizedHeight,ot=et.resizedWidth),et!==void 0){if(lt=et,et.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(lt.tensorFormat="RGBA",et.height!==void 0&&et.height!==st)throw new Error("Image input config height doesn't match HTMLImageElement height");if(lt.height=st,et.width!==void 0&&et.width!==ot)throw new Error("Image input config width doesn't match HTMLImageElement width");lt.width=ot}else lt.tensorFormat="RGBA",lt.height=st,lt.width=ot;ct.width=ot,ct.height=st,ut.drawImage(_,0,0,ot,st),at=ut.getImageData(0,0,ot,st).data}else throw new Error("Can not access image data")}else if(rt){const ct="RGBA";let ut,st;if(et!==void 0&&et.resizedWidth!==void 0&&et.resizedHeight!==void 0?(ut=et.resizedHeight,st=et.resizedWidth):(ut=_.height,st=_.width),et!==void 0){if(lt=et,et.bitmapFormat!==void 0&&et.bitmapFormat!==ct)throw new Error("Image input config format must be RGBA for ImageData");lt.bitmapFormat="RGBA"}else lt.bitmapFormat="RGBA";if(lt.height=ut,lt.width=st,et!==void 0){const ot=document.createElement("canvas");ot.width=st,ot.height=ut;const dt=ot.getContext("2d");if(dt!=null)dt.putImageData(_,0,0),at=dt.getImageData(0,0,st,ut).data;else throw new Error("Can not access image data")}else at=_.data}else if(nt){if(et===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(et.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const ct=document.createElement("canvas").getContext("2d");if(ct!=null){const ut=_.height,st=_.width;if(ct.drawImage(_,0,0,st,ut),at=ct.getImageData(0,0,st,ut).data,et!==void 0){if(et.height!==void 0&&et.height!==ut)throw new Error("Image input config height doesn't match ImageBitmap height");if(lt.height=ut,et.width!==void 0&&et.width!==st)throw new Error("Image input config width doesn't match ImageBitmap width");lt.width=st}else lt.height=ut,lt.width=st;return po.bufferToTensor(at,lt)}else throw new Error("Can not access image data")}else{if(it)return new Promise((ct,ut)=>{const st=document.createElement("canvas"),ot=st.getContext("2d");if(!_||!ot)return ut();const dt=new Image;dt.crossOrigin="Anonymous",dt.src=_,dt.onload=()=>{st.width=dt.width,st.height=dt.height,ot.drawImage(dt,0,0,st.width,st.height);const ft=ot.getImageData(0,0,st.width,st.height);if(et!==void 0){if(et.height!==void 0&&et.height!==st.height)throw new Error("Image input config height doesn't match ImageBitmap height");if(lt.height=st.height,et.width!==void 0&&et.width!==st.width)throw new Error("Image input config width doesn't match ImageBitmap width");lt.width=st.width}else lt.height=st.height,lt.width=st.width;ct(po.bufferToTensor(ft.data,lt))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(at!==void 0)return po.bufferToTensor(at,lt);throw new Error("Input data provided is not supported - aborted tensor creation")}toImageData(_){var et,tt;const rt=document.createElement("canvas").getContext("2d");let nt;if(rt!=null){const it=this.dims[3],at=this.dims[2],lt=this.dims[1],ct=_!==void 0&&_.format!==void 0?_.format:"RGB",ut=_!==void 0&&((et=_.norm)===null||et===void 0?void 0:et.mean)!==void 0?_.norm.mean:255,st=_!==void 0&&((tt=_.norm)===null||tt===void 0?void 0:tt.bias)!==void 0?_.norm.bias:0,ot=at*it;if(_!==void 0){if(_.height!==void 0&&_.height!==at)throw new Error("Image output config height doesn't match tensor height");if(_.width!==void 0&&_.width!==it)throw new Error("Image output config width doesn't match tensor width");if(_.format!==void 0&&lt===4&&_.format!=="RGBA"||lt===3&&_.format!=="RGB"&&_.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const dt=4;let ft=0,ht=1,mt=2,gt=3,yt=0,vt=ot,bt=ot*2,xt=-1;ct==="RGBA"?(yt=0,vt=ot,bt=ot*2,xt=ot*3):ct==="RGB"?(yt=0,vt=ot,bt=ot*2):ct==="RBG"&&(yt=0,bt=ot,vt=ot*2),nt=rt.createImageData(it,at);for(let _t=0;_t<at*it;ft+=dt,ht+=dt,mt+=dt,gt+=dt,_t++)nt.data[ft]=(this.data[yt++]-st)*ut,nt.data[ht]=(this.data[vt++]-st)*ut,nt.data[mt]=(this.data[bt++]-st)*ut,nt.data[gt]=xt===-1?255:(this.data[xt++]-st)*ut}else throw new Error("Can not access image data");return nt}reshape(_){return new po(this.type,this.data,_)}};const Tensor=Tensor$1;let InferenceSession$1=class qs{constructor(_){this.handler=_}async run(_,et,tt){const rt={};let nt={};if(typeof _!="object"||_===null||_ instanceof Tensor||Array.isArray(_))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let it=!0;if(typeof et=="object"){if(et===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(et instanceof Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(et)){if(et.length===0)throw new TypeError("'fetches' cannot be an empty array.");it=!1;for(const ct of et){if(typeof ct!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(ct)===-1)throw new RangeError(`'fetches' contains invalid output name: ${ct}.`);rt[ct]=null}if(typeof tt=="object"&&tt!==null)nt=tt;else if(typeof tt<"u")throw new TypeError("'options' must be an object.")}else{let ct=!1;const ut=Object.getOwnPropertyNames(et);for(const st of this.outputNames)if(ut.indexOf(st)!==-1){const ot=et[st];(ot===null||ot instanceof Tensor)&&(ct=!0,it=!1,rt[st]=ot)}if(ct){if(typeof tt=="object"&&tt!==null)nt=tt;else if(typeof tt<"u")throw new TypeError("'options' must be an object.")}else nt=et}}else if(typeof et<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const ct of this.inputNames)if(typeof _[ct]>"u")throw new Error(`input '${ct}' is missing in 'feeds'.`);if(it)for(const ct of this.outputNames)rt[ct]=null;const at=await this.handler.run(_,rt,nt),lt={};for(const ct in at)Object.hasOwnProperty.call(at,ct)&&(lt[ct]=new Tensor(at[ct].type,at[ct].data,at[ct].dims));return lt}static async create(_,et,tt,rt){let nt,it={};if(typeof _=="string"){if(nt=_,typeof et=="object"&&et!==null)it=et;else if(typeof et<"u")throw new TypeError("'options' must be an object.")}else if(_ instanceof Uint8Array){if(nt=_,typeof et=="object"&&et!==null)it=et;else if(typeof et<"u")throw new TypeError("'options' must be an object.")}else if(_ instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&_ instanceof SharedArrayBuffer){const st=_;let ot=0,dt=_.byteLength;if(typeof et=="object"&&et!==null)it=et;else if(typeof et=="number"){if(ot=et,!Number.isSafeInteger(ot))throw new RangeError("'byteOffset' must be an integer.");if(ot<0||ot>=st.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${st.byteLength}).`);if(dt=_.byteLength-ot,typeof tt=="number"){if(dt=tt,!Number.isSafeInteger(dt))throw new RangeError("'byteLength' must be an integer.");if(dt<=0||ot+dt>st.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${st.byteLength-ot}].`);if(typeof rt=="object"&&rt!==null)it=rt;else if(typeof rt<"u")throw new TypeError("'options' must be an object.")}else if(typeof tt<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof et<"u")throw new TypeError("'options' must be an object.");nt=new Uint8Array(st,ot,dt)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const lt=(it.executionProviders||[]).map(st=>typeof st=="string"?st:st.name),ut=await(await resolveBackend(lt)).createSessionHandler(nt,it);return new qs(ut)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession=InferenceSession$1,lib$1=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession,Tensor,env:env$1,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(lib$1);/*!
* ONNX Runtime Web v1.14.0
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(_e,_){module.exports=_(require$$0$1)})(self,__WEBPACK_EXTERNAL_MODULE__1670__=>(()=>{var __webpack_modules__={3474:(_e,_,et)=>{var tt,rt=(tt=(tt=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(nt){function it(){return Nt.buffer!=jt&&ar(Nt.buffer),Ut}function at(){return Nt.buffer!=jt&&ar(Nt.buffer),Xt}function lt(){return Nt.buffer!=jt&&ar(Nt.buffer),Wt}function ct(){return Nt.buffer!=jt&&ar(Nt.buffer),Vt}function ut(){return Nt.buffer!=jt&&ar(Nt.buffer),qt}var st,ot,dt;nt=nt||{},st||(st=nt!==void 0?nt:{}),st.ready=new Promise(function(Ot,Lt){ot=Ot,dt=Lt});var ft,ht,mt,gt,yt,vt,bt=Object.assign({},st),xt="./this.program",_t=(Ot,Lt)=>{throw Lt},St=typeof window=="object",wt=typeof importScripts=="function",Et=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Tt=st.ENVIRONMENT_IS_PTHREAD||!1,Ct="";function It(Ot){return st.locateFile?st.locateFile(Ot,Ct):Ct+Ot}if(Et){let Ot;Ct=wt?et(908).dirname(Ct)+"/":"//",vt=()=>{yt||(gt=et(1384),yt=et(908))},ft=function(Lt,Bt){return vt(),Lt=yt.normalize(Lt),gt.readFileSync(Lt,Bt?void 0:"utf8")},mt=Lt=>((Lt=ft(Lt,!0)).buffer||(Lt=new Uint8Array(Lt)),Lt),ht=(Lt,Bt,Gt)=>{vt(),Lt=yt.normalize(Lt),gt.readFile(Lt,function(Qt,sr){Qt?Gt(Qt):Bt(sr.buffer)})},1<process.argv.length&&(xt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Lt){if(!(Lt instanceof Gr))throw Lt}),process.on("unhandledRejection",function(Lt){throw Lt}),_t=(Lt,Bt)=>{if(xr())throw process.exitCode=Lt,Bt;Bt instanceof Gr||$t("exiting due to exception: "+Bt),process.exit(Lt)},st.inspect=function(){return"[Emscripten Module object]"};try{Ot=et(9925)}catch(Lt){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Lt}et.g.Worker=Ot.Worker}else(St||wt)&&(wt?Ct=self.location.href:typeof document<"u"&&document.currentScript&&(Ct=document.currentScript.src),tt&&(Ct=tt),Ct=Ct.indexOf("blob:")!==0?Ct.substr(0,Ct.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Et||(ft=Ot=>{var Lt=new XMLHttpRequest;return Lt.open("GET",Ot,!1),Lt.send(null),Lt.responseText},wt&&(mt=Ot=>{var Lt=new XMLHttpRequest;return Lt.open("GET",Ot,!1),Lt.responseType="arraybuffer",Lt.send(null),new Uint8Array(Lt.response)}),ht=(Ot,Lt,Bt)=>{var Gt=new XMLHttpRequest;Gt.open("GET",Ot,!0),Gt.responseType="arraybuffer",Gt.onload=()=>{Gt.status==200||Gt.status==0&&Gt.response?Lt(Gt.response):Bt()},Gt.onerror=Bt,Gt.send(null)}));Et&&typeof performance>"u"&&(et.g.performance=et(6953).performance);var Pt=console.log.bind(console),At=console.warn.bind(console);Et&&(vt(),Pt=Ot=>gt.writeSync(1,Ot+`
`),At=Ot=>gt.writeSync(2,Ot+`
`));var kt,Rt=st.print||Pt,$t=st.printErr||At;Object.assign(st,bt),bt=null,st.thisProgram&&(xt=st.thisProgram),st.quit&&(_t=st.quit),st.wasmBinary&&(kt=st.wasmBinary);var Mt=st.noExitRuntime||!1;typeof WebAssembly!="object"&&_r("no native wasm support detected");var Nt,Dt,jt,Ut,Xt,Wt,Vt,qt,tr=!1,Kt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Yt(Ot,Lt,Bt){var Gt=(Lt>>>=0)+Bt;for(Bt=Lt;Ot[Bt]&&!(Bt>=Gt);)++Bt;if(16<Bt-Lt&&Ot.buffer&&Kt)return Kt.decode(Ot.buffer instanceof SharedArrayBuffer?Ot.slice(Lt,Bt):Ot.subarray(Lt,Bt));for(Gt="";Lt<Bt;){var Qt=Ot[Lt++];if(128&Qt){var sr=63&Ot[Lt++];if((224&Qt)==192)Gt+=String.fromCharCode((31&Qt)<<6|sr);else{var br=63&Ot[Lt++];65536>(Qt=(240&Qt)==224?(15&Qt)<<12|sr<<6|br:(7&Qt)<<18|sr<<12|br<<6|63&Ot[Lt++])?Gt+=String.fromCharCode(Qt):(Qt-=65536,Gt+=String.fromCharCode(55296|Qt>>10,56320|1023&Qt))}}else Gt+=String.fromCharCode(Qt)}return Gt}function rr(Ot,Lt){return(Ot>>>=0)?Yt(at(),Ot,Lt):""}function ir(Ot,Lt,Bt,Gt){if(!(0<Gt))return 0;var Qt=Bt>>>=0;Gt=Bt+Gt-1;for(var sr=0;sr<Ot.length;++sr){var br=Ot.charCodeAt(sr);if(55296<=br&&57343>=br&&(br=65536+((1023&br)<<10)|1023&Ot.charCodeAt(++sr)),127>=br){if(Bt>=Gt)break;Lt[Bt++>>>0]=br}else{if(2047>=br){if(Bt+1>=Gt)break;Lt[Bt++>>>0]=192|br>>6}else{if(65535>=br){if(Bt+2>=Gt)break;Lt[Bt++>>>0]=224|br>>12}else{if(Bt+3>=Gt)break;Lt[Bt++>>>0]=240|br>>18,Lt[Bt++>>>0]=128|br>>12&63}Lt[Bt++>>>0]=128|br>>6&63}Lt[Bt++>>>0]=128|63&br}}return Lt[Bt>>>0]=0,Bt-Qt}function lr(Ot){for(var Lt=0,Bt=0;Bt<Ot.length;++Bt){var Gt=Ot.charCodeAt(Bt);127>=Gt?Lt++:2047>=Gt?Lt+=2:55296<=Gt&&57343>=Gt?(Lt+=4,++Bt):Lt+=3}return Lt}function ar(Ot){jt=Ot,st.HEAP8=Ut=new Int8Array(Ot),st.HEAP16=new Int16Array(Ot),st.HEAP32=Wt=new Int32Array(Ot),st.HEAPU8=Xt=new Uint8Array(Ot),st.HEAPU16=new Uint16Array(Ot),st.HEAPU32=Vt=new Uint32Array(Ot),st.HEAPF32=new Float32Array(Ot),st.HEAPF64=qt=new Float64Array(Ot)}Tt&&(jt=st.buffer);var ur=st.INITIAL_MEMORY||16777216;if(Tt)Nt=st.wasmMemory,jt=st.buffer;else if(st.wasmMemory)Nt=st.wasmMemory;else if(!((Nt=new WebAssembly.Memory({initial:ur/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw $t("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),Et&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Nt&&(jt=Nt.buffer),ur=jt.byteLength,ar(jt);var fr,yr=[],Tr=[],Sr=[],kr=[];function xr(){return Mt||!1}function dr(){var Ot=st.preRun.shift();yr.unshift(Ot)}var gr,mr=0,Fr=null;function _r(Ot){throw Tt?postMessage({cmd:"onAbort",arg:Ot}):st.onAbort&&st.onAbort(Ot),$t(Ot="Aborted("+Ot+")"),tr=!0,Ot=new WebAssembly.RuntimeError(Ot+". Build with -sASSERTIONS for more info."),dt(Ot),Ot}function Nr(){return gr.startsWith("data:application/octet-stream;base64,")}function mn(){var Ot=gr;try{if(Ot==gr&&kt)return new Uint8Array(kt);if(mt)return mt(Ot);throw"both async and sync fetching of the wasm failed"}catch(Lt){_r(Lt)}}gr="ort-wasm-threaded.wasm",Nr()||(gr=It(gr));var qr={};function Gr(Ot){this.name="ExitStatus",this.message="Program terminated with exit("+Ot+")",this.status=Ot}function gn(Ot){(Ot=vr.Vb[Ot])||_r(),vr.mc(Ot)}function ln(Ot){var Lt=vr.Cc();if(!Lt)return 6;vr.ac.push(Lt),vr.Vb[Ot.Ub]=Lt,Lt.Ub=Ot.Ub;var Bt={cmd:"run",start_routine:Ot.Ic,arg:Ot.zc,pthread_ptr:Ot.Ub};return Lt.$b=()=>{Bt.time=performance.now(),Lt.postMessage(Bt,Ot.Nc)},Lt.loaded&&(Lt.$b(),delete Lt.$b),0}function Hr(Ot){if(Tt)return pr(1,1,Ot);xr()||(vr.oc(),st.onExit&&st.onExit(Ot),tr=!0),_t(Ot,new Gr(Ot))}function en(Ot,Lt){if(!Lt&&Tt)throw yn(Ot),"unwind";xr()||Tt||(Nn(),un(Sr),Dn(0),Ln[1].length&&Rn(1,10),Ln[2].length&&Rn(2,10),vr.oc()),Hr(Ot)}var vr={Yb:[],ac:[],qc:[],Vb:{},fc:function(){Tt&&vr.Ec()},Pc:function(){},Ec:function(){vr.receiveObjectTransfer=vr.Gc,vr.threadInitTLS=vr.pc,vr.setExitStatus=vr.nc,Mt=!1},nc:function(){},oc:function(){for(var Ot of Object.values(vr.Vb))vr.mc(Ot);for(Ot of vr.Yb)Ot.terminate();vr.Yb=[]},mc:function(Ot){var Lt=Ot.Ub;delete vr.Vb[Lt],vr.Yb.push(Ot),vr.ac.splice(vr.ac.indexOf(Ot),1),Ot.Ub=0,Qn(Lt)},Gc:function(){},pc:function(){vr.qc.forEach(Ot=>Ot())},Fc:function(Ot,Lt){Ot.onmessage=Bt=>{var Gt=(Bt=Bt.data).cmd;if(Ot.Ub&&(vr.Bc=Ot.Ub),Bt.targetThread&&Bt.targetThread!=pn()){var Qt=vr.Vb[Bt.Qc];Qt?Qt.postMessage(Bt,Bt.transferList):$t('Internal error! Worker sent a message "'+Gt+'" to target pthread '+Bt.targetThread+", but that thread no longer exists!")}else Gt==="processProxyingQueue"?Ht(Bt.queue):Gt==="spawnThread"?ln(Bt):Gt==="cleanupThread"?gn(Bt.thread):Gt==="killThread"?(Bt=Bt.thread,Gt=vr.Vb[Bt],delete vr.Vb[Bt],Gt.terminate(),Qn(Bt),vr.ac.splice(vr.ac.indexOf(Gt),1),Gt.Ub=0):Gt==="cancelThread"?vr.Vb[Bt.thread].postMessage({cmd:"cancel"}):Gt==="loaded"?(Ot.loaded=!0,Lt&&Lt(Ot),Ot.$b&&(Ot.$b(),delete Ot.$b)):Gt==="print"?Rt("Thread "+Bt.threadId+": "+Bt.text):Gt==="printErr"?$t("Thread "+Bt.threadId+": "+Bt.text):Gt==="alert"?alert("Thread "+Bt.threadId+": "+Bt.text):Bt.target==="setimmediate"?Ot.postMessage(Bt):Gt==="onAbort"?st.onAbort&&st.onAbort(Bt.arg):Gt&&$t("worker sent an unknown command "+Gt);vr.Bc=void 0},Ot.onerror=Bt=>{throw $t("worker sent an error! "+Bt.filename+":"+Bt.lineno+": "+Bt.message),Bt},Et&&(Ot.on("message",function(Bt){Ot.onmessage({data:Bt})}),Ot.on("error",function(Bt){Ot.onerror(Bt)}),Ot.on("detachedExit",function(){})),Ot.postMessage({cmd:"load",urlOrBlob:st.mainScriptUrlOrBlob||tt,wasmMemory:Nt,wasmModule:Dt})},yc:function(){var Ot=It("ort-wasm-threaded.worker.js");vr.Yb.push(new Worker(Ot))},Cc:function(){return vr.Yb.length==0&&(vr.yc(),vr.Fc(vr.Yb[0])),vr.Yb.pop()}};function un(Ot){for(;0<Ot.length;)Ot.shift()(st)}function an(Ot){var Lt=Wr();return Ot=Ot(),Kr(Lt),Ot}function yn(Ot){if(Tt)return pr(2,0,Ot);try{en(Ot)}catch(Lt){Lt instanceof Gr||Lt=="unwind"||_t(1,Lt)}}st.PThread=vr,st.establishStackSpace=function(){var Ot=pn(),Lt=lt()[Ot+44>>2>>>0];Ot=lt()[Ot+48>>2>>>0],ro(Lt,Lt-Ot),Kr(Lt)};var hn=[];function Lr(Ot){var Lt=hn[Ot];return Lt||(Ot>=hn.length&&(hn.length=Ot+1),hn[Ot]=Lt=fr.get(Ot)),Lt}st.invokeEntryPoint=function(Ot,Lt){Ot=Lr(Ot)(Lt),xr()?vr.nc(Ot):Hn(Ot)};var bn,Sn,On=[],$r=0,wr=0;function Ar(Ot){this.Zb=Ot,this.Sb=Ot-24,this.xc=function(Lt){ct()[this.Sb+4>>2>>>0]=Lt},this.bc=function(){return ct()[this.Sb+4>>2>>>0]},this.wc=function(Lt){ct()[this.Sb+8>>2>>>0]=Lt},this.Dc=function(){return ct()[this.Sb+8>>2>>>0]},this.rc=function(){lt()[this.Sb>>2>>>0]=0},this.hc=function(Lt){Lt=Lt?1:0,it()[this.Sb+12>>0>>>0]=Lt},this.uc=function(){return it()[this.Sb+12>>0>>>0]!=0},this.ic=function(Lt){Lt=Lt?1:0,it()[this.Sb+13>>0>>>0]=Lt},this.kc=function(){return it()[this.Sb+13>>0>>>0]!=0},this.fc=function(Lt,Bt){this.cc(0),this.xc(Lt),this.wc(Bt),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(lt(),this.Sb>>2,1)},this.Hc=function(){return Atomics.sub(lt(),this.Sb>>2,1)===1},this.cc=function(Lt){ct()[this.Sb+16>>2>>>0]=Lt},this.tc=function(){return ct()[this.Sb+16>>2>>>0]},this.vc=function(){if(so(this.bc()))return ct()[this.Zb>>2>>>0];var Lt=this.tc();return Lt!==0?Lt:this.Zb}}function tn(Ot){return fn(new Ar(Ot).Sb)}function Mr(Ot,Lt,Bt,Gt){return Tt?pr(3,1,Ot,Lt,Bt,Gt):Cr(Ot,Lt,Bt,Gt)}function Cr(Ot,Lt,Bt,Gt){if(typeof SharedArrayBuffer>"u")return $t("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var Qt=[];return Tt&&Qt.length===0?Mr(Ot,Lt,Bt,Gt):(Ot={Ic:Bt,Ub:Ot,zc:Gt,Nc:Qt},Tt?(Ot.Oc="spawnThread",postMessage(Ot,Qt),0):ln(Ot))}function Rr(Ot,Lt,Bt){return Tt?pr(4,1,Ot,Lt,Bt):0}function Zr(Ot,Lt){if(Tt)return pr(5,1,Ot,Lt)}function dn(Ot,Lt){if(Tt)return pr(6,1,Ot,Lt)}function Cn(Ot,Lt,Bt){if(Tt)return pr(7,1,Ot,Lt,Bt)}function Qr(Ot,Lt,Bt){return Tt?pr(8,1,Ot,Lt,Bt):0}function Mn(Ot,Lt){if(Tt)return pr(9,1,Ot,Lt)}function Fn(Ot,Lt,Bt){if(Tt)return pr(10,1,Ot,Lt,Bt)}function Jr(Ot,Lt,Bt,Gt){if(Tt)return pr(11,1,Ot,Lt,Bt,Gt)}function rn(Ot,Lt,Bt,Gt){if(Tt)return pr(12,1,Ot,Lt,Bt,Gt)}function Tn(Ot,Lt,Bt,Gt){if(Tt)return pr(13,1,Ot,Lt,Bt,Gt)}function En(Ot){if(Tt)return pr(14,1,Ot)}function Ft(Ot,Lt){if(Tt)return pr(15,1,Ot,Lt)}function zt(Ot,Lt,Bt){if(Tt)return pr(16,1,Ot,Lt,Bt)}function Ht(Ot){Atomics.store(lt(),Ot>>2,1),pn()&&oo(Ot),Atomics.compareExchange(lt(),Ot>>2,1,0)}function Zt(Ot){return ct()[Ot>>>2]+4294967296*lt()[Ot+4>>>2]}function Jt(Ot,Lt,Bt,Gt,Qt,sr){return Tt?pr(17,1,Ot,Lt,Bt,Gt,Qt,sr):-52}function nr(Ot,Lt,Bt,Gt,Qt,sr){if(Tt)return pr(18,1,Ot,Lt,Bt,Gt,Qt,sr)}function hr(Ot){var Lt=lr(Ot)+1,Bt=sn(Lt);return Bt&&ir(Ot,it(),Bt,Lt),Bt}function Pr(Ot,Lt,Bt){function Gt(on){return(on=on.toTimeString().match(/\(([A-Za-z ]+)\)$/))?on[1]:"GMT"}if(Tt)return pr(19,1,Ot,Lt,Bt);var Qt=new Date().getFullYear(),sr=new Date(Qt,0,1),br=new Date(Qt,6,1);Qt=sr.getTimezoneOffset();var jr=br.getTimezoneOffset(),nn=Math.max(Qt,jr);lt()[Ot>>2>>>0]=60*nn,lt()[Lt>>2>>>0]=+(Qt!=jr),Ot=Gt(sr),Lt=Gt(br),Ot=hr(Ot),Lt=hr(Lt),jr<Qt?(ct()[Bt>>2>>>0]=Ot,ct()[Bt+4>>2>>>0]=Lt):(ct()[Bt>>2>>>0]=Lt,ct()[Bt+4>>2>>>0]=Ot)}function pr(Ot,Lt){var Bt=arguments.length-2,Gt=arguments;return an(()=>{for(var Qt=Un(8*Bt),sr=Qt>>3,br=0;br<Bt;br++){var jr=Gt[2+br];ut()[sr+br>>>0]=jr}return co(Ot,Bt,Qt,Lt)})}st.executeNotifiedProxyingQueue=Ht,Sn=Et?()=>{var Ot=process.hrtime();return 1e3*Ot[0]+Ot[1]/1e6}:Tt?()=>performance.now()-st.__performance_now_clock_drift:()=>performance.now();var Vr,Or=[],Er={};function Br(){if(!Vr){var Ot,Lt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:xt||"./this.program"};for(Ot in Er)Er[Ot]===void 0?delete Lt[Ot]:Lt[Ot]=Er[Ot];var Bt=[];for(Ot in Lt)Bt.push(Ot+"="+Lt[Ot]);Vr=Bt}return Vr}function er(Ot,Lt){if(Tt)return pr(20,1,Ot,Lt);var Bt=0;return Br().forEach(function(Gt,Qt){var sr=Lt+Bt;for(Qt=ct()[Ot+4*Qt>>2>>>0]=sr,sr=0;sr<Gt.length;++sr)it()[Qt++>>0>>>0]=Gt.charCodeAt(sr);it()[Qt>>0>>>0]=0,Bt+=Gt.length+1}),0}function Ur(Ot,Lt){if(Tt)return pr(21,1,Ot,Lt);var Bt=Br();ct()[Ot>>2>>>0]=Bt.length;var Gt=0;return Bt.forEach(function(Qt){Gt+=Qt.length+1}),ct()[Lt>>2>>>0]=Gt,0}function Xr(Ot){return Tt?pr(22,1,Ot):52}function _n(Ot,Lt,Bt,Gt){return Tt?pr(23,1,Ot,Lt,Bt,Gt):52}function xn(Ot,Lt,Bt,Gt,Qt){return Tt?pr(24,1,Ot,Lt,Bt,Gt,Qt):70}var Ln=[null,[],[]];function Rn(Ot,Lt){var Bt=Ln[Ot];Lt===0||Lt===10?((Ot===1?Rt:$t)(Yt(Bt,0)),Bt.length=0):Bt.push(Lt)}function Yn(Ot,Lt,Bt,Gt){if(Tt)return pr(25,1,Ot,Lt,Bt,Gt);for(var Qt=0,sr=0;sr<Bt;sr++){var br=ct()[Lt>>2>>>0],jr=ct()[Lt+4>>2>>>0];Lt+=8;for(var nn=0;nn<jr;nn++)Rn(Ot,at()[br+nn>>>0]);Qt+=jr}return ct()[Gt>>2>>>0]=Qt,0}var Pn=0;function kn(Ot){return Ot%4==0&&(Ot%100!=0||Ot%400==0)}var jn=[31,29,31,30,31,30,31,31,30,31,30,31],Kn=[31,28,31,30,31,30,31,31,30,31,30,31];function qn(Ot,Lt,Bt,Gt){function Qt(cr,cn,An){for(cr=typeof cr=="number"?cr.toString():cr||"";cr.length<cn;)cr=An[0]+cr;return cr}function sr(cr,cn){return Qt(cr,cn,"0")}function br(cr,cn){function An(bo){return 0>bo?-1:0<bo?1:0}var lo;return(lo=An(cr.getFullYear()-cn.getFullYear()))===0&&(lo=An(cr.getMonth()-cn.getMonth()))===0&&(lo=An(cr.getDate()-cn.getDate())),lo}function jr(cr){switch(cr.getDay()){case 0:return new Date(cr.getFullYear()-1,11,29);case 1:return cr;case 2:return new Date(cr.getFullYear(),0,3);case 3:return new Date(cr.getFullYear(),0,2);case 4:return new Date(cr.getFullYear(),0,1);case 5:return new Date(cr.getFullYear()-1,11,31);case 6:return new Date(cr.getFullYear()-1,11,30)}}function nn(cr){var cn=cr.Wb;for(cr=new Date(new Date(cr.Xb+1900,0,1).getTime());0<cn;){var An=cr.getMonth(),lo=(kn(cr.getFullYear())?jn:Kn)[An];if(!(cn>lo-cr.getDate())){cr.setDate(cr.getDate()+cn);break}cn-=lo-cr.getDate()+1,cr.setDate(1),11>An?cr.setMonth(An+1):(cr.setMonth(0),cr.setFullYear(cr.getFullYear()+1))}return An=new Date(cr.getFullYear()+1,0,4),cn=jr(new Date(cr.getFullYear(),0,4)),An=jr(An),0>=br(cn,cr)?0>=br(An,cr)?cr.getFullYear()+1:cr.getFullYear():cr.getFullYear()-1}var on=lt()[Gt+40>>2>>>0];for(var $n in Gt={Lc:lt()[Gt>>2>>>0],Kc:lt()[Gt+4>>2>>>0],dc:lt()[Gt+8>>2>>>0],jc:lt()[Gt+12>>2>>>0],ec:lt()[Gt+16>>2>>>0],Xb:lt()[Gt+20>>2>>>0],Tb:lt()[Gt+24>>2>>>0],Wb:lt()[Gt+28>>2>>>0],Rc:lt()[Gt+32>>2>>>0],Jc:lt()[Gt+36>>2>>>0],Mc:on?rr(on):""},Bt=rr(Bt),on={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Bt=Bt.replace(new RegExp($n,"g"),on[$n]);var no="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Xn="January February March April May June July August September October November December".split(" ");for($n in on={"%a":function(cr){return no[cr.Tb].substring(0,3)},"%A":function(cr){return no[cr.Tb]},"%b":function(cr){return Xn[cr.ec].substring(0,3)},"%B":function(cr){return Xn[cr.ec]},"%C":function(cr){return sr((cr.Xb+1900)/100|0,2)},"%d":function(cr){return sr(cr.jc,2)},"%e":function(cr){return Qt(cr.jc,2," ")},"%g":function(cr){return nn(cr).toString().substring(2)},"%G":function(cr){return nn(cr)},"%H":function(cr){return sr(cr.dc,2)},"%I":function(cr){return(cr=cr.dc)==0?cr=12:12<cr&&(cr-=12),sr(cr,2)},"%j":function(cr){for(var cn=0,An=0;An<=cr.ec-1;cn+=(kn(cr.Xb+1900)?jn:Kn)[An++]);return sr(cr.jc+cn,3)},"%m":function(cr){return sr(cr.ec+1,2)},"%M":function(cr){return sr(cr.Kc,2)},"%n":function(){return`
`},"%p":function(cr){return 0<=cr.dc&&12>cr.dc?"AM":"PM"},"%S":function(cr){return sr(cr.Lc,2)},"%t":function(){return"	"},"%u":function(cr){return cr.Tb||7},"%U":function(cr){return sr(Math.floor((cr.Wb+7-cr.Tb)/7),2)},"%V":function(cr){var cn=Math.floor((cr.Wb+7-(cr.Tb+6)%7)/7);if(2>=(cr.Tb+371-cr.Wb-2)%7&&cn++,cn)cn==53&&((An=(cr.Tb+371-cr.Wb)%7)==4||An==3&&kn(cr.Xb)||(cn=1));else{cn=52;var An=(cr.Tb+7-cr.Wb-1)%7;(An==4||An==5&&kn(cr.Xb%400-1))&&cn++}return sr(cn,2)},"%w":function(cr){return cr.Tb},"%W":function(cr){return sr(Math.floor((cr.Wb+7-(cr.Tb+6)%7)/7),2)},"%y":function(cr){return(cr.Xb+1900).toString().substring(2)},"%Y":function(cr){return cr.Xb+1900},"%z":function(cr){var cn=0<=(cr=cr.Jc);return cr=Math.abs(cr)/60,(cn?"+":"-")+("0000"+(cr/60*100+cr%60)).slice(-4)},"%Z":function(cr){return cr.Mc},"%%":function(){return"%"}},Bt=Bt.replace(/%%/g,"\0\0"),on)Bt.includes($n)&&(Bt=Bt.replace(new RegExp($n,"g"),on[$n](Gt)));return $n=function(cr){var cn=Array(lr(cr)+1);return ir(cr,cn,0,cn.length),cn}(Bt=Bt.replace(/\0\0/g,"%")),$n.length>Lt?0:(function(cr,cn){it().set(cr,cn>>>0)}($n,Ot),$n.length-1)}vr.fc();var zn=[null,Hr,yn,Mr,Rr,Zr,dn,Cn,Qr,Mn,Fn,Jr,rn,Tn,En,Ft,zt,Jt,nr,Pr,er,Ur,Xr,_n,xn,Yn],fo={b:function(Ot){return sn(Ot+24)+24},n:function(Ot){return(Ot=new Ar(Ot)).uc()||(Ot.hc(!0),$r--),Ot.ic(!1),On.push(Ot),Ot.sc(),Ot.vc()},ma:function(Ot){throw $t("Unexpected exception thrown, this is not properly supported - aborting"),tr=!0,Ot},x:function(){Yr(0);var Ot=On.pop();if(Ot.Hc()&&!Ot.kc()){var Lt=Ot.Dc();Lt&&Lr(Lt)(Ot.Zb),tn(Ot.Zb)}wr=0},e:function(){var Ot=wr;if(!Ot)return Pn=0;var Lt=new Ar(Ot);Lt.cc(Ot);var Bt=Lt.bc();if(!Bt)return Pn=0,Ot;for(var Gt=Array.prototype.slice.call(arguments),Qt=0;Qt<Gt.length;Qt++){var sr=Gt[Qt];if(sr===0||sr===Bt)break;if(ao(sr,Bt,Lt.Sb+16))return Pn=sr,Ot}return Pn=Bt,Ot},l:function(){var Ot=wr;if(!Ot)return Pn=0;var Lt=new Ar(Ot);Lt.cc(Ot);var Bt=Lt.bc();if(!Bt)return Pn=0,Ot;for(var Gt=Array.prototype.slice.call(arguments),Qt=0;Qt<Gt.length;Qt++){var sr=Gt[Qt];if(sr===0||sr===Bt)break;if(ao(sr,Bt,Lt.Sb+16))return Pn=sr,Ot}return Pn=Bt,Ot},h:function(){var Ot=wr;if(!Ot)return Pn=0;var Lt=new Ar(Ot);Lt.cc(Ot);var Bt=Lt.bc();if(!Bt)return Pn=0,Ot;for(var Gt=Array.prototype.slice.call(arguments),Qt=0;Qt<Gt.length;Qt++){var sr=Gt[Qt];if(sr===0||sr===Bt)break;if(ao(sr,Bt,Lt.Sb+16))return Pn=sr,Ot}return Pn=Bt,Ot},t:tn,M:function(){var Ot=On.pop();Ot||_r("no exception to throw");var Lt=Ot.Zb;throw Ot.kc()||(On.push(Ot),Ot.ic(!0),Ot.hc(!1),$r++),wr=Lt,Lt},c:function(Ot,Lt,Bt){throw new Ar(Ot).fc(Lt,Bt),wr=Ot,$r++,Ot},pa:function(){return $r},Fa:function(Ot){Zn(Ot,!wt,1,!St),vr.pc()},T:function(Ot){Tt?postMessage({cmd:"cleanupThread",thread:Ot}):gn(Ot)},xa:Cr,j:function(Ot){throw wr||(wr=Ot),Ot},H:Rr,Ma:Zr,ua:dn,wa:Cn,oa:Qr,Ka:Mn,Ca:Fn,Ja:Jr,V:rn,va:Tn,sa:En,La:Ft,ta:zt,Ta:function(){},X:function(){_r("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){_r("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(Ot,Lt,Bt,Gt){if(Ot==Lt)setTimeout(()=>Ht(Gt));else if(Tt)postMessage({targetThread:Ot,cmd:"processProxyingQueue",queue:Gt});else{if(!(Ot=vr.Vb[Ot]))return;Ot.postMessage({cmd:"processProxyingQueue",queue:Gt})}return 1},Ea:function(){return-1},Pa:function(Ot,Lt){Ot=new Date(1e3*Zt(Ot)),lt()[Lt>>2>>>0]=Ot.getUTCSeconds(),lt()[Lt+4>>2>>>0]=Ot.getUTCMinutes(),lt()[Lt+8>>2>>>0]=Ot.getUTCHours(),lt()[Lt+12>>2>>>0]=Ot.getUTCDate(),lt()[Lt+16>>2>>>0]=Ot.getUTCMonth(),lt()[Lt+20>>2>>>0]=Ot.getUTCFullYear()-1900,lt()[Lt+24>>2>>>0]=Ot.getUTCDay(),Ot=(Ot.getTime()-Date.UTC(Ot.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,lt()[Lt+28>>2>>>0]=Ot},Qa:function(Ot,Lt){Ot=new Date(1e3*Zt(Ot)),lt()[Lt>>2>>>0]=Ot.getSeconds(),lt()[Lt+4>>2>>>0]=Ot.getMinutes(),lt()[Lt+8>>2>>>0]=Ot.getHours(),lt()[Lt+12>>2>>>0]=Ot.getDate(),lt()[Lt+16>>2>>>0]=Ot.getMonth(),lt()[Lt+20>>2>>>0]=Ot.getFullYear()-1900,lt()[Lt+24>>2>>>0]=Ot.getDay();var Bt=new Date(Ot.getFullYear(),0,1),Gt=(Ot.getTime()-Bt.getTime())/864e5|0;lt()[Lt+28>>2>>>0]=Gt,lt()[Lt+36>>2>>>0]=-60*Ot.getTimezoneOffset(),Gt=new Date(Ot.getFullYear(),6,1).getTimezoneOffset(),Ot=0|(Gt!=(Bt=Bt.getTimezoneOffset())&&Ot.getTimezoneOffset()==Math.min(Bt,Gt)),lt()[Lt+32>>2>>>0]=Ot},Ra:function(Ot){var Lt=new Date(lt()[Ot+20>>2>>>0]+1900,lt()[Ot+16>>2>>>0],lt()[Ot+12>>2>>>0],lt()[Ot+8>>2>>>0],lt()[Ot+4>>2>>>0],lt()[Ot>>2>>>0],0),Bt=lt()[Ot+32>>2>>>0],Gt=Lt.getTimezoneOffset(),Qt=new Date(Lt.getFullYear(),0,1),sr=new Date(Lt.getFullYear(),6,1).getTimezoneOffset(),br=Qt.getTimezoneOffset(),jr=Math.min(br,sr);return 0>Bt?lt()[Ot+32>>2>>>0]=+(sr!=br&&jr==Gt):0<Bt!=(jr==Gt)&&(sr=Math.max(br,sr),Lt.setTime(Lt.getTime()+6e4*((0<Bt?jr:sr)-Gt))),lt()[Ot+24>>2>>>0]=Lt.getDay(),Bt=(Lt.getTime()-Qt.getTime())/864e5|0,lt()[Ot+28>>2>>>0]=Bt,lt()[Ot>>2>>>0]=Lt.getSeconds(),lt()[Ot+4>>2>>>0]=Lt.getMinutes(),lt()[Ot+8>>2>>>0]=Lt.getHours(),lt()[Ot+12>>2>>>0]=Lt.getDate(),lt()[Ot+16>>2>>>0]=Lt.getMonth(),Lt.getTime()/1e3|0},Aa:Jt,Ba:nr,Sa:function Ot(Lt,Bt,Gt){Ot.Ac||(Ot.Ac=!0,Pr(Lt,Bt,Gt))},y:function(){_r("")},U:function(){if(!Et&&!wt){var Ot="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";bn||(bn={}),bn[Ot]||(bn[Ot]=1,Et&&(Ot="warning: "+Ot),$t(Ot))}},ra:function(){return 4294901760},B:Sn,Ia:function(Ot,Lt,Bt){at().copyWithin(Ot>>>0,Lt>>>0,Lt+Bt>>>0)},F:function(){return Et?et(3993).cpus().length:navigator.hardwareConcurrency},Da:function(Ot,Lt,Bt){Or.length=Lt,Bt>>=3;for(var Gt=0;Gt<Lt;Gt++)Or[Gt]=ut()[Bt+Gt>>>0];return(0>Ot?qr[-Ot-1]:zn[Ot]).apply(null,Or)},qa:function(Ot){var Lt=at().length;if((Ot>>>=0)<=Lt||4294901760<Ot)return!1;for(var Bt=1;4>=Bt;Bt*=2){var Gt=Lt*(1+.2/Bt);Gt=Math.min(Gt,Ot+100663296);var Qt=Math;Gt=Math.max(Ot,Gt),Qt=Qt.min.call(Qt,4294901760,Gt+(65536-Gt%65536)%65536);e:{try{Nt.grow(Qt-jt.byteLength+65535>>>16),ar(Nt.buffer);var sr=1;break e}catch{}sr=void 0}if(sr)return!0}return!1},Na:function(){throw"unwind"},Ga:er,Ha:Ur,J:en,I:Xr,S:_n,ga:xn,R:Yn,d:function(){return Pn},na:function Ot(Lt,Bt){Ot.lc||(Ot.lc=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Qt=new Uint8Array(1);return()=>(crypto.getRandomValues(Qt),Qt[0])}if(Et)try{var sr=et(Object(function(){var br=new Error("Cannot find module 'crypto'");throw br.code="MODULE_NOT_FOUND",br}()));return()=>sr.randomBytes(1)[0]}catch{}return()=>_r("randomDevice")}());for(var Gt=0;Gt<Bt;Gt++)it()[Lt+Gt>>0>>>0]=Ot.lc();return 0},ia:function(Ot,Lt,Bt){var Gt=Wr();try{return Lr(Ot)(Lt,Bt)}catch(Qt){if(Kr(Gt),Qt!==Qt+0)throw Qt;Yr(1,0)}},ja:function(Ot,Lt,Bt){var Gt=Wr();try{return Lr(Ot)(Lt,Bt)}catch(Qt){if(Kr(Gt),Qt!==Qt+0)throw Qt;Yr(1,0)}},K:function(Ot){var Lt=Wr();try{return Lr(Ot)()}catch(Bt){if(Kr(Lt),Bt!==Bt+0)throw Bt;Yr(1,0)}},f:function(Ot,Lt){var Bt=Wr();try{return Lr(Ot)(Lt)}catch(Gt){if(Kr(Bt),Gt!==Gt+0)throw Gt;Yr(1,0)}},P:function(Ot,Lt,Bt){var Gt=Wr();try{return Lr(Ot)(Lt,Bt)}catch(Qt){if(Kr(Gt),Qt!==Qt+0)throw Qt;Yr(1,0)}},Q:function(Ot,Lt,Bt){var Gt=Wr();try{return Lr(Ot)(Lt,Bt)}catch(Qt){if(Kr(Gt),Qt!==Qt+0)throw Qt;Yr(1,0)}},k:function(Ot,Lt,Bt){var Gt=Wr();try{return Lr(Ot)(Lt,Bt)}catch(Qt){if(Kr(Gt),Qt!==Qt+0)throw Qt;Yr(1,0)}},p:function(Ot,Lt,Bt,Gt){var Qt=Wr();try{return Lr(Ot)(Lt,Bt,Gt)}catch(sr){if(Kr(Qt),sr!==sr+0)throw sr;Yr(1,0)}},q:function(Ot,Lt,Bt,Gt,Qt){var sr=Wr();try{return Lr(Ot)(Lt,Bt,Gt,Qt)}catch(br){if(Kr(sr),br!==br+0)throw br;Yr(1,0)}},N:function(Ot,Lt,Bt,Gt,Qt,sr){var br=Wr();try{return Lr(Ot)(Lt,Bt,Gt,Qt,sr)}catch(jr){if(Kr(br),jr!==jr+0)throw jr;Yr(1,0)}},s:function(Ot,Lt,Bt,Gt,Qt,sr){var br=Wr();try{return Lr(Ot)(Lt,Bt,Gt,Qt,sr)}catch(jr){if(Kr(br),jr!==jr+0)throw jr;Yr(1,0)}},w:function(Ot,Lt,Bt,Gt,Qt,sr,br){var jr=Wr();try{return Lr(Ot)(Lt,Bt,Gt,Qt,sr,br)}catch(nn){if(Kr(jr),nn!==nn+0)throw nn;Yr(1,0)}},L:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr){var nn=Wr();try{return Lr(Ot)(Lt,Bt,Gt,Qt,sr,br,jr)}catch(on){if(Kr(nn),on!==on+0)throw on;Yr(1,0)}},E:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr,nn,on,$n,no){var Xn=Wr();try{return Lr(Ot)(Lt,Bt,Gt,Qt,sr,br,jr,nn,on,$n,no)}catch(cr){if(Kr(Xn),cr!==cr+0)throw cr;Yr(1,0)}},aa:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr){var nn=Wr();try{return zr(Ot,Lt,Bt,Gt,Qt,sr,br,jr)}catch(on){if(Kr(nn),on!==on+0)throw on;Yr(1,0)}},_:function(Ot,Lt,Bt,Gt,Qt,sr,br){var jr=Wr();try{return _i(Ot,Lt,Bt,Gt,Qt,sr,br)}catch(nn){if(Kr(jr),nn!==nn+0)throw nn;Yr(1,0)}},Z:function(Ot,Lt,Bt,Gt,Qt){var sr=Wr();try{return wn(Ot,Lt,Bt,Gt,Qt)}catch(br){if(Kr(sr),br!==br+0)throw br;Yr(1,0)}},ca:function(Ot,Lt,Bt,Gt){var Qt=Wr();try{return vo(Ot,Lt,Bt,Gt)}catch(sr){if(Kr(Qt),sr!==sr+0)throw sr;Yr(1,0)}},$:function(Ot){var Lt=Wr();try{return Jn(Ot)}catch(Bt){if(Kr(Lt),Bt!==Bt+0)throw Bt;Yr(1,0)}},ba:function(Ot,Lt){var Bt=Wr();try{return Ir(Ot,Lt)}catch(Gt){if(Kr(Bt),Gt!==Gt+0)throw Gt;Yr(1,0)}},Y:function(Ot,Lt,Bt){var Gt=Wr();try{return uo(Ot,Lt,Bt)}catch(Qt){if(Kr(Gt),Qt!==Qt+0)throw Qt;Yr(1,0)}},g:function(Ot){var Lt=Wr();try{Lr(Ot)()}catch(Bt){if(Kr(Lt),Bt!==Bt+0)throw Bt;Yr(1,0)}},r:function(Ot,Lt){var Bt=Wr();try{Lr(Ot)(Lt)}catch(Gt){if(Kr(Bt),Gt!==Gt+0)throw Gt;Yr(1,0)}},i:function(Ot,Lt,Bt){var Gt=Wr();try{Lr(Ot)(Lt,Bt)}catch(Qt){if(Kr(Gt),Qt!==Qt+0)throw Qt;Yr(1,0)}},ha:function(Ot,Lt,Bt,Gt){var Qt=Wr();try{Lr(Ot)(Lt,Bt,Gt)}catch(sr){if(Kr(Qt),sr!==sr+0)throw sr;Yr(1,0)}},m:function(Ot,Lt,Bt,Gt){var Qt=Wr();try{Lr(Ot)(Lt,Bt,Gt)}catch(sr){if(Kr(Qt),sr!==sr+0)throw sr;Yr(1,0)}},v:function(Ot,Lt,Bt,Gt,Qt){var sr=Wr();try{Lr(Ot)(Lt,Bt,Gt,Qt)}catch(br){if(Kr(sr),br!==br+0)throw br;Yr(1,0)}},u:function(Ot,Lt,Bt,Gt,Qt,sr){var br=Wr();try{Lr(Ot)(Lt,Bt,Gt,Qt,sr)}catch(jr){if(Kr(br),jr!==jr+0)throw jr;Yr(1,0)}},O:function(Ot,Lt,Bt,Gt,Qt,sr,br){var jr=Wr();try{Lr(Ot)(Lt,Bt,Gt,Qt,sr,br)}catch(nn){if(Kr(jr),nn!==nn+0)throw nn;Yr(1,0)}},A:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr){var nn=Wr();try{Lr(Ot)(Lt,Bt,Gt,Qt,sr,br,jr)}catch(on){if(Kr(nn),on!==on+0)throw on;Yr(1,0)}},ka:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr,nn){var on=Wr();try{Lr(Ot)(Lt,Bt,Gt,Qt,sr,br,jr,nn)}catch($n){if(Kr(on),$n!==$n+0)throw $n;Yr(1,0)}},C:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr,nn,on,$n){var no=Wr();try{Lr(Ot)(Lt,Bt,Gt,Qt,sr,br,jr,nn,on,$n)}catch(Xn){if(Kr(no),Xn!==Xn+0)throw Xn;Yr(1,0)}},D:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr,nn,on,$n,no,Xn,cr,cn,An){var lo=Wr();try{Lr(Ot)(Lt,Bt,Gt,Qt,sr,br,jr,nn,on,$n,no,Xn,cr,cn,An)}catch(bo){if(Kr(lo),bo!==bo+0)throw bo;Yr(1,0)}},fa:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr){var nn=Wr();try{ho(Ot,Lt,Bt,Gt,Qt,sr,br,jr)}catch(on){if(Kr(nn),on!==on+0)throw on;Yr(1,0)}},da:function(Ot,Lt,Bt,Gt,Qt,sr,br,jr,nn,on,$n,no){var Xn=Wr();try{yo(Ot,Lt,Bt,Gt,Qt,sr,br,jr,nn,on,$n,no)}catch(cr){if(Kr(Xn),cr!==cr+0)throw cr;Yr(1,0)}},ea:function(Ot,Lt,Bt,Gt,Qt,sr){var br=Wr();try{go(Ot,Lt,Bt,Gt,Qt,sr)}catch(jr){if(Kr(br),jr!==jr+0)throw jr;Yr(1,0)}},o:function(Ot){return Ot},a:Nt||st.wasmMemory,G:function(Ot){Pn=Ot},la:qn,z:function(Ot,Lt,Bt,Gt){return qn(Ot,Lt,Bt,Gt)}};(function(){function Ot(Qt,sr){st.asm=Qt.exports,vr.qc.push(st.asm.sb),fr=st.asm.ub,Tr.unshift(st.asm.Va),Dt=sr,Tt||(mr--,st.monitorRunDependencies&&st.monitorRunDependencies(mr),mr==0&&Fr&&(Qt=Fr,Fr=null,Qt()))}function Lt(Qt){Ot(Qt.instance,Qt.module)}function Bt(Qt){return function(){if(!kt&&(St||wt)){if(typeof fetch=="function"&&!gr.startsWith("file://"))return fetch(gr,{credentials:"same-origin"}).then(function(sr){if(!sr.ok)throw"failed to load wasm binary file at '"+gr+"'";return sr.arrayBuffer()}).catch(function(){return mn()});if(ht)return new Promise(function(sr,br){ht(gr,function(jr){sr(new Uint8Array(jr))},br)})}return Promise.resolve().then(function(){return mn()})}().then(function(sr){return WebAssembly.instantiate(sr,Gt)}).then(function(sr){return sr}).then(Qt,function(sr){$t("failed to asynchronously prepare wasm: "+sr),_r(sr)})}var Gt={a:fo};if(Tt||(mr++,st.monitorRunDependencies&&st.monitorRunDependencies(mr)),st.instantiateWasm)try{return st.instantiateWasm(Gt,Ot)}catch(Qt){return $t("Module.instantiateWasm callback failed with error: "+Qt),!1}(kt||typeof WebAssembly.instantiateStreaming!="function"||Nr()||gr.startsWith("file://")||Et||typeof fetch!="function"?Bt(Lt):fetch(gr,{credentials:"same-origin"}).then(function(Qt){return WebAssembly.instantiateStreaming(Qt,Gt).then(Lt,function(sr){return $t("wasm streaming compile failed: "+sr),$t("falling back to ArrayBuffer instantiation"),Bt(Lt)})})).catch(dt)})(),st.___wasm_call_ctors=function(){return(st.___wasm_call_ctors=st.asm.Va).apply(null,arguments)},st._OrtInit=function(){return(st._OrtInit=st.asm.Wa).apply(null,arguments)},st._OrtCreateSessionOptions=function(){return(st._OrtCreateSessionOptions=st.asm.Xa).apply(null,arguments)},st._OrtAppendExecutionProvider=function(){return(st._OrtAppendExecutionProvider=st.asm.Ya).apply(null,arguments)},st._OrtAddSessionConfigEntry=function(){return(st._OrtAddSessionConfigEntry=st.asm.Za).apply(null,arguments)},st._OrtReleaseSessionOptions=function(){return(st._OrtReleaseSessionOptions=st.asm._a).apply(null,arguments)},st._OrtCreateSession=function(){return(st._OrtCreateSession=st.asm.$a).apply(null,arguments)},st._OrtReleaseSession=function(){return(st._OrtReleaseSession=st.asm.ab).apply(null,arguments)},st._OrtGetInputCount=function(){return(st._OrtGetInputCount=st.asm.bb).apply(null,arguments)},st._OrtGetOutputCount=function(){return(st._OrtGetOutputCount=st.asm.cb).apply(null,arguments)},st._OrtGetInputName=function(){return(st._OrtGetInputName=st.asm.db).apply(null,arguments)},st._OrtGetOutputName=function(){return(st._OrtGetOutputName=st.asm.eb).apply(null,arguments)},st._OrtFree=function(){return(st._OrtFree=st.asm.fb).apply(null,arguments)},st._OrtCreateTensor=function(){return(st._OrtCreateTensor=st.asm.gb).apply(null,arguments)},st._OrtGetTensorData=function(){return(st._OrtGetTensorData=st.asm.hb).apply(null,arguments)},st._OrtReleaseTensor=function(){return(st._OrtReleaseTensor=st.asm.ib).apply(null,arguments)},st._OrtCreateRunOptions=function(){return(st._OrtCreateRunOptions=st.asm.jb).apply(null,arguments)},st._OrtAddRunConfigEntry=function(){return(st._OrtAddRunConfigEntry=st.asm.kb).apply(null,arguments)},st._OrtReleaseRunOptions=function(){return(st._OrtReleaseRunOptions=st.asm.lb).apply(null,arguments)},st._OrtRun=function(){return(st._OrtRun=st.asm.mb).apply(null,arguments)},st._OrtEndProfiling=function(){return(st._OrtEndProfiling=st.asm.nb).apply(null,arguments)};var pn=st._pthread_self=function(){return(pn=st._pthread_self=st.asm.ob).apply(null,arguments)},sn=st._malloc=function(){return(sn=st._malloc=st.asm.pb).apply(null,arguments)},fn=st._free=function(){return(fn=st._free=st.asm.qb).apply(null,arguments)},Dn=st._fflush=function(){return(Dn=st._fflush=st.asm.rb).apply(null,arguments)};st.__emscripten_tls_init=function(){return(st.__emscripten_tls_init=st.asm.sb).apply(null,arguments)};var Nn=st.___funcs_on_exit=function(){return(Nn=st.___funcs_on_exit=st.asm.tb).apply(null,arguments)},Zn=st.__emscripten_thread_init=function(){return(Zn=st.__emscripten_thread_init=st.asm.vb).apply(null,arguments)};st.__emscripten_thread_crashed=function(){return(st.__emscripten_thread_crashed=st.asm.wb).apply(null,arguments)};var Wn,co=st._emscripten_run_in_main_runtime_thread_js=function(){return(co=st._emscripten_run_in_main_runtime_thread_js=st.asm.xb).apply(null,arguments)},oo=st.__emscripten_proxy_execute_task_queue=function(){return(oo=st.__emscripten_proxy_execute_task_queue=st.asm.yb).apply(null,arguments)},Qn=st.__emscripten_thread_free_data=function(){return(Qn=st.__emscripten_thread_free_data=st.asm.zb).apply(null,arguments)},Hn=st.__emscripten_thread_exit=function(){return(Hn=st.__emscripten_thread_exit=st.asm.Ab).apply(null,arguments)},Yr=st._setThrew=function(){return(Yr=st._setThrew=st.asm.Bb).apply(null,arguments)},ro=st._emscripten_stack_set_limits=function(){return(ro=st._emscripten_stack_set_limits=st.asm.Cb).apply(null,arguments)},Wr=st.stackSave=function(){return(Wr=st.stackSave=st.asm.Db).apply(null,arguments)},Kr=st.stackRestore=function(){return(Kr=st.stackRestore=st.asm.Eb).apply(null,arguments)},Un=st.stackAlloc=function(){return(Un=st.stackAlloc=st.asm.Fb).apply(null,arguments)},ao=st.___cxa_can_catch=function(){return(ao=st.___cxa_can_catch=st.asm.Gb).apply(null,arguments)},so=st.___cxa_is_pointer_type=function(){return(so=st.___cxa_is_pointer_type=st.asm.Hb).apply(null,arguments)},Jn=st.dynCall_j=function(){return(Jn=st.dynCall_j=st.asm.Ib).apply(null,arguments)},_i=st.dynCall_iiiiij=function(){return(_i=st.dynCall_iiiiij=st.asm.Jb).apply(null,arguments)},uo=st.dynCall_jii=function(){return(uo=st.dynCall_jii=st.asm.Kb).apply(null,arguments)},ho=st.dynCall_viiiiij=function(){return(ho=st.dynCall_viiiiij=st.asm.Lb).apply(null,arguments)},go=st.dynCall_vjji=function(){return(go=st.dynCall_vjji=st.asm.Mb).apply(null,arguments)},yo=st.dynCall_viiijjjii=function(){return(yo=st.dynCall_viiijjjii=st.asm.Nb).apply(null,arguments)},vo=st.dynCall_iij=function(){return(vo=st.dynCall_iij=st.asm.Ob).apply(null,arguments)},Ir=st.dynCall_ji=function(){return(Ir=st.dynCall_ji=st.asm.Pb).apply(null,arguments)},zr=st.dynCall_iiiiiij=function(){return(zr=st.dynCall_iiiiiij=st.asm.Qb).apply(null,arguments)},wn=st.dynCall_iiij=function(){return(wn=st.dynCall_iiij=st.asm.Rb).apply(null,arguments)};function In(){function Ot(){if(!Wn&&(Wn=!0,st.calledRun=!0,!tr)&&(Tt||un(Tr),ot(st),st.onRuntimeInitialized&&st.onRuntimeInitialized(),!Tt)){if(st.postRun)for(typeof st.postRun=="function"&&(st.postRun=[st.postRun]);st.postRun.length;){var Lt=st.postRun.shift();kr.unshift(Lt)}un(kr)}}if(!(0<mr))if(Tt)ot(st),Tt||un(Tr),postMessage({cmd:"loaded"});else{if(st.preRun)for(typeof st.preRun=="function"&&(st.preRun=[st.preRun]);st.preRun.length;)dr();un(yr),0<mr||(st.setStatus?(st.setStatus("Running..."),setTimeout(function(){setTimeout(function(){st.setStatus("")},1),Ot()},1)):Ot())}}if(st.UTF8ToString=rr,st.stringToUTF8=function(Ot,Lt,Bt){return ir(Ot,at(),Lt,Bt)},st.lengthBytesUTF8=lr,st.keepRuntimeAlive=xr,st.wasmMemory=Nt,st.stackSave=Wr,st.stackRestore=Kr,st.stackAlloc=Un,st.ExitStatus=Gr,st.PThread=vr,Fr=function Ot(){Wn||In(),Wn||(Fr=Ot)},st.preInit)for(typeof st.preInit=="function"&&(st.preInit=[st.preInit]);0<st.preInit.length;)st.preInit.pop()();return In(),nt.ready});_e.exports=rt},932:(_e,_,et)=>{var tt,rt=(tt=(tt=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(nt){var it,at,lt;nt=nt||{},it||(it=nt!==void 0?nt:{}),it.ready=new Promise(function(Ft,zt){at=Ft,lt=zt});var ct,ut,st,ot,dt,ft,ht=Object.assign({},it),mt="./this.program",gt=(Ft,zt)=>{throw zt},yt=typeof window=="object",vt=typeof importScripts=="function",bt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",xt="";bt?(xt=vt?et(908).dirname(xt)+"/":"//",ft=()=>{dt||(ot=et(1384),dt=et(908))},ct=function(Ft,zt){return ft(),Ft=dt.normalize(Ft),ot.readFileSync(Ft,zt?void 0:"utf8")},st=Ft=>((Ft=ct(Ft,!0)).buffer||(Ft=new Uint8Array(Ft)),Ft),ut=(Ft,zt,Ht)=>{ft(),Ft=dt.normalize(Ft),ot.readFile(Ft,function(Zt,Jt){Zt?Ht(Zt):zt(Jt.buffer)})},1<process.argv.length&&(mt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Ft){if(!(Ft instanceof Tr))throw Ft}),process.on("unhandledRejection",function(Ft){throw Ft}),gt=(Ft,zt)=>{if(Et||0<Kt)throw process.exitCode=Ft,zt;zt instanceof Tr||wt("exiting due to exception: "+zt),process.exit(Ft)},it.inspect=function(){return"[Emscripten Module object]"}):(yt||vt)&&(vt?xt=self.location.href:typeof document<"u"&&document.currentScript&&(xt=document.currentScript.src),tt&&(xt=tt),xt=xt.indexOf("blob:")!==0?xt.substr(0,xt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ct=Ft=>{var zt=new XMLHttpRequest;return zt.open("GET",Ft,!1),zt.send(null),zt.responseText},vt&&(st=Ft=>{var zt=new XMLHttpRequest;return zt.open("GET",Ft,!1),zt.responseType="arraybuffer",zt.send(null),new Uint8Array(zt.response)}),ut=(Ft,zt,Ht)=>{var Zt=new XMLHttpRequest;Zt.open("GET",Ft,!0),Zt.responseType="arraybuffer",Zt.onload=()=>{Zt.status==200||Zt.status==0&&Zt.response?zt(Zt.response):Ht()},Zt.onerror=Ht,Zt.send(null)});var _t,St=it.print||console.log.bind(console),wt=it.printErr||console.warn.bind(console);Object.assign(it,ht),ht=null,it.thisProgram&&(mt=it.thisProgram),it.quit&&(gt=it.quit),it.wasmBinary&&(_t=it.wasmBinary);var Et=it.noExitRuntime||!1;typeof WebAssembly!="object"&&ar("no native wasm support detected");var Tt,Ct,It,Pt,At,kt,Rt=!1,$t=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Mt(Ft,zt,Ht){var Zt=(zt>>>=0)+Ht;for(Ht=zt;Ft[Ht]&&!(Ht>=Zt);)++Ht;if(16<Ht-zt&&Ft.buffer&&$t)return $t.decode(Ft.subarray(zt,Ht));for(Zt="";zt<Ht;){var Jt=Ft[zt++];if(128&Jt){var nr=63&Ft[zt++];if((224&Jt)==192)Zt+=String.fromCharCode((31&Jt)<<6|nr);else{var hr=63&Ft[zt++];65536>(Jt=(240&Jt)==224?(15&Jt)<<12|nr<<6|hr:(7&Jt)<<18|nr<<12|hr<<6|63&Ft[zt++])?Zt+=String.fromCharCode(Jt):(Jt-=65536,Zt+=String.fromCharCode(55296|Jt>>10,56320|1023&Jt))}}else Zt+=String.fromCharCode(Jt)}return Zt}function Nt(Ft,zt){return(Ft>>>=0)?Mt(Pt,Ft,zt):""}function Dt(Ft,zt,Ht,Zt){if(!(0<Zt))return 0;var Jt=Ht>>>=0;Zt=Ht+Zt-1;for(var nr=0;nr<Ft.length;++nr){var hr=Ft.charCodeAt(nr);if(55296<=hr&&57343>=hr&&(hr=65536+((1023&hr)<<10)|1023&Ft.charCodeAt(++nr)),127>=hr){if(Ht>=Zt)break;zt[Ht++>>>0]=hr}else{if(2047>=hr){if(Ht+1>=Zt)break;zt[Ht++>>>0]=192|hr>>6}else{if(65535>=hr){if(Ht+2>=Zt)break;zt[Ht++>>>0]=224|hr>>12}else{if(Ht+3>=Zt)break;zt[Ht++>>>0]=240|hr>>18,zt[Ht++>>>0]=128|hr>>12&63}zt[Ht++>>>0]=128|hr>>6&63}zt[Ht++>>>0]=128|63&hr}}return zt[Ht>>>0]=0,Ht-Jt}function jt(Ft){for(var zt=0,Ht=0;Ht<Ft.length;++Ht){var Zt=Ft.charCodeAt(Ht);127>=Zt?zt++:2047>=Zt?zt+=2:55296<=Zt&&57343>=Zt?(zt+=4,++Ht):zt+=3}return zt}function Ut(){var Ft=Tt.buffer;Ct=Ft,it.HEAP8=It=new Int8Array(Ft),it.HEAP16=new Int16Array(Ft),it.HEAP32=At=new Int32Array(Ft),it.HEAPU8=Pt=new Uint8Array(Ft),it.HEAPU16=new Uint16Array(Ft),it.HEAPU32=kt=new Uint32Array(Ft),it.HEAPF32=new Float32Array(Ft),it.HEAPF64=new Float64Array(Ft)}var Xt,Wt=[],Vt=[],qt=[],tr=[],Kt=0;function Yt(){var Ft=it.preRun.shift();Wt.unshift(Ft)}var rr,ir=0,lr=null;function ar(Ft){throw it.onAbort&&it.onAbort(Ft),wt(Ft="Aborted("+Ft+")"),Rt=!0,Ft=new WebAssembly.RuntimeError(Ft+". Build with -sASSERTIONS for more info."),lt(Ft),Ft}function ur(){return rr.startsWith("data:application/octet-stream;base64,")}if(rr="ort-wasm.wasm",!ur()){var fr=rr;rr=it.locateFile?it.locateFile(fr,xt):xt+fr}function yr(){var Ft=rr;try{if(Ft==rr&&_t)return new Uint8Array(_t);if(st)return st(Ft);throw"both async and sync fetching of the wasm failed"}catch(zt){ar(zt)}}function Tr(Ft){this.name="ExitStatus",this.message="Program terminated with exit("+Ft+")",this.status=Ft}function Sr(Ft){for(;0<Ft.length;)Ft.shift()(it)}var kr=[],xr=0,dr=0;function gr(Ft){this.Db=Ft,this.zb=Ft-24,this.Ub=function(zt){kt[this.zb+4>>2>>>0]=zt},this.Eb=function(){return kt[this.zb+4>>2>>>0]},this.Sb=function(zt){kt[this.zb+8>>2>>>0]=zt},this.Wb=function(){return kt[this.zb+8>>2>>>0]},this.Tb=function(){At[this.zb>>2>>>0]=0},this.Ib=function(zt){It[this.zb+12>>0>>>0]=zt?1:0},this.Pb=function(){return It[this.zb+12>>0>>>0]!=0},this.Jb=function(zt){It[this.zb+13>>0>>>0]=zt?1:0},this.Lb=function(){return It[this.zb+13>>0>>>0]!=0},this.Rb=function(zt,Ht){this.Fb(0),this.Ub(zt),this.Sb(Ht),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){At[this.zb>>2>>>0]+=1},this.Xb=function(){var zt=At[this.zb>>2>>>0];return At[this.zb>>2>>>0]=zt-1,zt===1},this.Fb=function(zt){kt[this.zb+16>>2>>>0]=zt},this.Ob=function(){return kt[this.zb+16>>2>>>0]},this.Qb=function(){if(Cr(this.Eb()))return kt[this.Db>>2>>>0];var zt=this.Ob();return zt!==0?zt:this.Db}}function mr(Ft){return bn(new gr(Ft).zb)}var Fr=[];function _r(Ft){var zt=Fr[Ft];return zt||(Ft>=Fr.length&&(Fr.length=Ft+1),Fr[Ft]=zt=Xt.get(Ft)),zt}function Nr(Ft){var zt=jt(Ft)+1,Ht=Lr(zt);return Ht&&Dt(Ft,It,Ht,zt),Ht}var mn={};function qr(){if(!Gr){var Ft,zt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:mt||"./this.program"};for(Ft in mn)mn[Ft]===void 0?delete zt[Ft]:zt[Ft]=mn[Ft];var Ht=[];for(Ft in zt)Ht.push(Ft+"="+zt[Ft]);Gr=Ht}return Gr}var Gr,gn=[null,[],[]];function ln(Ft,zt){var Ht=gn[Ft];zt===0||zt===10?((Ft===1?St:wt)(Mt(Ht,0)),Ht.length=0):Ht.push(zt)}var Hr=0;function en(Ft){return Ft%4==0&&(Ft%100!=0||Ft%400==0)}var vr=[31,29,31,30,31,30,31,31,30,31,30,31],un=[31,28,31,30,31,30,31,31,30,31,30,31];function an(Ft,zt,Ht,Zt){function Jt(er,Ur,Xr){for(er=typeof er=="number"?er.toString():er||"";er.length<Ur;)er=Xr[0]+er;return er}function nr(er,Ur){return Jt(er,Ur,"0")}function hr(er,Ur){function Xr(xn){return 0>xn?-1:0<xn?1:0}var _n;return(_n=Xr(er.getFullYear()-Ur.getFullYear()))===0&&(_n=Xr(er.getMonth()-Ur.getMonth()))===0&&(_n=Xr(er.getDate()-Ur.getDate())),_n}function Pr(er){switch(er.getDay()){case 0:return new Date(er.getFullYear()-1,11,29);case 1:return er;case 2:return new Date(er.getFullYear(),0,3);case 3:return new Date(er.getFullYear(),0,2);case 4:return new Date(er.getFullYear(),0,1);case 5:return new Date(er.getFullYear()-1,11,31);case 6:return new Date(er.getFullYear()-1,11,30)}}function pr(er){var Ur=er.Bb;for(er=new Date(new Date(er.Cb+1900,0,1).getTime());0<Ur;){var Xr=er.getMonth(),_n=(en(er.getFullYear())?vr:un)[Xr];if(!(Ur>_n-er.getDate())){er.setDate(er.getDate()+Ur);break}Ur-=_n-er.getDate()+1,er.setDate(1),11>Xr?er.setMonth(Xr+1):(er.setMonth(0),er.setFullYear(er.getFullYear()+1))}return Xr=new Date(er.getFullYear()+1,0,4),Ur=Pr(new Date(er.getFullYear(),0,4)),Xr=Pr(Xr),0>=hr(Ur,er)?0>=hr(Xr,er)?er.getFullYear()+1:er.getFullYear():er.getFullYear()-1}var Vr=At[Zt+40>>2>>>0];for(var Or in Zt={$b:At[Zt>>2>>>0],Zb:At[Zt+4>>2>>>0],Gb:At[Zt+8>>2>>>0],Kb:At[Zt+12>>2>>>0],Hb:At[Zt+16>>2>>>0],Cb:At[Zt+20>>2>>>0],Ab:At[Zt+24>>2>>>0],Bb:At[Zt+28>>2>>>0],bc:At[Zt+32>>2>>>0],Yb:At[Zt+36>>2>>>0],ac:Vr?Nt(Vr):""},Ht=Nt(Ht),Vr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})Ht=Ht.replace(new RegExp(Or,"g"),Vr[Or]);var Er="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Br="January February March April May June July August September October November December".split(" ");for(Or in Vr={"%a":function(er){return Er[er.Ab].substring(0,3)},"%A":function(er){return Er[er.Ab]},"%b":function(er){return Br[er.Hb].substring(0,3)},"%B":function(er){return Br[er.Hb]},"%C":function(er){return nr((er.Cb+1900)/100|0,2)},"%d":function(er){return nr(er.Kb,2)},"%e":function(er){return Jt(er.Kb,2," ")},"%g":function(er){return pr(er).toString().substring(2)},"%G":function(er){return pr(er)},"%H":function(er){return nr(er.Gb,2)},"%I":function(er){return(er=er.Gb)==0?er=12:12<er&&(er-=12),nr(er,2)},"%j":function(er){for(var Ur=0,Xr=0;Xr<=er.Hb-1;Ur+=(en(er.Cb+1900)?vr:un)[Xr++]);return nr(er.Kb+Ur,3)},"%m":function(er){return nr(er.Hb+1,2)},"%M":function(er){return nr(er.Zb,2)},"%n":function(){return`
`},"%p":function(er){return 0<=er.Gb&&12>er.Gb?"AM":"PM"},"%S":function(er){return nr(er.$b,2)},"%t":function(){return"	"},"%u":function(er){return er.Ab||7},"%U":function(er){return nr(Math.floor((er.Bb+7-er.Ab)/7),2)},"%V":function(er){var Ur=Math.floor((er.Bb+7-(er.Ab+6)%7)/7);if(2>=(er.Ab+371-er.Bb-2)%7&&Ur++,Ur)Ur==53&&((Xr=(er.Ab+371-er.Bb)%7)==4||Xr==3&&en(er.Cb)||(Ur=1));else{Ur=52;var Xr=(er.Ab+7-er.Bb-1)%7;(Xr==4||Xr==5&&en(er.Cb%400-1))&&Ur++}return nr(Ur,2)},"%w":function(er){return er.Ab},"%W":function(er){return nr(Math.floor((er.Bb+7-(er.Ab+6)%7)/7),2)},"%y":function(er){return(er.Cb+1900).toString().substring(2)},"%Y":function(er){return er.Cb+1900},"%z":function(er){var Ur=0<=(er=er.Yb);return er=Math.abs(er)/60,(Ur?"+":"-")+("0000"+(er/60*100+er%60)).slice(-4)},"%Z":function(er){return er.ac},"%%":function(){return"%"}},Ht=Ht.replace(/%%/g,"\0\0"),Vr)Ht.includes(Or)&&(Ht=Ht.replace(new RegExp(Or,"g"),Vr[Or](Zt)));return Or=function(er){var Ur=Array(jt(er)+1);return Dt(er,Ur,0,Ur.length),Ur}(Ht=Ht.replace(/\0\0/g,"%")),Or.length>zt?0:(It.set(Or,Ft>>>0),Or.length-1)}var yn={a:function(Ft){return Lr(Ft+24)+24},m:function(Ft){return(Ft=new gr(Ft)).Pb()||(Ft.Ib(!0),xr--),Ft.Jb(!1),kr.push(Ft),Ft.Nb(),Ft.Qb()},ia:function(Ft){throw wt("Unexpected exception thrown, this is not properly supported - aborting"),Rt=!0,Ft},w:function(){$r(0);var Ft=kr.pop();if(Ft.Xb()&&!Ft.Lb()){var zt=Ft.Wb();zt&&_r(zt)(Ft.Db),mr(Ft.Db)}dr=0},d:function(){var Ft=dr;if(!Ft)return Hr=0;var zt=new gr(Ft);zt.Fb(Ft);var Ht=zt.Eb();if(!Ht)return Hr=0,Ft;for(var Zt=Array.prototype.slice.call(arguments),Jt=0;Jt<Zt.length;Jt++){var nr=Zt[Jt];if(nr===0||nr===Ht)break;if(Mr(nr,Ht,zt.zb+16))return Hr=nr,Ft}return Hr=Ht,Ft},k:function(){var Ft=dr;if(!Ft)return Hr=0;var zt=new gr(Ft);zt.Fb(Ft);var Ht=zt.Eb();if(!Ht)return Hr=0,Ft;for(var Zt=Array.prototype.slice.call(arguments),Jt=0;Jt<Zt.length;Jt++){var nr=Zt[Jt];if(nr===0||nr===Ht)break;if(Mr(nr,Ht,zt.zb+16))return Hr=nr,Ft}return Hr=Ht,Ft},g:function(){var Ft=dr;if(!Ft)return Hr=0;var zt=new gr(Ft);zt.Fb(Ft);var Ht=zt.Eb();if(!Ht)return Hr=0,Ft;for(var Zt=Array.prototype.slice.call(arguments),Jt=0;Jt<Zt.length;Jt++){var nr=Zt[Jt];if(nr===0||nr===Ht)break;if(Mr(nr,Ht,zt.zb+16))return Hr=nr,Ft}return Hr=Ht,Ft},s:mr,L:function(){var Ft=kr.pop();Ft||ar("no exception to throw");var zt=Ft.Db;throw Ft.Lb()||(kr.push(Ft),Ft.Jb(!0),Ft.Ib(!1),xr++),dr=zt,zt},b:function(Ft,zt,Ht){throw new gr(Ft).Rb(zt,Ht),dr=Ft,xr++,Ft},la:function(){return xr},i:function(Ft){throw dr||(dr=Ft),Ft},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){ar("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){ar("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(Ft,zt){Ft=new Date(1e3*(kt[Ft>>>2]+4294967296*At[Ft+4>>>2])),At[zt>>2>>>0]=Ft.getUTCSeconds(),At[zt+4>>2>>>0]=Ft.getUTCMinutes(),At[zt+8>>2>>>0]=Ft.getUTCHours(),At[zt+12>>2>>>0]=Ft.getUTCDate(),At[zt+16>>2>>>0]=Ft.getUTCMonth(),At[zt+20>>2>>>0]=Ft.getUTCFullYear()-1900,At[zt+24>>2>>>0]=Ft.getUTCDay(),At[zt+28>>2>>>0]=(Ft.getTime()-Date.UTC(Ft.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(Ft,zt){Ft=new Date(1e3*(kt[Ft>>>2]+4294967296*At[Ft+4>>>2])),At[zt>>2>>>0]=Ft.getSeconds(),At[zt+4>>2>>>0]=Ft.getMinutes(),At[zt+8>>2>>>0]=Ft.getHours(),At[zt+12>>2>>>0]=Ft.getDate(),At[zt+16>>2>>>0]=Ft.getMonth(),At[zt+20>>2>>>0]=Ft.getFullYear()-1900,At[zt+24>>2>>>0]=Ft.getDay();var Ht=new Date(Ft.getFullYear(),0,1);At[zt+28>>2>>>0]=(Ft.getTime()-Ht.getTime())/864e5|0,At[zt+36>>2>>>0]=-60*Ft.getTimezoneOffset();var Zt=new Date(Ft.getFullYear(),6,1).getTimezoneOffset();Ht=Ht.getTimezoneOffset(),At[zt+32>>2>>>0]=0|(Zt!=Ht&&Ft.getTimezoneOffset()==Math.min(Ht,Zt))},Fa:function(Ft){var zt=new Date(At[Ft+20>>2>>>0]+1900,At[Ft+16>>2>>>0],At[Ft+12>>2>>>0],At[Ft+8>>2>>>0],At[Ft+4>>2>>>0],At[Ft>>2>>>0],0),Ht=At[Ft+32>>2>>>0],Zt=zt.getTimezoneOffset(),Jt=new Date(zt.getFullYear(),0,1),nr=new Date(zt.getFullYear(),6,1).getTimezoneOffset(),hr=Jt.getTimezoneOffset(),Pr=Math.min(hr,nr);return 0>Ht?At[Ft+32>>2>>>0]=+(nr!=hr&&Pr==Zt):0<Ht!=(Pr==Zt)&&(nr=Math.max(hr,nr),zt.setTime(zt.getTime()+6e4*((0<Ht?Pr:nr)-Zt))),At[Ft+24>>2>>>0]=zt.getDay(),At[Ft+28>>2>>>0]=(zt.getTime()-Jt.getTime())/864e5|0,At[Ft>>2>>>0]=zt.getSeconds(),At[Ft+4>>2>>>0]=zt.getMinutes(),At[Ft+8>>2>>>0]=zt.getHours(),At[Ft+12>>2>>>0]=zt.getDate(),At[Ft+16>>2>>>0]=zt.getMonth(),zt.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function Ft(zt,Ht,Zt){Ft.Vb||(Ft.Vb=!0,function(Jt,nr,hr){function Pr(Br){return(Br=Br.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Br[1]:"GMT"}var pr=new Date().getFullYear(),Vr=new Date(pr,0,1),Or=new Date(pr,6,1);pr=Vr.getTimezoneOffset();var Er=Or.getTimezoneOffset();At[Jt>>2>>>0]=60*Math.max(pr,Er),At[nr>>2>>>0]=+(pr!=Er),Jt=Pr(Vr),nr=Pr(Or),Jt=Nr(Jt),nr=Nr(nr),Er<pr?(kt[hr>>2>>>0]=Jt,kt[hr+4>>2>>>0]=nr):(kt[hr>>2>>>0]=nr,kt[hr+4>>2>>>0]=Jt)}(zt,Ht,Zt))},B:function(){ar("")},ma:function(){return 4294901760},I:bt?()=>{var Ft=process.hrtime();return 1e3*Ft[0]+Ft[1]/1e6}:()=>performance.now(),xa:function(Ft,zt,Ht){Pt.copyWithin(Ft>>>0,zt>>>0,zt+Ht>>>0)},G:function(Ft){var zt=Pt.length;if(4294901760<(Ft>>>=0))return!1;for(var Ht=1;4>=Ht;Ht*=2){var Zt=zt*(1+.2/Ht);Zt=Math.min(Zt,Ft+100663296);var Jt=Math;Zt=Math.max(Ft,Zt),Jt=Jt.min.call(Jt,4294901760,Zt+(65536-Zt%65536)%65536);e:{try{Tt.grow(Jt-Ct.byteLength+65535>>>16),Ut();var nr=1;break e}catch{}nr=void 0}if(nr)return!0}return!1},va:function(Ft,zt){var Ht=0;return qr().forEach(function(Zt,Jt){var nr=zt+Ht;for(Jt=kt[Ft+4*Jt>>2>>>0]=nr,nr=0;nr<Zt.length;++nr)It[Jt++>>0>>>0]=Zt.charCodeAt(nr);It[Jt>>0>>>0]=0,Ht+=Zt.length+1}),0},wa:function(Ft,zt){var Ht=qr();kt[Ft>>2>>>0]=Ht.length;var Zt=0;return Ht.forEach(function(Jt){Zt+=Jt.length+1}),kt[zt>>2>>>0]=Zt,0},ba:function(Ft){Et||0<Kt||(On(),Sr(qt),Sn(0),gn[1].length&&ln(1,10),gn[2].length&&ln(2,10)),Et||0<Kt||(it.onExit&&it.onExit(Ft),Rt=!0),gt(Ft,new Tr(Ft))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(Ft,zt,Ht,Zt){for(var Jt=0,nr=0;nr<Ht;nr++){var hr=kt[zt>>2>>>0],Pr=kt[zt+4>>2>>>0];zt+=8;for(var pr=0;pr<Pr;pr++)ln(Ft,Pt[hr+pr>>>0]);Jt+=Pr}return kt[Zt>>2>>>0]=Jt,0},c:function(){return Hr},ja:function Ft(zt,Ht){Ft.Mb||(Ft.Mb=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Jt=new Uint8Array(1);return()=>(crypto.getRandomValues(Jt),Jt[0])}if(bt)try{var nr=et(Object(function(){var hr=new Error("Cannot find module 'crypto'");throw hr.code="MODULE_NOT_FOUND",hr}()));return()=>nr.randomBytes(1)[0]}catch{}return()=>ar("randomDevice")}());for(var Zt=0;Zt<Ht;Zt++)It[zt+Zt>>0>>>0]=Ft.Mb();return 0},ea:function(Ft,zt,Ht){var Zt=wr();try{return _r(Ft)(zt,Ht)}catch(Jt){if(Ar(Zt),Jt!==Jt+0)throw Jt;$r(1,0)}},fa:function(Ft,zt,Ht){var Zt=wr();try{return _r(Ft)(zt,Ht)}catch(Jt){if(Ar(Zt),Jt!==Jt+0)throw Jt;$r(1,0)}},J:function(Ft){var zt=wr();try{return _r(Ft)()}catch(Ht){if(Ar(zt),Ht!==Ht+0)throw Ht;$r(1,0)}},e:function(Ft,zt){var Ht=wr();try{return _r(Ft)(zt)}catch(Zt){if(Ar(Ht),Zt!==Zt+0)throw Zt;$r(1,0)}},N:function(Ft,zt,Ht){var Zt=wr();try{return _r(Ft)(zt,Ht)}catch(Jt){if(Ar(Zt),Jt!==Jt+0)throw Jt;$r(1,0)}},O:function(Ft,zt,Ht){var Zt=wr();try{return _r(Ft)(zt,Ht)}catch(Jt){if(Ar(Zt),Jt!==Jt+0)throw Jt;$r(1,0)}},j:function(Ft,zt,Ht){var Zt=wr();try{return _r(Ft)(zt,Ht)}catch(Jt){if(Ar(Zt),Jt!==Jt+0)throw Jt;$r(1,0)}},o:function(Ft,zt,Ht,Zt){var Jt=wr();try{return _r(Ft)(zt,Ht,Zt)}catch(nr){if(Ar(Jt),nr!==nr+0)throw nr;$r(1,0)}},p:function(Ft,zt,Ht,Zt,Jt){var nr=wr();try{return _r(Ft)(zt,Ht,Zt,Jt)}catch(hr){if(Ar(nr),hr!==hr+0)throw hr;$r(1,0)}},M:function(Ft,zt,Ht,Zt,Jt,nr){var hr=wr();try{return _r(Ft)(zt,Ht,Zt,Jt,nr)}catch(Pr){if(Ar(hr),Pr!==Pr+0)throw Pr;$r(1,0)}},r:function(Ft,zt,Ht,Zt,Jt,nr){var hr=wr();try{return _r(Ft)(zt,Ht,Zt,Jt,nr)}catch(Pr){if(Ar(hr),Pr!==Pr+0)throw Pr;$r(1,0)}},v:function(Ft,zt,Ht,Zt,Jt,nr,hr){var Pr=wr();try{return _r(Ft)(zt,Ht,Zt,Jt,nr,hr)}catch(pr){if(Ar(Pr),pr!==pr+0)throw pr;$r(1,0)}},K:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr){var pr=wr();try{return _r(Ft)(zt,Ht,Zt,Jt,nr,hr,Pr)}catch(Vr){if(Ar(pr),Vr!==Vr+0)throw Vr;$r(1,0)}},D:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr,pr,Vr,Or,Er){var Br=wr();try{return _r(Ft)(zt,Ht,Zt,Jt,nr,hr,Pr,pr,Vr,Or,Er)}catch(er){if(Ar(Br),er!==er+0)throw er;$r(1,0)}},X:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr){var pr=wr();try{return rn(Ft,zt,Ht,Zt,Jt,nr,hr,Pr)}catch(Vr){if(Ar(pr),Vr!==Vr+0)throw Vr;$r(1,0)}},V:function(Ft,zt,Ht,Zt,Jt,nr,hr){var Pr=wr();try{return Zr(Ft,zt,Ht,Zt,Jt,nr,hr)}catch(pr){if(Ar(Pr),pr!==pr+0)throw pr;$r(1,0)}},U:function(Ft,zt,Ht,Zt,Jt){var nr=wr();try{return Tn(Ft,zt,Ht,Zt,Jt)}catch(hr){if(Ar(nr),hr!==hr+0)throw hr;$r(1,0)}},Z:function(Ft,zt,Ht,Zt){var Jt=wr();try{return Fn(Ft,zt,Ht,Zt)}catch(nr){if(Ar(Jt),nr!==nr+0)throw nr;$r(1,0)}},W:function(Ft){var zt=wr();try{return Rr(Ft)}catch(Ht){if(Ar(zt),Ht!==Ht+0)throw Ht;$r(1,0)}},Y:function(Ft,zt){var Ht=wr();try{return Jr(Ft,zt)}catch(Zt){if(Ar(Ht),Zt!==Zt+0)throw Zt;$r(1,0)}},T:function(Ft,zt,Ht){var Zt=wr();try{return dn(Ft,zt,Ht)}catch(Jt){if(Ar(Zt),Jt!==Jt+0)throw Jt;$r(1,0)}},f:function(Ft){var zt=wr();try{_r(Ft)()}catch(Ht){if(Ar(zt),Ht!==Ht+0)throw Ht;$r(1,0)}},q:function(Ft,zt){var Ht=wr();try{_r(Ft)(zt)}catch(Zt){if(Ar(Ht),Zt!==Zt+0)throw Zt;$r(1,0)}},h:function(Ft,zt,Ht){var Zt=wr();try{_r(Ft)(zt,Ht)}catch(Jt){if(Ar(Zt),Jt!==Jt+0)throw Jt;$r(1,0)}},da:function(Ft,zt,Ht,Zt){var Jt=wr();try{_r(Ft)(zt,Ht,Zt)}catch(nr){if(Ar(Jt),nr!==nr+0)throw nr;$r(1,0)}},l:function(Ft,zt,Ht,Zt){var Jt=wr();try{_r(Ft)(zt,Ht,Zt)}catch(nr){if(Ar(Jt),nr!==nr+0)throw nr;$r(1,0)}},t:function(Ft,zt,Ht,Zt,Jt){var nr=wr();try{_r(Ft)(zt,Ht,Zt,Jt)}catch(hr){if(Ar(nr),hr!==hr+0)throw hr;$r(1,0)}},u:function(Ft,zt,Ht,Zt,Jt,nr){var hr=wr();try{_r(Ft)(zt,Ht,Zt,Jt,nr)}catch(Pr){if(Ar(hr),Pr!==Pr+0)throw Pr;$r(1,0)}},x:function(Ft,zt,Ht,Zt,Jt,nr,hr){var Pr=wr();try{_r(Ft)(zt,Ht,Zt,Jt,nr,hr)}catch(pr){if(Ar(Pr),pr!==pr+0)throw pr;$r(1,0)}},z:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr){var pr=wr();try{_r(Ft)(zt,Ht,Zt,Jt,nr,hr,Pr)}catch(Vr){if(Ar(pr),Vr!==Vr+0)throw Vr;$r(1,0)}},ga:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr,pr){var Vr=wr();try{_r(Ft)(zt,Ht,Zt,Jt,nr,hr,Pr,pr)}catch(Or){if(Ar(Vr),Or!==Or+0)throw Or;$r(1,0)}},A:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr,pr,Vr,Or){var Er=wr();try{_r(Ft)(zt,Ht,Zt,Jt,nr,hr,Pr,pr,Vr,Or)}catch(Br){if(Ar(Er),Br!==Br+0)throw Br;$r(1,0)}},C:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr,pr,Vr,Or,Er,Br,er,Ur,Xr){var _n=wr();try{_r(Ft)(zt,Ht,Zt,Jt,nr,hr,Pr,pr,Vr,Or,Er,Br,er,Ur,Xr)}catch(xn){if(Ar(_n),xn!==xn+0)throw xn;$r(1,0)}},aa:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr){var pr=wr();try{Cn(Ft,zt,Ht,Zt,Jt,nr,hr,Pr)}catch(Vr){if(Ar(pr),Vr!==Vr+0)throw Vr;$r(1,0)}},_:function(Ft,zt,Ht,Zt,Jt,nr,hr,Pr,pr,Vr,Or,Er){var Br=wr();try{Mn(Ft,zt,Ht,Zt,Jt,nr,hr,Pr,pr,Vr,Or,Er)}catch(er){if(Ar(Br),er!==er+0)throw er;$r(1,0)}},$:function(Ft,zt,Ht,Zt,Jt,nr){var hr=wr();try{Qr(Ft,zt,Ht,Zt,Jt,nr)}catch(Pr){if(Ar(hr),Pr!==Pr+0)throw Pr;$r(1,0)}},n:function(Ft){return Ft},F:function(Ft){Hr=Ft},ha:an,y:function(Ft,zt,Ht,Zt){return an(Ft,zt,Ht,Zt)}};(function(){function Ft(Jt){it.asm=Jt.exports,Tt=it.asm.Ka,Ut(),Xt=it.asm.ib,Vt.unshift(it.asm.La),ir--,it.monitorRunDependencies&&it.monitorRunDependencies(ir),ir==0&&lr&&(Jt=lr,lr=null,Jt())}function zt(Jt){Ft(Jt.instance)}function Ht(Jt){return function(){if(!_t&&(yt||vt)){if(typeof fetch=="function"&&!rr.startsWith("file://"))return fetch(rr,{credentials:"same-origin"}).then(function(nr){if(!nr.ok)throw"failed to load wasm binary file at '"+rr+"'";return nr.arrayBuffer()}).catch(function(){return yr()});if(ut)return new Promise(function(nr,hr){ut(rr,function(Pr){nr(new Uint8Array(Pr))},hr)})}return Promise.resolve().then(function(){return yr()})}().then(function(nr){return WebAssembly.instantiate(nr,Zt)}).then(function(nr){return nr}).then(Jt,function(nr){wt("failed to asynchronously prepare wasm: "+nr),ar(nr)})}var Zt={a:yn};if(ir++,it.monitorRunDependencies&&it.monitorRunDependencies(ir),it.instantiateWasm)try{return it.instantiateWasm(Zt,Ft)}catch(Jt){return wt("Module.instantiateWasm callback failed with error: "+Jt),!1}(_t||typeof WebAssembly.instantiateStreaming!="function"||ur()||rr.startsWith("file://")||bt||typeof fetch!="function"?Ht(zt):fetch(rr,{credentials:"same-origin"}).then(function(Jt){return WebAssembly.instantiateStreaming(Jt,Zt).then(zt,function(nr){return wt("wasm streaming compile failed: "+nr),wt("falling back to ArrayBuffer instantiation"),Ht(zt)})})).catch(lt)})(),it.___wasm_call_ctors=function(){return(it.___wasm_call_ctors=it.asm.La).apply(null,arguments)},it._OrtInit=function(){return(it._OrtInit=it.asm.Ma).apply(null,arguments)},it._OrtCreateSessionOptions=function(){return(it._OrtCreateSessionOptions=it.asm.Na).apply(null,arguments)},it._OrtAppendExecutionProvider=function(){return(it._OrtAppendExecutionProvider=it.asm.Oa).apply(null,arguments)},it._OrtAddSessionConfigEntry=function(){return(it._OrtAddSessionConfigEntry=it.asm.Pa).apply(null,arguments)},it._OrtReleaseSessionOptions=function(){return(it._OrtReleaseSessionOptions=it.asm.Qa).apply(null,arguments)},it._OrtCreateSession=function(){return(it._OrtCreateSession=it.asm.Ra).apply(null,arguments)},it._OrtReleaseSession=function(){return(it._OrtReleaseSession=it.asm.Sa).apply(null,arguments)},it._OrtGetInputCount=function(){return(it._OrtGetInputCount=it.asm.Ta).apply(null,arguments)},it._OrtGetOutputCount=function(){return(it._OrtGetOutputCount=it.asm.Ua).apply(null,arguments)},it._OrtGetInputName=function(){return(it._OrtGetInputName=it.asm.Va).apply(null,arguments)},it._OrtGetOutputName=function(){return(it._OrtGetOutputName=it.asm.Wa).apply(null,arguments)},it._OrtFree=function(){return(it._OrtFree=it.asm.Xa).apply(null,arguments)},it._OrtCreateTensor=function(){return(it._OrtCreateTensor=it.asm.Ya).apply(null,arguments)},it._OrtGetTensorData=function(){return(it._OrtGetTensorData=it.asm.Za).apply(null,arguments)},it._OrtReleaseTensor=function(){return(it._OrtReleaseTensor=it.asm._a).apply(null,arguments)},it._OrtCreateRunOptions=function(){return(it._OrtCreateRunOptions=it.asm.$a).apply(null,arguments)},it._OrtAddRunConfigEntry=function(){return(it._OrtAddRunConfigEntry=it.asm.ab).apply(null,arguments)},it._OrtReleaseRunOptions=function(){return(it._OrtReleaseRunOptions=it.asm.bb).apply(null,arguments)},it._OrtRun=function(){return(it._OrtRun=it.asm.cb).apply(null,arguments)},it._OrtEndProfiling=function(){return(it._OrtEndProfiling=it.asm.db).apply(null,arguments)};var hn,Lr=it._malloc=function(){return(Lr=it._malloc=it.asm.eb).apply(null,arguments)},bn=it._free=function(){return(bn=it._free=it.asm.fb).apply(null,arguments)},Sn=it._fflush=function(){return(Sn=it._fflush=it.asm.gb).apply(null,arguments)},On=it.___funcs_on_exit=function(){return(On=it.___funcs_on_exit=it.asm.hb).apply(null,arguments)},$r=it._setThrew=function(){return($r=it._setThrew=it.asm.jb).apply(null,arguments)},wr=it.stackSave=function(){return(wr=it.stackSave=it.asm.kb).apply(null,arguments)},Ar=it.stackRestore=function(){return(Ar=it.stackRestore=it.asm.lb).apply(null,arguments)},tn=it.stackAlloc=function(){return(tn=it.stackAlloc=it.asm.mb).apply(null,arguments)},Mr=it.___cxa_can_catch=function(){return(Mr=it.___cxa_can_catch=it.asm.nb).apply(null,arguments)},Cr=it.___cxa_is_pointer_type=function(){return(Cr=it.___cxa_is_pointer_type=it.asm.ob).apply(null,arguments)},Rr=it.dynCall_j=function(){return(Rr=it.dynCall_j=it.asm.pb).apply(null,arguments)},Zr=it.dynCall_iiiiij=function(){return(Zr=it.dynCall_iiiiij=it.asm.qb).apply(null,arguments)},dn=it.dynCall_jii=function(){return(dn=it.dynCall_jii=it.asm.rb).apply(null,arguments)},Cn=it.dynCall_viiiiij=function(){return(Cn=it.dynCall_viiiiij=it.asm.sb).apply(null,arguments)},Qr=it.dynCall_vjji=function(){return(Qr=it.dynCall_vjji=it.asm.tb).apply(null,arguments)},Mn=it.dynCall_viiijjjii=function(){return(Mn=it.dynCall_viiijjjii=it.asm.ub).apply(null,arguments)},Fn=it.dynCall_iij=function(){return(Fn=it.dynCall_iij=it.asm.vb).apply(null,arguments)},Jr=it.dynCall_ji=function(){return(Jr=it.dynCall_ji=it.asm.wb).apply(null,arguments)},rn=it.dynCall_iiiiiij=function(){return(rn=it.dynCall_iiiiiij=it.asm.xb).apply(null,arguments)},Tn=it.dynCall_iiij=function(){return(Tn=it.dynCall_iiij=it.asm.yb).apply(null,arguments)};function En(){function Ft(){if(!hn&&(hn=!0,it.calledRun=!0,!Rt)){if(Sr(Vt),at(it),it.onRuntimeInitialized&&it.onRuntimeInitialized(),it.postRun)for(typeof it.postRun=="function"&&(it.postRun=[it.postRun]);it.postRun.length;){var zt=it.postRun.shift();tr.unshift(zt)}Sr(tr)}}if(!(0<ir)){if(it.preRun)for(typeof it.preRun=="function"&&(it.preRun=[it.preRun]);it.preRun.length;)Yt();Sr(Wt),0<ir||(it.setStatus?(it.setStatus("Running..."),setTimeout(function(){setTimeout(function(){it.setStatus("")},1),Ft()},1)):Ft())}}if(it.UTF8ToString=Nt,it.stringToUTF8=function(Ft,zt,Ht){return Dt(Ft,Pt,zt,Ht)},it.lengthBytesUTF8=jt,it.stackSave=wr,it.stackRestore=Ar,it.stackAlloc=tn,lr=function Ft(){hn||En(),hn||(lr=Ft)},it.preInit)for(typeof it.preInit=="function"&&(it.preInit=[it.preInit]);0<it.preInit.length;)it.preInit.pop()();return En(),nt.ready});_e.exports=rt},4537:_e=>{_e.exports=function(_,et){for(var tt=new Array(arguments.length-1),rt=0,nt=2,it=!0;nt<arguments.length;)tt[rt++]=arguments[nt++];return new Promise(function(at,lt){tt[rt]=function(ct){if(it)if(it=!1,ct)lt(ct);else{for(var ut=new Array(arguments.length-1),st=0;st<ut.length;)ut[st++]=arguments[st];at.apply(null,ut)}};try{_.apply(et||null,tt)}catch(ct){it&&(it=!1,lt(ct))}})}},7419:(_e,_)=>{var et=_;et.length=function(at){var lt=at.length;if(!lt)return 0;for(var ct=0;--lt%4>1&&at.charAt(lt)==="=";)++ct;return Math.ceil(3*at.length)/4-ct};for(var tt=new Array(64),rt=new Array(123),nt=0;nt<64;)rt[tt[nt]=nt<26?nt+65:nt<52?nt+71:nt<62?nt-4:nt-59|43]=nt++;et.encode=function(at,lt,ct){for(var ut,st=null,ot=[],dt=0,ft=0;lt<ct;){var ht=at[lt++];switch(ft){case 0:ot[dt++]=tt[ht>>2],ut=(3&ht)<<4,ft=1;break;case 1:ot[dt++]=tt[ut|ht>>4],ut=(15&ht)<<2,ft=2;break;case 2:ot[dt++]=tt[ut|ht>>6],ot[dt++]=tt[63&ht],ft=0}dt>8191&&((st||(st=[])).push(String.fromCharCode.apply(String,ot)),dt=0)}return ft&&(ot[dt++]=tt[ut],ot[dt++]=61,ft===1&&(ot[dt++]=61)),st?(dt&&st.push(String.fromCharCode.apply(String,ot.slice(0,dt))),st.join("")):String.fromCharCode.apply(String,ot.slice(0,dt))};var it="invalid encoding";et.decode=function(at,lt,ct){for(var ut,st=ct,ot=0,dt=0;dt<at.length;){var ft=at.charCodeAt(dt++);if(ft===61&&ot>1)break;if((ft=rt[ft])===void 0)throw Error(it);switch(ot){case 0:ut=ft,ot=1;break;case 1:lt[ct++]=ut<<2|(48&ft)>>4,ut=ft,ot=2;break;case 2:lt[ct++]=(15&ut)<<4|(60&ft)>>2,ut=ft,ot=3;break;case 3:lt[ct++]=(3&ut)<<6|ft,ot=0}}if(ot===1)throw Error(it);return ct-st},et.test=function(at){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(at)}},9211:_e=>{function _(){this._listeners={}}_e.exports=_,_.prototype.on=function(et,tt,rt){return(this._listeners[et]||(this._listeners[et]=[])).push({fn:tt,ctx:rt||this}),this},_.prototype.off=function(et,tt){if(et===void 0)this._listeners={};else if(tt===void 0)this._listeners[et]=[];else for(var rt=this._listeners[et],nt=0;nt<rt.length;)rt[nt].fn===tt?rt.splice(nt,1):++nt;return this},_.prototype.emit=function(et){var tt=this._listeners[et];if(tt){for(var rt=[],nt=1;nt<arguments.length;)rt.push(arguments[nt++]);for(nt=0;nt<tt.length;)tt[nt].fn.apply(tt[nt++].ctx,rt)}return this}},945:_e=>{function _(it){return typeof Float32Array<"u"?function(){var at=new Float32Array([-0]),lt=new Uint8Array(at.buffer),ct=lt[3]===128;function ut(ft,ht,mt){at[0]=ft,ht[mt]=lt[0],ht[mt+1]=lt[1],ht[mt+2]=lt[2],ht[mt+3]=lt[3]}function st(ft,ht,mt){at[0]=ft,ht[mt]=lt[3],ht[mt+1]=lt[2],ht[mt+2]=lt[1],ht[mt+3]=lt[0]}function ot(ft,ht){return lt[0]=ft[ht],lt[1]=ft[ht+1],lt[2]=ft[ht+2],lt[3]=ft[ht+3],at[0]}function dt(ft,ht){return lt[3]=ft[ht],lt[2]=ft[ht+1],lt[1]=ft[ht+2],lt[0]=ft[ht+3],at[0]}it.writeFloatLE=ct?ut:st,it.writeFloatBE=ct?st:ut,it.readFloatLE=ct?ot:dt,it.readFloatBE=ct?dt:ot}():function(){function at(ct,ut,st,ot){var dt=ut<0?1:0;if(dt&&(ut=-ut),ut===0)ct(1/ut>0?0:2147483648,st,ot);else if(isNaN(ut))ct(2143289344,st,ot);else if(ut>34028234663852886e22)ct((dt<<31|2139095040)>>>0,st,ot);else if(ut<11754943508222875e-54)ct((dt<<31|Math.round(ut/1401298464324817e-60))>>>0,st,ot);else{var ft=Math.floor(Math.log(ut)/Math.LN2);ct((dt<<31|ft+127<<23|8388607&Math.round(ut*Math.pow(2,-ft)*8388608))>>>0,st,ot)}}function lt(ct,ut,st){var ot=ct(ut,st),dt=2*(ot>>31)+1,ft=ot>>>23&255,ht=8388607&ot;return ft===255?ht?NaN:dt*(1/0):ft===0?1401298464324817e-60*dt*ht:dt*Math.pow(2,ft-150)*(ht+8388608)}it.writeFloatLE=at.bind(null,et),it.writeFloatBE=at.bind(null,tt),it.readFloatLE=lt.bind(null,rt),it.readFloatBE=lt.bind(null,nt)}(),typeof Float64Array<"u"?function(){var at=new Float64Array([-0]),lt=new Uint8Array(at.buffer),ct=lt[7]===128;function ut(ft,ht,mt){at[0]=ft,ht[mt]=lt[0],ht[mt+1]=lt[1],ht[mt+2]=lt[2],ht[mt+3]=lt[3],ht[mt+4]=lt[4],ht[mt+5]=lt[5],ht[mt+6]=lt[6],ht[mt+7]=lt[7]}function st(ft,ht,mt){at[0]=ft,ht[mt]=lt[7],ht[mt+1]=lt[6],ht[mt+2]=lt[5],ht[mt+3]=lt[4],ht[mt+4]=lt[3],ht[mt+5]=lt[2],ht[mt+6]=lt[1],ht[mt+7]=lt[0]}function ot(ft,ht){return lt[0]=ft[ht],lt[1]=ft[ht+1],lt[2]=ft[ht+2],lt[3]=ft[ht+3],lt[4]=ft[ht+4],lt[5]=ft[ht+5],lt[6]=ft[ht+6],lt[7]=ft[ht+7],at[0]}function dt(ft,ht){return lt[7]=ft[ht],lt[6]=ft[ht+1],lt[5]=ft[ht+2],lt[4]=ft[ht+3],lt[3]=ft[ht+4],lt[2]=ft[ht+5],lt[1]=ft[ht+6],lt[0]=ft[ht+7],at[0]}it.writeDoubleLE=ct?ut:st,it.writeDoubleBE=ct?st:ut,it.readDoubleLE=ct?ot:dt,it.readDoubleBE=ct?dt:ot}():function(){function at(ct,ut,st,ot,dt,ft){var ht=ot<0?1:0;if(ht&&(ot=-ot),ot===0)ct(0,dt,ft+ut),ct(1/ot>0?0:2147483648,dt,ft+st);else if(isNaN(ot))ct(0,dt,ft+ut),ct(2146959360,dt,ft+st);else if(ot>17976931348623157e292)ct(0,dt,ft+ut),ct((ht<<31|2146435072)>>>0,dt,ft+st);else{var mt;if(ot<22250738585072014e-324)ct((mt=ot/5e-324)>>>0,dt,ft+ut),ct((ht<<31|mt/4294967296)>>>0,dt,ft+st);else{var gt=Math.floor(Math.log(ot)/Math.LN2);gt===1024&&(gt=1023),ct(4503599627370496*(mt=ot*Math.pow(2,-gt))>>>0,dt,ft+ut),ct((ht<<31|gt+1023<<20|1048576*mt&1048575)>>>0,dt,ft+st)}}}function lt(ct,ut,st,ot,dt){var ft=ct(ot,dt+ut),ht=ct(ot,dt+st),mt=2*(ht>>31)+1,gt=ht>>>20&2047,yt=4294967296*(1048575&ht)+ft;return gt===2047?yt?NaN:mt*(1/0):gt===0?5e-324*mt*yt:mt*Math.pow(2,gt-1075)*(yt+4503599627370496)}it.writeDoubleLE=at.bind(null,et,0,4),it.writeDoubleBE=at.bind(null,tt,4,0),it.readDoubleLE=lt.bind(null,rt,0,4),it.readDoubleBE=lt.bind(null,nt,4,0)}(),it}function et(it,at,lt){at[lt]=255&it,at[lt+1]=it>>>8&255,at[lt+2]=it>>>16&255,at[lt+3]=it>>>24}function tt(it,at,lt){at[lt]=it>>>24,at[lt+1]=it>>>16&255,at[lt+2]=it>>>8&255,at[lt+3]=255&it}function rt(it,at){return(it[at]|it[at+1]<<8|it[at+2]<<16|it[at+3]<<24)>>>0}function nt(it,at){return(it[at]<<24|it[at+1]<<16|it[at+2]<<8|it[at+3])>>>0}_e.exports=_(_)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(_e){}return null}module.exports=inquire},6662:_e=>{_e.exports=function(_,et,tt){var rt=tt||8192,nt=rt>>>1,it=null,at=rt;return function(lt){if(lt<1||lt>nt)return _(lt);at+lt>rt&&(it=_(rt),at=0);var ct=et.call(it,at,at+=lt);return 7&at&&(at=1+(7|at)),ct}}},4997:(_e,_)=>{var et=_;et.length=function(tt){for(var rt=0,nt=0,it=0;it<tt.length;++it)(nt=tt.charCodeAt(it))<128?rt+=1:nt<2048?rt+=2:(64512&nt)==55296&&(64512&tt.charCodeAt(it+1))==56320?(++it,rt+=4):rt+=3;return rt},et.read=function(tt,rt,nt){if(nt-rt<1)return"";for(var it,at=null,lt=[],ct=0;rt<nt;)(it=tt[rt++])<128?lt[ct++]=it:it>191&&it<224?lt[ct++]=(31&it)<<6|63&tt[rt++]:it>239&&it<365?(it=((7&it)<<18|(63&tt[rt++])<<12|(63&tt[rt++])<<6|63&tt[rt++])-65536,lt[ct++]=55296+(it>>10),lt[ct++]=56320+(1023&it)):lt[ct++]=(15&it)<<12|(63&tt[rt++])<<6|63&tt[rt++],ct>8191&&((at||(at=[])).push(String.fromCharCode.apply(String,lt)),ct=0);return at?(ct&&at.push(String.fromCharCode.apply(String,lt.slice(0,ct))),at.join("")):String.fromCharCode.apply(String,lt.slice(0,ct))},et.write=function(tt,rt,nt){for(var it,at,lt=nt,ct=0;ct<tt.length;++ct)(it=tt.charCodeAt(ct))<128?rt[nt++]=it:it<2048?(rt[nt++]=it>>6|192,rt[nt++]=63&it|128):(64512&it)==55296&&(64512&(at=tt.charCodeAt(ct+1)))==56320?(it=65536+((1023&it)<<10)+(1023&at),++ct,rt[nt++]=it>>18|240,rt[nt++]=it>>12&63|128,rt[nt++]=it>>6&63|128,rt[nt++]=63&it|128):(rt[nt++]=it>>12|224,rt[nt++]=it>>6&63|128,rt[nt++]=63&it|128);return nt-lt}},3442:(_e,_)=>{_.__esModule=!0;var et=function(){function tt(rt){if(!rt)throw new TypeError("Invalid argument; `value` has no value.");this.value=tt.EMPTY,rt&&tt.isGuid(rt)&&(this.value=rt)}return tt.isGuid=function(rt){var nt=rt.toString();return rt&&(rt instanceof tt||tt.validator.test(nt))},tt.create=function(){return new tt([tt.gen(2),tt.gen(1),tt.gen(1),tt.gen(1),tt.gen(3)].join("-"))},tt.createEmpty=function(){return new tt("emptyguid")},tt.parse=function(rt){return new tt(rt)},tt.raw=function(){return[tt.gen(2),tt.gen(1),tt.gen(1),tt.gen(1),tt.gen(3)].join("-")},tt.gen=function(rt){for(var nt="",it=0;it<rt;it++)nt+=(65536*(1+Math.random())|0).toString(16).substring(1);return nt},tt.prototype.equals=function(rt){return tt.isGuid(rt)&&this.value===rt.toString()},tt.prototype.isEmpty=function(){return this.value===tt.EMPTY},tt.prototype.toString=function(){return this.value},tt.prototype.toJSON=function(){return{value:this.value}},tt.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),tt.EMPTY="00000000-0000-0000-0000-000000000000",tt}();_.Guid=et},3720:_e=>{_e.exports=et;var _=null;try{_=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function et(Et,Tt,Ct){this.low=0|Et,this.high=0|Tt,this.unsigned=!!Ct}function tt(Et){return(Et&&Et.__isLong__)===!0}et.prototype.__isLong__,Object.defineProperty(et.prototype,"__isLong__",{value:!0}),et.isLong=tt;var rt={},nt={};function it(Et,Tt){var Ct,It,Pt;return Tt?(Pt=0<=(Et>>>=0)&&Et<256)&&(It=nt[Et])?It:(Ct=lt(Et,(0|Et)<0?-1:0,!0),Pt&&(nt[Et]=Ct),Ct):(Pt=-128<=(Et|=0)&&Et<128)&&(It=rt[Et])?It:(Ct=lt(Et,Et<0?-1:0,!1),Pt&&(rt[Et]=Ct),Ct)}function at(Et,Tt){if(isNaN(Et))return Tt?gt:mt;if(Tt){if(Et<0)return gt;if(Et>=dt)return _t}else{if(Et<=-9223372036854776e3)return St;if(Et+1>=ft)return xt}return Et<0?at(-Et,Tt).neg():lt(Et%ot|0,Et/ot|0,Tt)}function lt(Et,Tt,Ct){return new et(Et,Tt,Ct)}et.fromInt=it,et.fromNumber=at,et.fromBits=lt;var ct=Math.pow;function ut(Et,Tt,Ct){if(Et.length===0)throw Error("empty string");if(Et==="NaN"||Et==="Infinity"||Et==="+Infinity"||Et==="-Infinity")return mt;if(typeof Tt=="number"?(Ct=Tt,Tt=!1):Tt=!!Tt,(Ct=Ct||10)<2||36<Ct)throw RangeError("radix");var It;if((It=Et.indexOf("-"))>0)throw Error("interior hyphen");if(It===0)return ut(Et.substring(1),Tt,Ct).neg();for(var Pt=at(ct(Ct,8)),At=mt,kt=0;kt<Et.length;kt+=8){var Rt=Math.min(8,Et.length-kt),$t=parseInt(Et.substring(kt,kt+Rt),Ct);if(Rt<8){var Mt=at(ct(Ct,Rt));At=At.mul(Mt).add(at($t))}else At=(At=At.mul(Pt)).add(at($t))}return At.unsigned=Tt,At}function st(Et,Tt){return typeof Et=="number"?at(Et,Tt):typeof Et=="string"?ut(Et,Tt):lt(Et.low,Et.high,typeof Tt=="boolean"?Tt:Et.unsigned)}et.fromString=ut,et.fromValue=st;var ot=4294967296,dt=ot*ot,ft=dt/2,ht=it(1<<24),mt=it(0);et.ZERO=mt;var gt=it(0,!0);et.UZERO=gt;var yt=it(1);et.ONE=yt;var vt=it(1,!0);et.UONE=vt;var bt=it(-1);et.NEG_ONE=bt;var xt=lt(-1,2147483647,!1);et.MAX_VALUE=xt;var _t=lt(-1,-1,!0);et.MAX_UNSIGNED_VALUE=_t;var St=lt(0,-2147483648,!1);et.MIN_VALUE=St;var wt=et.prototype;wt.toInt=function(){return this.unsigned?this.low>>>0:this.low},wt.toNumber=function(){return this.unsigned?(this.high>>>0)*ot+(this.low>>>0):this.high*ot+(this.low>>>0)},wt.toString=function(Et){if((Et=Et||10)<2||36<Et)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(St)){var Tt=at(Et),Ct=this.div(Tt),It=Ct.mul(Tt).sub(this);return Ct.toString(Et)+It.toInt().toString(Et)}return"-"+this.neg().toString(Et)}for(var Pt=at(ct(Et,6),this.unsigned),At=this,kt="";;){var Rt=At.div(Pt),$t=(At.sub(Rt.mul(Pt)).toInt()>>>0).toString(Et);if((At=Rt).isZero())return $t+kt;for(;$t.length<6;)$t="0"+$t;kt=""+$t+kt}},wt.getHighBits=function(){return this.high},wt.getHighBitsUnsigned=function(){return this.high>>>0},wt.getLowBits=function(){return this.low},wt.getLowBitsUnsigned=function(){return this.low>>>0},wt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(St)?64:this.neg().getNumBitsAbs();for(var Et=this.high!=0?this.high:this.low,Tt=31;Tt>0&&!(Et&1<<Tt);Tt--);return this.high!=0?Tt+33:Tt+1},wt.isZero=function(){return this.high===0&&this.low===0},wt.eqz=wt.isZero,wt.isNegative=function(){return!this.unsigned&&this.high<0},wt.isPositive=function(){return this.unsigned||this.high>=0},wt.isOdd=function(){return(1&this.low)==1},wt.isEven=function(){return(1&this.low)==0},wt.equals=function(Et){return tt(Et)||(Et=st(Et)),(this.unsigned===Et.unsigned||this.high>>>31!=1||Et.high>>>31!=1)&&this.high===Et.high&&this.low===Et.low},wt.eq=wt.equals,wt.notEquals=function(Et){return!this.eq(Et)},wt.neq=wt.notEquals,wt.ne=wt.notEquals,wt.lessThan=function(Et){return this.comp(Et)<0},wt.lt=wt.lessThan,wt.lessThanOrEqual=function(Et){return this.comp(Et)<=0},wt.lte=wt.lessThanOrEqual,wt.le=wt.lessThanOrEqual,wt.greaterThan=function(Et){return this.comp(Et)>0},wt.gt=wt.greaterThan,wt.greaterThanOrEqual=function(Et){return this.comp(Et)>=0},wt.gte=wt.greaterThanOrEqual,wt.ge=wt.greaterThanOrEqual,wt.compare=function(Et){if(tt(Et)||(Et=st(Et)),this.eq(Et))return 0;var Tt=this.isNegative(),Ct=Et.isNegative();return Tt&&!Ct?-1:!Tt&&Ct?1:this.unsigned?Et.high>>>0>this.high>>>0||Et.high===this.high&&Et.low>>>0>this.low>>>0?-1:1:this.sub(Et).isNegative()?-1:1},wt.comp=wt.compare,wt.negate=function(){return!this.unsigned&&this.eq(St)?St:this.not().add(yt)},wt.neg=wt.negate,wt.add=function(Et){tt(Et)||(Et=st(Et));var Tt=this.high>>>16,Ct=65535&this.high,It=this.low>>>16,Pt=65535&this.low,At=Et.high>>>16,kt=65535&Et.high,Rt=Et.low>>>16,$t=0,Mt=0,Nt=0,Dt=0;return Nt+=(Dt+=Pt+(65535&Et.low))>>>16,Mt+=(Nt+=It+Rt)>>>16,$t+=(Mt+=Ct+kt)>>>16,$t+=Tt+At,lt((Nt&=65535)<<16|(Dt&=65535),($t&=65535)<<16|(Mt&=65535),this.unsigned)},wt.subtract=function(Et){return tt(Et)||(Et=st(Et)),this.add(Et.neg())},wt.sub=wt.subtract,wt.multiply=function(Et){if(this.isZero())return mt;if(tt(Et)||(Et=st(Et)),_)return lt(_.mul(this.low,this.high,Et.low,Et.high),_.get_high(),this.unsigned);if(Et.isZero())return mt;if(this.eq(St))return Et.isOdd()?St:mt;if(Et.eq(St))return this.isOdd()?St:mt;if(this.isNegative())return Et.isNegative()?this.neg().mul(Et.neg()):this.neg().mul(Et).neg();if(Et.isNegative())return this.mul(Et.neg()).neg();if(this.lt(ht)&&Et.lt(ht))return at(this.toNumber()*Et.toNumber(),this.unsigned);var Tt=this.high>>>16,Ct=65535&this.high,It=this.low>>>16,Pt=65535&this.low,At=Et.high>>>16,kt=65535&Et.high,Rt=Et.low>>>16,$t=65535&Et.low,Mt=0,Nt=0,Dt=0,jt=0;return Dt+=(jt+=Pt*$t)>>>16,Nt+=(Dt+=It*$t)>>>16,Dt&=65535,Nt+=(Dt+=Pt*Rt)>>>16,Mt+=(Nt+=Ct*$t)>>>16,Nt&=65535,Mt+=(Nt+=It*Rt)>>>16,Nt&=65535,Mt+=(Nt+=Pt*kt)>>>16,Mt+=Tt*$t+Ct*Rt+It*kt+Pt*At,lt((Dt&=65535)<<16|(jt&=65535),(Mt&=65535)<<16|(Nt&=65535),this.unsigned)},wt.mul=wt.multiply,wt.divide=function(Et){if(tt(Et)||(Et=st(Et)),Et.isZero())throw Error("division by zero");var Tt,Ct,It;if(_)return this.unsigned||this.high!==-2147483648||Et.low!==-1||Et.high!==-1?lt((this.unsigned?_.div_u:_.div_s)(this.low,this.high,Et.low,Et.high),_.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?gt:mt;if(this.unsigned){if(Et.unsigned||(Et=Et.toUnsigned()),Et.gt(this))return gt;if(Et.gt(this.shru(1)))return vt;It=gt}else{if(this.eq(St))return Et.eq(yt)||Et.eq(bt)?St:Et.eq(St)?yt:(Tt=this.shr(1).div(Et).shl(1)).eq(mt)?Et.isNegative()?yt:bt:(Ct=this.sub(Et.mul(Tt)),It=Tt.add(Ct.div(Et)));if(Et.eq(St))return this.unsigned?gt:mt;if(this.isNegative())return Et.isNegative()?this.neg().div(Et.neg()):this.neg().div(Et).neg();if(Et.isNegative())return this.div(Et.neg()).neg();It=mt}for(Ct=this;Ct.gte(Et);){Tt=Math.max(1,Math.floor(Ct.toNumber()/Et.toNumber()));for(var Pt=Math.ceil(Math.log(Tt)/Math.LN2),At=Pt<=48?1:ct(2,Pt-48),kt=at(Tt),Rt=kt.mul(Et);Rt.isNegative()||Rt.gt(Ct);)Rt=(kt=at(Tt-=At,this.unsigned)).mul(Et);kt.isZero()&&(kt=yt),It=It.add(kt),Ct=Ct.sub(Rt)}return It},wt.div=wt.divide,wt.modulo=function(Et){return tt(Et)||(Et=st(Et)),_?lt((this.unsigned?_.rem_u:_.rem_s)(this.low,this.high,Et.low,Et.high),_.get_high(),this.unsigned):this.sub(this.div(Et).mul(Et))},wt.mod=wt.modulo,wt.rem=wt.modulo,wt.not=function(){return lt(~this.low,~this.high,this.unsigned)},wt.and=function(Et){return tt(Et)||(Et=st(Et)),lt(this.low&Et.low,this.high&Et.high,this.unsigned)},wt.or=function(Et){return tt(Et)||(Et=st(Et)),lt(this.low|Et.low,this.high|Et.high,this.unsigned)},wt.xor=function(Et){return tt(Et)||(Et=st(Et)),lt(this.low^Et.low,this.high^Et.high,this.unsigned)},wt.shiftLeft=function(Et){return tt(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et<32?lt(this.low<<Et,this.high<<Et|this.low>>>32-Et,this.unsigned):lt(0,this.low<<Et-32,this.unsigned)},wt.shl=wt.shiftLeft,wt.shiftRight=function(Et){return tt(Et)&&(Et=Et.toInt()),(Et&=63)==0?this:Et<32?lt(this.low>>>Et|this.high<<32-Et,this.high>>Et,this.unsigned):lt(this.high>>Et-32,this.high>=0?0:-1,this.unsigned)},wt.shr=wt.shiftRight,wt.shiftRightUnsigned=function(Et){if(tt(Et)&&(Et=Et.toInt()),(Et&=63)==0)return this;var Tt=this.high;return Et<32?lt(this.low>>>Et|Tt<<32-Et,Tt>>>Et,this.unsigned):lt(Et===32?Tt:Tt>>>Et-32,0,this.unsigned)},wt.shru=wt.shiftRightUnsigned,wt.shr_u=wt.shiftRightUnsigned,wt.toSigned=function(){return this.unsigned?lt(this.low,this.high,!1):this},wt.toUnsigned=function(){return this.unsigned?this:lt(this.low,this.high,!0)},wt.toBytes=function(Et){return Et?this.toBytesLE():this.toBytesBE()},wt.toBytesLE=function(){var Et=this.high,Tt=this.low;return[255&Tt,Tt>>>8&255,Tt>>>16&255,Tt>>>24,255&Et,Et>>>8&255,Et>>>16&255,Et>>>24]},wt.toBytesBE=function(){var Et=this.high,Tt=this.low;return[Et>>>24,Et>>>16&255,Et>>>8&255,255&Et,Tt>>>24,Tt>>>16&255,Tt>>>8&255,255&Tt]},et.fromBytes=function(Et,Tt,Ct){return Ct?et.fromBytesLE(Et,Tt):et.fromBytesBE(Et,Tt)},et.fromBytesLE=function(Et,Tt){return new et(Et[0]|Et[1]<<8|Et[2]<<16|Et[3]<<24,Et[4]|Et[5]<<8|Et[6]<<16|Et[7]<<24,Tt)},et.fromBytesBE=function(Et,Tt){return new et(Et[4]<<24|Et[5]<<16|Et[6]<<8|Et[7],Et[0]<<24|Et[1]<<16|Et[2]<<8|Et[3],Tt)}},1446:(_e,_,et)=>{var tt,rt,nt,it=et(2100),at=it.Reader,lt=it.Writer,ct=it.util,ut=it.roots.default||(it.roots.default={});ut.onnx=((nt={}).Version=(tt={},(rt=Object.create(tt))[tt[0]="_START_VERSION"]=0,rt[tt[1]="IR_VERSION_2017_10_10"]=1,rt[tt[2]="IR_VERSION_2017_10_30"]=2,rt[tt[3]="IR_VERSION_2017_11_3"]=3,rt[tt[4]="IR_VERSION_2019_1_22"]=4,rt[tt[5]="IR_VERSION"]=5,rt),nt.AttributeProto=function(){function st(ot){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.name="",st.prototype.refAttrName="",st.prototype.docString="",st.prototype.type=0,st.prototype.f=0,st.prototype.i=ct.Long?ct.Long.fromBits(0,0,!1):0,st.prototype.s=ct.newBuffer([]),st.prototype.t=null,st.prototype.g=null,st.prototype.floats=ct.emptyArray,st.prototype.ints=ct.emptyArray,st.prototype.strings=ct.emptyArray,st.prototype.tensors=ct.emptyArray,st.prototype.graphs=ct.emptyArray,st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){if(dt||(dt=lt.create()),ot.name!=null&&ot.hasOwnProperty("name")&&dt.uint32(10).string(ot.name),ot.f!=null&&ot.hasOwnProperty("f")&&dt.uint32(21).float(ot.f),ot.i!=null&&ot.hasOwnProperty("i")&&dt.uint32(24).int64(ot.i),ot.s!=null&&ot.hasOwnProperty("s")&&dt.uint32(34).bytes(ot.s),ot.t!=null&&ot.hasOwnProperty("t")&&ut.onnx.TensorProto.encode(ot.t,dt.uint32(42).fork()).ldelim(),ot.g!=null&&ot.hasOwnProperty("g")&&ut.onnx.GraphProto.encode(ot.g,dt.uint32(50).fork()).ldelim(),ot.floats!=null&&ot.floats.length){dt.uint32(58).fork();for(var ft=0;ft<ot.floats.length;++ft)dt.float(ot.floats[ft]);dt.ldelim()}if(ot.ints!=null&&ot.ints.length){for(dt.uint32(66).fork(),ft=0;ft<ot.ints.length;++ft)dt.int64(ot.ints[ft]);dt.ldelim()}if(ot.strings!=null&&ot.strings.length)for(ft=0;ft<ot.strings.length;++ft)dt.uint32(74).bytes(ot.strings[ft]);if(ot.tensors!=null&&ot.tensors.length)for(ft=0;ft<ot.tensors.length;++ft)ut.onnx.TensorProto.encode(ot.tensors[ft],dt.uint32(82).fork()).ldelim();if(ot.graphs!=null&&ot.graphs.length)for(ft=0;ft<ot.graphs.length;++ft)ut.onnx.GraphProto.encode(ot.graphs[ft],dt.uint32(90).fork()).ldelim();return ot.docString!=null&&ot.hasOwnProperty("docString")&&dt.uint32(106).string(ot.docString),ot.type!=null&&ot.hasOwnProperty("type")&&dt.uint32(160).int32(ot.type),ot.refAttrName!=null&&ot.hasOwnProperty("refAttrName")&&dt.uint32(170).string(ot.refAttrName),dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.AttributeProto;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:ht.name=ot.string();break;case 21:ht.refAttrName=ot.string();break;case 13:ht.docString=ot.string();break;case 20:ht.type=ot.int32();break;case 2:ht.f=ot.float();break;case 3:ht.i=ot.int64();break;case 4:ht.s=ot.bytes();break;case 5:ht.t=ut.onnx.TensorProto.decode(ot,ot.uint32());break;case 6:ht.g=ut.onnx.GraphProto.decode(ot,ot.uint32());break;case 7:if(ht.floats&&ht.floats.length||(ht.floats=[]),(7&mt)==2)for(var gt=ot.uint32()+ot.pos;ot.pos<gt;)ht.floats.push(ot.float());else ht.floats.push(ot.float());break;case 8:if(ht.ints&&ht.ints.length||(ht.ints=[]),(7&mt)==2)for(gt=ot.uint32()+ot.pos;ot.pos<gt;)ht.ints.push(ot.int64());else ht.ints.push(ot.int64());break;case 9:ht.strings&&ht.strings.length||(ht.strings=[]),ht.strings.push(ot.bytes());break;case 10:ht.tensors&&ht.tensors.length||(ht.tensors=[]),ht.tensors.push(ut.onnx.TensorProto.decode(ot,ot.uint32()));break;case 11:ht.graphs&&ht.graphs.length||(ht.graphs=[]),ht.graphs.push(ut.onnx.GraphProto.decode(ot,ot.uint32()));break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){if(typeof ot!="object"||ot===null)return"object expected";if(ot.name!=null&&ot.hasOwnProperty("name")&&!ct.isString(ot.name))return"name: string expected";if(ot.refAttrName!=null&&ot.hasOwnProperty("refAttrName")&&!ct.isString(ot.refAttrName))return"refAttrName: string expected";if(ot.docString!=null&&ot.hasOwnProperty("docString")&&!ct.isString(ot.docString))return"docString: string expected";if(ot.type!=null&&ot.hasOwnProperty("type"))switch(ot.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(ot.f!=null&&ot.hasOwnProperty("f")&&typeof ot.f!="number")return"f: number expected";if(ot.i!=null&&ot.hasOwnProperty("i")&&!(ct.isInteger(ot.i)||ot.i&&ct.isInteger(ot.i.low)&&ct.isInteger(ot.i.high)))return"i: integer|Long expected";if(ot.s!=null&&ot.hasOwnProperty("s")&&!(ot.s&&typeof ot.s.length=="number"||ct.isString(ot.s)))return"s: buffer expected";if(ot.t!=null&&ot.hasOwnProperty("t")&&(ft=ut.onnx.TensorProto.verify(ot.t)))return"t."+ft;if(ot.g!=null&&ot.hasOwnProperty("g")&&(ft=ut.onnx.GraphProto.verify(ot.g)))return"g."+ft;if(ot.floats!=null&&ot.hasOwnProperty("floats")){if(!Array.isArray(ot.floats))return"floats: array expected";for(var dt=0;dt<ot.floats.length;++dt)if(typeof ot.floats[dt]!="number")return"floats: number[] expected"}if(ot.ints!=null&&ot.hasOwnProperty("ints")){if(!Array.isArray(ot.ints))return"ints: array expected";for(dt=0;dt<ot.ints.length;++dt)if(!(ct.isInteger(ot.ints[dt])||ot.ints[dt]&&ct.isInteger(ot.ints[dt].low)&&ct.isInteger(ot.ints[dt].high)))return"ints: integer|Long[] expected"}if(ot.strings!=null&&ot.hasOwnProperty("strings")){if(!Array.isArray(ot.strings))return"strings: array expected";for(dt=0;dt<ot.strings.length;++dt)if(!(ot.strings[dt]&&typeof ot.strings[dt].length=="number"||ct.isString(ot.strings[dt])))return"strings: buffer[] expected"}if(ot.tensors!=null&&ot.hasOwnProperty("tensors")){if(!Array.isArray(ot.tensors))return"tensors: array expected";for(dt=0;dt<ot.tensors.length;++dt)if(ft=ut.onnx.TensorProto.verify(ot.tensors[dt]))return"tensors."+ft}if(ot.graphs!=null&&ot.hasOwnProperty("graphs")){if(!Array.isArray(ot.graphs))return"graphs: array expected";for(dt=0;dt<ot.graphs.length;++dt){var ft;if(ft=ut.onnx.GraphProto.verify(ot.graphs[dt]))return"graphs."+ft}}return null},st.fromObject=function(ot){if(ot instanceof ut.onnx.AttributeProto)return ot;var dt=new ut.onnx.AttributeProto;switch(ot.name!=null&&(dt.name=String(ot.name)),ot.refAttrName!=null&&(dt.refAttrName=String(ot.refAttrName)),ot.docString!=null&&(dt.docString=String(ot.docString)),ot.type){case"UNDEFINED":case 0:dt.type=0;break;case"FLOAT":case 1:dt.type=1;break;case"INT":case 2:dt.type=2;break;case"STRING":case 3:dt.type=3;break;case"TENSOR":case 4:dt.type=4;break;case"GRAPH":case 5:dt.type=5;break;case"FLOATS":case 6:dt.type=6;break;case"INTS":case 7:dt.type=7;break;case"STRINGS":case 8:dt.type=8;break;case"TENSORS":case 9:dt.type=9;break;case"GRAPHS":case 10:dt.type=10}if(ot.f!=null&&(dt.f=Number(ot.f)),ot.i!=null&&(ct.Long?(dt.i=ct.Long.fromValue(ot.i)).unsigned=!1:typeof ot.i=="string"?dt.i=parseInt(ot.i,10):typeof ot.i=="number"?dt.i=ot.i:typeof ot.i=="object"&&(dt.i=new ct.LongBits(ot.i.low>>>0,ot.i.high>>>0).toNumber())),ot.s!=null&&(typeof ot.s=="string"?ct.base64.decode(ot.s,dt.s=ct.newBuffer(ct.base64.length(ot.s)),0):ot.s.length&&(dt.s=ot.s)),ot.t!=null){if(typeof ot.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");dt.t=ut.onnx.TensorProto.fromObject(ot.t)}if(ot.g!=null){if(typeof ot.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");dt.g=ut.onnx.GraphProto.fromObject(ot.g)}if(ot.floats){if(!Array.isArray(ot.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");dt.floats=[];for(var ft=0;ft<ot.floats.length;++ft)dt.floats[ft]=Number(ot.floats[ft])}if(ot.ints){if(!Array.isArray(ot.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(dt.ints=[],ft=0;ft<ot.ints.length;++ft)ct.Long?(dt.ints[ft]=ct.Long.fromValue(ot.ints[ft])).unsigned=!1:typeof ot.ints[ft]=="string"?dt.ints[ft]=parseInt(ot.ints[ft],10):typeof ot.ints[ft]=="number"?dt.ints[ft]=ot.ints[ft]:typeof ot.ints[ft]=="object"&&(dt.ints[ft]=new ct.LongBits(ot.ints[ft].low>>>0,ot.ints[ft].high>>>0).toNumber())}if(ot.strings){if(!Array.isArray(ot.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(dt.strings=[],ft=0;ft<ot.strings.length;++ft)typeof ot.strings[ft]=="string"?ct.base64.decode(ot.strings[ft],dt.strings[ft]=ct.newBuffer(ct.base64.length(ot.strings[ft])),0):ot.strings[ft].length&&(dt.strings[ft]=ot.strings[ft])}if(ot.tensors){if(!Array.isArray(ot.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(dt.tensors=[],ft=0;ft<ot.tensors.length;++ft){if(typeof ot.tensors[ft]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");dt.tensors[ft]=ut.onnx.TensorProto.fromObject(ot.tensors[ft])}}if(ot.graphs){if(!Array.isArray(ot.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(dt.graphs=[],ft=0;ft<ot.graphs.length;++ft){if(typeof ot.graphs[ft]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");dt.graphs[ft]=ut.onnx.GraphProto.fromObject(ot.graphs[ft])}}return dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};if((dt.arrays||dt.defaults)&&(ft.floats=[],ft.ints=[],ft.strings=[],ft.tensors=[],ft.graphs=[]),dt.defaults){if(ft.name="",ft.f=0,ct.Long){var ht=new ct.Long(0,0,!1);ft.i=dt.longs===String?ht.toString():dt.longs===Number?ht.toNumber():ht}else ft.i=dt.longs===String?"0":0;dt.bytes===String?ft.s="":(ft.s=[],dt.bytes!==Array&&(ft.s=ct.newBuffer(ft.s))),ft.t=null,ft.g=null,ft.docString="",ft.type=dt.enums===String?"UNDEFINED":0,ft.refAttrName=""}if(ot.name!=null&&ot.hasOwnProperty("name")&&(ft.name=ot.name),ot.f!=null&&ot.hasOwnProperty("f")&&(ft.f=dt.json&&!isFinite(ot.f)?String(ot.f):ot.f),ot.i!=null&&ot.hasOwnProperty("i")&&(typeof ot.i=="number"?ft.i=dt.longs===String?String(ot.i):ot.i:ft.i=dt.longs===String?ct.Long.prototype.toString.call(ot.i):dt.longs===Number?new ct.LongBits(ot.i.low>>>0,ot.i.high>>>0).toNumber():ot.i),ot.s!=null&&ot.hasOwnProperty("s")&&(ft.s=dt.bytes===String?ct.base64.encode(ot.s,0,ot.s.length):dt.bytes===Array?Array.prototype.slice.call(ot.s):ot.s),ot.t!=null&&ot.hasOwnProperty("t")&&(ft.t=ut.onnx.TensorProto.toObject(ot.t,dt)),ot.g!=null&&ot.hasOwnProperty("g")&&(ft.g=ut.onnx.GraphProto.toObject(ot.g,dt)),ot.floats&&ot.floats.length){ft.floats=[];for(var mt=0;mt<ot.floats.length;++mt)ft.floats[mt]=dt.json&&!isFinite(ot.floats[mt])?String(ot.floats[mt]):ot.floats[mt]}if(ot.ints&&ot.ints.length)for(ft.ints=[],mt=0;mt<ot.ints.length;++mt)typeof ot.ints[mt]=="number"?ft.ints[mt]=dt.longs===String?String(ot.ints[mt]):ot.ints[mt]:ft.ints[mt]=dt.longs===String?ct.Long.prototype.toString.call(ot.ints[mt]):dt.longs===Number?new ct.LongBits(ot.ints[mt].low>>>0,ot.ints[mt].high>>>0).toNumber():ot.ints[mt];if(ot.strings&&ot.strings.length)for(ft.strings=[],mt=0;mt<ot.strings.length;++mt)ft.strings[mt]=dt.bytes===String?ct.base64.encode(ot.strings[mt],0,ot.strings[mt].length):dt.bytes===Array?Array.prototype.slice.call(ot.strings[mt]):ot.strings[mt];if(ot.tensors&&ot.tensors.length)for(ft.tensors=[],mt=0;mt<ot.tensors.length;++mt)ft.tensors[mt]=ut.onnx.TensorProto.toObject(ot.tensors[mt],dt);if(ot.graphs&&ot.graphs.length)for(ft.graphs=[],mt=0;mt<ot.graphs.length;++mt)ft.graphs[mt]=ut.onnx.GraphProto.toObject(ot.graphs[mt],dt);return ot.docString!=null&&ot.hasOwnProperty("docString")&&(ft.docString=ot.docString),ot.type!=null&&ot.hasOwnProperty("type")&&(ft.type=dt.enums===String?ut.onnx.AttributeProto.AttributeType[ot.type]:ot.type),ot.refAttrName!=null&&ot.hasOwnProperty("refAttrName")&&(ft.refAttrName=ot.refAttrName),ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st.AttributeType=function(){var ot={},dt=Object.create(ot);return dt[ot[0]="UNDEFINED"]=0,dt[ot[1]="FLOAT"]=1,dt[ot[2]="INT"]=2,dt[ot[3]="STRING"]=3,dt[ot[4]="TENSOR"]=4,dt[ot[5]="GRAPH"]=5,dt[ot[6]="FLOATS"]=6,dt[ot[7]="INTS"]=7,dt[ot[8]="STRINGS"]=8,dt[ot[9]="TENSORS"]=9,dt[ot[10]="GRAPHS"]=10,dt}(),st}(),nt.ValueInfoProto=function(){function st(ot){if(ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.name="",st.prototype.type=null,st.prototype.docString="",st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){return dt||(dt=lt.create()),ot.name!=null&&ot.hasOwnProperty("name")&&dt.uint32(10).string(ot.name),ot.type!=null&&ot.hasOwnProperty("type")&&ut.onnx.TypeProto.encode(ot.type,dt.uint32(18).fork()).ldelim(),ot.docString!=null&&ot.hasOwnProperty("docString")&&dt.uint32(26).string(ot.docString),dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.ValueInfoProto;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:ht.name=ot.string();break;case 2:ht.type=ut.onnx.TypeProto.decode(ot,ot.uint32());break;case 3:ht.docString=ot.string();break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){if(typeof ot!="object"||ot===null)return"object expected";if(ot.name!=null&&ot.hasOwnProperty("name")&&!ct.isString(ot.name))return"name: string expected";if(ot.type!=null&&ot.hasOwnProperty("type")){var dt=ut.onnx.TypeProto.verify(ot.type);if(dt)return"type."+dt}return ot.docString!=null&&ot.hasOwnProperty("docString")&&!ct.isString(ot.docString)?"docString: string expected":null},st.fromObject=function(ot){if(ot instanceof ut.onnx.ValueInfoProto)return ot;var dt=new ut.onnx.ValueInfoProto;if(ot.name!=null&&(dt.name=String(ot.name)),ot.type!=null){if(typeof ot.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");dt.type=ut.onnx.TypeProto.fromObject(ot.type)}return ot.docString!=null&&(dt.docString=String(ot.docString)),dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};return dt.defaults&&(ft.name="",ft.type=null,ft.docString=""),ot.name!=null&&ot.hasOwnProperty("name")&&(ft.name=ot.name),ot.type!=null&&ot.hasOwnProperty("type")&&(ft.type=ut.onnx.TypeProto.toObject(ot.type,dt)),ot.docString!=null&&ot.hasOwnProperty("docString")&&(ft.docString=ot.docString),ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st}(),nt.NodeProto=function(){function st(ot){if(this.input=[],this.output=[],this.attribute=[],ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.input=ct.emptyArray,st.prototype.output=ct.emptyArray,st.prototype.name="",st.prototype.opType="",st.prototype.domain="",st.prototype.attribute=ct.emptyArray,st.prototype.docString="",st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){if(dt||(dt=lt.create()),ot.input!=null&&ot.input.length)for(var ft=0;ft<ot.input.length;++ft)dt.uint32(10).string(ot.input[ft]);if(ot.output!=null&&ot.output.length)for(ft=0;ft<ot.output.length;++ft)dt.uint32(18).string(ot.output[ft]);if(ot.name!=null&&ot.hasOwnProperty("name")&&dt.uint32(26).string(ot.name),ot.opType!=null&&ot.hasOwnProperty("opType")&&dt.uint32(34).string(ot.opType),ot.attribute!=null&&ot.attribute.length)for(ft=0;ft<ot.attribute.length;++ft)ut.onnx.AttributeProto.encode(ot.attribute[ft],dt.uint32(42).fork()).ldelim();return ot.docString!=null&&ot.hasOwnProperty("docString")&&dt.uint32(50).string(ot.docString),ot.domain!=null&&ot.hasOwnProperty("domain")&&dt.uint32(58).string(ot.domain),dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.NodeProto;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:ht.input&&ht.input.length||(ht.input=[]),ht.input.push(ot.string());break;case 2:ht.output&&ht.output.length||(ht.output=[]),ht.output.push(ot.string());break;case 3:ht.name=ot.string();break;case 4:ht.opType=ot.string();break;case 7:ht.domain=ot.string();break;case 5:ht.attribute&&ht.attribute.length||(ht.attribute=[]),ht.attribute.push(ut.onnx.AttributeProto.decode(ot,ot.uint32()));break;case 6:ht.docString=ot.string();break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){if(typeof ot!="object"||ot===null)return"object expected";if(ot.input!=null&&ot.hasOwnProperty("input")){if(!Array.isArray(ot.input))return"input: array expected";for(var dt=0;dt<ot.input.length;++dt)if(!ct.isString(ot.input[dt]))return"input: string[] expected"}if(ot.output!=null&&ot.hasOwnProperty("output")){if(!Array.isArray(ot.output))return"output: array expected";for(dt=0;dt<ot.output.length;++dt)if(!ct.isString(ot.output[dt]))return"output: string[] expected"}if(ot.name!=null&&ot.hasOwnProperty("name")&&!ct.isString(ot.name))return"name: string expected";if(ot.opType!=null&&ot.hasOwnProperty("opType")&&!ct.isString(ot.opType))return"opType: string expected";if(ot.domain!=null&&ot.hasOwnProperty("domain")&&!ct.isString(ot.domain))return"domain: string expected";if(ot.attribute!=null&&ot.hasOwnProperty("attribute")){if(!Array.isArray(ot.attribute))return"attribute: array expected";for(dt=0;dt<ot.attribute.length;++dt){var ft=ut.onnx.AttributeProto.verify(ot.attribute[dt]);if(ft)return"attribute."+ft}}return ot.docString!=null&&ot.hasOwnProperty("docString")&&!ct.isString(ot.docString)?"docString: string expected":null},st.fromObject=function(ot){if(ot instanceof ut.onnx.NodeProto)return ot;var dt=new ut.onnx.NodeProto;if(ot.input){if(!Array.isArray(ot.input))throw TypeError(".onnx.NodeProto.input: array expected");dt.input=[];for(var ft=0;ft<ot.input.length;++ft)dt.input[ft]=String(ot.input[ft])}if(ot.output){if(!Array.isArray(ot.output))throw TypeError(".onnx.NodeProto.output: array expected");for(dt.output=[],ft=0;ft<ot.output.length;++ft)dt.output[ft]=String(ot.output[ft])}if(ot.name!=null&&(dt.name=String(ot.name)),ot.opType!=null&&(dt.opType=String(ot.opType)),ot.domain!=null&&(dt.domain=String(ot.domain)),ot.attribute){if(!Array.isArray(ot.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(dt.attribute=[],ft=0;ft<ot.attribute.length;++ft){if(typeof ot.attribute[ft]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");dt.attribute[ft]=ut.onnx.AttributeProto.fromObject(ot.attribute[ft])}}return ot.docString!=null&&(dt.docString=String(ot.docString)),dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};if((dt.arrays||dt.defaults)&&(ft.input=[],ft.output=[],ft.attribute=[]),dt.defaults&&(ft.name="",ft.opType="",ft.docString="",ft.domain=""),ot.input&&ot.input.length){ft.input=[];for(var ht=0;ht<ot.input.length;++ht)ft.input[ht]=ot.input[ht]}if(ot.output&&ot.output.length)for(ft.output=[],ht=0;ht<ot.output.length;++ht)ft.output[ht]=ot.output[ht];if(ot.name!=null&&ot.hasOwnProperty("name")&&(ft.name=ot.name),ot.opType!=null&&ot.hasOwnProperty("opType")&&(ft.opType=ot.opType),ot.attribute&&ot.attribute.length)for(ft.attribute=[],ht=0;ht<ot.attribute.length;++ht)ft.attribute[ht]=ut.onnx.AttributeProto.toObject(ot.attribute[ht],dt);return ot.docString!=null&&ot.hasOwnProperty("docString")&&(ft.docString=ot.docString),ot.domain!=null&&ot.hasOwnProperty("domain")&&(ft.domain=ot.domain),ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st}(),nt.ModelProto=function(){function st(ot){if(this.opsetImport=[],this.metadataProps=[],ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.irVersion=ct.Long?ct.Long.fromBits(0,0,!1):0,st.prototype.opsetImport=ct.emptyArray,st.prototype.producerName="",st.prototype.producerVersion="",st.prototype.domain="",st.prototype.modelVersion=ct.Long?ct.Long.fromBits(0,0,!1):0,st.prototype.docString="",st.prototype.graph=null,st.prototype.metadataProps=ct.emptyArray,st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){if(dt||(dt=lt.create()),ot.irVersion!=null&&ot.hasOwnProperty("irVersion")&&dt.uint32(8).int64(ot.irVersion),ot.producerName!=null&&ot.hasOwnProperty("producerName")&&dt.uint32(18).string(ot.producerName),ot.producerVersion!=null&&ot.hasOwnProperty("producerVersion")&&dt.uint32(26).string(ot.producerVersion),ot.domain!=null&&ot.hasOwnProperty("domain")&&dt.uint32(34).string(ot.domain),ot.modelVersion!=null&&ot.hasOwnProperty("modelVersion")&&dt.uint32(40).int64(ot.modelVersion),ot.docString!=null&&ot.hasOwnProperty("docString")&&dt.uint32(50).string(ot.docString),ot.graph!=null&&ot.hasOwnProperty("graph")&&ut.onnx.GraphProto.encode(ot.graph,dt.uint32(58).fork()).ldelim(),ot.opsetImport!=null&&ot.opsetImport.length)for(var ft=0;ft<ot.opsetImport.length;++ft)ut.onnx.OperatorSetIdProto.encode(ot.opsetImport[ft],dt.uint32(66).fork()).ldelim();if(ot.metadataProps!=null&&ot.metadataProps.length)for(ft=0;ft<ot.metadataProps.length;++ft)ut.onnx.StringStringEntryProto.encode(ot.metadataProps[ft],dt.uint32(114).fork()).ldelim();return dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.ModelProto;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:ht.irVersion=ot.int64();break;case 8:ht.opsetImport&&ht.opsetImport.length||(ht.opsetImport=[]),ht.opsetImport.push(ut.onnx.OperatorSetIdProto.decode(ot,ot.uint32()));break;case 2:ht.producerName=ot.string();break;case 3:ht.producerVersion=ot.string();break;case 4:ht.domain=ot.string();break;case 5:ht.modelVersion=ot.int64();break;case 6:ht.docString=ot.string();break;case 7:ht.graph=ut.onnx.GraphProto.decode(ot,ot.uint32());break;case 14:ht.metadataProps&&ht.metadataProps.length||(ht.metadataProps=[]),ht.metadataProps.push(ut.onnx.StringStringEntryProto.decode(ot,ot.uint32()));break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){if(typeof ot!="object"||ot===null)return"object expected";if(ot.irVersion!=null&&ot.hasOwnProperty("irVersion")&&!(ct.isInteger(ot.irVersion)||ot.irVersion&&ct.isInteger(ot.irVersion.low)&&ct.isInteger(ot.irVersion.high)))return"irVersion: integer|Long expected";if(ot.opsetImport!=null&&ot.hasOwnProperty("opsetImport")){if(!Array.isArray(ot.opsetImport))return"opsetImport: array expected";for(var dt=0;dt<ot.opsetImport.length;++dt)if(ft=ut.onnx.OperatorSetIdProto.verify(ot.opsetImport[dt]))return"opsetImport."+ft}if(ot.producerName!=null&&ot.hasOwnProperty("producerName")&&!ct.isString(ot.producerName))return"producerName: string expected";if(ot.producerVersion!=null&&ot.hasOwnProperty("producerVersion")&&!ct.isString(ot.producerVersion))return"producerVersion: string expected";if(ot.domain!=null&&ot.hasOwnProperty("domain")&&!ct.isString(ot.domain))return"domain: string expected";if(ot.modelVersion!=null&&ot.hasOwnProperty("modelVersion")&&!(ct.isInteger(ot.modelVersion)||ot.modelVersion&&ct.isInteger(ot.modelVersion.low)&&ct.isInteger(ot.modelVersion.high)))return"modelVersion: integer|Long expected";if(ot.docString!=null&&ot.hasOwnProperty("docString")&&!ct.isString(ot.docString))return"docString: string expected";if(ot.graph!=null&&ot.hasOwnProperty("graph")&&(ft=ut.onnx.GraphProto.verify(ot.graph)))return"graph."+ft;if(ot.metadataProps!=null&&ot.hasOwnProperty("metadataProps")){if(!Array.isArray(ot.metadataProps))return"metadataProps: array expected";for(dt=0;dt<ot.metadataProps.length;++dt){var ft;if(ft=ut.onnx.StringStringEntryProto.verify(ot.metadataProps[dt]))return"metadataProps."+ft}}return null},st.fromObject=function(ot){if(ot instanceof ut.onnx.ModelProto)return ot;var dt=new ut.onnx.ModelProto;if(ot.irVersion!=null&&(ct.Long?(dt.irVersion=ct.Long.fromValue(ot.irVersion)).unsigned=!1:typeof ot.irVersion=="string"?dt.irVersion=parseInt(ot.irVersion,10):typeof ot.irVersion=="number"?dt.irVersion=ot.irVersion:typeof ot.irVersion=="object"&&(dt.irVersion=new ct.LongBits(ot.irVersion.low>>>0,ot.irVersion.high>>>0).toNumber())),ot.opsetImport){if(!Array.isArray(ot.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");dt.opsetImport=[];for(var ft=0;ft<ot.opsetImport.length;++ft){if(typeof ot.opsetImport[ft]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");dt.opsetImport[ft]=ut.onnx.OperatorSetIdProto.fromObject(ot.opsetImport[ft])}}if(ot.producerName!=null&&(dt.producerName=String(ot.producerName)),ot.producerVersion!=null&&(dt.producerVersion=String(ot.producerVersion)),ot.domain!=null&&(dt.domain=String(ot.domain)),ot.modelVersion!=null&&(ct.Long?(dt.modelVersion=ct.Long.fromValue(ot.modelVersion)).unsigned=!1:typeof ot.modelVersion=="string"?dt.modelVersion=parseInt(ot.modelVersion,10):typeof ot.modelVersion=="number"?dt.modelVersion=ot.modelVersion:typeof ot.modelVersion=="object"&&(dt.modelVersion=new ct.LongBits(ot.modelVersion.low>>>0,ot.modelVersion.high>>>0).toNumber())),ot.docString!=null&&(dt.docString=String(ot.docString)),ot.graph!=null){if(typeof ot.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");dt.graph=ut.onnx.GraphProto.fromObject(ot.graph)}if(ot.metadataProps){if(!Array.isArray(ot.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(dt.metadataProps=[],ft=0;ft<ot.metadataProps.length;++ft){if(typeof ot.metadataProps[ft]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");dt.metadataProps[ft]=ut.onnx.StringStringEntryProto.fromObject(ot.metadataProps[ft])}}return dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};if((dt.arrays||dt.defaults)&&(ft.opsetImport=[],ft.metadataProps=[]),dt.defaults){if(ct.Long){var ht=new ct.Long(0,0,!1);ft.irVersion=dt.longs===String?ht.toString():dt.longs===Number?ht.toNumber():ht}else ft.irVersion=dt.longs===String?"0":0;ft.producerName="",ft.producerVersion="",ft.domain="",ct.Long?(ht=new ct.Long(0,0,!1),ft.modelVersion=dt.longs===String?ht.toString():dt.longs===Number?ht.toNumber():ht):ft.modelVersion=dt.longs===String?"0":0,ft.docString="",ft.graph=null}if(ot.irVersion!=null&&ot.hasOwnProperty("irVersion")&&(typeof ot.irVersion=="number"?ft.irVersion=dt.longs===String?String(ot.irVersion):ot.irVersion:ft.irVersion=dt.longs===String?ct.Long.prototype.toString.call(ot.irVersion):dt.longs===Number?new ct.LongBits(ot.irVersion.low>>>0,ot.irVersion.high>>>0).toNumber():ot.irVersion),ot.producerName!=null&&ot.hasOwnProperty("producerName")&&(ft.producerName=ot.producerName),ot.producerVersion!=null&&ot.hasOwnProperty("producerVersion")&&(ft.producerVersion=ot.producerVersion),ot.domain!=null&&ot.hasOwnProperty("domain")&&(ft.domain=ot.domain),ot.modelVersion!=null&&ot.hasOwnProperty("modelVersion")&&(typeof ot.modelVersion=="number"?ft.modelVersion=dt.longs===String?String(ot.modelVersion):ot.modelVersion:ft.modelVersion=dt.longs===String?ct.Long.prototype.toString.call(ot.modelVersion):dt.longs===Number?new ct.LongBits(ot.modelVersion.low>>>0,ot.modelVersion.high>>>0).toNumber():ot.modelVersion),ot.docString!=null&&ot.hasOwnProperty("docString")&&(ft.docString=ot.docString),ot.graph!=null&&ot.hasOwnProperty("graph")&&(ft.graph=ut.onnx.GraphProto.toObject(ot.graph,dt)),ot.opsetImport&&ot.opsetImport.length){ft.opsetImport=[];for(var mt=0;mt<ot.opsetImport.length;++mt)ft.opsetImport[mt]=ut.onnx.OperatorSetIdProto.toObject(ot.opsetImport[mt],dt)}if(ot.metadataProps&&ot.metadataProps.length)for(ft.metadataProps=[],mt=0;mt<ot.metadataProps.length;++mt)ft.metadataProps[mt]=ut.onnx.StringStringEntryProto.toObject(ot.metadataProps[mt],dt);return ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st}(),nt.StringStringEntryProto=function(){function st(ot){if(ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.key="",st.prototype.value="",st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){return dt||(dt=lt.create()),ot.key!=null&&ot.hasOwnProperty("key")&&dt.uint32(10).string(ot.key),ot.value!=null&&ot.hasOwnProperty("value")&&dt.uint32(18).string(ot.value),dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.StringStringEntryProto;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:ht.key=ot.string();break;case 2:ht.value=ot.string();break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){return typeof ot!="object"||ot===null?"object expected":ot.key!=null&&ot.hasOwnProperty("key")&&!ct.isString(ot.key)?"key: string expected":ot.value!=null&&ot.hasOwnProperty("value")&&!ct.isString(ot.value)?"value: string expected":null},st.fromObject=function(ot){if(ot instanceof ut.onnx.StringStringEntryProto)return ot;var dt=new ut.onnx.StringStringEntryProto;return ot.key!=null&&(dt.key=String(ot.key)),ot.value!=null&&(dt.value=String(ot.value)),dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};return dt.defaults&&(ft.key="",ft.value=""),ot.key!=null&&ot.hasOwnProperty("key")&&(ft.key=ot.key),ot.value!=null&&ot.hasOwnProperty("value")&&(ft.value=ot.value),ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st}(),nt.TensorAnnotation=function(){function st(ot){if(this.quantParameterTensorNames=[],ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.tensorName="",st.prototype.quantParameterTensorNames=ct.emptyArray,st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){if(dt||(dt=lt.create()),ot.tensorName!=null&&ot.hasOwnProperty("tensorName")&&dt.uint32(10).string(ot.tensorName),ot.quantParameterTensorNames!=null&&ot.quantParameterTensorNames.length)for(var ft=0;ft<ot.quantParameterTensorNames.length;++ft)ut.onnx.StringStringEntryProto.encode(ot.quantParameterTensorNames[ft],dt.uint32(18).fork()).ldelim();return dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.TensorAnnotation;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:ht.tensorName=ot.string();break;case 2:ht.quantParameterTensorNames&&ht.quantParameterTensorNames.length||(ht.quantParameterTensorNames=[]),ht.quantParameterTensorNames.push(ut.onnx.StringStringEntryProto.decode(ot,ot.uint32()));break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){if(typeof ot!="object"||ot===null)return"object expected";if(ot.tensorName!=null&&ot.hasOwnProperty("tensorName")&&!ct.isString(ot.tensorName))return"tensorName: string expected";if(ot.quantParameterTensorNames!=null&&ot.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(ot.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var dt=0;dt<ot.quantParameterTensorNames.length;++dt){var ft=ut.onnx.StringStringEntryProto.verify(ot.quantParameterTensorNames[dt]);if(ft)return"quantParameterTensorNames."+ft}}return null},st.fromObject=function(ot){if(ot instanceof ut.onnx.TensorAnnotation)return ot;var dt=new ut.onnx.TensorAnnotation;if(ot.tensorName!=null&&(dt.tensorName=String(ot.tensorName)),ot.quantParameterTensorNames){if(!Array.isArray(ot.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");dt.quantParameterTensorNames=[];for(var ft=0;ft<ot.quantParameterTensorNames.length;++ft){if(typeof ot.quantParameterTensorNames[ft]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");dt.quantParameterTensorNames[ft]=ut.onnx.StringStringEntryProto.fromObject(ot.quantParameterTensorNames[ft])}}return dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};if((dt.arrays||dt.defaults)&&(ft.quantParameterTensorNames=[]),dt.defaults&&(ft.tensorName=""),ot.tensorName!=null&&ot.hasOwnProperty("tensorName")&&(ft.tensorName=ot.tensorName),ot.quantParameterTensorNames&&ot.quantParameterTensorNames.length){ft.quantParameterTensorNames=[];for(var ht=0;ht<ot.quantParameterTensorNames.length;++ht)ft.quantParameterTensorNames[ht]=ut.onnx.StringStringEntryProto.toObject(ot.quantParameterTensorNames[ht],dt)}return ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st}(),nt.GraphProto=function(){function st(ot){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.node=ct.emptyArray,st.prototype.name="",st.prototype.initializer=ct.emptyArray,st.prototype.docString="",st.prototype.input=ct.emptyArray,st.prototype.output=ct.emptyArray,st.prototype.valueInfo=ct.emptyArray,st.prototype.quantizationAnnotation=ct.emptyArray,st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){if(dt||(dt=lt.create()),ot.node!=null&&ot.node.length)for(var ft=0;ft<ot.node.length;++ft)ut.onnx.NodeProto.encode(ot.node[ft],dt.uint32(10).fork()).ldelim();if(ot.name!=null&&ot.hasOwnProperty("name")&&dt.uint32(18).string(ot.name),ot.initializer!=null&&ot.initializer.length)for(ft=0;ft<ot.initializer.length;++ft)ut.onnx.TensorProto.encode(ot.initializer[ft],dt.uint32(42).fork()).ldelim();if(ot.docString!=null&&ot.hasOwnProperty("docString")&&dt.uint32(82).string(ot.docString),ot.input!=null&&ot.input.length)for(ft=0;ft<ot.input.length;++ft)ut.onnx.ValueInfoProto.encode(ot.input[ft],dt.uint32(90).fork()).ldelim();if(ot.output!=null&&ot.output.length)for(ft=0;ft<ot.output.length;++ft)ut.onnx.ValueInfoProto.encode(ot.output[ft],dt.uint32(98).fork()).ldelim();if(ot.valueInfo!=null&&ot.valueInfo.length)for(ft=0;ft<ot.valueInfo.length;++ft)ut.onnx.ValueInfoProto.encode(ot.valueInfo[ft],dt.uint32(106).fork()).ldelim();if(ot.quantizationAnnotation!=null&&ot.quantizationAnnotation.length)for(ft=0;ft<ot.quantizationAnnotation.length;++ft)ut.onnx.TensorAnnotation.encode(ot.quantizationAnnotation[ft],dt.uint32(114).fork()).ldelim();return dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.GraphProto;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:ht.node&&ht.node.length||(ht.node=[]),ht.node.push(ut.onnx.NodeProto.decode(ot,ot.uint32()));break;case 2:ht.name=ot.string();break;case 5:ht.initializer&&ht.initializer.length||(ht.initializer=[]),ht.initializer.push(ut.onnx.TensorProto.decode(ot,ot.uint32()));break;case 10:ht.docString=ot.string();break;case 11:ht.input&&ht.input.length||(ht.input=[]),ht.input.push(ut.onnx.ValueInfoProto.decode(ot,ot.uint32()));break;case 12:ht.output&&ht.output.length||(ht.output=[]),ht.output.push(ut.onnx.ValueInfoProto.decode(ot,ot.uint32()));break;case 13:ht.valueInfo&&ht.valueInfo.length||(ht.valueInfo=[]),ht.valueInfo.push(ut.onnx.ValueInfoProto.decode(ot,ot.uint32()));break;case 14:ht.quantizationAnnotation&&ht.quantizationAnnotation.length||(ht.quantizationAnnotation=[]),ht.quantizationAnnotation.push(ut.onnx.TensorAnnotation.decode(ot,ot.uint32()));break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){if(typeof ot!="object"||ot===null)return"object expected";if(ot.node!=null&&ot.hasOwnProperty("node")){if(!Array.isArray(ot.node))return"node: array expected";for(var dt=0;dt<ot.node.length;++dt)if(ft=ut.onnx.NodeProto.verify(ot.node[dt]))return"node."+ft}if(ot.name!=null&&ot.hasOwnProperty("name")&&!ct.isString(ot.name))return"name: string expected";if(ot.initializer!=null&&ot.hasOwnProperty("initializer")){if(!Array.isArray(ot.initializer))return"initializer: array expected";for(dt=0;dt<ot.initializer.length;++dt)if(ft=ut.onnx.TensorProto.verify(ot.initializer[dt]))return"initializer."+ft}if(ot.docString!=null&&ot.hasOwnProperty("docString")&&!ct.isString(ot.docString))return"docString: string expected";if(ot.input!=null&&ot.hasOwnProperty("input")){if(!Array.isArray(ot.input))return"input: array expected";for(dt=0;dt<ot.input.length;++dt)if(ft=ut.onnx.ValueInfoProto.verify(ot.input[dt]))return"input."+ft}if(ot.output!=null&&ot.hasOwnProperty("output")){if(!Array.isArray(ot.output))return"output: array expected";for(dt=0;dt<ot.output.length;++dt)if(ft=ut.onnx.ValueInfoProto.verify(ot.output[dt]))return"output."+ft}if(ot.valueInfo!=null&&ot.hasOwnProperty("valueInfo")){if(!Array.isArray(ot.valueInfo))return"valueInfo: array expected";for(dt=0;dt<ot.valueInfo.length;++dt)if(ft=ut.onnx.ValueInfoProto.verify(ot.valueInfo[dt]))return"valueInfo."+ft}if(ot.quantizationAnnotation!=null&&ot.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(ot.quantizationAnnotation))return"quantizationAnnotation: array expected";for(dt=0;dt<ot.quantizationAnnotation.length;++dt){var ft;if(ft=ut.onnx.TensorAnnotation.verify(ot.quantizationAnnotation[dt]))return"quantizationAnnotation."+ft}}return null},st.fromObject=function(ot){if(ot instanceof ut.onnx.GraphProto)return ot;var dt=new ut.onnx.GraphProto;if(ot.node){if(!Array.isArray(ot.node))throw TypeError(".onnx.GraphProto.node: array expected");dt.node=[];for(var ft=0;ft<ot.node.length;++ft){if(typeof ot.node[ft]!="object")throw TypeError(".onnx.GraphProto.node: object expected");dt.node[ft]=ut.onnx.NodeProto.fromObject(ot.node[ft])}}if(ot.name!=null&&(dt.name=String(ot.name)),ot.initializer){if(!Array.isArray(ot.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(dt.initializer=[],ft=0;ft<ot.initializer.length;++ft){if(typeof ot.initializer[ft]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");dt.initializer[ft]=ut.onnx.TensorProto.fromObject(ot.initializer[ft])}}if(ot.docString!=null&&(dt.docString=String(ot.docString)),ot.input){if(!Array.isArray(ot.input))throw TypeError(".onnx.GraphProto.input: array expected");for(dt.input=[],ft=0;ft<ot.input.length;++ft){if(typeof ot.input[ft]!="object")throw TypeError(".onnx.GraphProto.input: object expected");dt.input[ft]=ut.onnx.ValueInfoProto.fromObject(ot.input[ft])}}if(ot.output){if(!Array.isArray(ot.output))throw TypeError(".onnx.GraphProto.output: array expected");for(dt.output=[],ft=0;ft<ot.output.length;++ft){if(typeof ot.output[ft]!="object")throw TypeError(".onnx.GraphProto.output: object expected");dt.output[ft]=ut.onnx.ValueInfoProto.fromObject(ot.output[ft])}}if(ot.valueInfo){if(!Array.isArray(ot.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(dt.valueInfo=[],ft=0;ft<ot.valueInfo.length;++ft){if(typeof ot.valueInfo[ft]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");dt.valueInfo[ft]=ut.onnx.ValueInfoProto.fromObject(ot.valueInfo[ft])}}if(ot.quantizationAnnotation){if(!Array.isArray(ot.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(dt.quantizationAnnotation=[],ft=0;ft<ot.quantizationAnnotation.length;++ft){if(typeof ot.quantizationAnnotation[ft]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");dt.quantizationAnnotation[ft]=ut.onnx.TensorAnnotation.fromObject(ot.quantizationAnnotation[ft])}}return dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};if((dt.arrays||dt.defaults)&&(ft.node=[],ft.initializer=[],ft.input=[],ft.output=[],ft.valueInfo=[],ft.quantizationAnnotation=[]),dt.defaults&&(ft.name="",ft.docString=""),ot.node&&ot.node.length){ft.node=[];for(var ht=0;ht<ot.node.length;++ht)ft.node[ht]=ut.onnx.NodeProto.toObject(ot.node[ht],dt)}if(ot.name!=null&&ot.hasOwnProperty("name")&&(ft.name=ot.name),ot.initializer&&ot.initializer.length)for(ft.initializer=[],ht=0;ht<ot.initializer.length;++ht)ft.initializer[ht]=ut.onnx.TensorProto.toObject(ot.initializer[ht],dt);if(ot.docString!=null&&ot.hasOwnProperty("docString")&&(ft.docString=ot.docString),ot.input&&ot.input.length)for(ft.input=[],ht=0;ht<ot.input.length;++ht)ft.input[ht]=ut.onnx.ValueInfoProto.toObject(ot.input[ht],dt);if(ot.output&&ot.output.length)for(ft.output=[],ht=0;ht<ot.output.length;++ht)ft.output[ht]=ut.onnx.ValueInfoProto.toObject(ot.output[ht],dt);if(ot.valueInfo&&ot.valueInfo.length)for(ft.valueInfo=[],ht=0;ht<ot.valueInfo.length;++ht)ft.valueInfo[ht]=ut.onnx.ValueInfoProto.toObject(ot.valueInfo[ht],dt);if(ot.quantizationAnnotation&&ot.quantizationAnnotation.length)for(ft.quantizationAnnotation=[],ht=0;ht<ot.quantizationAnnotation.length;++ht)ft.quantizationAnnotation[ht]=ut.onnx.TensorAnnotation.toObject(ot.quantizationAnnotation[ht],dt);return ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st}(),nt.TensorProto=function(){function st(ot){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.dims=ct.emptyArray,st.prototype.dataType=0,st.prototype.segment=null,st.prototype.floatData=ct.emptyArray,st.prototype.int32Data=ct.emptyArray,st.prototype.stringData=ct.emptyArray,st.prototype.int64Data=ct.emptyArray,st.prototype.name="",st.prototype.docString="",st.prototype.rawData=ct.newBuffer([]),st.prototype.externalData=ct.emptyArray,st.prototype.dataLocation=0,st.prototype.doubleData=ct.emptyArray,st.prototype.uint64Data=ct.emptyArray,st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){if(dt||(dt=lt.create()),ot.dims!=null&&ot.dims.length){dt.uint32(10).fork();for(var ft=0;ft<ot.dims.length;++ft)dt.int64(ot.dims[ft]);dt.ldelim()}if(ot.dataType!=null&&ot.hasOwnProperty("dataType")&&dt.uint32(16).int32(ot.dataType),ot.segment!=null&&ot.hasOwnProperty("segment")&&ut.onnx.TensorProto.Segment.encode(ot.segment,dt.uint32(26).fork()).ldelim(),ot.floatData!=null&&ot.floatData.length){for(dt.uint32(34).fork(),ft=0;ft<ot.floatData.length;++ft)dt.float(ot.floatData[ft]);dt.ldelim()}if(ot.int32Data!=null&&ot.int32Data.length){for(dt.uint32(42).fork(),ft=0;ft<ot.int32Data.length;++ft)dt.int32(ot.int32Data[ft]);dt.ldelim()}if(ot.stringData!=null&&ot.stringData.length)for(ft=0;ft<ot.stringData.length;++ft)dt.uint32(50).bytes(ot.stringData[ft]);if(ot.int64Data!=null&&ot.int64Data.length){for(dt.uint32(58).fork(),ft=0;ft<ot.int64Data.length;++ft)dt.int64(ot.int64Data[ft]);dt.ldelim()}if(ot.name!=null&&ot.hasOwnProperty("name")&&dt.uint32(66).string(ot.name),ot.rawData!=null&&ot.hasOwnProperty("rawData")&&dt.uint32(74).bytes(ot.rawData),ot.doubleData!=null&&ot.doubleData.length){for(dt.uint32(82).fork(),ft=0;ft<ot.doubleData.length;++ft)dt.double(ot.doubleData[ft]);dt.ldelim()}if(ot.uint64Data!=null&&ot.uint64Data.length){for(dt.uint32(90).fork(),ft=0;ft<ot.uint64Data.length;++ft)dt.uint64(ot.uint64Data[ft]);dt.ldelim()}if(ot.docString!=null&&ot.hasOwnProperty("docString")&&dt.uint32(98).string(ot.docString),ot.externalData!=null&&ot.externalData.length)for(ft=0;ft<ot.externalData.length;++ft)ut.onnx.StringStringEntryProto.encode(ot.externalData[ft],dt.uint32(106).fork()).ldelim();return ot.dataLocation!=null&&ot.hasOwnProperty("dataLocation")&&dt.uint32(112).int32(ot.dataLocation),dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.TensorProto;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:if(ht.dims&&ht.dims.length||(ht.dims=[]),(7&mt)==2)for(var gt=ot.uint32()+ot.pos;ot.pos<gt;)ht.dims.push(ot.int64());else ht.dims.push(ot.int64());break;case 2:ht.dataType=ot.int32();break;case 3:ht.segment=ut.onnx.TensorProto.Segment.decode(ot,ot.uint32());break;case 4:if(ht.floatData&&ht.floatData.length||(ht.floatData=[]),(7&mt)==2)for(gt=ot.uint32()+ot.pos;ot.pos<gt;)ht.floatData.push(ot.float());else ht.floatData.push(ot.float());break;case 5:if(ht.int32Data&&ht.int32Data.length||(ht.int32Data=[]),(7&mt)==2)for(gt=ot.uint32()+ot.pos;ot.pos<gt;)ht.int32Data.push(ot.int32());else ht.int32Data.push(ot.int32());break;case 6:ht.stringData&&ht.stringData.length||(ht.stringData=[]),ht.stringData.push(ot.bytes());break;case 7:if(ht.int64Data&&ht.int64Data.length||(ht.int64Data=[]),(7&mt)==2)for(gt=ot.uint32()+ot.pos;ot.pos<gt;)ht.int64Data.push(ot.int64());else ht.int64Data.push(ot.int64());break;case 8:ht.name=ot.string();break;case 12:ht.docString=ot.string();break;case 9:ht.rawData=ot.bytes();break;case 13:ht.externalData&&ht.externalData.length||(ht.externalData=[]),ht.externalData.push(ut.onnx.StringStringEntryProto.decode(ot,ot.uint32()));break;case 14:ht.dataLocation=ot.int32();break;case 10:if(ht.doubleData&&ht.doubleData.length||(ht.doubleData=[]),(7&mt)==2)for(gt=ot.uint32()+ot.pos;ot.pos<gt;)ht.doubleData.push(ot.double());else ht.doubleData.push(ot.double());break;case 11:if(ht.uint64Data&&ht.uint64Data.length||(ht.uint64Data=[]),(7&mt)==2)for(gt=ot.uint32()+ot.pos;ot.pos<gt;)ht.uint64Data.push(ot.uint64());else ht.uint64Data.push(ot.uint64());break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){if(typeof ot!="object"||ot===null)return"object expected";if(ot.dims!=null&&ot.hasOwnProperty("dims")){if(!Array.isArray(ot.dims))return"dims: array expected";for(var dt=0;dt<ot.dims.length;++dt)if(!(ct.isInteger(ot.dims[dt])||ot.dims[dt]&&ct.isInteger(ot.dims[dt].low)&&ct.isInteger(ot.dims[dt].high)))return"dims: integer|Long[] expected"}if(ot.dataType!=null&&ot.hasOwnProperty("dataType")&&!ct.isInteger(ot.dataType))return"dataType: integer expected";if(ot.segment!=null&&ot.hasOwnProperty("segment")&&(ft=ut.onnx.TensorProto.Segment.verify(ot.segment)))return"segment."+ft;if(ot.floatData!=null&&ot.hasOwnProperty("floatData")){if(!Array.isArray(ot.floatData))return"floatData: array expected";for(dt=0;dt<ot.floatData.length;++dt)if(typeof ot.floatData[dt]!="number")return"floatData: number[] expected"}if(ot.int32Data!=null&&ot.hasOwnProperty("int32Data")){if(!Array.isArray(ot.int32Data))return"int32Data: array expected";for(dt=0;dt<ot.int32Data.length;++dt)if(!ct.isInteger(ot.int32Data[dt]))return"int32Data: integer[] expected"}if(ot.stringData!=null&&ot.hasOwnProperty("stringData")){if(!Array.isArray(ot.stringData))return"stringData: array expected";for(dt=0;dt<ot.stringData.length;++dt)if(!(ot.stringData[dt]&&typeof ot.stringData[dt].length=="number"||ct.isString(ot.stringData[dt])))return"stringData: buffer[] expected"}if(ot.int64Data!=null&&ot.hasOwnProperty("int64Data")){if(!Array.isArray(ot.int64Data))return"int64Data: array expected";for(dt=0;dt<ot.int64Data.length;++dt)if(!(ct.isInteger(ot.int64Data[dt])||ot.int64Data[dt]&&ct.isInteger(ot.int64Data[dt].low)&&ct.isInteger(ot.int64Data[dt].high)))return"int64Data: integer|Long[] expected"}if(ot.name!=null&&ot.hasOwnProperty("name")&&!ct.isString(ot.name))return"name: string expected";if(ot.docString!=null&&ot.hasOwnProperty("docString")&&!ct.isString(ot.docString))return"docString: string expected";if(ot.rawData!=null&&ot.hasOwnProperty("rawData")&&!(ot.rawData&&typeof ot.rawData.length=="number"||ct.isString(ot.rawData)))return"rawData: buffer expected";if(ot.externalData!=null&&ot.hasOwnProperty("externalData")){if(!Array.isArray(ot.externalData))return"externalData: array expected";for(dt=0;dt<ot.externalData.length;++dt){var ft;if(ft=ut.onnx.StringStringEntryProto.verify(ot.externalData[dt]))return"externalData."+ft}}if(ot.dataLocation!=null&&ot.hasOwnProperty("dataLocation"))switch(ot.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(ot.doubleData!=null&&ot.hasOwnProperty("doubleData")){if(!Array.isArray(ot.doubleData))return"doubleData: array expected";for(dt=0;dt<ot.doubleData.length;++dt)if(typeof ot.doubleData[dt]!="number")return"doubleData: number[] expected"}if(ot.uint64Data!=null&&ot.hasOwnProperty("uint64Data")){if(!Array.isArray(ot.uint64Data))return"uint64Data: array expected";for(dt=0;dt<ot.uint64Data.length;++dt)if(!(ct.isInteger(ot.uint64Data[dt])||ot.uint64Data[dt]&&ct.isInteger(ot.uint64Data[dt].low)&&ct.isInteger(ot.uint64Data[dt].high)))return"uint64Data: integer|Long[] expected"}return null},st.fromObject=function(ot){if(ot instanceof ut.onnx.TensorProto)return ot;var dt=new ut.onnx.TensorProto;if(ot.dims){if(!Array.isArray(ot.dims))throw TypeError(".onnx.TensorProto.dims: array expected");dt.dims=[];for(var ft=0;ft<ot.dims.length;++ft)ct.Long?(dt.dims[ft]=ct.Long.fromValue(ot.dims[ft])).unsigned=!1:typeof ot.dims[ft]=="string"?dt.dims[ft]=parseInt(ot.dims[ft],10):typeof ot.dims[ft]=="number"?dt.dims[ft]=ot.dims[ft]:typeof ot.dims[ft]=="object"&&(dt.dims[ft]=new ct.LongBits(ot.dims[ft].low>>>0,ot.dims[ft].high>>>0).toNumber())}if(ot.dataType!=null&&(dt.dataType=0|ot.dataType),ot.segment!=null){if(typeof ot.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");dt.segment=ut.onnx.TensorProto.Segment.fromObject(ot.segment)}if(ot.floatData){if(!Array.isArray(ot.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(dt.floatData=[],ft=0;ft<ot.floatData.length;++ft)dt.floatData[ft]=Number(ot.floatData[ft])}if(ot.int32Data){if(!Array.isArray(ot.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(dt.int32Data=[],ft=0;ft<ot.int32Data.length;++ft)dt.int32Data[ft]=0|ot.int32Data[ft]}if(ot.stringData){if(!Array.isArray(ot.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(dt.stringData=[],ft=0;ft<ot.stringData.length;++ft)typeof ot.stringData[ft]=="string"?ct.base64.decode(ot.stringData[ft],dt.stringData[ft]=ct.newBuffer(ct.base64.length(ot.stringData[ft])),0):ot.stringData[ft].length&&(dt.stringData[ft]=ot.stringData[ft])}if(ot.int64Data){if(!Array.isArray(ot.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(dt.int64Data=[],ft=0;ft<ot.int64Data.length;++ft)ct.Long?(dt.int64Data[ft]=ct.Long.fromValue(ot.int64Data[ft])).unsigned=!1:typeof ot.int64Data[ft]=="string"?dt.int64Data[ft]=parseInt(ot.int64Data[ft],10):typeof ot.int64Data[ft]=="number"?dt.int64Data[ft]=ot.int64Data[ft]:typeof ot.int64Data[ft]=="object"&&(dt.int64Data[ft]=new ct.LongBits(ot.int64Data[ft].low>>>0,ot.int64Data[ft].high>>>0).toNumber())}if(ot.name!=null&&(dt.name=String(ot.name)),ot.docString!=null&&(dt.docString=String(ot.docString)),ot.rawData!=null&&(typeof ot.rawData=="string"?ct.base64.decode(ot.rawData,dt.rawData=ct.newBuffer(ct.base64.length(ot.rawData)),0):ot.rawData.length&&(dt.rawData=ot.rawData)),ot.externalData){if(!Array.isArray(ot.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(dt.externalData=[],ft=0;ft<ot.externalData.length;++ft){if(typeof ot.externalData[ft]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");dt.externalData[ft]=ut.onnx.StringStringEntryProto.fromObject(ot.externalData[ft])}}switch(ot.dataLocation){case"DEFAULT":case 0:dt.dataLocation=0;break;case"EXTERNAL":case 1:dt.dataLocation=1}if(ot.doubleData){if(!Array.isArray(ot.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(dt.doubleData=[],ft=0;ft<ot.doubleData.length;++ft)dt.doubleData[ft]=Number(ot.doubleData[ft])}if(ot.uint64Data){if(!Array.isArray(ot.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(dt.uint64Data=[],ft=0;ft<ot.uint64Data.length;++ft)ct.Long?(dt.uint64Data[ft]=ct.Long.fromValue(ot.uint64Data[ft])).unsigned=!0:typeof ot.uint64Data[ft]=="string"?dt.uint64Data[ft]=parseInt(ot.uint64Data[ft],10):typeof ot.uint64Data[ft]=="number"?dt.uint64Data[ft]=ot.uint64Data[ft]:typeof ot.uint64Data[ft]=="object"&&(dt.uint64Data[ft]=new ct.LongBits(ot.uint64Data[ft].low>>>0,ot.uint64Data[ft].high>>>0).toNumber(!0))}return dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};if((dt.arrays||dt.defaults)&&(ft.dims=[],ft.floatData=[],ft.int32Data=[],ft.stringData=[],ft.int64Data=[],ft.doubleData=[],ft.uint64Data=[],ft.externalData=[]),dt.defaults&&(ft.dataType=0,ft.segment=null,ft.name="",dt.bytes===String?ft.rawData="":(ft.rawData=[],dt.bytes!==Array&&(ft.rawData=ct.newBuffer(ft.rawData))),ft.docString="",ft.dataLocation=dt.enums===String?"DEFAULT":0),ot.dims&&ot.dims.length){ft.dims=[];for(var ht=0;ht<ot.dims.length;++ht)typeof ot.dims[ht]=="number"?ft.dims[ht]=dt.longs===String?String(ot.dims[ht]):ot.dims[ht]:ft.dims[ht]=dt.longs===String?ct.Long.prototype.toString.call(ot.dims[ht]):dt.longs===Number?new ct.LongBits(ot.dims[ht].low>>>0,ot.dims[ht].high>>>0).toNumber():ot.dims[ht]}if(ot.dataType!=null&&ot.hasOwnProperty("dataType")&&(ft.dataType=ot.dataType),ot.segment!=null&&ot.hasOwnProperty("segment")&&(ft.segment=ut.onnx.TensorProto.Segment.toObject(ot.segment,dt)),ot.floatData&&ot.floatData.length)for(ft.floatData=[],ht=0;ht<ot.floatData.length;++ht)ft.floatData[ht]=dt.json&&!isFinite(ot.floatData[ht])?String(ot.floatData[ht]):ot.floatData[ht];if(ot.int32Data&&ot.int32Data.length)for(ft.int32Data=[],ht=0;ht<ot.int32Data.length;++ht)ft.int32Data[ht]=ot.int32Data[ht];if(ot.stringData&&ot.stringData.length)for(ft.stringData=[],ht=0;ht<ot.stringData.length;++ht)ft.stringData[ht]=dt.bytes===String?ct.base64.encode(ot.stringData[ht],0,ot.stringData[ht].length):dt.bytes===Array?Array.prototype.slice.call(ot.stringData[ht]):ot.stringData[ht];if(ot.int64Data&&ot.int64Data.length)for(ft.int64Data=[],ht=0;ht<ot.int64Data.length;++ht)typeof ot.int64Data[ht]=="number"?ft.int64Data[ht]=dt.longs===String?String(ot.int64Data[ht]):ot.int64Data[ht]:ft.int64Data[ht]=dt.longs===String?ct.Long.prototype.toString.call(ot.int64Data[ht]):dt.longs===Number?new ct.LongBits(ot.int64Data[ht].low>>>0,ot.int64Data[ht].high>>>0).toNumber():ot.int64Data[ht];if(ot.name!=null&&ot.hasOwnProperty("name")&&(ft.name=ot.name),ot.rawData!=null&&ot.hasOwnProperty("rawData")&&(ft.rawData=dt.bytes===String?ct.base64.encode(ot.rawData,0,ot.rawData.length):dt.bytes===Array?Array.prototype.slice.call(ot.rawData):ot.rawData),ot.doubleData&&ot.doubleData.length)for(ft.doubleData=[],ht=0;ht<ot.doubleData.length;++ht)ft.doubleData[ht]=dt.json&&!isFinite(ot.doubleData[ht])?String(ot.doubleData[ht]):ot.doubleData[ht];if(ot.uint64Data&&ot.uint64Data.length)for(ft.uint64Data=[],ht=0;ht<ot.uint64Data.length;++ht)typeof ot.uint64Data[ht]=="number"?ft.uint64Data[ht]=dt.longs===String?String(ot.uint64Data[ht]):ot.uint64Data[ht]:ft.uint64Data[ht]=dt.longs===String?ct.Long.prototype.toString.call(ot.uint64Data[ht]):dt.longs===Number?new ct.LongBits(ot.uint64Data[ht].low>>>0,ot.uint64Data[ht].high>>>0).toNumber(!0):ot.uint64Data[ht];if(ot.docString!=null&&ot.hasOwnProperty("docString")&&(ft.docString=ot.docString),ot.externalData&&ot.externalData.length)for(ft.externalData=[],ht=0;ht<ot.externalData.length;++ht)ft.externalData[ht]=ut.onnx.StringStringEntryProto.toObject(ot.externalData[ht],dt);return ot.dataLocation!=null&&ot.hasOwnProperty("dataLocation")&&(ft.dataLocation=dt.enums===String?ut.onnx.TensorProto.DataLocation[ot.dataLocation]:ot.dataLocation),ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st.DataType=function(){var ot={},dt=Object.create(ot);return dt[ot[0]="UNDEFINED"]=0,dt[ot[1]="FLOAT"]=1,dt[ot[2]="UINT8"]=2,dt[ot[3]="INT8"]=3,dt[ot[4]="UINT16"]=4,dt[ot[5]="INT16"]=5,dt[ot[6]="INT32"]=6,dt[ot[7]="INT64"]=7,dt[ot[8]="STRING"]=8,dt[ot[9]="BOOL"]=9,dt[ot[10]="FLOAT16"]=10,dt[ot[11]="DOUBLE"]=11,dt[ot[12]="UINT32"]=12,dt[ot[13]="UINT64"]=13,dt[ot[14]="COMPLEX64"]=14,dt[ot[15]="COMPLEX128"]=15,dt[ot[16]="BFLOAT16"]=16,dt}(),st.Segment=function(){function ot(dt){if(dt)for(var ft=Object.keys(dt),ht=0;ht<ft.length;++ht)dt[ft[ht]]!=null&&(this[ft[ht]]=dt[ft[ht]])}return ot.prototype.begin=ct.Long?ct.Long.fromBits(0,0,!1):0,ot.prototype.end=ct.Long?ct.Long.fromBits(0,0,!1):0,ot.create=function(dt){return new ot(dt)},ot.encode=function(dt,ft){return ft||(ft=lt.create()),dt.begin!=null&&dt.hasOwnProperty("begin")&&ft.uint32(8).int64(dt.begin),dt.end!=null&&dt.hasOwnProperty("end")&&ft.uint32(16).int64(dt.end),ft},ot.encodeDelimited=function(dt,ft){return this.encode(dt,ft).ldelim()},ot.decode=function(dt,ft){dt instanceof at||(dt=at.create(dt));for(var ht=ft===void 0?dt.len:dt.pos+ft,mt=new ut.onnx.TensorProto.Segment;dt.pos<ht;){var gt=dt.uint32();switch(gt>>>3){case 1:mt.begin=dt.int64();break;case 2:mt.end=dt.int64();break;default:dt.skipType(7&gt)}}return mt},ot.decodeDelimited=function(dt){return dt instanceof at||(dt=new at(dt)),this.decode(dt,dt.uint32())},ot.verify=function(dt){return typeof dt!="object"||dt===null?"object expected":dt.begin!=null&&dt.hasOwnProperty("begin")&&!(ct.isInteger(dt.begin)||dt.begin&&ct.isInteger(dt.begin.low)&&ct.isInteger(dt.begin.high))?"begin: integer|Long expected":dt.end!=null&&dt.hasOwnProperty("end")&&!(ct.isInteger(dt.end)||dt.end&&ct.isInteger(dt.end.low)&&ct.isInteger(dt.end.high))?"end: integer|Long expected":null},ot.fromObject=function(dt){if(dt instanceof ut.onnx.TensorProto.Segment)return dt;var ft=new ut.onnx.TensorProto.Segment;return dt.begin!=null&&(ct.Long?(ft.begin=ct.Long.fromValue(dt.begin)).unsigned=!1:typeof dt.begin=="string"?ft.begin=parseInt(dt.begin,10):typeof dt.begin=="number"?ft.begin=dt.begin:typeof dt.begin=="object"&&(ft.begin=new ct.LongBits(dt.begin.low>>>0,dt.begin.high>>>0).toNumber())),dt.end!=null&&(ct.Long?(ft.end=ct.Long.fromValue(dt.end)).unsigned=!1:typeof dt.end=="string"?ft.end=parseInt(dt.end,10):typeof dt.end=="number"?ft.end=dt.end:typeof dt.end=="object"&&(ft.end=new ct.LongBits(dt.end.low>>>0,dt.end.high>>>0).toNumber())),ft},ot.toObject=function(dt,ft){ft||(ft={});var ht={};if(ft.defaults){if(ct.Long){var mt=new ct.Long(0,0,!1);ht.begin=ft.longs===String?mt.toString():ft.longs===Number?mt.toNumber():mt}else ht.begin=ft.longs===String?"0":0;ct.Long?(mt=new ct.Long(0,0,!1),ht.end=ft.longs===String?mt.toString():ft.longs===Number?mt.toNumber():mt):ht.end=ft.longs===String?"0":0}return dt.begin!=null&&dt.hasOwnProperty("begin")&&(typeof dt.begin=="number"?ht.begin=ft.longs===String?String(dt.begin):dt.begin:ht.begin=ft.longs===String?ct.Long.prototype.toString.call(dt.begin):ft.longs===Number?new ct.LongBits(dt.begin.low>>>0,dt.begin.high>>>0).toNumber():dt.begin),dt.end!=null&&dt.hasOwnProperty("end")&&(typeof dt.end=="number"?ht.end=ft.longs===String?String(dt.end):dt.end:ht.end=ft.longs===String?ct.Long.prototype.toString.call(dt.end):ft.longs===Number?new ct.LongBits(dt.end.low>>>0,dt.end.high>>>0).toNumber():dt.end),ht},ot.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},ot}(),st.DataLocation=function(){var ot={},dt=Object.create(ot);return dt[ot[0]="DEFAULT"]=0,dt[ot[1]="EXTERNAL"]=1,dt}(),st}(),nt.TensorShapeProto=function(){function st(ot){if(this.dim=[],ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.dim=ct.emptyArray,st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){if(dt||(dt=lt.create()),ot.dim!=null&&ot.dim.length)for(var ft=0;ft<ot.dim.length;++ft)ut.onnx.TensorShapeProto.Dimension.encode(ot.dim[ft],dt.uint32(10).fork()).ldelim();return dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.TensorShapeProto;ot.pos<ft;){var mt=ot.uint32();mt>>>3==1?(ht.dim&&ht.dim.length||(ht.dim=[]),ht.dim.push(ut.onnx.TensorShapeProto.Dimension.decode(ot,ot.uint32()))):ot.skipType(7&mt)}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){if(typeof ot!="object"||ot===null)return"object expected";if(ot.dim!=null&&ot.hasOwnProperty("dim")){if(!Array.isArray(ot.dim))return"dim: array expected";for(var dt=0;dt<ot.dim.length;++dt){var ft=ut.onnx.TensorShapeProto.Dimension.verify(ot.dim[dt]);if(ft)return"dim."+ft}}return null},st.fromObject=function(ot){if(ot instanceof ut.onnx.TensorShapeProto)return ot;var dt=new ut.onnx.TensorShapeProto;if(ot.dim){if(!Array.isArray(ot.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");dt.dim=[];for(var ft=0;ft<ot.dim.length;++ft){if(typeof ot.dim[ft]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");dt.dim[ft]=ut.onnx.TensorShapeProto.Dimension.fromObject(ot.dim[ft])}}return dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};if((dt.arrays||dt.defaults)&&(ft.dim=[]),ot.dim&&ot.dim.length){ft.dim=[];for(var ht=0;ht<ot.dim.length;++ht)ft.dim[ht]=ut.onnx.TensorShapeProto.Dimension.toObject(ot.dim[ht],dt)}return ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st.Dimension=function(){function ot(ft){if(ft)for(var ht=Object.keys(ft),mt=0;mt<ht.length;++mt)ft[ht[mt]]!=null&&(this[ht[mt]]=ft[ht[mt]])}var dt;return ot.prototype.dimValue=ct.Long?ct.Long.fromBits(0,0,!1):0,ot.prototype.dimParam="",ot.prototype.denotation="",Object.defineProperty(ot.prototype,"value",{get:ct.oneOfGetter(dt=["dimValue","dimParam"]),set:ct.oneOfSetter(dt)}),ot.create=function(ft){return new ot(ft)},ot.encode=function(ft,ht){return ht||(ht=lt.create()),ft.dimValue!=null&&ft.hasOwnProperty("dimValue")&&ht.uint32(8).int64(ft.dimValue),ft.dimParam!=null&&ft.hasOwnProperty("dimParam")&&ht.uint32(18).string(ft.dimParam),ft.denotation!=null&&ft.hasOwnProperty("denotation")&&ht.uint32(26).string(ft.denotation),ht},ot.encodeDelimited=function(ft,ht){return this.encode(ft,ht).ldelim()},ot.decode=function(ft,ht){ft instanceof at||(ft=at.create(ft));for(var mt=ht===void 0?ft.len:ft.pos+ht,gt=new ut.onnx.TensorShapeProto.Dimension;ft.pos<mt;){var yt=ft.uint32();switch(yt>>>3){case 1:gt.dimValue=ft.int64();break;case 2:gt.dimParam=ft.string();break;case 3:gt.denotation=ft.string();break;default:ft.skipType(7&yt)}}return gt},ot.decodeDelimited=function(ft){return ft instanceof at||(ft=new at(ft)),this.decode(ft,ft.uint32())},ot.verify=function(ft){if(typeof ft!="object"||ft===null)return"object expected";var ht={};if(ft.dimValue!=null&&ft.hasOwnProperty("dimValue")&&(ht.value=1,!(ct.isInteger(ft.dimValue)||ft.dimValue&&ct.isInteger(ft.dimValue.low)&&ct.isInteger(ft.dimValue.high))))return"dimValue: integer|Long expected";if(ft.dimParam!=null&&ft.hasOwnProperty("dimParam")){if(ht.value===1)return"value: multiple values";if(ht.value=1,!ct.isString(ft.dimParam))return"dimParam: string expected"}return ft.denotation!=null&&ft.hasOwnProperty("denotation")&&!ct.isString(ft.denotation)?"denotation: string expected":null},ot.fromObject=function(ft){if(ft instanceof ut.onnx.TensorShapeProto.Dimension)return ft;var ht=new ut.onnx.TensorShapeProto.Dimension;return ft.dimValue!=null&&(ct.Long?(ht.dimValue=ct.Long.fromValue(ft.dimValue)).unsigned=!1:typeof ft.dimValue=="string"?ht.dimValue=parseInt(ft.dimValue,10):typeof ft.dimValue=="number"?ht.dimValue=ft.dimValue:typeof ft.dimValue=="object"&&(ht.dimValue=new ct.LongBits(ft.dimValue.low>>>0,ft.dimValue.high>>>0).toNumber())),ft.dimParam!=null&&(ht.dimParam=String(ft.dimParam)),ft.denotation!=null&&(ht.denotation=String(ft.denotation)),ht},ot.toObject=function(ft,ht){ht||(ht={});var mt={};return ht.defaults&&(mt.denotation=""),ft.dimValue!=null&&ft.hasOwnProperty("dimValue")&&(typeof ft.dimValue=="number"?mt.dimValue=ht.longs===String?String(ft.dimValue):ft.dimValue:mt.dimValue=ht.longs===String?ct.Long.prototype.toString.call(ft.dimValue):ht.longs===Number?new ct.LongBits(ft.dimValue.low>>>0,ft.dimValue.high>>>0).toNumber():ft.dimValue,ht.oneofs&&(mt.value="dimValue")),ft.dimParam!=null&&ft.hasOwnProperty("dimParam")&&(mt.dimParam=ft.dimParam,ht.oneofs&&(mt.value="dimParam")),ft.denotation!=null&&ft.hasOwnProperty("denotation")&&(mt.denotation=ft.denotation),mt},ot.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},ot}(),st}(),nt.TypeProto=function(){function st(dt){if(dt)for(var ft=Object.keys(dt),ht=0;ht<ft.length;++ht)dt[ft[ht]]!=null&&(this[ft[ht]]=dt[ft[ht]])}var ot;return st.prototype.tensorType=null,st.prototype.denotation="",Object.defineProperty(st.prototype,"value",{get:ct.oneOfGetter(ot=["tensorType"]),set:ct.oneOfSetter(ot)}),st.create=function(dt){return new st(dt)},st.encode=function(dt,ft){return ft||(ft=lt.create()),dt.tensorType!=null&&dt.hasOwnProperty("tensorType")&&ut.onnx.TypeProto.Tensor.encode(dt.tensorType,ft.uint32(10).fork()).ldelim(),dt.denotation!=null&&dt.hasOwnProperty("denotation")&&ft.uint32(50).string(dt.denotation),ft},st.encodeDelimited=function(dt,ft){return this.encode(dt,ft).ldelim()},st.decode=function(dt,ft){dt instanceof at||(dt=at.create(dt));for(var ht=ft===void 0?dt.len:dt.pos+ft,mt=new ut.onnx.TypeProto;dt.pos<ht;){var gt=dt.uint32();switch(gt>>>3){case 1:mt.tensorType=ut.onnx.TypeProto.Tensor.decode(dt,dt.uint32());break;case 6:mt.denotation=dt.string();break;default:dt.skipType(7&gt)}}return mt},st.decodeDelimited=function(dt){return dt instanceof at||(dt=new at(dt)),this.decode(dt,dt.uint32())},st.verify=function(dt){if(typeof dt!="object"||dt===null)return"object expected";if(dt.tensorType!=null&&dt.hasOwnProperty("tensorType")){var ft=ut.onnx.TypeProto.Tensor.verify(dt.tensorType);if(ft)return"tensorType."+ft}return dt.denotation!=null&&dt.hasOwnProperty("denotation")&&!ct.isString(dt.denotation)?"denotation: string expected":null},st.fromObject=function(dt){if(dt instanceof ut.onnx.TypeProto)return dt;var ft=new ut.onnx.TypeProto;if(dt.tensorType!=null){if(typeof dt.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");ft.tensorType=ut.onnx.TypeProto.Tensor.fromObject(dt.tensorType)}return dt.denotation!=null&&(ft.denotation=String(dt.denotation)),ft},st.toObject=function(dt,ft){ft||(ft={});var ht={};return ft.defaults&&(ht.denotation=""),dt.tensorType!=null&&dt.hasOwnProperty("tensorType")&&(ht.tensorType=ut.onnx.TypeProto.Tensor.toObject(dt.tensorType,ft),ft.oneofs&&(ht.value="tensorType")),dt.denotation!=null&&dt.hasOwnProperty("denotation")&&(ht.denotation=dt.denotation),ht},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st.Tensor=function(){function dt(ft){if(ft)for(var ht=Object.keys(ft),mt=0;mt<ht.length;++mt)ft[ht[mt]]!=null&&(this[ht[mt]]=ft[ht[mt]])}return dt.prototype.elemType=0,dt.prototype.shape=null,dt.create=function(ft){return new dt(ft)},dt.encode=function(ft,ht){return ht||(ht=lt.create()),ft.elemType!=null&&ft.hasOwnProperty("elemType")&&ht.uint32(8).int32(ft.elemType),ft.shape!=null&&ft.hasOwnProperty("shape")&&ut.onnx.TensorShapeProto.encode(ft.shape,ht.uint32(18).fork()).ldelim(),ht},dt.encodeDelimited=function(ft,ht){return this.encode(ft,ht).ldelim()},dt.decode=function(ft,ht){ft instanceof at||(ft=at.create(ft));for(var mt=ht===void 0?ft.len:ft.pos+ht,gt=new ut.onnx.TypeProto.Tensor;ft.pos<mt;){var yt=ft.uint32();switch(yt>>>3){case 1:gt.elemType=ft.int32();break;case 2:gt.shape=ut.onnx.TensorShapeProto.decode(ft,ft.uint32());break;default:ft.skipType(7&yt)}}return gt},dt.decodeDelimited=function(ft){return ft instanceof at||(ft=new at(ft)),this.decode(ft,ft.uint32())},dt.verify=function(ft){if(typeof ft!="object"||ft===null)return"object expected";if(ft.elemType!=null&&ft.hasOwnProperty("elemType")&&!ct.isInteger(ft.elemType))return"elemType: integer expected";if(ft.shape!=null&&ft.hasOwnProperty("shape")){var ht=ut.onnx.TensorShapeProto.verify(ft.shape);if(ht)return"shape."+ht}return null},dt.fromObject=function(ft){if(ft instanceof ut.onnx.TypeProto.Tensor)return ft;var ht=new ut.onnx.TypeProto.Tensor;if(ft.elemType!=null&&(ht.elemType=0|ft.elemType),ft.shape!=null){if(typeof ft.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");ht.shape=ut.onnx.TensorShapeProto.fromObject(ft.shape)}return ht},dt.toObject=function(ft,ht){ht||(ht={});var mt={};return ht.defaults&&(mt.elemType=0,mt.shape=null),ft.elemType!=null&&ft.hasOwnProperty("elemType")&&(mt.elemType=ft.elemType),ft.shape!=null&&ft.hasOwnProperty("shape")&&(mt.shape=ut.onnx.TensorShapeProto.toObject(ft.shape,ht)),mt},dt.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},dt}(),st}(),nt.OperatorSetIdProto=function(){function st(ot){if(ot)for(var dt=Object.keys(ot),ft=0;ft<dt.length;++ft)ot[dt[ft]]!=null&&(this[dt[ft]]=ot[dt[ft]])}return st.prototype.domain="",st.prototype.version=ct.Long?ct.Long.fromBits(0,0,!1):0,st.create=function(ot){return new st(ot)},st.encode=function(ot,dt){return dt||(dt=lt.create()),ot.domain!=null&&ot.hasOwnProperty("domain")&&dt.uint32(10).string(ot.domain),ot.version!=null&&ot.hasOwnProperty("version")&&dt.uint32(16).int64(ot.version),dt},st.encodeDelimited=function(ot,dt){return this.encode(ot,dt).ldelim()},st.decode=function(ot,dt){ot instanceof at||(ot=at.create(ot));for(var ft=dt===void 0?ot.len:ot.pos+dt,ht=new ut.onnx.OperatorSetIdProto;ot.pos<ft;){var mt=ot.uint32();switch(mt>>>3){case 1:ht.domain=ot.string();break;case 2:ht.version=ot.int64();break;default:ot.skipType(7&mt)}}return ht},st.decodeDelimited=function(ot){return ot instanceof at||(ot=new at(ot)),this.decode(ot,ot.uint32())},st.verify=function(ot){return typeof ot!="object"||ot===null?"object expected":ot.domain!=null&&ot.hasOwnProperty("domain")&&!ct.isString(ot.domain)?"domain: string expected":ot.version!=null&&ot.hasOwnProperty("version")&&!(ct.isInteger(ot.version)||ot.version&&ct.isInteger(ot.version.low)&&ct.isInteger(ot.version.high))?"version: integer|Long expected":null},st.fromObject=function(ot){if(ot instanceof ut.onnx.OperatorSetIdProto)return ot;var dt=new ut.onnx.OperatorSetIdProto;return ot.domain!=null&&(dt.domain=String(ot.domain)),ot.version!=null&&(ct.Long?(dt.version=ct.Long.fromValue(ot.version)).unsigned=!1:typeof ot.version=="string"?dt.version=parseInt(ot.version,10):typeof ot.version=="number"?dt.version=ot.version:typeof ot.version=="object"&&(dt.version=new ct.LongBits(ot.version.low>>>0,ot.version.high>>>0).toNumber())),dt},st.toObject=function(ot,dt){dt||(dt={});var ft={};if(dt.defaults)if(ft.domain="",ct.Long){var ht=new ct.Long(0,0,!1);ft.version=dt.longs===String?ht.toString():dt.longs===Number?ht.toNumber():ht}else ft.version=dt.longs===String?"0":0;return ot.domain!=null&&ot.hasOwnProperty("domain")&&(ft.domain=ot.domain),ot.version!=null&&ot.hasOwnProperty("version")&&(typeof ot.version=="number"?ft.version=dt.longs===String?String(ot.version):ot.version:ft.version=dt.longs===String?ct.Long.prototype.toString.call(ot.version):dt.longs===Number?new ct.LongBits(ot.version.low>>>0,ot.version.high>>>0).toNumber():ot.version),ft},st.prototype.toJSON=function(){return this.constructor.toObject(this,it.util.toJSONOptions)},st}(),nt),_e.exports=ut},2100:(_e,_,et)=>{_e.exports=et(9482)},9482:(_e,_,et)=>{var tt=_;function rt(){tt.util._configure(),tt.Writer._configure(tt.BufferWriter),tt.Reader._configure(tt.BufferReader)}tt.build="minimal",tt.Writer=et(1173),tt.BufferWriter=et(3155),tt.Reader=et(1408),tt.BufferReader=et(593),tt.util=et(9693),tt.rpc=et(5994),tt.roots=et(5054),tt.configure=rt,rt()},1408:(_e,_,et)=>{_e.exports=lt;var tt,rt=et(9693),nt=rt.LongBits,it=rt.utf8;function at(ht,mt){return RangeError("index out of range: "+ht.pos+" + "+(mt||1)+" > "+ht.len)}function lt(ht){this.buf=ht,this.pos=0,this.len=ht.length}var ct,ut=typeof Uint8Array<"u"?function(ht){if(ht instanceof Uint8Array||Array.isArray(ht))return new lt(ht);throw Error("illegal buffer")}:function(ht){if(Array.isArray(ht))return new lt(ht);throw Error("illegal buffer")},st=function(){return rt.Buffer?function(ht){return(lt.create=function(mt){return rt.Buffer.isBuffer(mt)?new tt(mt):ut(mt)})(ht)}:ut};function ot(){var ht=new nt(0,0),mt=0;if(!(this.len-this.pos>4)){for(;mt<3;++mt){if(this.pos>=this.len)throw at(this);if(ht.lo=(ht.lo|(127&this.buf[this.pos])<<7*mt)>>>0,this.buf[this.pos++]<128)return ht}return ht.lo=(ht.lo|(127&this.buf[this.pos++])<<7*mt)>>>0,ht}for(;mt<4;++mt)if(ht.lo=(ht.lo|(127&this.buf[this.pos])<<7*mt)>>>0,this.buf[this.pos++]<128)return ht;if(ht.lo=(ht.lo|(127&this.buf[this.pos])<<28)>>>0,ht.hi=(ht.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return ht;if(mt=0,this.len-this.pos>4){for(;mt<5;++mt)if(ht.hi=(ht.hi|(127&this.buf[this.pos])<<7*mt+3)>>>0,this.buf[this.pos++]<128)return ht}else for(;mt<5;++mt){if(this.pos>=this.len)throw at(this);if(ht.hi=(ht.hi|(127&this.buf[this.pos])<<7*mt+3)>>>0,this.buf[this.pos++]<128)return ht}throw Error("invalid varint encoding")}function dt(ht,mt){return(ht[mt-4]|ht[mt-3]<<8|ht[mt-2]<<16|ht[mt-1]<<24)>>>0}function ft(){if(this.pos+8>this.len)throw at(this,8);return new nt(dt(this.buf,this.pos+=4),dt(this.buf,this.pos+=4))}lt.create=st(),lt.prototype._slice=rt.Array.prototype.subarray||rt.Array.prototype.slice,lt.prototype.uint32=(ct=4294967295,function(){if(ct=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(ct=(ct|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return ct;if((this.pos+=5)>this.len)throw this.pos=this.len,at(this,10);return ct}),lt.prototype.int32=function(){return 0|this.uint32()},lt.prototype.sint32=function(){var ht=this.uint32();return ht>>>1^-(1&ht)|0},lt.prototype.bool=function(){return this.uint32()!==0},lt.prototype.fixed32=function(){if(this.pos+4>this.len)throw at(this,4);return dt(this.buf,this.pos+=4)},lt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw at(this,4);return 0|dt(this.buf,this.pos+=4)},lt.prototype.float=function(){if(this.pos+4>this.len)throw at(this,4);var ht=rt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,ht},lt.prototype.double=function(){if(this.pos+8>this.len)throw at(this,4);var ht=rt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,ht},lt.prototype.bytes=function(){var ht=this.uint32(),mt=this.pos,gt=this.pos+ht;if(gt>this.len)throw at(this,ht);return this.pos+=ht,Array.isArray(this.buf)?this.buf.slice(mt,gt):mt===gt?new this.buf.constructor(0):this._slice.call(this.buf,mt,gt)},lt.prototype.string=function(){var ht=this.bytes();return it.read(ht,0,ht.length)},lt.prototype.skip=function(ht){if(typeof ht=="number"){if(this.pos+ht>this.len)throw at(this,ht);this.pos+=ht}else do if(this.pos>=this.len)throw at(this);while(128&this.buf[this.pos++]);return this},lt.prototype.skipType=function(ht){switch(ht){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ht=7&this.uint32())!=4;)this.skipType(ht);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ht+" at offset "+this.pos)}return this},lt._configure=function(ht){tt=ht,lt.create=st(),tt._configure();var mt=rt.Long?"toLong":"toNumber";rt.merge(lt.prototype,{int64:function(){return ot.call(this)[mt](!1)},uint64:function(){return ot.call(this)[mt](!0)},sint64:function(){return ot.call(this).zzDecode()[mt](!1)},fixed64:function(){return ft.call(this)[mt](!0)},sfixed64:function(){return ft.call(this)[mt](!1)}})}},593:(_e,_,et)=>{_e.exports=nt;var tt=et(1408);(nt.prototype=Object.create(tt.prototype)).constructor=nt;var rt=et(9693);function nt(it){tt.call(this,it)}nt._configure=function(){rt.Buffer&&(nt.prototype._slice=rt.Buffer.prototype.slice)},nt.prototype.string=function(){var it=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+it,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+it,this.len))},nt._configure()},5054:_e=>{_e.exports={}},5994:(_e,_,et)=>{_.Service=et(7948)},7948:(_e,_,et)=>{_e.exports=rt;var tt=et(9693);function rt(nt,it,at){if(typeof nt!="function")throw TypeError("rpcImpl must be a function");tt.EventEmitter.call(this),this.rpcImpl=nt,this.requestDelimited=!!it,this.responseDelimited=!!at}(rt.prototype=Object.create(tt.EventEmitter.prototype)).constructor=rt,rt.prototype.rpcCall=function nt(it,at,lt,ct,ut){if(!ct)throw TypeError("request must be specified");var st=this;if(!ut)return tt.asPromise(nt,st,it,at,lt,ct);if(st.rpcImpl)try{return st.rpcImpl(it,at[st.requestDelimited?"encodeDelimited":"encode"](ct).finish(),function(ot,dt){if(ot)return st.emit("error",ot,it),ut(ot);if(dt!==null){if(!(dt instanceof lt))try{dt=lt[st.responseDelimited?"decodeDelimited":"decode"](dt)}catch(ft){return st.emit("error",ft,it),ut(ft)}return st.emit("data",dt,it),ut(null,dt)}st.end(!0)})}catch(ot){return st.emit("error",ot,it),void setTimeout(function(){ut(ot)},0)}else setTimeout(function(){ut(Error("already ended"))},0)},rt.prototype.end=function(nt){return this.rpcImpl&&(nt||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(_e,_,et)=>{_e.exports=rt;var tt=et(9693);function rt(lt,ct){this.lo=lt>>>0,this.hi=ct>>>0}var nt=rt.zero=new rt(0,0);nt.toNumber=function(){return 0},nt.zzEncode=nt.zzDecode=function(){return this},nt.length=function(){return 1};var it=rt.zeroHash="\0\0\0\0\0\0\0\0";rt.fromNumber=function(lt){if(lt===0)return nt;var ct=lt<0;ct&&(lt=-lt);var ut=lt>>>0,st=(lt-ut)/4294967296>>>0;return ct&&(st=~st>>>0,ut=~ut>>>0,++ut>4294967295&&(ut=0,++st>4294967295&&(st=0))),new rt(ut,st)},rt.from=function(lt){if(typeof lt=="number")return rt.fromNumber(lt);if(tt.isString(lt)){if(!tt.Long)return rt.fromNumber(parseInt(lt,10));lt=tt.Long.fromString(lt)}return lt.low||lt.high?new rt(lt.low>>>0,lt.high>>>0):nt},rt.prototype.toNumber=function(lt){if(!lt&&this.hi>>>31){var ct=1+~this.lo>>>0,ut=~this.hi>>>0;return ct||(ut=ut+1>>>0),-(ct+4294967296*ut)}return this.lo+4294967296*this.hi},rt.prototype.toLong=function(lt){return tt.Long?new tt.Long(0|this.lo,0|this.hi,!!lt):{low:0|this.lo,high:0|this.hi,unsigned:!!lt}};var at=String.prototype.charCodeAt;rt.fromHash=function(lt){return lt===it?nt:new rt((at.call(lt,0)|at.call(lt,1)<<8|at.call(lt,2)<<16|at.call(lt,3)<<24)>>>0,(at.call(lt,4)|at.call(lt,5)<<8|at.call(lt,6)<<16|at.call(lt,7)<<24)>>>0)},rt.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},rt.prototype.zzEncode=function(){var lt=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^lt)>>>0,this.lo=(this.lo<<1^lt)>>>0,this},rt.prototype.zzDecode=function(){var lt=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^lt)>>>0,this.hi=(this.hi>>>1^lt)>>>0,this},rt.prototype.length=function(){var lt=this.lo,ct=(this.lo>>>28|this.hi<<4)>>>0,ut=this.hi>>>24;return ut===0?ct===0?lt<16384?lt<128?1:2:lt<2097152?3:4:ct<16384?ct<128?5:6:ct<2097152?7:8:ut<128?9:10}},9693:function(_e,_,et){var tt=_;function rt(it,at,lt){for(var ct=Object.keys(at),ut=0;ut<ct.length;++ut)it[ct[ut]]!==void 0&&lt||(it[ct[ut]]=at[ct[ut]]);return it}function nt(it){function at(lt,ct){if(!(this instanceof at))return new at(lt,ct);Object.defineProperty(this,"message",{get:function(){return lt}}),Error.captureStackTrace?Error.captureStackTrace(this,at):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ct&&rt(this,ct)}return(at.prototype=Object.create(Error.prototype)).constructor=at,Object.defineProperty(at.prototype,"name",{get:function(){return it}}),at.prototype.toString=function(){return this.name+": "+this.message},at}tt.asPromise=et(4537),tt.base64=et(7419),tt.EventEmitter=et(9211),tt.float=et(945),tt.inquire=et(7199),tt.utf8=et(4997),tt.pool=et(6662),tt.LongBits=et(1945),tt.isNode=!!(et.g!==void 0&&et.g&&et.g.process&&et.g.process.versions&&et.g.process.versions.node),tt.global=tt.isNode&&et.g||typeof window<"u"&&window||typeof self<"u"&&self||this,tt.emptyArray=Object.freeze?Object.freeze([]):[],tt.emptyObject=Object.freeze?Object.freeze({}):{},tt.isInteger=Number.isInteger||function(it){return typeof it=="number"&&isFinite(it)&&Math.floor(it)===it},tt.isString=function(it){return typeof it=="string"||it instanceof String},tt.isObject=function(it){return it&&typeof it=="object"},tt.isset=tt.isSet=function(it,at){var lt=it[at];return!(lt==null||!it.hasOwnProperty(at))&&(typeof lt!="object"||(Array.isArray(lt)?lt.length:Object.keys(lt).length)>0)},tt.Buffer=function(){try{var it=tt.inquire("buffer").Buffer;return it.prototype.utf8Write?it:null}catch{return null}}(),tt._Buffer_from=null,tt._Buffer_allocUnsafe=null,tt.newBuffer=function(it){return typeof it=="number"?tt.Buffer?tt._Buffer_allocUnsafe(it):new tt.Array(it):tt.Buffer?tt._Buffer_from(it):typeof Uint8Array>"u"?it:new Uint8Array(it)},tt.Array=typeof Uint8Array<"u"?Uint8Array:Array,tt.Long=tt.global.dcodeIO&&tt.global.dcodeIO.Long||tt.global.Long||tt.inquire("long"),tt.key2Re=/^true|false|0|1$/,tt.key32Re=/^-?(?:0|[1-9][0-9]*)$/,tt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,tt.longToHash=function(it){return it?tt.LongBits.from(it).toHash():tt.LongBits.zeroHash},tt.longFromHash=function(it,at){var lt=tt.LongBits.fromHash(it);return tt.Long?tt.Long.fromBits(lt.lo,lt.hi,at):lt.toNumber(!!at)},tt.merge=rt,tt.lcFirst=function(it){return it.charAt(0).toLowerCase()+it.substring(1)},tt.newError=nt,tt.ProtocolError=nt("ProtocolError"),tt.oneOfGetter=function(it){for(var at={},lt=0;lt<it.length;++lt)at[it[lt]]=1;return function(){for(var ct=Object.keys(this),ut=ct.length-1;ut>-1;--ut)if(at[ct[ut]]===1&&this[ct[ut]]!==void 0&&this[ct[ut]]!==null)return ct[ut]}},tt.oneOfSetter=function(it){return function(at){for(var lt=0;lt<it.length;++lt)it[lt]!==at&&delete this[it[lt]]}},tt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},tt._configure=function(){var it=tt.Buffer;it?(tt._Buffer_from=it.from!==Uint8Array.from&&it.from||function(at,lt){return new it(at,lt)},tt._Buffer_allocUnsafe=it.allocUnsafe||function(at){return new it(at)}):tt._Buffer_from=tt._Buffer_allocUnsafe=null}},1173:(_e,_,et)=>{_e.exports=st;var tt,rt=et(9693),nt=rt.LongBits,it=rt.base64,at=rt.utf8;function lt(yt,vt,bt){this.fn=yt,this.len=vt,this.next=void 0,this.val=bt}function ct(){}function ut(yt){this.head=yt.head,this.tail=yt.tail,this.len=yt.len,this.next=yt.states}function st(){this.len=0,this.head=new lt(ct,0,0),this.tail=this.head,this.states=null}var ot=function(){return rt.Buffer?function(){return(st.create=function(){return new tt})()}:function(){return new st}};function dt(yt,vt,bt){vt[bt]=255&yt}function ft(yt,vt){this.len=yt,this.next=void 0,this.val=vt}function ht(yt,vt,bt){for(;yt.hi;)vt[bt++]=127&yt.lo|128,yt.lo=(yt.lo>>>7|yt.hi<<25)>>>0,yt.hi>>>=7;for(;yt.lo>127;)vt[bt++]=127&yt.lo|128,yt.lo=yt.lo>>>7;vt[bt++]=yt.lo}function mt(yt,vt,bt){vt[bt]=255&yt,vt[bt+1]=yt>>>8&255,vt[bt+2]=yt>>>16&255,vt[bt+3]=yt>>>24}st.create=ot(),st.alloc=function(yt){return new rt.Array(yt)},rt.Array!==Array&&(st.alloc=rt.pool(st.alloc,rt.Array.prototype.subarray)),st.prototype._push=function(yt,vt,bt){return this.tail=this.tail.next=new lt(yt,vt,bt),this.len+=vt,this},ft.prototype=Object.create(lt.prototype),ft.prototype.fn=function(yt,vt,bt){for(;yt>127;)vt[bt++]=127&yt|128,yt>>>=7;vt[bt]=yt},st.prototype.uint32=function(yt){return this.len+=(this.tail=this.tail.next=new ft((yt>>>=0)<128?1:yt<16384?2:yt<2097152?3:yt<268435456?4:5,yt)).len,this},st.prototype.int32=function(yt){return yt<0?this._push(ht,10,nt.fromNumber(yt)):this.uint32(yt)},st.prototype.sint32=function(yt){return this.uint32((yt<<1^yt>>31)>>>0)},st.prototype.uint64=function(yt){var vt=nt.from(yt);return this._push(ht,vt.length(),vt)},st.prototype.int64=st.prototype.uint64,st.prototype.sint64=function(yt){var vt=nt.from(yt).zzEncode();return this._push(ht,vt.length(),vt)},st.prototype.bool=function(yt){return this._push(dt,1,yt?1:0)},st.prototype.fixed32=function(yt){return this._push(mt,4,yt>>>0)},st.prototype.sfixed32=st.prototype.fixed32,st.prototype.fixed64=function(yt){var vt=nt.from(yt);return this._push(mt,4,vt.lo)._push(mt,4,vt.hi)},st.prototype.sfixed64=st.prototype.fixed64,st.prototype.float=function(yt){return this._push(rt.float.writeFloatLE,4,yt)},st.prototype.double=function(yt){return this._push(rt.float.writeDoubleLE,8,yt)};var gt=rt.Array.prototype.set?function(yt,vt,bt){vt.set(yt,bt)}:function(yt,vt,bt){for(var xt=0;xt<yt.length;++xt)vt[bt+xt]=yt[xt]};st.prototype.bytes=function(yt){var vt=yt.length>>>0;if(!vt)return this._push(dt,1,0);if(rt.isString(yt)){var bt=st.alloc(vt=it.length(yt));it.decode(yt,bt,0),yt=bt}return this.uint32(vt)._push(gt,vt,yt)},st.prototype.string=function(yt){var vt=at.length(yt);return vt?this.uint32(vt)._push(at.write,vt,yt):this._push(dt,1,0)},st.prototype.fork=function(){return this.states=new ut(this),this.head=this.tail=new lt(ct,0,0),this.len=0,this},st.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new lt(ct,0,0),this.len=0),this},st.prototype.ldelim=function(){var yt=this.head,vt=this.tail,bt=this.len;return this.reset().uint32(bt),bt&&(this.tail.next=yt.next,this.tail=vt,this.len+=bt),this},st.prototype.finish=function(){for(var yt=this.head.next,vt=this.constructor.alloc(this.len),bt=0;yt;)yt.fn(yt.val,vt,bt),bt+=yt.len,yt=yt.next;return vt},st._configure=function(yt){tt=yt,st.create=ot(),tt._configure()}},3155:(_e,_,et)=>{_e.exports=nt;var tt=et(1173);(nt.prototype=Object.create(tt.prototype)).constructor=nt;var rt=et(9693);function nt(){tt.call(this)}function it(at,lt,ct){at.length<40?rt.utf8.write(at,lt,ct):lt.utf8Write?lt.utf8Write(at,ct):lt.write(at,ct)}nt._configure=function(){nt.alloc=rt._Buffer_allocUnsafe,nt.writeBytesBuffer=rt.Buffer&&rt.Buffer.prototype instanceof Uint8Array&&rt.Buffer.prototype.set.name==="set"?function(at,lt,ct){lt.set(at,ct)}:function(at,lt,ct){if(at.copy)at.copy(lt,ct,0,at.length);else for(var ut=0;ut<at.length;)lt[ct++]=at[ut++]}},nt.prototype.bytes=function(at){rt.isString(at)&&(at=rt._Buffer_from(at,"base64"));var lt=at.length>>>0;return this.uint32(lt),lt&&this._push(nt.writeBytesBuffer,lt,at),this},nt.prototype.string=function(at){var lt=rt.Buffer.byteLength(at);return this.uint32(lt),lt&&this._push(it,lt,at),this},nt._configure()},7714:(_e,_,et)=>{_.R=void 0;const tt=et(6919),rt=et(7448);_.R=new class{async init(){}async createSessionHandler(nt,it){const at=new tt.Session(it);return await at.loadModel(nt),new rt.OnnxjsSessionHandler(at)}}},4200:(_e,_,et)=>{_.c8=_.rX=void 0;const tt=et(1670),rt=et(5381),nt=et(2157),it=et(2306);_.rX=()=>{if((typeof tt.env.wasm.initTimeout!="number"||tt.env.wasm.initTimeout<0)&&(tt.env.wasm.initTimeout=0),typeof tt.env.wasm.simd!="boolean"&&(tt.env.wasm.simd=!0),typeof tt.env.wasm.proxy!="boolean"&&(tt.env.wasm.proxy=!1),typeof tt.env.wasm.numThreads!="number"||!Number.isInteger(tt.env.wasm.numThreads)||tt.env.wasm.numThreads<=0){const at=typeof navigator>"u"?(0,rt.cpus)().length:navigator.hardwareConcurrency;tt.env.wasm.numThreads=Math.min(4,Math.ceil((at||1)/2))}},_.c8=new class{async init(){(0,_.rX)(),await(0,nt.initWasm)()}async createSessionHandler(at,lt){const ct=new it.OnnxruntimeWebAssemblySessionHandler;return await ct.loadModel(at,lt),Promise.resolve(ct)}}},6018:function(_e,_,et){var tt=this&&this.__createBinding||(Object.create?function(it,at,lt,ct){ct===void 0&&(ct=lt);var ut=Object.getOwnPropertyDescriptor(at,lt);ut&&!("get"in ut?!at.__esModule:ut.writable||ut.configurable)||(ut={enumerable:!0,get:function(){return at[lt]}}),Object.defineProperty(it,ct,ut)}:function(it,at,lt,ct){ct===void 0&&(ct=lt),it[ct]=at[lt]}),rt=this&&this.__exportStar||function(it,at){for(var lt in it)lt==="default"||Object.prototype.hasOwnProperty.call(at,lt)||tt(at,it,lt)};Object.defineProperty(_,"__esModule",{value:!0}),rt(et(1670),_);const nt=et(1670);{const it=et(7714).R;(0,nt.registerBackend)("webgl",it,-10)}{const it=et(4200).c8;(0,nt.registerBackend)("cpu",it,10),(0,nt.registerBackend)("wasm",it,10),(0,nt.registerBackend)("xnnpack",it,9)}},246:(_e,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createAttributeWithCacheKey=void 0;class et{constructor(rt){Object.assign(this,rt)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(rt=>`${this[rt]}`).join(";")),this._cacheKey}}_.createAttributeWithCacheKey=tt=>new et(tt)},7778:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Attribute=void 0;const tt=et(1446),rt=et(9395),nt=et(9162),it=et(2517);var at=rt.onnxruntime.experimental.fbs;class lt{constructor(ut){if(this._attributes=new Map,ut!=null){for(const st of ut)st instanceof tt.onnx.AttributeProto?this._attributes.set(st.name,[lt.getValue(st),lt.getType(st)]):st instanceof at.Attribute&&this._attributes.set(st.name(),[lt.getValue(st),lt.getType(st)]);if(this._attributes.size<ut.length)throw new Error("duplicated attribute names")}}set(ut,st,ot){this._attributes.set(ut,[ot,st])}delete(ut){this._attributes.delete(ut)}getFloat(ut,st){return this.get(ut,"float",st)}getInt(ut,st){return this.get(ut,"int",st)}getString(ut,st){return this.get(ut,"string",st)}getTensor(ut,st){return this.get(ut,"tensor",st)}getFloats(ut,st){return this.get(ut,"floats",st)}getInts(ut,st){return this.get(ut,"ints",st)}getStrings(ut,st){return this.get(ut,"strings",st)}getTensors(ut,st){return this.get(ut,"tensors",st)}get(ut,st,ot){const dt=this._attributes.get(ut);if(dt===void 0){if(ot!==void 0)return ot;throw new Error(`required attribute not found: ${ut}`)}if(dt[1]!==st)throw new Error(`type mismatch: expected ${st} but got ${dt[1]}`);return dt[0]}static getType(ut){const st=ut instanceof tt.onnx.AttributeProto?ut.type:ut.type();switch(st){case tt.onnx.AttributeProto.AttributeType.FLOAT:return"float";case tt.onnx.AttributeProto.AttributeType.INT:return"int";case tt.onnx.AttributeProto.AttributeType.STRING:return"string";case tt.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case tt.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case tt.onnx.AttributeProto.AttributeType.INTS:return"ints";case tt.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case tt.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${tt.onnx.AttributeProto.AttributeType[st]}`)}}static getValue(ut){const st=ut instanceof tt.onnx.AttributeProto?ut.type:ut.type();if(st===tt.onnx.AttributeProto.AttributeType.GRAPH||st===tt.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const ot=this.getValueNoCheck(ut);if(st===tt.onnx.AttributeProto.AttributeType.INT&&it.LongUtil.isLong(ot))return it.LongUtil.longToNumber(ot);if(st===tt.onnx.AttributeProto.AttributeType.INTS){const dt=ot,ft=new Array(dt.length);for(let ht=0;ht<dt.length;ht++){const mt=dt[ht];ft[ht]=it.LongUtil.longToNumber(mt)}return ft}if(st===tt.onnx.AttributeProto.AttributeType.TENSOR)return ut instanceof tt.onnx.AttributeProto?nt.Tensor.fromProto(ot):nt.Tensor.fromOrtTensor(ot);if(st===tt.onnx.AttributeProto.AttributeType.TENSORS){if(ut instanceof tt.onnx.AttributeProto)return ot.map(dt=>nt.Tensor.fromProto(dt));if(ut instanceof at.Attribute)return ot.map(dt=>nt.Tensor.fromOrtTensor(dt))}if(st===tt.onnx.AttributeProto.AttributeType.STRING&&ut instanceof tt.onnx.AttributeProto){const dt=ot;return(0,it.decodeUtf8String)(dt)}return st===tt.onnx.AttributeProto.AttributeType.STRINGS&&ut instanceof tt.onnx.AttributeProto?ot.map(it.decodeUtf8String):ot}static getValueNoCheck(ut){return ut instanceof tt.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(ut):this.getValueNoCheckFromOrtFormat(ut)}static getValueNoCheckFromOnnxFormat(ut){switch(ut.type){case tt.onnx.AttributeProto.AttributeType.FLOAT:return ut.f;case tt.onnx.AttributeProto.AttributeType.INT:return ut.i;case tt.onnx.AttributeProto.AttributeType.STRING:return ut.s;case tt.onnx.AttributeProto.AttributeType.TENSOR:return ut.t;case tt.onnx.AttributeProto.AttributeType.GRAPH:return ut.g;case tt.onnx.AttributeProto.AttributeType.FLOATS:return ut.floats;case tt.onnx.AttributeProto.AttributeType.INTS:return ut.ints;case tt.onnx.AttributeProto.AttributeType.STRINGS:return ut.strings;case tt.onnx.AttributeProto.AttributeType.TENSORS:return ut.tensors;case tt.onnx.AttributeProto.AttributeType.GRAPHS:return ut.graphs;default:throw new Error(`unsupported attribute type: ${tt.onnx.AttributeProto.AttributeType[ut.type]}`)}}static getValueNoCheckFromOrtFormat(ut){switch(ut.type()){case at.AttributeType.FLOAT:return ut.f();case at.AttributeType.INT:return ut.i();case at.AttributeType.STRING:return ut.s();case at.AttributeType.TENSOR:return ut.t();case at.AttributeType.GRAPH:return ut.g();case at.AttributeType.FLOATS:return ut.floatsArray();case at.AttributeType.INTS:{const st=[];for(let ot=0;ot<ut.intsLength();ot++)st.push(ut.ints(ot));return st}case at.AttributeType.STRINGS:{const st=[];for(let ot=0;ot<ut.stringsLength();ot++)st.push(ut.strings(ot));return st}case at.AttributeType.TENSORS:{const st=[];for(let ot=0;ot<ut.tensorsLength();ot++)st.push(ut.tensors(ot));return st}default:throw new Error(`unsupported attribute type: ${at.AttributeType[ut.type()]}`)}}}_.Attribute=lt},7091:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.resolveBackend=_.backend=void 0;const tt=et(5038),rt=new Map;async function nt(it){const at=_.backend;if(at[it]!==void 0&&function(lt){const ct=lt;return"initialize"in ct&&typeof ct.initialize=="function"&&"createSessionHandler"in ct&&typeof ct.createSessionHandler=="function"&&"dispose"in ct&&typeof ct.dispose=="function"}(at[it])){const lt=at[it];let ct=lt.initialize();if(typeof ct=="object"&&"then"in ct&&(ct=await ct),ct)return rt.set(it,lt),lt}}_.backend={webgl:new tt.WebGLBackend},_.resolveBackend=async function it(at){if(!at)return it(["webgl"]);{const lt=typeof at=="string"?[at]:at;for(const ct of lt){const ut=rt.get(ct);if(ut)return ut;const st=await nt(ct);if(st)return st}}throw new Error("no available backend to use")}},5038:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WebGLBackend=void 0;const tt=et(1670),rt=et(6231),nt=et(6416),it=et(7305);_.WebGLBackend=class{get contextId(){return tt.env.webgl.contextId}set contextId(at){tt.env.webgl.contextId=at}get matmulMaxBatchSize(){return tt.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(at){tt.env.webgl.matmulMaxBatchSize=at}get textureCacheMode(){return tt.env.webgl.textureCacheMode}set textureCacheMode(at){tt.env.webgl.textureCacheMode=at}get pack(){return tt.env.webgl.pack}set pack(at){tt.env.webgl.pack=at}get async(){return tt.env.webgl.async}set async(at){tt.env.webgl.async=at}initialize(){try{return this.glContext=(0,it.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),rt.Logger.setWithEnv(tt.env),rt.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(at){return rt.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${at}`),!1}}createSessionHandler(at){return new nt.WebGLSessionHandler(this,at)}dispose(){this.glContext.dispose()}}},5107:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.CoordsGlslLib=void 0;const tt=et(2517),rt=et(8520),nt=et(5060),it=et(7859),at=et(9390);class lt extends rt.GlslLib{constructor(ut){super(ut)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new rt.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new rt.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const ut=this.context.outputTextureLayout;return ut.isPacked?this.getPackedOutputSamplingSnippet(ut):this.getUnpackedOutputSamplingSnippet(ut)}getPackedOutputSamplingSnippet(ut){const st=ut.unpackedShape,ot=[ut.width,ut.height],dt={},ft="getOutputCoords";switch(st.length){case 0:dt[ft]=this.getOutputScalarCoords();break;case 1:dt[ft]=this.getOutputPacked1DCoords(st,ot);break;case 2:dt[ft]=this.getOutputPacked2DCoords(st,ot);break;case 3:dt[ft]=this.getOutputPacked3DCoords(st,ot);break;default:dt[ft]=this.getOutputPackedNDCoords(st,ot)}const ht=`
      void setOutput(vec4 val) {
        ${(0,nt.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return dt.floatTextureSetRGBA=new rt.GlslLibRoutine(ht),dt}getUnpackedOutputSamplingSnippet(ut){const st=ut.unpackedShape,ot=[ut.width,ut.height],dt={},ft="getOutputCoords";switch(st.length){case 0:dt[ft]=this.getOutputScalarCoords();break;case 1:dt[ft]=this.getOutputUnpacked1DCoords(st,ot);break;case 2:dt[ft]=this.getOutputUnpacked2DCoords(st,ot);break;case 3:dt[ft]=this.getOutputUnpacked3DCoords(st,ot);break;case 4:dt[ft]=this.getOutputUnpacked4DCoords(st,ot);break;case 5:dt[ft]=this.getOutputUnpacked5DCoords(st,ot);break;case 6:dt[ft]=this.getOutputUnpacked6DCoords(st,ot);break;default:throw new Error(`Unsupported output dimensionality: ${st.length}`)}const ht=`
        void setOutput(float val) {
          ${(0,nt.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return dt.floatTextureSetR=new rt.GlslLibRoutine(ht),dt}getOutputScalarCoords(){return new rt.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(ut,st){const ot=st;let dt="";return ot[0]===1?(dt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${ot[1]}.0);
          }
        `,new rt.GlslLibRoutine(dt)):ot[1]===1?(dt=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${ot[0]}.0);
          }
        `,new rt.GlslLibRoutine(dt)):(dt=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${ot[0]}, ${ot[1]}));
          return 2 * (resTexRC.y * ${ot[0]} + resTexRC.x);
        }
      `,new rt.GlslLibRoutine(dt))}getOutputPacked2DCoords(ut,st){let ot="";if(tt.ArrayUtil.arraysEqual(ut,st))return ot=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${st[0]}, ${st[1]}));
        }
      `,new rt.GlslLibRoutine(ot);const dt=st,ft=Math.ceil(ut[1]/2);return ot=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${dt[0]}, ${dt[1]}));

          int index = resTexRC.y * ${dt[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${ft}) * 2;
          int c = 2 * (index / ${ft});

          return ivec2(r, c);
        }
      `,new rt.GlslLibRoutine(ot)}getOutputPacked3DCoords(ut,st){const ot=[st[0],st[1]],dt=Math.ceil(ut[2]/2),ft=dt*Math.ceil(ut[1]/2),ht=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${ot[0]}, ${ot[1]}));
          int index = resTexRC.y * ${ot[0]} + resTexRC.x;

          int b = index / ${ft};
          index -= b * ${ft};

          // reverse r and c order for packed texture
          int r = imod(index, ${dt}) * 2;
          int c = 2 * (index / ${dt});

          return ivec3(b, r, c);
        }
      `;return new rt.GlslLibRoutine(ht)}getOutputPackedNDCoords(ut,st){const ot=[st[0],st[1]],dt=Math.ceil(ut[ut.length-1]/2),ft=dt*Math.ceil(ut[ut.length-2]/2);let ht=ft,mt="",gt="b, r, c";for(let vt=2;vt<ut.length-1;vt++)ht*=ut[ut.length-vt-1],mt=`
      int b${vt} = index / ${ht};
      index -= b${vt} * ${ht};
    `+mt,gt=`b${vt}, `+gt;const yt=`
      ivec${ut.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${ot[0]}, ${ot[1]}));
        int index = resTexRC.y * ${ot[0]} + resTexRC.x;

        ${mt}

        int b = index / ${ft};
        index -= b * ${ft};

        // reverse r and c order for packed texture
        int r = imod(index, ${dt}) * 2;
        int c = 2 * (index / ${dt});

        return ivec${ut.length}(${gt});
      }
    `;return new rt.GlslLibRoutine(yt)}getOutputUnpacked1DCoords(ut,st){const ot=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${st[0]}, ${st[1]}));
          return resTexRC.y * ${st[0]} + resTexRC.x;
        }
      `;return new rt.GlslLibRoutine(ot)}getOutputUnpacked2DCoords(ut,st){const ot=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${st[0]}, ${st[1]}));
          int index = resTexRC.y * ${st[0]} + resTexRC.x;
          int r = index / ${ut[1]};
          int c = index - r * ${ut[1]};
          return ivec2(r, c);
        }
      `;return new rt.GlslLibRoutine(ot)}getOutputUnpacked3DCoords(ut,st){let ot="";const dt=ut.length;let ft=null;dt<2&&(ft=[]),ft=new Array(dt-1),ft[dt-2]=ut[dt-1];for(let gt=dt-3;gt>=0;--gt)ft[gt]=ft[gt+1]*ut[gt+1];const ht=["r","c","d"],mt=ft.map((gt,yt)=>`int ${ht[yt]} = index / ${gt}; ${yt===ft.length-1?`int ${ht[yt+1]} = index - ${ht[yt]} * ${gt}`:`index -= ${ht[yt]} * ${gt}`};`).join("");return ot=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${st[0]}, ${st[1]}));
          int index = resTexRC.y * ${st[0]} + resTexRC.x;
          ${mt}
          return ivec3(r, c, d);
        }
      `,new rt.GlslLibRoutine(ot)}getOutputUnpacked4DCoords(ut,st){let ot="";const dt=ut.length;let ft=null;dt<2&&(ft=[]),ft=new Array(dt-1),ft[dt-2]=ut[dt-1];for(let gt=dt-3;gt>=0;--gt)ft[gt]=ft[gt+1]*ut[gt+1];const ht=["r","c","d","d2"],mt=ft.map((gt,yt)=>`int ${ht[yt]} = index / ${gt}; ${yt===ft.length-1?`int ${ht[yt+1]} = index - ${ht[yt]} * ${gt}`:`index -= ${ht[yt]} * ${gt}`};`).join("");return ot=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${st[0]}, ${st[1]}));
          int index = resTexRC.y * ${st[0]} + resTexRC.x;
          ${mt}
          return ivec4(r, c, d, d2);
        }
      `,new rt.GlslLibRoutine(ot)}getOutputUnpacked5DCoords(ut,st){let ot="";const dt=ut.length;let ft=null;dt<2&&(ft=[]),ft=new Array(dt-1),ft[dt-2]=ut[dt-1];for(let gt=dt-3;gt>=0;--gt)ft[gt]=ft[gt+1]*ut[gt+1];const ht=["r","c","d","d2","d3"],mt=ft.map((gt,yt)=>`int ${ht[yt]} = index / ${gt}; ${yt===ft.length-1?`int ${ht[yt+1]} = index - ${ht[yt]} * ${gt}`:`index -= ${ht[yt]} * ${gt}`};`).join("");return ot=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${st[0]}, ${st[1]}));
          int index = resTexRC.y * ${st[0]} + resTexRC.x;
          ${mt}
          return ivec5(r, c, d, d2, d3);
        }
      `,new rt.GlslLibRoutine(ot)}getOutputUnpacked6DCoords(ut,st){let ot="";const dt=ut.length;let ft=null;dt<2&&(ft=[]),ft=new Array(dt-1),ft[dt-2]=ut[dt-1];for(let gt=dt-3;gt>=0;--gt)ft[gt]=ft[gt+1]*ut[gt+1];const ht=["r","c","d","d2","d3","d4"],mt=ft.map((gt,yt)=>`int ${ht[yt]} = index / ${gt}; ${yt===ft.length-1?`int ${ht[yt+1]} = index - ${ht[yt]} * ${gt}`:`index -= ${ht[yt]} * ${gt}`};`).join("");return ot=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${st[0]}, ${st[1]}));
         int index = resTexRC.y * ${st[0]} + resTexRC.x;
         ${mt}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new rt.GlslLibRoutine(ot)}getCommonUtilFuncs(){const ut={};let st="uvFromFlat";ut[st]=new rt.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),st="packedUVfrom1D",ut[st]=new rt.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),st="packedUVfrom2D",ut[st]=new rt.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),st="packedUVfrom3D",ut[st]=new rt.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),st="sampleTexture";const ot=(0,nt.getGlsl)(this.context.glContext.version);return ut[st]=new rt.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${ot.texture2D}(textureSampler, uv).r;
        }`),ut}getInputsSamplingSnippets(){const ut={},st=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((ot,dt)=>{const ft=this.context.inputTextureLayouts[dt],ht=(0,at.generateShaderFuncNameFromInputSamplerName)(ot);ft.isPacked?ut[ht]=this.getPackedSamplerFromInput(ht,ot,ft):ut[ht]=this.getUnpackedSamplerFromInput(ht,ot,ft);const mt=(0,at.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(ot);ft.unpackedShape.length<=st.unpackedShape.length&&(ft.isPacked?ut[mt]=this.getPackedSamplerAtOutputCoords(mt,ft,st,ot):ut[mt]=this.getUnpackedSamplerAtOutputCoords(mt,ft,st,ot))}),ut}getPackedSamplerAtOutputCoords(ut,st,ot,dt){const ft=st.unpackedShape,ht=ot.unpackedShape,mt=dt,gt=(0,at.generateShaderFuncNameFromInputSamplerName)(mt),yt=ft.length,vt=ht.length,bt=tt.BroadcastUtil.getBroadcastDims(ft,ht),xt=(0,at.getCoordsDataType)(vt),_t=vt-yt;let St;const wt=(0,at.getGlChannels)();St=yt===0?"":vt<2&&bt.length>=1?"coords = 0;":bt.map(At=>`coords.${wt[At+_t]} = 0;`).join(`
`);let Et="";Et=vt<2&&yt>0?"coords":ft.map((At,kt)=>`coords.${wt[kt+_t]}`).join(", ");let Tt="return outputValue;";const Ct=tt.ShapeUtil.size(ft)===1,It=tt.ShapeUtil.size(ht)===1;if(yt!==1||Ct||It){if(Ct&&!It)Tt=vt===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(bt.length){const At=yt-2,kt=yt-1;bt.indexOf(At)>-1&&bt.indexOf(kt)>-1?Tt="return vec4(outputValue.x);":bt.indexOf(At)>-1?Tt="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":bt.indexOf(kt)>-1&&(Tt="return vec4(outputValue.xx, outputValue.zz);")}}else Tt=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const Pt=`
      vec4 ${ut}() {
        ${xt} coords = getOutputCoords();
        
        int lastDim = coords.${wt[vt-1]};
        coords.${wt[vt-1]} = coords.${wt[vt-2]};
        coords.${wt[vt-2]} = lastDim;
      
        ${St}
        vec4 outputValue = ${gt}(${Et});
        ${Tt}
      }
    `;return new rt.GlslLibRoutine(Pt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(ut,st,ot,dt){const ft=[ot.width,ot.height],ht=[st.width,st.height],mt=st.unpackedShape.length,gt=ot.unpackedShape.length,yt=st.unpackedShape,vt=ot.unpackedShape,bt=(0,at.generateShaderFuncNameFromInputSamplerName)(dt);if(mt===gt&&tt.ArrayUtil.arraysEqual(ht,ft)){const It=`
          float ${ut}() {
            return sampleTexture(${dt}, TexCoords);
          }
        `;return new rt.GlslLibRoutine(It,["coordinates.sampleTexture"])}const xt=(0,at.getCoordsDataType)(gt),_t=tt.BroadcastUtil.getBroadcastDims(yt,vt),St=gt-mt;let wt;const Et=(0,at.getGlChannels)();wt=mt===0?"":gt<2&&_t.length>=1?"coords = 0;":_t.map(It=>`coords.${Et[It+St]} = 0;`).join(`
`);let Tt="";Tt=gt<2&&mt>0?"coords":st.unpackedShape.map((It,Pt)=>`coords.${Et[Pt+St]}`).join(", ");const Ct=`
        float ${ut}() {
          ${xt} coords = getOutputCoords();
          ${wt}
          return ${bt}(${Tt});
        }
      `;return new rt.GlslLibRoutine(Ct,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(ut,st,ot){switch(ot.unpackedShape.length){case 0:return this.getPackedSamplerScalar(ut,st);case 1:return this.getPackedSampler1D(ut,st,ot);case 2:return this.getPackedSampler2D(ut,st,ot);case 3:return this.getPackedSampler3D(ut,st,ot);default:return this.getPackedSamplerND(ut,st,ot)}}getUnpackedSamplerFromInput(ut,st,ot){const dt=ot.unpackedShape;switch(dt.length){case 0:return this.getUnpackedSamplerScalar(ut,st,ot);case 1:return this.getUnpackedSampler1D(ut,st,ot);case 2:return this.getUnpackedSampler2D(ut,st,ot);case 3:return this.getUnpackedSampler3D(ut,st,ot);case 4:return this.getUnpackedSampler4D(ut,st,ot);case 5:return this.getUnpackedSampler5D(ut,st,ot);case 6:return this.getUnpackedSampler6D(ut,st,ot);default:throw new Error(`Unsupported dimension ${dt.length}-D`)}}getPackedSamplerScalar(ut,st){const ot=`
          vec4 ${ut}() {
            return ${(0,nt.getGlsl)(this.context.glContext.version).texture2D}(${st}, halfCR);
          }
        `;return new rt.GlslLibRoutine(ot)}getPackedSampler1D(ut,st,ot){const dt=[ot.width,ot.height],ft=[dt[1],dt[0]],ht=(0,nt.getGlsl)(this.context.glContext.version),mt=`vec4 ${ut}(int index) {
      vec2 uv = packedUVfrom1D(
      ${ft[0]}, ${ft[1]}, index);
      return ${ht.texture2D}(${st}, uv);
    }`;return new rt.GlslLibRoutine(mt,["coordinates.packedUVfrom1D"])}getPackedSampler2D(ut,st,ot){const dt=ot.unpackedShape,ft=[ot.width,ot.height],ht=(0,nt.getGlsl)(this.context.glContext.version),mt=ft[0],gt=ft[1];if(ft!=null&&tt.ArrayUtil.arraysEqual(dt,ft)){const xt=`vec4 ${ut}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${gt}.0, ${mt}.0);
        return ${ht.texture2D}(${st}, uv);
      }`;return new rt.GlslLibRoutine(xt)}const yt=ft,vt=Math.ceil(dt[1]/2),bt=`vec4 ${ut}(int row, int col) {
      vec2 uv = packedUVfrom2D(${yt[1]}, ${yt[0]}, ${vt}, row, col);
      return ${ht.texture2D}(${st}, uv);
    }`;return new rt.GlslLibRoutine(bt,["coordinates.packedUVfrom2D"])}getPackedSampler3D(ut,st,ot){const dt=ot.unpackedShape,ft=[ot.width,ot.height],ht=[ft[0],ft[1]],mt=(0,nt.getGlsl)(this.context.glContext.version);if(dt[0]===1){const xt=dt.slice(1),_t=[1,2],St=(0,at.squeezeInputShape)(dt,xt),wt=["b","row","col"],Et=JSON.parse(JSON.stringify(ot));Et.unpackedShape=St;const Tt=this.getPackedSamplerFromInput(ut,st,Et),Ct=`${Tt.routineBody}
      vec4 ${ut}(int b, int row, int col) {
        return ${ut}(${(0,at.getSqueezedParams)(wt,_t)});
      } `;return new rt.GlslLibRoutine(Ct,Tt.dependencies)}const gt=ht[0],yt=ht[1],vt=Math.ceil(dt[2]/2),bt=`vec4 ${ut}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${yt}, ${gt}, ${vt*Math.ceil(dt[1]/2)}, ${vt}, b, row, col);
      return ${mt.texture2D}(${st}, uv);}`;return new rt.GlslLibRoutine(bt,["coordinates.packedUVfrom3D"])}getPackedSamplerND(ut,st,ot){const dt=ot.unpackedShape,ft=dt.length,ht=[ot.width,ot.height],mt=(0,nt.getGlsl)(this.context.glContext.version),gt=[ht[0],ht[1]],yt=gt[1],vt=gt[0],bt=Math.ceil(dt[ft-1]/2);let xt=bt*Math.ceil(dt[ft-2]/2),_t="int b, int row, int col",St=`b * ${xt} + (row / 2) * ${bt} + (col / 2)`;for(let Et=2;Et<ft-1;Et++)_t=`int b${Et}, `+_t,xt*=dt[ft-Et-1],St=`b${Et} * ${xt} + `+St;const wt=`vec4 ${ut}(${_t}) {
      int index = ${St};
      int texR = index / ${vt};
      int texC = index - texR * ${vt};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${vt}, ${yt});
      return ${mt.texture2D}(${st}, uv);
    }`;return new rt.GlslLibRoutine(wt)}getUnpackedSamplerScalar(ut,st,ot){const[dt,ft]=[ot.width,ot.height];if(dt===1&&ft===1){const mt=`
          float ${ut}() {
            return sampleTexture(${st}, halfCR);
          }
        `;return new rt.GlslLibRoutine(mt,["coordinates.sampleTexture"])}const ht=`
        float ${ut}() {
          int offset_${st} = coordsToOffset(TexCoords, ${dt}, ${ft});
          vec2 uv = uvFromFlat(${dt}, ${ft}, offset_${st});
          return sampleTexture(${st}, uv);
        }
      `;return new rt.GlslLibRoutine(ht,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(ut,st,ot){const dt=ot.width,ft=ot.height;if(ft===1&&dt===1){const mt=`
        float ${ut}(int index) {
          return sampleTexture(${st}, halfCR);
        }
      `;return new rt.GlslLibRoutine(mt,["coordinates.sampleTexture"])}if(ft===1){const mt=`
          float ${ut}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${dt}.0, 0.5);
            return sampleTexture(${st}, uv);
          }
        `;return new rt.GlslLibRoutine(mt,["coordinates.sampleTexture"])}if(dt===1){const mt=`
          float ${ut}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${ft}.0);
            return sampleTexture(${st}, uv);
          }
        `;return new rt.GlslLibRoutine(mt,["coordinates.sampleTexture"])}const ht=`
        float ${ut}(int index) {
          vec2 uv = uvFromFlat(${dt}, ${ft}, index);
          return sampleTexture(${st}, uv);
        }
      `;return new rt.GlslLibRoutine(ht,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(ut,st,ot){const dt=ot.unpackedShape,ft=[ot.height,ot.width];if(ft!=null&&tt.ArrayUtil.arraysEqual(dt,ft)){const xt=`
          float ${ut}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${ft[1]}.0, ${ft[0]}.0);
            return sampleTexture(${st}, uv);
          }
        `;return new rt.GlslLibRoutine(xt,["coordinates.sampleTexture"])}const{newShape:ht,keptDims:mt}=(0,it.squeezeShape)(dt),gt=ht;if(gt.length<dt.length){const xt=(0,at.squeezeInputShape)(dt,gt),_t=JSON.parse(JSON.stringify(ot));_t.unpackedShape=xt;const St=["col","row"],wt=`
          ${this.getUnpackedSamplerFromInput(ut,st,_t).routineBody}
          float ${ut}(int row, int col) {
            return ${ut}(${(0,at.getSqueezedParams)(St,mt)});
          }
        `;return new rt.GlslLibRoutine(wt,["coordinates.sampleTexture"])}const yt=ft[1],vt=ft[0];if(vt===1){const xt=`
          float ${ut}(int row, int col) {
            int offset_${st} = coordsToOffset(TexCoords, ${yt}, ${vt});
            float index = dot(vec3(row, col, offset_${st}), vec3(${dt[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${yt}.0);
            return sampleTexture(${st}, uv);
          }
        `;return new rt.GlslLibRoutine(xt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(yt===1){const xt=`
          float ${ut}(int row, int col) {
            int offset_${st} = coordsToOffset(TexCoords, ${yt}, ${vt});
            float index = dot(vec3(row, col, offset_${st}), vec3(${dt[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${vt}.0, 0.5);
            return sampleTexture(${st}, uv);
          }
        `;return new rt.GlslLibRoutine(xt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const bt=`
        float ${ut}(int row, int col) {
          int index = col * ${dt[1]} + row;
          vec2 uv = uvFromFlat(${yt}, ${vt}, index);
          return sampleTexture(${st}, uv);
        }
      `;return new rt.GlslLibRoutine(bt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(ut,st,ot){const dt=ot.unpackedShape,ft=dt[1]*dt[2],ht=dt[2],{newShape:mt,keptDims:gt}=(0,it.squeezeShape)(dt),yt=mt;if(yt.length<dt.length){const bt=(0,at.squeezeInputShape)(dt,yt),xt=["batch","col","row"],_t=JSON.parse(JSON.stringify(ot));_t.unpackedShape=bt;const St=this.getUnpackedSamplerFromInput(ut,st,_t),wt=gt.reverse(),Et=`
          ${St.routineBody}
          float ${ut}(int batch, int row, int col) {
            return ${ut}(${(0,at.getSqueezedParams)(xt,wt)});
          }
        `;return new rt.GlslLibRoutine(Et,St.dependencies)}const vt=`
          float ${ut}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${ft} + col * ${ht} + row;
            vec2 uv = uvFromFlat(${ot.width}, ${ot.height}, index);
            return sampleTexture(${st}, uv);
          }
      `;return new rt.GlslLibRoutine(vt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(ut,st,ot){const dt=ot.unpackedShape,ft=dt[3],ht=dt[2]*ft,mt=`
        float ${ut}(int row, int col, int depth, int depth2) {
          int index = row * ${dt[1]*ht} + col * ${ht} +
              depth2 * ${ft} + depth;
          vec2 uv = uvFromFlat(${ot.width}, ${ot.height}, index);
          return sampleTexture(${st}, uv);
        }
      `;return new rt.GlslLibRoutine(mt,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(ut,st,ot){const dt=ot.unpackedShape,ft=dt[4],ht=dt[3]*ft,mt=dt[2]*ht,gt=dt[1]*mt,{newShape:yt,keptDims:vt}=(0,it.squeezeShape)(dt);if(yt.length<dt.length){const xt=(0,at.squeezeInputShape)(dt,yt),_t=["row","col","depth","depth2","depth3"],St=JSON.parse(JSON.stringify(ot));St.unpackedShape=xt;const wt=`
          ${this.getUnpackedSamplerFromInput(ut,st,St).routineBody}
          float ${ut}(int row, int col, int depth, int depth2, int depth3) {
            return ${ut}(${(0,at.getSqueezedParams)(_t,vt)});
          }
        `;return new rt.GlslLibRoutine(wt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const bt=`
        float ${ut}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${gt} + col * ${mt} + depth * ${ht} +
          depth3 * ${ft} + depth2;
          vec2 uv = uvFromFlat(${ot.width}, ${ot.height}, index);
          return sampleTexture(${st}, uv);
        }
      `;return new rt.GlslLibRoutine(bt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(ut,st,ot){const dt=ot.unpackedShape,ft=dt[5],ht=dt[4]*ft,mt=dt[3]*ht,gt=dt[2]*mt,yt=dt[1]*gt,{newShape:vt,keptDims:bt}=(0,it.squeezeShape)(dt);if(vt.length<dt.length){const _t=(0,at.squeezeInputShape)(dt,vt),St=["row","col","depth","depth2","depth3","depth4"],wt=JSON.parse(JSON.stringify(ot));wt.unpackedShape=_t;const Et=`
            ${this.getUnpackedSamplerFromInput(ut,st,wt).routineBody}
            float ${ut}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${ut}(${(0,at.getSqueezedParams)(St,bt)});
            }
          `;return new rt.GlslLibRoutine(Et,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const xt=`
          float ${ut}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${yt} + col * ${gt} + depth * ${mt} +
            depth2 * ${ht} + depth3 * ${ft} + depth4;
            vec2 uv = uvFromFlat(${ot.width}, ${ot.height}, index);
            return sampleTexture(${st}, uv);
          }
        `;return new rt.GlslLibRoutine(xt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const ut=this.context.outputTextureLayout,st=ut.shape.length,ot=ut.strides,dt=ut.width,ft=ut.height,ht=[];for(let gt=0;gt<st-1;++gt)ht.push(`
        c[${gt}] = offset / ${ot[gt]};`),ht.push(`
        offset -= c[${gt}] * ${ot[gt]};`);ht.push(`
        c[${st-1}] = offset;`);const mt=`
      void toVec(vec2 texCoords, out int c[${st}]) {
        int offset = coordsToOffset(texCoords, ${dt}, ${ft});
        ${ht.join("")}
      }
      void toVec(int offset, out int c[${st}]) {
        ${ht.join("")}
      }
    `;return{toVec:new rt.GlslLibRoutine(mt,["coordinates.coordsToOffset"])}}valueFrom(){const ut={};return this.context.programInfo.inputNames.forEach((st,ot)=>{const dt=this.context.inputTextureLayouts[ot],ft=(dt.unpackedShape.length>0?dt.unpackedShape:dt.shape).length;let ht=`_${st}`;ut[ht]=new rt.GlslLibRoutine(this.getValueFromSingle(st,ft,dt.width,dt.height,!1),[`shapeUtils.indicesToOffset${ht}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),ht+="_T",ut[ht]=new rt.GlslLibRoutine(this.getValueFromSingle(st,ft,dt.width,dt.height,!0),[`shapeUtils.indicesToOffset${ht}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),ut}getValueFromSingle(ut,st,ot,dt,ft){let ht=`_${ut}`;return ft&&(ht+="_T"),`
        float ${ht}(int m[${st}]) {
          int offset = indicesToOffset${ht}(m);
          vec2 coords = offsetToCoords(offset, ${ot}, ${dt});
          float value = getColorAsFloat(${(0,nt.getGlsl)(this.context.glContext.version).texture2D}(${ut}, coords));
          return value;
        }
        `}getPackedValueFrom(ut,st,ot,dt,ft){let ht=`_${ut}_Pack`;return ft&&(ht+="_T"),`
        vec4 ${ht}(int m[${st}]) {
          int offset = indicesToOffset_${ut}(m);
          vec2 coords = offsetToCoords(offset, ${ot}, ${dt});
          return ${(0,nt.getGlsl)(this.context.glContext.version).texture2D}(${ut}, coords);
        }
        `}}_.CoordsGlslLib=lt},8520:(_e,_)=>{var et;Object.defineProperty(_,"__esModule",{value:!0}),_.TopologicalSortGlslRoutines=_.GlslLibRoutineNode=_.GlslLibRoutine=_.GlslLib=_.GlslContext=_.FunctionType=void 0,(et=_.FunctionType||(_.FunctionType={}))[et.ValueBased=0]="ValueBased",et[et.Positional=1]="Positional",_.GlslContext=class{constructor(tt,rt,nt,it){this.glContext=tt,this.programInfo=rt,this.inputTextureLayouts=nt,this.outputTextureLayout=it}},_.GlslLib=class{constructor(tt){this.context=tt}},_.GlslLibRoutine=class{constructor(tt,rt){this.routineBody=tt,this.dependencies=rt}},_.GlslLibRoutineNode=class{constructor(tt,rt,nt){this.name=tt,this.dependencies=nt||[],rt&&(this.routineBody=rt)}addDependency(tt){tt&&this.dependencies.push(tt)}},_.TopologicalSortGlslRoutines=class{static returnOrderedNodes(tt){if(!tt||tt.length===0)return[];if(tt.length===1)return tt;const rt=new Set,nt=new Set,it=new Array;return this.createOrderedNodes(tt,rt,nt,it),it}static createOrderedNodes(tt,rt,nt,it){for(let at=0;at<tt.length;++at)this.dfsTraverse(tt[at],rt,nt,it)}static dfsTraverse(tt,rt,nt,it){if(!tt||nt.has(tt.name))return;if(rt.has(tt.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");rt.add(tt.name);const at=tt.dependencies;if(at&&at.length>0)for(let lt=0;lt<at.length;++lt)this.dfsTraverse(at[lt],rt,nt,it);it.push(tt),nt.add(tt.name),rt.delete(tt.name)}}},7341:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.EncodingGlslLib=void 0;const tt=et(8520);class rt extends tt.GlslLib{constructor(it){super(it)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new tt.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new tt.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const it=rt.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new tt.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${it}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const it=rt.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new tt.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${it}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const it=new ArrayBuffer(4),at=new Uint32Array(it),lt=new Uint8Array(it);if(at[0]=3735928559,lt[0]===239)return!0;if(lt[0]===222)return!1;throw new Error("unknown endianness")}}_.EncodingGlslLib=rt},9894:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.FragColorGlslLib=void 0;const tt=et(8520),rt=et(5060);class nt extends tt.GlslLib{constructor(at){super(at)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const at=(0,rt.getGlsl)(this.context.glContext.version);return{setFragColor:new tt.GlslLibRoutine(`
        void setFragColor(float value) {
            ${at.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new tt.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}_.FragColorGlslLib=nt},2848:(_e,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.replaceInlines=void 0;const et=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;_.replaceInlines=function(tt){const rt={};let nt;for(;(nt=et.exec(tt))!==null;){const it=nt[3].split(",").map(at=>{const lt=at.trim().split(" ");return lt&&lt.length===2?{type:lt[0],name:lt[1]}:null}).filter(at=>at!==null);rt[nt[2]]={params:it,body:nt[4]}}for(const it in rt){const at="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",it),lt=new RegExp(at,"gm");for(;(nt=lt.exec(tt))!==null;){const ct=nt[1],ut=nt[2],st=nt[3].split(","),ot=ct?`${ct} ${ut};`:"";let dt=rt[it].body,ft="";rt[it].params.forEach((mt,gt)=>{mt&&(ft+=`${mt.type} ${mt.name} = ${st[gt]};
`)}),dt=`${ft}
 ${dt}`,dt=dt.replace("return",`${ut} = `);const ht=`
      ${ot}
      {
        ${dt}
      }
      `;tt=tt.replace(nt[0],ht)}}return tt.replace(et,"")}},8879:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.GlslPreprocessor=void 0;const tt=et(8520),rt=et(2848),nt=et(5483),it=et(5060);_.GlslPreprocessor=class{constructor(at,lt,ct,ut){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new tt.GlslContext(at,lt,ct,ut),Object.keys(nt.glslRegistry).forEach(ot=>{const dt=new nt.glslRegistry[ot](this.context);this.libs[ot]=dt});const st=this.glslLibRoutineDependencyGraph;for(const ot in this.libs){const dt=this.libs[ot].getFunctions();for(const ft in dt){const ht=ot+"."+ft;let mt;st[ht]?(mt=st[ht],mt.routineBody=dt[ft].routineBody):(mt=new tt.GlslLibRoutineNode(ht,dt[ft].routineBody),st[ht]=mt);const gt=dt[ft].dependencies;if(gt)for(let yt=0;yt<gt.length;++yt)if(st[gt[yt]])mt.addDependency(st[gt[yt]]);else{const vt=new tt.GlslLibRoutineNode(gt[yt]);st[gt[yt]]=vt,mt.addDependency(vt)}}}}preprocess(){const at=this.context.programInfo;let lt=at.shaderSource;return this.context.programInfo.hasMain||(lt=`${lt}
      ${(0,it.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),lt=(0,rt.replaceInlines)(lt),`${(0,it.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(at.inputNames,at.variables)}
    ${this.getImports(lt)}
    ${lt}`}getImports(at){const lt=this.selectGlslLibRoutinesToBeIncluded(at);if(lt.length===0)return"";let ct="";for(let ut=0;ut<lt.length;++ut){if(!lt[ut].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${lt[ut].name}`);ct+=lt[ut].routineBody+`
`}return ct}selectGlslLibRoutinesToBeIncluded(at){const lt=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(ct=>{const ut=ct.split(".")[1];at.indexOf(ut)!==-1&&lt.push(this.glslLibRoutineDependencyGraph[ct])}),tt.TopologicalSortGlslRoutines.returnOrderedNodes(lt)}getUniforms(at,lt){const ct=[];if(at)for(const ut of at)ct.push(`uniform sampler2D ${ut};`);if(lt)for(const ut of lt)ct.push(`uniform ${ut.type} ${ut.name}${ut.arrayLength?`[${ut.arrayLength}]`:""};`);return ct.join(`
`)}}},5483:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.glslRegistry=void 0;const tt=et(5107),rt=et(7341),nt=et(9894),it=et(2655),at=et(3891);_.glslRegistry={encoding:rt.EncodingGlslLib,fragcolor:nt.FragColorGlslLib,vec:at.VecGlslLib,shapeUtils:it.ShapeUtilsGlslLib,coordinates:tt.CoordsGlslLib}},2655:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ShapeUtilsGlslLib=void 0;const tt=et(8520);class rt extends tt.GlslLib{constructor(it){super(it)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const it=this.context.outputTextureLayout.shape.length,at={};return this.context.programInfo.inputNames.forEach((lt,ct)=>{const ut=this.context.inputTextureLayouts[ct].unpackedShape;if(ut.length<=it){const st=ut.length,ot=it-st,dt=`bcastIndices_${lt}`;let ft="";for(let mt=0;mt<st;++mt)ft+=`
          realIndices[${mt}] = int( mod(float(bcastedIndices[${ot+mt}]), ${ut[mt]}.0) );
          `;const ht=`
        void ${dt} (int bcastedIndices[${it}], out int realIndices[${st}]) {
          ${ft}
        }
        `;at[dt]=new tt.GlslLibRoutine(ht)}}),at}bcastMatmulIndex(){const it=this.context.outputTextureLayout.shape.length,at={};return this.context.programInfo.inputNames.forEach((lt,ct)=>{const ut=this.context.inputTextureLayouts[ct].shape;if(!(ut.length<2||ut.length>it)){const st=ut.length,ot=it-st,dt=`bcastMatmulIndices_${lt}`;let ft="";for(let mt=0;mt<st-2;++mt)ft+=`
          realIndices[${mt}] = int( mod(float(bcastedIndices[${ot+mt}]), ${ut[mt]}.0) );
          `;const ht=`
        void ${dt}(int bcastedIndices[${it}], out int realIndices[${st}]) {
          ${ft}
          realIndices[${st-1}] = bcastedIndices[${it-1}];
          realIndices[${st-2}] = bcastedIndices[${it-2}];
        }
        `;at[dt]=new tt.GlslLibRoutine(ht)}}),at}indicesToOffset(){const it={};return this.context.programInfo.inputNames.forEach((at,lt)=>{const ct=this.context.inputTextureLayouts[lt].shape,ut=this.context.inputTextureLayouts[lt].strides,st=ct.length;let ot=`indicesToOffset_${at}`;it[ot]=new tt.GlslLibRoutine(rt.indexToOffsetSingle(ot,st,ut)),ot=`indicesToOffset_${at}_T`,it[ot]=new tt.GlslLibRoutine(rt.indexToOffsetSingle(ot,st,ut.slice().reverse()))}),it}static indexToOffsetSingle(it,at,lt){let ct="";for(let ut=at-1;ut>=0;--ut)ct+=`
        offset += indices[${ut}] * ${lt[ut]};
        `;return`
      int ${it}(int indices[${at}]) {
        int offset = 0;
        ${ct}
        return offset;
      }
      `}offsetToIndices(){const it={};return this.context.programInfo.inputNames.forEach((at,lt)=>{const ct=this.context.inputTextureLayouts[lt].shape,ut=this.context.inputTextureLayouts[lt].strides,st=ct.length;let ot=`offsetToIndices_${at}`;it[ot]=new tt.GlslLibRoutine(rt.offsetToIndicesSingle(ot,st,ut)),ot=`offsetToIndices_${at}_T`,it[ot]=new tt.GlslLibRoutine(rt.offsetToIndicesSingle(ot,st,ut.slice().reverse()))}),it}static offsetToIndicesSingle(it,at,lt){const ct=[];for(let ut=0;ut<at-1;++ut)ct.push(`
      indices[${ut}] = offset / ${lt[ut]};`),ct.push(`
        offset -= indices[${ut}] * ${lt[ut]};`);return ct.push(`
      indices[${at-1}] = offset;`),`
      void ${it}(int offset, out int indices[${at}]) {
        ${ct.join("")}
      }
      `}incrementIndices(){const it={};return this.context.programInfo.inputNames.forEach((at,lt)=>{const ct=this.context.inputTextureLayouts[lt].shape,ut=ct.length,st=`incrementIndices_${at}`;let ot="";for(let ft=0;ft<ut;++ft)ot+=`
        shape[${ft}] = ${ct[ft]};`;const dt=`
        void ${st}(int axis, out int indices[${ut}]) {
          int shape[${ut}];
          ${ot};
          for(int i = ${ut} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;it[st]=new tt.GlslLibRoutine(dt)}),it}}_.ShapeUtilsGlslLib=rt},5060:(_e,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getDefaultFragShaderMain=_.getFragShaderPreamble=_.getVertexShaderSource=_.getGlsl=void 0;const et={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},tt={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function rt(nt){return nt===1?et:tt}_.getGlsl=rt,_.getVertexShaderSource=function(nt){const it=rt(nt);return`${it.version}
      precision highp float;
      ${it.attribute} vec3 position;
      ${it.attribute} vec2 textureCoord;

      ${it.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},_.getFragShaderPreamble=function(nt){const it=rt(nt);return`${it.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${it.varyingFrag} vec2 TexCoords;
    ${it.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},_.getDefaultFragShaderMain=function(nt,it){return`
  void main() {
    int indices[${it}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${rt(nt).output} = result;
  }
  `}},3891:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.VecGlslLib=void 0;const tt=et(8520);class rt extends tt.GlslLib{constructor(it){super(it)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const it=this.context.outputTextureLayout.shape.length,at={add:"+=",sub:"-=",mul:"*=",div:"/="},lt={};for(const ct in at){const ut=`${ct}Vec`;let st="";for(let dt=0;dt<it;++dt)st+=`
          dest[${dt}] ${at[ct]} src[${dt}];
          `;const ot=`
        void ${ut}(int src[${it}], out int dest[${it}]) {
          ${st}
        }
        `;lt[ut]=new tt.GlslLibRoutine(ot)}return lt}copyVec(){const it=this.context.outputTextureLayout.shape.length;let at="";for(let ct=0;ct<it;++ct)at+=`
        dest[${ct}] = src[${ct}];
        `;const lt=`
      void copyVec(int src[${it}], out int dest[${it}]) {
        ${at}
      }
      `;return{copyVec:new tt.GlslLibRoutine(lt)}}setVecItem(){const it=this.context.outputTextureLayout.shape.length;let at=`
        if(index < 0)
            index =${it} + index;
        if (index == 0)
            m[0] = value;
        `;for(let ct=1;ct<it-1;++ct)at+=`
        else if (index == ${ct})
            m[${ct}] = value;
            `;at+=`
        else
            m[${it-1}] = value;
        `;const lt=`
      void setVecItem(out int m[${it}], int index, int value) {
        ${at}
      }
        `;return{setVecItem:new tt.GlslLibRoutine(lt)}}getVecItem(){const it=this.context.outputTextureLayout.shape.length;let at=`
        if(index < 0)
            index = ${it} + index;
        if (index == 0)
            return m[0];
      `;for(let ct=1;ct<it-1;++ct)at+=`
        else if (index == ${ct})
            return m[${ct}];
      `;at+=`
        else
            return m[${it-1}];
        `;const lt=`
      int getVecItem(int m[${it}], int index) {
        ${at}
      }
    `;return{getVecItem:new tt.GlslLibRoutine(lt)}}}_.VecGlslLib=rt},8316:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WebGLInferenceHandler=void 0;const tt=et(6231),rt=et(9162),nt=et(2517),it=et(2403),at=et(7019),lt=et(8710),ct=et(5611),ut=et(4057),st=et(2039);_.WebGLInferenceHandler=class{constructor(ot){this.session=ot,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(ot,dt){return(0,ut.calculateTextureWidthAndHeight)(this.session.layoutStrategy,ot,dt)}executeProgram(ot,dt){if(dt.length<ot.inputNames.length)throw new Error(`Input size mustn't be less than ${ot.inputNames.length}.`);if(ot.inputNames.length!==ot.inputTypes.length)throw new Error("input names size does not match input types");const ft=[];for(let bt=0;bt<ot.inputNames.length;++bt)ft[bt]=this.getOrCreateTextureData(dt[bt],ot.inputTypes[bt]);const ht=((bt,xt)=>{const _t=xt.map(wt=>`${wt.unpackedShape.join(",")};${wt.width}x${wt.height}`).join("_");let St=bt.name;return bt.cacheHint&&(St+="["+bt.cacheHint+"]"),St+=":"+_t,St})(ot,ft);let mt=this.session.programManager.getArtifact(ht);const gt=mt?mt.programInfo:typeof ot.get=="function"?ot.get():ot,yt=(0,ut.createTextureLayoutFromTextureType)(this.session.layoutStrategy,gt.output.dims,gt.output.textureType),vt=this.createTextureData(yt,gt.output.type);return mt||(mt=this.session.programManager.build(gt,ft,vt),this.session.programManager.setArtifact(ht,mt)),this.runProgram(mt,ft,vt),vt}run(ot,dt){return this.executeProgram(ot,dt).tensor}runProgram(ot,dt,ft){for(let ht=0;ht<dt.length;++ht)if(!!dt[ht].isPacked!=(ot.programInfo.inputTypes[ht]===st.TextureType.packed))throw new Error(`input[${ht}] property packed inconsistent`);if(!!ft.isPacked!=(ot.programInfo.output.textureType===st.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(ot,dt,ft)}getOrCreateTextureData(ot,dt){let ft=this.getTextureData(ot.dataId,dt===st.TextureType.packed);if(!ft&&(ft=this.getTextureData(ot.dataId,dt!==st.TextureType.packed),ft))return dt===st.TextureType.packed?this.pack(ft):this.unpack(ft);if(!ft){const ht=(0,ut.createTextureLayoutFromTextureType)(this.session.layoutStrategy,ot.dims,dt);if(dt===st.TextureType.packedLastDimension){const yt=ot.dims;if(yt.length===4){const vt=[yt[0],Math.ceil(yt[1]*yt[2]*yt[3]/4)],bt=(0,ut.createTextureLayoutFromTextureType)(this.session.layoutStrategy,vt,dt);let xt=ot.numberData;if(yt[1]*yt[2]*yt[3]%4!=0){const _t=yt[0],St=yt[1]*yt[2]*yt[3],wt=Math.ceil(St*1/4)*4;xt=new Float32Array(_t*wt);for(let Et=0;Et<_t;++Et){const Tt=Et*St,Ct=Et*wt+Et%1*St;xt.set(ot.numberData.subarray(Tt,Tt+St),Ct)}}return this.createTextureData(bt,ot.type,xt,ot,1)}}if(dt===st.TextureType.packed){const mt=(0,ut.createTextureLayoutFromShape)(this.session.layoutStrategy,ot.dims,1,[],{reverseWH:!0}),gt=this.createTextureData(mt,ot.type,ot.numberData,ot,1);ft=this.pack(gt)}else ft=this.createTextureData(ht,ot.type,ot.numberData,ot,1)}return ft}createTextureDataFromLayoutBindTensor(ot,dt,ft,ht){return this.createTextureData(ot,dt,ft,ht,1)}createTextureData(ot,dt,ft,ht,mt){tt.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(ot)}]`);const gt=this.session.textureManager.createTextureFromLayout(dt,ot,ft,mt);return this.createTextureDataFromTexture(ot,dt,gt,ht)}reshapeUnpacked(ot,dt){const ft=this.getOrCreateTextureData(ot,st.TextureType.unpacked),ht={channels:ft.channels,height:ft.height,width:ft.width,shape:dt.length!==0?dt:[1],strides:nt.ShapeUtil.computeStrides(dt),unpackedShape:dt};return this.createTextureDataFromTexture(ht,ot.type,ft.texture).tensor}reshapePacked(ot,dt){const ft=this.getOrCreateTextureData(ot,st.TextureType.packed);if((0,at.isReshapeCheap)(ot.dims,dt)){const vt={channels:ft.channels,height:ft.height,width:ft.width,shape:dt.length!==0?dt:[1],strides:nt.ShapeUtil.computeStrides(dt),unpackedShape:dt,isPacked:!0};return this.createTextureDataFromTexture(vt,ot.type,ft.texture).tensor}const ht=(0,at.processDims3D)(ot.dims),mt=(0,at.processDims3D)(dt),gt=this.reshapePacked(ot,ht),yt=this.run((0,at.createPackedReshape3DProgramInfoLoader)(this,gt,mt),[gt]);return this.reshapePacked(yt,dt)}cast(ot,dt){const ft=this.getOrCreateTextureData(ot,st.TextureType.unpacked);return this.createTextureDataFromTexture(ft,dt,ft.texture).tensor}createTextureDataFromTexture(ot,dt,ft,ht,mt){const gt=Object.assign(Object.assign({},ot),{tensor:ht||new rt.Tensor(ot.unpackedShape,dt,yt=>this.readTexture(gt),async yt=>this.readTextureAsync(gt),void 0,mt),texture:ft});return this.setTextureData(gt.tensor.dataId,gt,ot.isPacked),gt}getTextureData(ot,dt=!1){return this.session.isInitializer(ot)?this.session.getTextureData(ot,dt):dt?this.packedTextureDataCache.get(ot):this.unpackedTextureDataCache.get(ot)}setTextureData(ot,dt,ft=!1){this.session.isInitializer(ot)?this.session.setTextureData(ot,dt,ft):(ft?this.packedTextureDataCache:this.unpackedTextureDataCache).set(ot,dt)}isTextureLayoutCached(ot,dt=!1){return!!this.getTextureData(ot.dataId,dt)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(ot=>this.session.textureManager.releaseTexture(ot)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(ot=>this.session.textureManager.releaseTexture(ot)),this.unpackedTextureDataCache=new Map}readTexture(ot){return ot.isPacked?this.readTexture(this.unpack(ot)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(ot,ot.tensor.type,ot.channels):this.session.textureManager.readUint8TextureAsFloat((0,lt.encodeAsUint8)(this,ot))}async readTextureAsync(ot){return ot.isPacked?this.readTextureAsync(this.unpack(ot)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(ot,ot.tensor.type,ot.channels):this.session.textureManager.readUint8TextureAsFloat((0,lt.encodeAsUint8)(this,ot))}pack(ot){return this.executeProgram((0,it.createPackProgramInfoLoader)(this,ot.tensor),[ot.tensor])}unpack(ot){return this.executeProgram((0,ct.createUnpackProgramInfoLoader)(this,ot.tensor),[ot.tensor])}}},1640:function(_e,_,et){var tt=this&&this.__createBinding||(Object.create?function(Nt,Dt,jt,Ut){Ut===void 0&&(Ut=jt);var Xt=Object.getOwnPropertyDescriptor(Dt,jt);Xt&&!("get"in Xt?!Dt.__esModule:Xt.writable||Xt.configurable)||(Xt={enumerable:!0,get:function(){return Dt[jt]}}),Object.defineProperty(Nt,Ut,Xt)}:function(Nt,Dt,jt,Ut){Ut===void 0&&(Ut=jt),Nt[Ut]=Dt[jt]}),rt=this&&this.__setModuleDefault||(Object.create?function(Nt,Dt){Object.defineProperty(Nt,"default",{enumerable:!0,value:Dt})}:function(Nt,Dt){Nt.default=Dt}),nt=this&&this.__importStar||function(Nt){if(Nt&&Nt.__esModule)return Nt;var Dt={};if(Nt!=null)for(var jt in Nt)jt!=="default"&&Object.prototype.hasOwnProperty.call(Nt,jt)&&tt(Dt,Nt,jt);return rt(Dt,Nt),Dt};Object.defineProperty(_,"__esModule",{value:!0}),_.WEBGL_OP_RESOLVE_RULES=void 0;const it=et(2898),at=nt(et(7839)),lt=et(4196),ct=et(2069),ut=et(8138),st=et(9663),ot=et(5193),dt=et(7992),ft=et(1253),ht=et(4776),mt=et(6572),gt=et(3346),yt=et(5623),vt=et(2870),bt=et(2143),xt=et(4939),_t=et(718),St=et(2268),wt=et(8117),Et=et(2278),Tt=et(5524),Ct=et(5975),It=et(3933),Pt=et(6558),At=et(5723),kt=et(3738),Rt=nt(et(4909)),$t=et(8428),Mt=et(9793);_.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",Rt.abs],["Acos","","7+",Rt.acos],["Add","","7+",at.add],["And","","7+",at.and],["Asin","","7+",Rt.asin],["Atan","","7+",Rt.atan],["AveragePool","","7+",bt.averagePool,bt.parseAveragePoolAttributes],["BatchNormalization","","7+",it.batchNormalization,it.parseBatchNormalizationAttributes],["Cast","","6+",lt.cast,lt.parseCastAttributes],["Ceil","","6+",Rt.ceil],["Clip","","6-10",Rt.clip,Rt.parseClipAttributes],["Clip","","11+",Rt.clipV11],["Concat","","4+",ct.concat,ct.parseConcatAttributes],["Conv","","1+",ut.conv,ut.parseConvAttributes],["ConvTranspose","","1+",st.convTranspose,st.parseConvTransposeAttributes],["Cos","","7+",Rt.cos],["Div","","7+",at.div],["Dropout","","7+",Rt.identity],["DepthToSpace","","1+",ot.depthToSpace,ot.parseDepthToSpaceAttributes],["Equal","","7+",at.equal],["Elu","","6+",Rt.elu,Rt.parseEluAttributes],["Exp","","6+",Rt.exp],["Flatten","","1+",dt.flatten,dt.parseFlattenAttributes],["Floor","","6+",Rt.floor],["FusedConv","com.microsoft","1+",ut.conv,ut.parseConvAttributes],["Gather","","1+",ft.gather,ft.parseGatherAttributes],["Gemm","","7-10",ht.gemm,ht.parseGemmAttributesV7],["Gemm","","11+",ht.gemm,ht.parseGemmAttributesV11],["GlobalAveragePool","","1+",bt.globalAveragePool,bt.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",bt.globalMaxPool],["Greater","","7+",at.greater],["Identity","","1+",Rt.identity],["ImageScaler","","1+",mt.imageScaler,mt.parseImageScalerAttributes],["InstanceNormalization","","6+",gt.instanceNormalization,gt.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",Rt.leakyRelu,Rt.parseLeakyReluAttributes],["Less","","7+",at.less],["Log","","6+",Rt.log],["MatMul","","1+",yt.matMul,yt.parseMatMulAttributes],["MaxPool","","1+",bt.maxPool,bt.parseMaxPoolAttributes],["Mul","","7+",at.mul],["Neg","","6+",Rt.neg],["Not","","1+",Rt.not],["Or","","7+",at.or],["Pad","","2-10",vt.padV2,vt.parsePadAttributesV2],["Pad","","11+",vt.padV11,vt.parsePadAttributesV11],["Pow","","7+",at.pow],["PRelu","","7+",at.pRelu],["ReduceLogSum","","1+",xt.reduceLogSum,xt.parseReduceAttributes],["ReduceMax","","1+",xt.reduceMax,xt.parseReduceAttributes],["ReduceMean","","1+",xt.reduceMean,xt.parseReduceAttributes],["ReduceMin","","1+",xt.reduceMin,xt.parseReduceAttributes],["ReduceProd","","1+",xt.reduceProd,xt.parseReduceAttributes],["ReduceSum","","1-12",xt.reduceSum,xt.parseReduceAttributes],["ReduceSumSquare","","1+",xt.reduceLogSumSquare,xt.parseReduceAttributes],["Relu","","6+",Rt.relu],["Reshape","","5+",_t.reshape],["Resize","","10",St.resize,St.parseResizeAttributesV10],["Resize","","11+",St.resize,St.parseResizeAttributesV11],["Shape","","1+",wt.shape],["Sigmoid","","6+",Rt.sigmoid],["Sin","","7+",Rt.sin],["Slice","","10+",Et.sliceV10],["Slice","","1-9",Et.slice,Et.parseSliceAttributes],["Softmax","","1-12",Tt.softmax,Tt.parseSoftmaxAttributes],["Softmax","","13+",Tt.softmaxV13,Tt.parseSoftmaxAttributesV13],["Split","","2-12",Ct.split,Ct.parseSplitAttributes],["Sqrt","","6+",Rt.sqrt],["Squeeze","","1-12",It.squeeze,It.parseSqueezeAttributes],["Squeeze","","13+",It.squeezeV13],["Sub","","7+",at.sub],["Sum","","6+",Pt.sum],["Tan","","7+",Rt.tan],["Tanh","","6+",Rt.tanh],["Tile","","6+",At.tile],["Transpose","","1+",kt.transpose,kt.parseTransposeAttributes],["Upsample","","7-8",Mt.upsample,Mt.parseUpsampleAttributesV7],["Upsample","","9",Mt.upsample,Mt.parseUpsampleAttributesV9],["Unsqueeze","","1-12",$t.unsqueeze,$t.parseUnsqueezeAttributes],["Unsqueeze","","13+",$t.unsqueezeV13],["Xor","","7+",at.xor]]},2898:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseBatchNormalizationAttributes=_.batchNormalization=void 0;const tt=et(246),rt=et(5060),nt=et(2039),it={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked]};_.batchNormalization=(ct,ut,st)=>(lt(ut),[ct.run(Object.assign(Object.assign({},it),{cacheHint:st.cacheKey,get:()=>at(ct,ut,st)}),ut)]),_.parseBatchNormalizationAttributes=ct=>{const ut=ct.attributes.getFloat("epsilon",1e-5),st=ct.attributes.getFloat("momentum",.9),ot=ct.attributes.getInt("spatial",1);return(0,tt.createAttributeWithCacheKey)({epsilon:ut,momentum:st,spatial:ot})};const at=(ct,ut,st)=>{const ot=(0,rt.getGlsl)(ct.session.backend.glContext.version),dt=ut[0].dims.length,[ft,ht]=ct.calculateTextureWidthAndHeight(ut[1].dims,nt.TextureType.unpacked),mt=`
  float process(int[${dt}] indices) {
    vec2 position = offsetToCoords(indices[1], ${ft}, ${ht});
    float scale = getColorAsFloat(${ot.texture2D}(Scale, position));
    float mean = getColorAsFloat(${ot.texture2D}(Mean, position));
    float variance = getColorAsFloat(${ot.texture2D}(Variance, position));
    float b = getColorAsFloat(${ot.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${st.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},it),{output:{dims:ut[0].dims,type:ut[0].type,textureType:nt.TextureType.unpacked},shaderSource:mt})},lt=ct=>{if(!ct||ct.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const ut=ct[0],st=ct[1],ot=ct[2],dt=ct[3],ft=ct[4];if(ut.dims.length<3||st.dims.length!==1||ot.dims.length!==1||dt.dims.length!==1||ft.dims.length!==1)throw new Error("invalid input shape.");if(st.dims[0]!==ut.dims[1]||ot.dims[0]!==ut.dims[1]||dt.dims[0]!==ut.dims[1]||ft.dims[0]!==ut.dims[1])throw new Error("invalid input shape.");if(ut.type!=="float32"&&ut.type!=="float64"||st.type!=="float32"&&st.type!=="float64"||ot.type!=="float32"&&ot.type!=="float64"||dt.type!=="float32"&&dt.type!=="float64"||ft.type!=="float32"&&ft.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.xor=_.sub=_.pRelu=_.pow=_.or=_.mul=_.less=_.greater=_.equal=_.div=_.and=_.add=_.glslPRelu=_.glslPow=_.glslXor=_.glslOr=_.glslAnd=_.glslLess=_.glslGreater=_.glslEqual=_.glslSub=_.glslMul=_.glslDiv=_.glslAdd=void 0;const tt=et(2517),rt=et(8520),nt=et(5060),it=et(2039);function at(){const xt="add_";return{body:`
  float ${xt}(float a, float b) {
    return a + b;
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function lt(){const xt="div_";return{body:`
  float ${xt}(float a, float b) {
    return a / b;
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function ct(){const xt="mul_";return{body:`
  float ${xt}(float a, float b) {
    return a * b;
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function ut(){const xt="sub_";return{body:`
  float ${xt}(float a, float b) {
    return a - b;
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function st(){const xt="equal_";return{body:`
  float ${xt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function ot(){const xt="greater_";return{body:`
  float ${xt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function dt(){const xt="less_";return{body:`
  float ${xt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function ft(){const xt="and_";return{body:`
  float ${xt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function ht(){const xt="or_";return{body:`
  float ${xt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function mt(){const xt="xor_";return{body:`
  float ${xt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}function gt(){return function(xt){const _t=`${xt}_`;return{body:`
  float ${_t}(float a, float b) {
    return ${xt}(a, b);
  }
  vec4 ${_t}(vec4 v1, vec4 v2) {
    return ${xt}(v1, v2);
  }
  `,name:_t,type:rt.FunctionType.ValueBased}}("pow")}function yt(){const xt="prelu_";return{body:`
  float ${xt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${xt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:xt,type:rt.FunctionType.ValueBased}}_.glslAdd=at,_.glslDiv=lt,_.glslMul=ct,_.glslSub=ut,_.glslEqual=st,_.glslGreater=ot,_.glslLess=dt,_.glslAnd=ft,_.glslOr=ht,_.glslXor=mt,_.glslPow=gt,_.glslPRelu=yt;const vt=(xt,_t,St,wt=_t[0].type,Et)=>{const Tt=xt.session.pack?it.TextureType.packed:it.TextureType.unpacked;return{name:St.name,inputNames:["A","B"],inputTypes:[Tt,Tt],cacheHint:Et,get:()=>bt(xt,_t,St,wt)}},bt=(xt,_t,St,wt=_t[0].type)=>{const Et=xt.session.pack?it.TextureType.packed:it.TextureType.unpacked,Tt=!tt.ShapeUtil.areEqual(_t[0].dims,_t[1].dims);let Ct=_t[0].dims;const It=xt.session.pack;if(Tt){const kt=tt.BroadcastUtil.calcShape(_t[0].dims,_t[1].dims,!1);if(!kt)throw new Error("Can't perform binary op on the given tensors");Ct=kt;const Rt=Ct.length,$t=_t[0].dims.length!==0?_t[0].dims.length:1,Mt=_t[1].dims.length!==0?_t[1].dims.length:1,Nt=_t[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Dt=_t[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",jt=(0,nt.getGlsl)(xt.session.backend.glContext.version),Ut=It?`
      ${St.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${St.name}(a, b);
        ${jt.output} = result;
      }`:`
      ${St.body}
      float process(int indices[${Rt}]) {
        int aindices[${$t}];
        int bindices[${Mt}];
        ${Nt}
        ${Dt}
        return ${St.name}(_A(aindices), _B(bindices));
      }`;return{name:St.name,inputNames:["A","B"],inputTypes:[Et,Et],output:{dims:Ct,type:wt,textureType:Et},shaderSource:Ut,hasMain:It}}const Pt=(0,nt.getGlsl)(xt.session.backend.glContext.version),At=`
    ${St.body}
    void main() {
      vec4 v1 = ${Pt.texture2D}(A, TexCoords);
      vec4 v2 = ${Pt.texture2D}(B, TexCoords);
      vec4 result = ${St.name}(v1, v2);
      ${Pt.output} = result;
    }
    `;return{name:St.name,inputNames:["A","B"],inputTypes:[Et,Et],output:{dims:_t[0].dims,type:wt,textureType:Et},shaderSource:At,hasMain:!0}};_.add=(xt,_t)=>[xt.run(vt(xt,_t,at()),_t)],_.and=(xt,_t)=>[xt.run(vt(xt,_t,ft(),"bool"),_t)],_.div=(xt,_t)=>[xt.run(vt(xt,_t,lt()),_t)],_.equal=(xt,_t)=>[xt.run(vt(xt,_t,st(),"bool"),_t)],_.greater=(xt,_t)=>[xt.run(vt(xt,_t,ot(),"bool"),_t)],_.less=(xt,_t)=>[xt.run(vt(xt,_t,dt(),"bool"),_t)],_.mul=(xt,_t)=>[xt.run(vt(xt,_t,ct()),_t)],_.or=(xt,_t)=>[xt.run(vt(xt,_t,ht(),"bool"),_t)],_.pow=(xt,_t)=>[xt.run(vt(xt,_t,gt()),_t)],_.pRelu=(xt,_t)=>[xt.run(vt(xt,_t,yt()),_t)],_.sub=(xt,_t)=>[xt.run(vt(xt,_t,ut()),_t)],_.xor=(xt,_t)=>[xt.run(vt(xt,_t,mt(),"bool"),_t)]},4196:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseCastAttributes=_.cast=void 0;const tt=et(2517);_.cast=(nt,it,at)=>(rt(it),[nt.cast(it[0],at)]),_.parseCastAttributes=nt=>tt.ProtoUtil.tensorDataTypeFromProto(nt.attributes.getInt("to"));const rt=nt=>{if(!nt||nt.length!==1)throw new Error("Cast requires 1 input.");if(nt[0].type==="string")throw new Error("Invalid input type.")}},1163:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createPackedConcatProgramInfoLoader=void 0;const tt=et(5060),rt=et(2039),nt=et(9390),it=et(2827);_.createPackedConcatProgramInfoLoader=(lt,ct,ut)=>{const st=(ot=ct.length,dt=ut.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:ot},(ft,ht)=>`X${ht}`),inputTypes:Array(ot).fill(rt.TextureType.packed),cacheHint:dt});var ot,dt;return Object.assign(Object.assign({},st),{get:()=>((ft,ht,mt,gt)=>{const yt=mt[0].dims.slice();if(gt>=yt.length||gt<-1*yt.length)throw new Error("axis specified for concat doesn't match input dimensionality");gt<0&&(gt=yt.length+gt);const vt=yt.slice(0);for(let Nt=1;Nt<mt.length;Nt++){const Dt=mt[Nt].dims.slice();for(let jt=0;jt<yt.length;jt++)if(jt===gt)vt[gt]+=Dt[jt];else if(yt[jt]!==Dt[jt])throw new Error("non concat dimensions must match")}const bt=vt.length,xt=(0,it.getChannels)("coords",bt),_t=(0,nt.getCoordsDataType)(bt),St=(0,it.unpackFromChannel)(),wt=mt.map(Nt=>Nt.dims),Et=(0,nt.getGlChannels)(bt),Tt=new Array(wt.length-1);Tt[0]=wt[0][gt];for(let Nt=1;Nt<Tt.length;Nt++)Tt[Nt]=Tt[Nt-1]+wt[Nt][gt];const Ct=Et[gt],It=Et.slice(-2),Pt=Et.join();let At=`if (${Ct} < ${Tt[0]}) {
        return getChannel(
            getX0(${Pt}), vec2(${It.join()}));
        }`;for(let Nt=1;Nt<Tt.length;Nt++){const Dt=Tt[Nt-1];At+=`
            if (${Ct} < ${Tt[Nt]}  && ${Ct} >= ${Tt[Nt-1]}) {
              return getChannel(
                getX${Nt}(${at(Et,Ct,Dt)}),
                vec2(${at(It,Ct,Dt)}));
            }`}const kt=Tt.length,Rt=Tt[Tt.length-1];At+=`
            return getChannel(
              getX${kt}(${at(Et,Ct,Rt)}),
              vec2(${at(It,Ct,Rt)}));`;const $t=(0,tt.getGlsl)(ft.session.backend.glContext.version),Mt=`
          ${St}
          float getValue(${Et.map(Nt=>"int "+Nt)}) {
            ${At}
          }

          void main() {
            ${_t} coords = getOutputCoords();
            int lastDim = coords.${Et[bt-1]};
            coords.${Et[bt-1]} = coords.${Et[bt-2]};
            coords.${Et[bt-2]} = lastDim;

            vec4 result = vec4(getValue(${xt}), 0., 0., 0.);

            ${xt[bt-1]} = ${xt[bt-1]} + 1;
            if (${xt[bt-1]} < ${vt[bt-1]}) {
              result.g = getValue(${xt});
            }

            ${xt[bt-2]} = ${xt[bt-2]} + 1;
            if (${xt[bt-2]} < ${vt[bt-2]}) {
              result.a = getValue(${xt});
            }

            ${xt[bt-1]} = ${xt[bt-1]} - 1;
            if (${xt[bt-2]} < ${vt[bt-2]} &&
                ${xt[bt-1]} < ${vt[bt-1]}) {
              result.b = getValue(${xt});
            }
            ${$t.output} = result;
          }
        `;return Object.assign(Object.assign({},ht),{output:{dims:vt,type:mt[0].type,textureType:rt.TextureType.packed},shaderSource:Mt,hasMain:!0})})(lt,st,ct,ut.axis)})};const at=(lt,ct,ut)=>{const st=lt.indexOf(ct);return lt.map((ot,dt)=>dt===st?`${ot} - ${ut}`:ot).join()}},2069:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseConcatAttributes=_.concat=void 0;const tt=et(246),rt=et(2039),nt=et(1163);_.concat=(ot,dt,ft)=>(st(dt),ot.session.pack&&dt[0].dims.length>1?[ot.run((0,nt.createPackedConcatProgramInfoLoader)(ot,dt,ft),dt)]:[ot.run(it(ot,dt,ft),dt)]);const it=(ot,dt,ft)=>{const ht=(mt=dt.length,gt=ft.cacheKey,{name:"Concat",inputNames:Array.from({length:mt},(yt,vt)=>`X${vt}`),inputTypes:Array(mt).fill(rt.TextureType.unpacked),cacheHint:gt});var mt,gt;return Object.assign(Object.assign({},ht),{get:()=>((yt,vt,bt,xt)=>{const _t=bt[0].dims.slice();if(xt>=_t.length||xt<-1*_t.length)throw new Error("axis specified for concat doesn't match input dimensionality");xt<0&&(xt=_t.length+xt);const St=_t.slice(0);for(let Pt=1;Pt<bt.length;Pt++){const At=bt[Pt].dims.slice();for(let kt=0;kt<_t.length;kt++)if(kt===xt)St[xt]+=At[kt];else if(_t[kt]!==At[kt])throw new Error("non concat dimensions must match")}const wt=St.length,Et=new Array(bt.length);let Tt=0;for(let Pt=0;Pt<Et.length;++Pt)Tt+=bt[Pt].dims[xt],Et[Pt]=Tt;let Ct="";Ct=bt.length<5?at(Et):lt(Et);const It=`
        ${ct(bt.length,wt)}
        ${ut(Et)}
        ${Ct}
        float process(int indices[${wt}]) {
          int textureIndex = getTextureWhereDataResides (indices[${xt}]);

          if(textureIndex != 0) {
            indices[${xt}] = indices[${xt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},vt),{output:{dims:St,type:bt[0].type,textureType:rt.TextureType.unpacked},shaderSource:It})})(0,ht,dt,ft.axis)})},at=ot=>`int getTextureWhereDataResides(int index) {
      ${ot.map((dt,ft)=>`if(index<${dt}) {return ${ft};}
`).join("")}
    }`,lt=ot=>at(ot),ct=(ot,dt)=>{const ft=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${dt}]) {`];for(let ht=0;ht<ot;++ht)ht===0?ft.push(`	if (textureIndex == ${ht}) { return _X${ht}(indices); }`):ht===ot-1?ft.push(`	else { return _X${ht}(indices); }`):ft.push(`	else if (textureIndex == ${ht}) { return _X${ht}(indices); }`);return ft.push("	}"),ft.join(`
`)},ut=ot=>{const dt=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let ft=0;ft<ot.length;++ft)ft===0?dt.push(`	if (index == ${ft}) { return ${ot[ft]}; }`):ft===ot.length-1?dt.push(`	else { return ${ot[ft]}; }`):dt.push(`	else if (index == ${ft}) { return ${ot[ft]}; }`);return dt.push("	}"),dt.join(`
`)};_.parseConcatAttributes=ot=>(0,tt.createAttributeWithCacheKey)({axis:ot.attributes.getInt("axis")});const st=ot=>{if(!ot||ot.length<1)throw new Error("too few inputs");const dt=ot[0].type,ft=ot[0].dims.length;if(dt==="string")throw new Error("string tensor is not supported yet");for(const ht of ot){if(ht.type!==dt)throw new Error("input tensors should be one type");if(ht.dims.length!==ft)throw new Error("input tensors should have the same shape")}}},4770:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createUnpackedGroupedConvProgramInfoLoader=void 0;const tt=et(6231),rt=et(5060),nt=et(2039),it=et(8138),at=et(2823);_.createUnpackedGroupedConvProgramInfoLoader=(lt,ct,ut)=>{const st=(ot=ct.length>2,dt=ut.cacheKey,{name:"GroupedConv",inputNames:ot?["X","W","Bias"]:["X","W"],inputTypes:ot?[nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked]:[nt.TextureType.unpacked,nt.TextureType.unpacked],cacheHint:dt});var ot,dt;return Object.assign(Object.assign({},st),{get:()=>((ft,ht,mt,gt)=>{const yt=ht.length>2?"value += getBias(output_channel);":"",vt=ht[0].dims.slice(),bt=ht[1].dims.slice(),xt=bt[0]/gt.group;tt.Logger.verbose("GroupedConv",`autpPad:${gt.autoPad}, dilations:${gt.dilations}, group:${gt.group}, kernelShape:${gt.kernelShape}, pads:${gt.pads}, strides:${gt.strides}`);const _t=(0,it.calculateOutputShape)(vt,bt,gt.dilations,gt.pads,gt.strides),St=(0,rt.getGlsl)(ft.session.backend.glContext.version),{activationFunction:wt,applyActivation:Et}=(0,at.getActivationSnippet)(gt),Tt=`
  const ivec2 strides = ivec2(${gt.strides[0]}, ${gt.strides[1]});
  const ivec2 pads = ivec2(${gt.pads[0]}, ${gt.pads[1]});
  ${wt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${xt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${bt[1]}; wInChannel++) {
      int input_channel = group_id * ${bt[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${bt[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${gt.dilations[0]};

        if (xHeight < 0 || xHeight >= ${vt[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${bt[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${gt.dilations[1]};
          if (xWidth < 0 || xWidth >= ${vt[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${yt}
    ${Et}
    ${St.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},mt),{output:{dims:_t,type:ht[0].type,textureType:nt.TextureType.unpacked},shaderSource:Tt,hasMain:!0})})(lt,ct,st,ut)})}},1386:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.conv2DPacked=_.conv2DPackedPointwise=void 0;const tt=et(8138),rt=et(8555),nt=et(708);_.conv2DPackedPointwise=(it,at,lt)=>{const ct=at[0].dims,ut=at[1].dims,st=(0,tt.calculateOutputShape)(ct,ut,lt.dilations,lt.pads,lt.strides),ot=it.reshapePacked(at[0],[ct[1],ct[2]*ct[3]]),dt=it.reshapePacked(at[1],[ut[0],ut[1]]),ft=at.length>2?[dt,ot,at[2]]:[dt,ot],ht=it.run((0,nt.createPackedMatmulProgramInfoLoader)(it,ft,lt),ft);return it.reshapePacked(ht,st)},_.conv2DPacked=(it,at,lt)=>{const ct=at[0].dims,ut=at[1].dims,st=(0,tt.calculateOutputShape)(ct,ut,lt.dilations,lt.pads,lt.strides),ot=it.run((0,rt.createPackedIm2ColProgramInfoLoader)(it,at[0],at[1],st,lt),[at[0]]),dt=it.reshapePacked(at[1],[ut[0],ut[1]*ut[2]*ut[3]]),ft=at.length===3?[dt,ot,at[2]]:[dt,ot],ht=it.run((0,nt.createPackedMatmulProgramInfoLoader)(it,ft,lt),ft);return it.reshapePacked(ht,st)}},9663:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseConvTransposeAttributes=_.convTranspose=void 0;const tt=et(246),rt=et(5060),nt=et(2039),it=et(2823),at=(dt,ft,ht,mt,gt,yt)=>(dt-1)*ft+ht+(mt-1)*gt+1-yt,lt=(dt,ft,ht,mt,gt)=>{const yt=Math.floor(dt/2);ft==="SAME_UPPER"?(ht[mt]=yt,ht[gt]=dt-yt):ft==="SAME_LOWER"&&(ht[mt]=dt-yt,ht[gt]=yt)};_.convTranspose=(dt,ft,ht)=>(ot(ft,ht),ct(dt,ft,ht));const ct=(dt,ft,ht)=>{const mt=st(ht,ft);return[ut(dt,ft,mt)]},ut=(dt,ft,ht)=>dt.run(((mt,gt,yt)=>{const vt=(bt=gt.length>2,xt=yt.cacheKey,{name:"ConvTranspose",inputNames:bt?["X","W","B"]:["X","W"],inputTypes:bt?[nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked]:[nt.TextureType.unpacked,nt.TextureType.unpacked],cacheHint:xt});var bt,xt;return Object.assign(Object.assign({},vt),{get:()=>((_t,St,wt,Et)=>{const Tt=St.length>2?"getB(output_channel)":"0.0",Ct=St[0].dims,It=St[1].dims,Pt=It[1],At=It[0]/Et.group,kt=[St[0].dims[0],St[1].dims[1]*Et.group,...Et.outputShape],Rt=(0,rt.getGlsl)(_t.session.backend.glContext.version),{activationFunction:$t,applyActivation:Mt}=(0,it.getActivationSnippet)(Et),Nt=`
  const ivec2 strides = ivec2(${Et.strides[0]}, ${Et.strides[1]});
  const ivec2 pads = ivec2(${Et.pads[0]}, ${Et.pads[1]});
  ${$t}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${Pt};
    int wOutChannel = output_channel - group_id * ${Pt};

    float value = ${Tt};
    for (int inChannelOffset = 0; inChannelOffset < ${At}; inChannelOffset++) {
      int input_channel = group_id * ${At} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${It[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${It[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${Et.dilations[0]}, wHOff * ${Et.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${Ct[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${Ct[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${Mt}
    ${Rt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},wt),{output:{dims:kt,type:St[0].type,textureType:nt.TextureType.unpacked},shaderSource:Nt,hasMain:!0})})(mt,gt,vt,yt)})})(dt,ft,ht),ft),st=(dt,ft)=>{const ht=dt.kernelShape.slice();if(dt.kernelShape.length===0)for(let vt=2;vt<ft[1].dims.length;++vt)ht.push(ft[1].dims[vt]);const mt=dt.pads.slice(),gt=dt.outputShape.slice();((vt,bt,xt,_t,St,wt,Et,Tt)=>{const Ct=vt.length-2,It=Tt.length===0;for(let Pt=0;Pt<Ct;++Pt){const At=It?vt[Pt+2]*wt[Pt]:Tt[Pt],kt=at(vt[Pt+2],wt[Pt],St[Pt],bt[Pt],xt[Pt],At);lt(kt,_t,St,Pt,Pt+Ct),It&&Tt.push(wt[Pt]*(vt[Pt+2]-1)+Et[Pt]+(bt[Pt]-1)*xt[Pt]+1-St[Pt]-St[Pt+Ct])}})(ft[0].dims,ht,dt.dilations,dt.autoPad,mt,dt.strides,dt.outputPadding,gt);const yt=Object.assign({},dt);return Object.assign(yt,{kernelShape:ht,pads:mt,outputShape:gt,cacheKey:dt.cacheKey}),yt};_.parseConvTransposeAttributes=dt=>{const ft=dt.attributes,ht=(0,it.parseInternalActivationAttributes)(ft),mt=ft.getString("auto_pad","NOTSET"),gt=ft.getInts("dilations",[1,1]),yt=ft.getInt("group",1),vt=ft.getInts("kernel_shape",[]),bt=ft.getInts("output_padding",[0,0]),xt=ft.getInts("output_shape",[]),_t=ft.getInts("pads",[0,0,0,0]),St=ft.getInts("strides",[1,1]);return(0,tt.createAttributeWithCacheKey)(Object.assign({autoPad:mt,dilations:gt,group:yt,kernelShape:vt,outputPadding:bt,outputShape:xt,pads:_t,strides:St},ht))};const ot=(dt,ft)=>{if(!dt||dt.length!==2&&dt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(dt[0].dims.length!==4||dt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(dt[0].dims[1]!==dt[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const ht=dt[1].dims[1]*ft.group;if(dt.length===3&&(dt[2].dims.length!==1||dt[2].dims[0]!==ht))throw new Error("invalid bias");const mt=dt[0].dims.length-2;if(ft.dilations.length!==mt)throw new Error(`dilations should be ${mt}D`);if(ft.strides.length!==mt)throw new Error(`strides should be ${mt}D`);if(ft.pads.length!==2*mt)throw new Error(`pads should be ${2*mt}D`);if(ft.outputPadding.length!==mt)throw new Error(`output_padding should be ${mt}D`);if(ft.kernelShape.length!==0&&ft.kernelShape.length!==dt[1].dims.length-2)throw new Error("invalid kernel shape");if(ft.outputShape.length!==0&&ft.outputShape.length!==dt[0].dims.length-2)throw new Error("invalid output shape");if(dt[0].type!=="float32"||dt[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(dt.length===3&&dt[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseConvAttributes=_.conv=_.calculateOutputShape=void 0;const tt=et(246),rt=et(2517),nt=et(4770),it=et(1386),at=et(9828),lt=et(2823),ct=et(3248),ut=et(5623);_.calculateOutputShape=(mt,gt,yt,vt,bt)=>{const xt=mt[0],_t=mt.slice(2),St=_t.length,wt=gt[0],Et=gt.slice(2).map((Ct,It)=>Ct+(Ct-1)*(yt[It]-1)),Tt=_t.map((Ct,It)=>Ct+vt[It]+vt[It+St]).map((Ct,It)=>Math.floor((Ct-Et[It]+bt[It])/bt[It]));return[xt,wt].concat(...Tt)},_.conv=(mt,gt,yt)=>(ht(gt,yt),st(mt,gt,yt));const st=(mt,gt,yt)=>{const vt=ft(yt,gt),bt=mt.session.pack,xt=vt.kernelShape[0]===1&&vt.kernelShape[1]===1;return vt.group>1?[mt.run((0,nt.createUnpackedGroupedConvProgramInfoLoader)(mt,gt,vt),gt)]:xt&&bt?[ot(mt,gt,vt)]:bt&&gt[0].dims.length===4&&gt[0].dims[0]===1&&!xt?[(0,it.conv2DPacked)(mt,gt,vt)]:[dt(mt,gt,vt)]},ot=(mt,gt,yt)=>{const vt=gt[0].dims,bt=gt[1].dims,xt=(0,_.calculateOutputShape)(vt,bt,yt.dilations,yt.pads,yt.strides),_t=mt.reshapeUnpacked(gt[0],[vt[1],vt[2]*vt[3]]),St=mt.reshapeUnpacked(gt[1],[bt[0],bt[1]]),wt=gt.length>2?[St,_t,gt[2]]:[St,_t],Et=mt.run((0,ut.createMatmulProgramInfoLoader)(wt,yt),wt);return mt.reshapeUnpacked(Et,xt)},dt=(mt,gt,yt)=>{const vt=gt[0].dims,bt=gt[1].dims,xt=(0,_.calculateOutputShape)(vt,bt,yt.dilations,yt.pads,yt.strides),_t=mt.run((0,ct.createIm2ColProgramInfoLoader)(mt,gt[0],gt[1],xt,yt),[gt[0]]),St=gt.length===3?[_t,gt[1],gt[2]]:[_t,gt[1]];return mt.run((0,at.createDotProductProgramInfoLoader)(mt,gt,xt,yt),St)},ft=(mt,gt)=>{const yt=mt.kernelShape.slice();if(mt.kernelShape.length===0)for(let xt=2;xt<gt[1].dims.length;++xt)yt.push(gt[1].dims[xt]);const vt=mt.pads.slice();rt.PoolConvUtil.adjustPadsBasedOnAutoPad(gt[0].dims,mt.strides,mt.dilations,yt,vt,mt.autoPad);const bt=Object.assign({},mt);return Object.assign(bt,{kernelShape:yt,pads:vt,cacheKey:mt.cacheKey}),bt};_.parseConvAttributes=mt=>{const gt=mt.attributes,yt=(0,lt.parseInternalActivationAttributes)(gt),vt=gt.getString("auto_pad","NOTSET"),bt=gt.getInts("dilations",[1,1]),xt=gt.getInt("group",1),_t=gt.getInts("kernel_shape",[]),St=gt.getInts("pads",[0,0,0,0]),wt=gt.getInts("strides",[1,1]);return(0,tt.createAttributeWithCacheKey)(Object.assign({autoPad:vt,dilations:bt,group:xt,kernelShape:_t,pads:St,strides:wt},yt))};const ht=(mt,gt)=>{if(!mt||mt.length!==2&&mt.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(mt[0].dims.length!==4||mt[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(mt[0].dims[1]!==mt[1].dims[1]*gt.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(mt.length===3&&(mt[2].dims.length!==1||mt[1].dims[0]!==mt[2].dims[0]))throw new Error("invalid bias");const yt=mt[0].dims.length-2;if(gt.dilations.length!==yt)throw new Error(`dilations should be ${yt}D`);if(gt.strides.length!==yt)throw new Error(`strides should be ${yt}D`);if(gt.pads.length!==2*yt)throw new Error(`pads should be ${2*yt}D`);if(gt.kernelShape.length!==0&&gt.kernelShape.length!==mt[1].dims.length-2)throw new Error("invalid kernel shape");if(mt[0].type!=="float32"||mt[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(mt.length===3&&mt[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseDepthToSpaceAttributes=_.depthToSpace=void 0;const tt=et(3738);_.depthToSpace=(nt,it,at)=>{rt(it);const lt=at.blocksize,ct=lt*lt,ut=at.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],st=at.mode==="DCR"?[it[0].dims[0],lt,lt,it[0].dims[1]/ct,it[0].dims[2],it[0].dims[3]]:[it[0].dims[0],it[0].dims[1]/ct,lt,lt,it[0].dims[2],it[0].dims[3]],ot=nt.reshapeUnpacked(it[0],st),dt={perm:ut,cacheKey:`${ut}`},[ft]=(0,tt.transpose)(nt,[ot],dt),ht=[it[0].dims[0],it[0].dims[1]/ct,it[0].dims[2]*lt,it[0].dims[3]*lt];return[nt.reshapeUnpacked(ft,ht)]},_.parseDepthToSpaceAttributes=nt=>{const it=nt.attributes.getInt("blocksize");if(it<1)throw new Error(`blocksize must be >= 1, but got : ${it} for DepthToSpace`);const at=nt.attributes.getString("mode","DCR");if(at!=="DCR"&&at!=="CRD")throw new Error(`unrecognized mode: ${at} for DepthToSpace`);return{mode:at,blocksize:it}};const rt=nt=>{if(nt.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${nt.length}`);if(nt[0].type==="string"||nt[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createDotProductProgramInfoLoader=void 0;const tt=et(2517),rt=et(5060),nt=et(2039),it=et(2823),at=et(3248);_.createDotProductProgramInfoLoader=(lt,ct,ut,st)=>{const ot=((dt,ft)=>({name:"ConvDotProduct",inputNames:dt?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:dt?[nt.TextureType.unpacked,nt.TextureType.packedLastDimension,nt.TextureType.unpacked]:[nt.TextureType.unpacked,nt.TextureType.packedLastDimension],cacheKey:ft.activationCacheKey}))(ct.length>2,st);return Object.assign(Object.assign({},ot),{get:()=>((dt,ft,ht,mt,gt)=>{const yt=ht[0].dims,vt=ht[1].dims,bt=[vt[0],Math.ceil(yt[1]*vt[2]*vt[3]/4)],xt=(0,at.calculateIm2ColDims)(yt,vt,mt),[_t,St]=dt.calculateTextureWidthAndHeight(bt,nt.TextureType.packedLastDimension),wt=tt.ShapeUtil.computeStrides(xt),[Et,Tt]=dt.calculateTextureWidthAndHeight(xt,nt.TextureType.packedLastDimension),Ct=mt.length,It=ht.length<3?"0.0":"_B(b)",Pt=Math.ceil(yt[1]*vt[2]*vt[3]/4),{activationFunction:At,applyActivation:kt}=(0,it.getActivationSnippet)(gt),Rt=(0,rt.getGlsl)(dt.session.backend.glContext.version),$t=`
${At}
float process(int indices[${Ct}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${wt[0]} + im2col[1] * ${wt[1]} + im2col[2] * ${wt[2]};
  int kernelOffset = indices[1] * ${bt[1]};
  float value = ${It};
  for (int i = 0; i < ${Pt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${Et}, ${Tt});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${_t}, ${St});
    value += dot(${Rt.texture2D}(Im2Col, im2colCoords), ${Rt.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${kt}
  return value;
}`;return Object.assign(Object.assign({},ft),{output:{dims:mt,type:ht[0].type,textureType:nt.TextureType.unpacked},shaderSource:$t})})(lt,ot,ct,ut,st)})}},7992:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseFlattenAttributes=_.flatten=void 0;const tt=et(2517);_.flatten=(nt,it,at)=>{rt(it,at);const lt=tt.ShapeUtil.flattenShape(it[0].dims,at);return[nt.reshapeUnpacked(it[0],lt)]},_.parseFlattenAttributes=nt=>nt.attributes.getInt("axis",1);const rt=(nt,it)=>{if(!nt||nt.length!==1)throw new Error("Flatten requires 1 input.");const at=nt[0].dims.length;if(at===0)throw new Error("scalar tensor is not supported.");if(it<-at||it>at)throw new Error("Invalid axis");if(nt[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseInternalActivationAttributes=_.getActivationSnippet=void 0;const tt=et(2517),rt=et(4909);_.getActivationSnippet=function(nt){let it;switch(nt.activation){case"Relu":it=(0,rt.glslRelu)();break;case"Sigmoid":it=(0,rt.glslSigmoid)();break;case"Clip":it=(0,rt.glslClip)(nt.clipMin,nt.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const at=it.name;return{activationFunction:it.body,applyActivation:`value = ${at}_(value);`}},_.parseInternalActivationAttributes=nt=>{const it=nt.getString("activation","");if(it==="Clip"){const[at,lt]=nt.getFloats("activation_params",[tt.MIN_CLIP,tt.MAX_CLIP]);return{activation:it,clipMax:lt,clipMin:at,activationCacheKey:`${it}:${at},${lt}`}}return{activation:it,activationCacheKey:it}}},1253:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseGatherAttributes=_.gather=void 0;const tt=et(246),rt=et(782),nt=et(2517),it=et(2039);_.gather=(ut,st,ot)=>(ct(st,ot.axis),[ut.run(lt(ut,st,ot),st)]),_.parseGatherAttributes=ut=>(0,tt.createAttributeWithCacheKey)({axis:ut.attributes.getInt("axis",0)});const at={name:"Gather",inputNames:["A","B"],inputTypes:[it.TextureType.unpacked,it.TextureType.unpacked]},lt=(ut,st,ot)=>{const dt=Object.assign(Object.assign({},at),{cacheHint:ot.cacheKey});return Object.assign(Object.assign({},dt),{get:()=>((ft,ht,mt,gt)=>{const yt=mt[0].dims.slice(),vt=mt[1].dims.slice(),bt=new Array(yt.length+vt.length-1);gt=nt.ShapeUtil.normalizeAxis(gt,yt.length);const xt=[];for(let St=0;St<bt.length;St++)St<gt?(bt[St]=yt[St],xt.push(`inputIdx[${St}] = outputIdx[${St}];`)):St<gt+vt.length?(bt[St]=vt[St-gt],xt.push(`indexDataIdx[${St-gt}] = outputIdx[${St}];`)):(bt[St]=yt[St-vt.length+1],xt.push(`inputIdx[${St-vt.length+1}] = outputIdx[${St}];`));const _t=`
      float process(int outputIdx[${bt.length||1}]) {
        int inputIdx[${yt.length}];
        int indexDataIdx[${vt.length||1}];
        indexDataIdx[0] = 0;
        ${xt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${gt}] = idx < 0 ? idx + ${yt[gt]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},ht),{output:{dims:bt,type:mt[0].type,textureType:it.TextureType.unpacked},shaderSource:_t})})(0,dt,st,ot.axis)})},ct=(ut,st)=>{if(!ut||ut.length!==2)throw new Error("Gather requires 2 inputs.");const ot=ut[0].dims.length;if(ot<1)throw new Error("Invalid input shape.");if(st<-ot||st>ot-1)throw new Error("Invalid axis.");if(rt.NUMBER_TYPES.indexOf(ut[0].type)===-1)throw new Error("Invaid input type.");if(ut[1].type!=="int32"&&ut[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseGemmAttributesV11=_.parseGemmAttributesV7=_.gemm=void 0;const tt=et(246),rt=et(2517),nt=et(2039);_.gemm=(ut,st,ot)=>(ct(st,ot),[ut.run(at(st,ot),st)]);const it=(ut,st)=>{const ot=ut.attributes.getInt("transA",0)!==0,dt=ut.attributes.getInt("transB",0)!==0,ft=ut.attributes.getFloat("alpha",1),ht=ut.attributes.getFloat("beta",1);return(0,tt.createAttributeWithCacheKey)({transA:ot,transB:dt,alpha:ft,beta:ht,isOptionalC:st})};_.parseGemmAttributesV7=ut=>it(ut,!1),_.parseGemmAttributesV11=ut=>it(ut,!0);const at=(ut,st)=>{const ot={name:"Gemm",inputNames:ut.length===3?["A","B","C"]:["A","B"],inputTypes:ut.length===3?[nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked]:[nt.TextureType.unpacked,nt.TextureType.unpacked],key:st.cacheKey};return Object.assign(Object.assign({},ot),{get:()=>lt(ot,ut,st)})},lt=(ut,st,ot)=>{const dt=st[0].dims.slice(),ft=st[1].dims.slice(),[ht,mt]=rt.GemmUtil.getShapeOfGemmResult(dt,ot.transA,ft,ot.transB,st.length===3?st[2].dims:void 0),gt=[ht,mt];if(!gt)throw new Error("Can't use gemm on the given tensors");let yt=dt[dt.length-1],vt="";ot.transA&&(yt=dt[0]),ot.transA&&ot.transB?vt="value += _A_T(a) * _B_T(b);":ot.transA&&!ot.transB?vt="value += _A_T(a) * _B(b);":!ot.transA&&ot.transB?vt="value += _A(a) * _B_T(b);":ot.transA||ot.transB||(vt="value += _A(a) * _B(b);");const bt=gt.length,xt=`
      float process(int indices[${bt}]) {
          int a[${bt}];
          int b[${bt}];
          ${st.length===3?`int c[${st[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${st.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${yt}; ++k) {
              a[${bt-1}] = k;
              b[${bt-2}] = k;
              ${vt}
          }

          value = value * alpha;
          ${st.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},ut),{output:{dims:gt,type:st[0].type,textureType:nt.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:ot.alpha},{name:"beta",type:"float",data:ot.beta}],shaderSource:xt})},ct=(ut,st)=>{if(!ut)throw new Error("Input is missing");if(st.isOptionalC&&(ut.length<2||ut.length>3))throw new Error("Invaid input shape.");if(!st.isOptionalC&&ut.length!==3)throw new Error("Gemm requires 3 inputs");if(ut.length===3&&ut[2].dims.length!==1&&ut[2].dims.length!==2)throw new Error("Invalid input shape of C");if(ut[0].type!=="float32"&&ut[0].type!=="float64"||ut[1].type!=="float32"&&ut[1].type!=="float64"||ut.length===3&&ut[2].type!=="float32"&&ut[2].type!=="float64")throw new Error("Invalid input type.");if(ut[0].type!==ut[1].type||ut.length===3&&ut[0].type!==ut[2].type)throw new Error("Input types are mismatched")}},8555:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createPackedIm2ColProgramInfoLoader=void 0;const tt=et(5060),rt=et(2039),nt=et(2827);_.createPackedIm2ColProgramInfoLoader=(it,at,lt,ct,ut)=>{const st=(ot=ut.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[rt.TextureType.packed],cacheHint:ot});var ot;return Object.assign(Object.assign({},st),{get:()=>((dt,ft,ht,mt,gt,yt)=>{const vt=ht.dims,bt=mt.dims,xt=gt.length,_t=[bt[1]*bt[2]*bt[3],gt[2]*gt[3]],St=bt[2]*bt[3],wt=(0,nt.unpackFromChannel)(),Et=(0,tt.getGlsl)(dt.session.backend.glContext.version);let Tt="";for(let It=0;It<=1;It++)for(let Pt=0;Pt<=1;Pt++)Tt+=`
            blockIndex = rc.x + ${Pt};
            pos = rc.y + ${It};

            if(blockIndex < ${_t[1]} && pos < ${_t[0]}) {
              offsetY = int(blockIndex / (${gt[xt-1]})) * ${yt.strides[0]} -
                ${yt.pads[0]};
              d0 = offsetY + ${yt.dilations[0]} * (imod(pos, ${St}) / ${bt[2]});

              if(d0 < ${vt[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${gt[xt-1]}) * ${yt.strides[1]} -
                  ${yt.pads[1]};
                d1 = offsetX + ${yt.dilations[1]} * imod(imod(pos, ${St}), ${bt[2]});

                if(d1 < ${vt[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${St}.);
                    innerDims = vec2(d0, d1);
                    result[${2*It+Pt}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const Ct=`
      ${wt}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${Tt}
          ${Et.output} = result;
      }
            `;return Object.assign(Object.assign({},ft),{output:{dims:_t,type:ht.type,textureType:rt.TextureType.packed},shaderSource:Ct,hasMain:!0})})(it,st,at,lt,ct,ut)})}},3248:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.calculateIm2ColDims=_.createIm2ColProgramInfoLoader=void 0;const tt=et(2039);_.createIm2ColProgramInfoLoader=(rt,nt,it,at,lt)=>{const ct=(ut=lt.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[tt.TextureType.unpacked],cacheHint:ut});var ut;return Object.assign(Object.assign({},ct),{get:()=>((st,ot,dt,ft,ht,mt)=>{const gt=dt.dims,yt=ft.dims,vt=ht.length,bt=(0,_.calculateIm2ColDims)(gt,yt,ht,4),xt=`
        const int XC = ${gt[1]};
        const int XH = ${gt[2]};
        const int XW = ${gt[3]};
        const int KH = ${mt.kernelShape[0]};
        const int KW = ${mt.kernelShape[1]};
        const int dilationH = ${mt.dilations[0]};
        const int dilationW = ${mt.dilations[1]};
        const int strideH = ${mt.strides[0]};
        const int strideW = ${mt.strides[1]};
        const int padH = ${mt.pads[0]};
        const int padW = ${mt.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${vt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${gt.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},ot),{output:{dims:bt,type:dt.type,textureType:tt.TextureType.packedLastDimension},shaderSource:xt})})(0,ct,nt,it,at,lt)})},_.calculateIm2ColDims=(rt,nt,it,at=4)=>[it[0],it[2],it[3],Math.ceil(rt[1]*nt[2]*nt[3]/at)]},6572:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseImageScalerAttributes=_.imageScaler=void 0;const tt=et(246),rt=et(2039);_.imageScaler=(ct,ut,st)=>(lt(ut),[ct.run(it(ct,ut,st),ut)]),_.parseImageScalerAttributes=ct=>{const ut=ct.attributes.getFloat("scale"),st=ct.attributes.getFloats("bias");return(0,tt.createAttributeWithCacheKey)({scale:ut,bias:st})};const nt={name:"ImageScaler",inputNames:["X"],inputTypes:[rt.TextureType.unpacked]},it=(ct,ut,st)=>{const ot=Object.assign(Object.assign({},nt),{cacheHint:st.cacheKey});return Object.assign(Object.assign({},ot),{get:()=>((dt,ft,ht,mt)=>{const gt=ht[0].dims.slice(),yt=gt.length,vt=`
      ${at(mt.bias.length)}
      float process(int indices[${yt}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},ft),{output:{dims:gt,type:ht[0].type,textureType:rt.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:mt.bias.length,data:mt.bias},{name:"scale",type:"float",data:mt.scale}],shaderSource:vt})})(0,ot,ut,st)})},at=ct=>{const ut=[`float getBias(float bias[${ct}], int channel) {`];for(let st=0;st<ct;++st)st===0?ut.push(`	if (channel == ${st}) { return bias[${st}]; }`):st===ct-1?ut.push(`	else { return bias[${st}]; }`):ut.push(`	else if (channel == ${st}) { return bias[${st}]; }`);return ut.push("	}"),ut.join(`
`)},lt=ct=>{if(!ct||ct.length!==1)throw new Error("ImageScaler requires 1 input.");if(ct[0].dims.length!==4)throw new Error("Invalid input shape.");if(ct[0].type!=="float32"&&ct[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseInstanceNormalizationAttributes=_.instanceNormalization=void 0;const tt=et(5060),rt=et(2039);_.instanceNormalization=(ut,st,ot)=>{ct(st);const dt=ut.run(it(st[0]),st);return[ut.run(lt(ut,st[0],ot,dt.dims),[st[0],dt,st[1],st[2]])]},_.parseInstanceNormalizationAttributes=ut=>ut.attributes.getFloat("epsilon",1e-5);const nt={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[rt.TextureType.unpacked]},it=ut=>Object.assign(Object.assign({},nt),{get:()=>((st,ot)=>{const dt=ot.dims.slice(),ft=dt[1],ht=dt[2]*dt[3],mt=[dt[0],ft],gt=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${dt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${dt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${ht});
        temp = 0.0;
        for(int a2=0; a2<${dt[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${dt[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${ht});

        return v;
      }`;return Object.assign(Object.assign({},st),{output:{dims:mt,type:ot.type,textureType:rt.TextureType.packedLastDimension},shaderSource:gt})})(nt,ut)}),at={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[rt.TextureType.unpacked,rt.TextureType.packedLastDimension,rt.TextureType.unpacked,rt.TextureType.unpacked]},lt=(ut,st,ot,dt)=>{const ft=Object.assign(Object.assign({},at),{cacheHint:`${ot}`});return Object.assign(Object.assign({},ft),{get:()=>((ht,mt,gt,yt,vt)=>{const bt=(0,tt.getGlsl)(ht.session.backend.glContext.version),[xt,_t]=ht.calculateTextureWidthAndHeight(vt,rt.TextureType.packedLastDimension),[St,wt]=[xt/4,_t],Et=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${St}, ${wt});
        return ${bt.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},mt),{output:{dims:gt.dims,type:gt.type,textureType:rt.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:yt}],shaderSource:Et})})(ut,ft,st,ot,dt)})},ct=ut=>{if(!ut||ut.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const st=ut[0],ot=ut[1],dt=ut[2];if(st.dims.length<3||ot.dims.length!==1||dt.dims.length!==1)throw new Error("Invalid input shape.");if(ot.dims[0]!==st.dims[1]||dt.dims[0]!==st.dims[1])throw new Error("Input shapes are mismatched.");if(st.type!=="float32"&&st.type!=="float64"||ot.type!=="float32"&&ot.type!=="float64"||dt.type!=="float32"&&dt.type!=="float64")throw new Error("Invalid input type.");if(ut[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createPackedMatmulProgramInfoLoader=void 0;const tt=et(2517),rt=et(5060),nt=et(2039),it=et(9390),at=et(2823),lt=et(5623);_.createPackedMatmulProgramInfoLoader=(ct,ut,st)=>{const ot=(dt=ut.length>2,ft=st.activationCacheKey,{name:"MatMul (packed)",inputNames:dt?["A","B","Bias"]:["A","B"],inputTypes:dt?[nt.TextureType.packed,nt.TextureType.packed,nt.TextureType.packed]:[nt.TextureType.packed,nt.TextureType.packed],cacheHint:ft});var dt,ft;return Object.assign(Object.assign({},ot),{get:()=>((ht,mt,gt,yt)=>{const vt=gt.length>2,bt=vt?"value += getBiasForMatmul();":"",xt=gt[0].dims,_t=gt[1].dims,St=tt.BroadcastUtil.calcShape(xt,_t,!0),wt=!tt.ShapeUtil.areEqual(gt[0].dims,gt[1].dims);if(!St)throw new Error("Can't use matmul on the given tensors");const Et=xt[xt.length-1],Tt=Math.ceil(Et/2),Ct=xt.length,It=_t.length,Pt=(0,rt.getGlsl)(ht.session.backend.glContext.version),At=(0,it.getCoordsDataType)(St.length),kt=St.length,Rt=(0,it.getGlChannels)(),{activationFunction:$t,applyActivation:Mt}=(0,at.getActivationSnippet)(yt),Nt=vt?`${(0,lt.getBiasForMatmul)(At,Rt,gt[2].dims,St,!0)}`:"",Dt=wt?`${function(Wt,Vt,qt,tr){let Kt=[],Yt=[];const rr=qt[0].dims,ir=qt[1].dims,lr=rr.length,ar=ir.length,ur=tr.length,fr=ur-lr,yr=ur-ar;Kt=rr.map((gr,mr)=>`coords.${Vt[mr+fr]}`),Kt[lr-1]="i*2",Kt.join(", "),Yt=ir.map((gr,mr)=>`coords.${Vt[mr+yr]}`),Yt[ar-2]="i*2",Yt.join(", ");const Tr=tt.BroadcastUtil.getBroadcastDims(rr,tr),Sr=tt.BroadcastUtil.getBroadcastDims(ir,tr),kr=Tr.map(gr=>`coords.${Vt[gr+fr]} = 0;`).join(`
`),xr=Sr.map(gr=>`coords.${Vt[gr+yr]} = 0;`).join(`
`),dr=`int lastDim = coords.${Vt[ur-1]};
  coords.${Vt[ur-1]} = coords.${Vt[ur-2]};
  coords.${Vt[ur-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${Wt} coords = getOutputCoords();
  ${dr}
  ${kr}
  vec4 outputValue = getA(${Kt});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${Wt} coords = getOutputCoords();
  ${dr}
  ${xr}
  vec4 outputValue = getB(${Yt});
  return outputValue;
}`}(At,Rt,gt,St)}`:"",jt=wt?"getAAtOutCoordsMatmul(i)":`getA(${function(Wt,Vt){let qt="";for(let tr=0;tr<Vt-2;tr++)qt+=`rc.${Wt[tr]}, `;return qt+=`rc.${Wt[Vt-2]}, i*2`,qt}(Rt,Ct)})`,Ut=wt?"getBAtOutCoordsMatmul(i)":`getB(${function(Wt,Vt){let qt="";for(let tr=0;tr<Vt-2;tr++)qt+=`rc.${Wt[tr]}, `;return qt+=`i*2, rc.${Wt[Vt-1]}`,qt}(Rt,It)})`,Xt=`
            ${Dt}
            ${Nt}
            ${$t}
            void main() {
              ${wt?"":`${At} rc =
          getOutputCoords(); int lastDim = rc.${Rt[kt-1]}; rc.${Rt[kt-1]} =
          rc.${Rt[kt-2]}; rc.${Rt[kt-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${Tt}; i++) {
                vec4 a = ${jt};
                vec4 b = ${Ut};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${bt}
              ${Mt}
              ${Pt.output} = value;
            }`;return Object.assign(Object.assign({},mt),{output:{dims:St,type:gt[0].type,textureType:nt.TextureType.packed},shaderSource:Xt,hasMain:!0})})(ct,ot,ut,st)})}},5623:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getBiasForMatmul=_.createMatmulProgramInfoLoader=_.parseMatMulAttributes=_.matMul=void 0;const tt=et(2517),rt=et(2039),nt=et(9390),it=et(2823),at=et(708);function lt(st,ot){const dt=(ft=st.length>2,ht=ot.activationCacheKey,{name:"MatMul",inputNames:ft?["A","B","Bias"]:["A","B"],inputTypes:ft?[rt.TextureType.unpacked,rt.TextureType.unpacked,rt.TextureType.unpacked]:[rt.TextureType.unpacked,rt.TextureType.unpacked],cacheHint:ht});var ft,ht;return Object.assign(Object.assign({},dt),{get:()=>function(mt,gt,yt){const vt=gt[0].dims,bt=gt[1].dims,xt=tt.BroadcastUtil.calcShape(vt,bt,!0);if(!xt)throw new Error("Can't use matmul on the given tensors");const _t=(0,nt.getCoordsDataType)(xt.length),St=(0,nt.getGlChannels)(),{activationFunction:wt,applyActivation:Et}=(0,it.getActivationSnippet)(yt),Tt=gt.length>2,Ct=Tt?"value += getBiasForMatmul();":"",It=Tt?`${ut(_t,St,gt[2].dims,xt,!1)}`:"",Pt=xt.length,At=vt.length,kt=bt.length,Rt=`
    ${wt}
    ${It}
    float process(int indices[${Pt}]) {
        int a[${At}];
        int b[${kt}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${vt[vt.length-1]}; ++k) {
            a[${At-1}] = k;
            b[${kt-2}] = k;
            value += _A(a) * _B(b);
        }
        ${Ct}
        ${Et}
        return value;
    }`;return Object.assign(Object.assign({},mt),{output:{dims:xt,type:gt[0].type,textureType:rt.TextureType.unpacked},shaderSource:Rt})}(dt,st,ot)})}_.matMul=(st,ot,dt)=>(ct(ot),st.session.pack?[st.run((0,at.createPackedMatmulProgramInfoLoader)(st,ot,dt),ot)]:[st.run(lt(ot,dt),ot)]),_.parseMatMulAttributes=st=>(0,it.parseInternalActivationAttributes)(st.attributes),_.createMatmulProgramInfoLoader=lt;const ct=st=>{if(!st||st.length!==2)throw new Error("MatMul requires 2 inputs.");if(st[0].dims[st[0].dims.length-1]!==st[1].dims[st[1].dims.length-2])throw new Error("shared dimension does not match.");if(st[0].type!=="float32"&&st[0].type!=="float64"||st[1].type!=="float32"&&st[1].type!=="float64")throw new Error("inputs should be float type");if(st[0].type!==st[1].type)throw new Error("inputs types should match")};function ut(st,ot,dt,ft,ht){let mt="";const gt=dt.length,yt=ft.length,vt=yt-gt;mt=yt<2&&gt>0?"coords":dt.map((_t,St)=>`coords.${ot[St+vt]}`).join(", ");const bt=tt.BroadcastUtil.getBroadcastDims(dt,ft).map(_t=>`coords.${ot[_t+vt]} = 0;`).join(`
`);let xt="vec4(outputValue.xx, outputValue.yy)";return tt.ShapeUtil.size(dt)===1&&(xt="vec4(outputValue.x)"),ht?`
vec4 getBiasForMatmul() {
  ${st} coords = getOutputCoords();
  ${bt}
  vec4 outputValue = getBias(${mt});
  return ${xt};
}`:`
float getBiasForMatmul() {
  ${st} coords = getOutputCoords();
  ${bt}
  return getBias(coords.x);
}`}_.getBiasForMatmul=ut},2403:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createPackProgramInfoLoader=void 0;const tt=et(5060),rt=et(2039),nt=et(9390),it=et(2827),at={name:"pack",inputNames:["A"],inputTypes:[rt.TextureType.unpackedReversed]};_.createPackProgramInfoLoader=(lt,ct)=>Object.assign(Object.assign({},at),{get:()=>((ut,st)=>{const ot=(0,tt.getGlsl)(ut.session.backend.glContext.version),dt=st.dims,ft=dt.length,ht=st.dims.length,mt=(0,nt.getCoordsDataType)(ht),gt=(0,it.getChannels)("rc",ht),yt=(vt=ht,bt=gt,xt=dt[dt.length-2],_t=dt[dt.length-1],vt===0||vt===1?"":`
    int r = ${bt[vt-2]};
    int c = ${bt[vt-1]};
    int rp1 = ${bt[vt-2]} + 1;
    int cp1 = ${bt[vt-1]} + 1;
    bool rEdge = rp1 >= ${_t};
    bool cEdge = cp1 >= ${xt};
    `);var vt,bt,xt,_t;let St;St=ft===0?[1,1]:ft===1?[dt[0],1]:[dt[ht-1],dt[ht-2]];const wt=function(Ct,It,Pt){if(Ct===0)return"false";if(Ct===1)return`rc > ${It[0]}`;let At="";for(let kt=Ct-2;kt<Ct;kt++)At+=`${Pt[kt]} >= ${It[kt-Ct+2]}`,kt<Ct-1&&(At+="||");return At}(ht,St,gt),Et=function(Ct,It){const Pt=Ct.length;if(Pt===0)return"getA(), 0, 0, 0";if(Pt===1)return`getA(rc),
            rc + 1 >= ${Ct[0]} ? 0. : getA(rc + 1),
            0, 0`;let At="";if(Pt>2)for(let kt=0;kt<Pt-2;++kt)At+=`${It[kt]},`;return`getA(${At}r, c),
          rEdge ? 0. : getA(${At}rp1, c),
          cEdge ? 0. : getA(${At}r, cp1),
          rEdge || cEdge ? 0. : getA(${At}rp1, cp1)`}(dt,gt),Tt=`
        void main() {
          ${mt} rc = getOutputCoords();

          if(${wt}) {
            ${ot.output} = vec4(0);
          } else {
            ${yt}

            ${ot.output} = vec4(${Et});
          }
        }
      `;return Object.assign(Object.assign({},at),{hasMain:!0,output:{dims:st.dims,type:st.type,textureType:rt.TextureType.packed},shaderSource:Tt})})(lt,ct)})},2827:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.unpackFromChannel=_.getChannels=_.getVecChannels=void 0;const tt=et(9390);function rt(nt,it){return(0,tt.getGlChannels)(it).map(at=>`${nt}.${at}`)}_.getVecChannels=rt,_.getChannels=function(nt,it){return it===1?[nt]:rt(nt,it)},_.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parsePadAttributesV11=_.padV11=_.parsePadAttributesV2=_.padV2=void 0;const tt=et(246),rt=et(2517),nt=et(5060),it=et(2039),at={name:"Pad",inputNames:["A"],inputTypes:[it.TextureType.unpacked]};_.padV2=(mt,gt,yt)=>(ut(gt),[mt.run(Object.assign(Object.assign({},at),{cacheHint:yt.cacheKey,get:()=>ct(mt,gt[0],yt)}),gt)]),_.parsePadAttributesV2=mt=>{const gt=mt.attributes.getString("mode","constant"),yt=mt.attributes.getFloat("value",0),vt=mt.attributes.getInts("pads");return(0,tt.createAttributeWithCacheKey)({mode:gt,value:yt,pads:vt})},_.padV11=(mt,gt,yt)=>{st(gt);const vt=lt(mt,gt,yt);return(0,_.padV2)(mt,[gt[0]],vt)},_.parsePadAttributesV11=mt=>mt.attributes.getString("mode","constant");const lt=(mt,gt,yt)=>{if(!mt.session.isInitializer(gt[1].dataId)||gt.length>=3&&!mt.session.isInitializer(gt[2].dataId))throw new Error("dynamic pad attributes are not allowed");const vt=Array.from(gt[1].integerData),bt=gt.length>=3?gt[2].floatData[0]:0;return(0,tt.createAttributeWithCacheKey)({mode:yt,pads:vt,value:bt})},ct=(mt,gt,yt)=>{const vt=rt.ShapeUtil.padShape(gt.dims.slice(),yt.pads),bt=vt.length,xt=`
      ${ot(mt,gt,yt)}
      float process(int[${bt}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[it.TextureType.unpacked],output:{dims:vt,type:gt.type,textureType:it.TextureType.unpacked},shaderSource:xt}},ut=mt=>{if(!mt||mt.length!==1)throw new Error("Pad requires 1 input");if(mt[0].type!=="float32"&&mt[0].type!=="float64")throw new Error("Invalid input type.")},st=mt=>{if(!mt||mt.length!==2&&mt.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(mt[1].type!=="int32")throw new Error("Invalid input type.");if(mt.length>=3&&mt[2].type==="string")throw new Error("Invalid input type.")},ot=(mt,gt,yt)=>{const vt=(0,nt.getGlsl)(mt.session.backend.glContext.version),[bt,xt]=mt.calculateTextureWidthAndHeight(gt.dims,it.TextureType.unpacked),_t=rt.ShapeUtil.computeStrides(gt.dims);switch(yt.mode){case"constant":return dt(vt,gt.dims,_t,bt,xt,yt.pads,yt.value);case"reflect":return ft(vt,gt.dims,_t,bt,xt,yt.pads);case"edge":return ht(vt,gt.dims,_t,bt,xt,yt.pads);default:throw new Error("Invalid mode")}},dt=(mt,gt,yt,vt,bt,xt,_t)=>{const St=gt.length;let wt="";for(let Et=St-1;Et>=0;--Et)wt+=`
        k = m[${Et}] - ${xt[Et]};
        if (k < 0)  return constant;
        if (k >= ${gt[Et]}) return constant;
        offset += k * ${yt[Et]};
        `;return`
      float padA(int m[${St}]) {
        const float constant = float(${_t});
        int offset = 0;
        int k = 0;
        ${wt}
        vec2 coords = offsetToCoords(offset, ${vt}, ${bt});
        float value = getColorAsFloat(${mt.texture2D}(A, coords));
        return value;
      }
      `},ft=(mt,gt,yt,vt,bt,xt)=>{const _t=gt.length;let St="";for(let wt=_t-1;wt>=0;--wt)St+=`
        k = m[${wt}] - ${xt[wt]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(gt[wt]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${gt[wt]}) { k = _2n_1 - k; }
        }
        offset += k * ${yt[wt]};
        `;return`
      float padA(int m[${_t}]) {
        int offset = 0;
        int k = 0;
        ${St}
        vec2 coords = offsetToCoords(offset, ${vt}, ${bt});
        float value = getColorAsFloat(${mt.texture2D}(A, coords));
        return value;
      }
      `},ht=(mt,gt,yt,vt,bt,xt)=>{const _t=gt.length;let St="";for(let wt=_t-1;wt>=0;--wt)St+=`
        k = m[${wt}] - ${xt[wt]};
        if (k < 0)  k = 0;
        if (k >= ${gt[wt]}) k = ${gt[wt]-1};
        offset += k * ${yt[wt]};
      `;return`
      float padA(int m[${_t}]) {
        int offset = 0;
        int k = 0;
        ${St}
        vec2 coords = offsetToCoords(offset, ${vt}, ${bt});
        float value = getColorAsFloat(${mt.texture2D}(A, coords));
        return value;
      }
      `}},2143:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.globalMaxPool=_.parseMaxPoolAttributes=_.maxPool=_.parseGlobalAveragePoolAttributes=_.globalAveragePool=_.parseAveragePoolAttributes=_.averagePool=void 0;const tt=et(246),rt=et(2517),nt=et(2039);_.averagePool=(ht,mt,gt)=>{st(mt);const yt={name:"AveragePool",inputNames:["X"],inputTypes:[nt.TextureType.unpacked],cacheHint:gt.cacheKey};return[ht.run(Object.assign(Object.assign({},yt),{get:()=>it(mt,yt,!1,gt)}),mt)]},_.parseAveragePoolAttributes=ht=>{const mt=ht.attributes.getString("auto_pad","NOTSET"),gt=ht.attributes.getInt("ceil_mode",0),yt=ht.attributes.getInt("count_include_pad",0)!==0,vt=ht.attributes.getInts("kernel_shape"),bt=ht.attributes.getInts("strides",[]),xt=ht.attributes.getInts("pads",[]);if(gt!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,tt.createAttributeWithCacheKey)({autoPad:mt,ceilMode:gt,countIncludePad:yt,kernelShape:vt,strides:bt,pads:xt})};const it=(ht,mt,gt,yt)=>{const[vt,bt]=lt(ht,yt,gt),xt=rt.ShapeUtil.size(vt.kernelShape);let _t="";vt.countIncludePad?_t+=`value /= float(${xt});`:_t+=`value /= float(${xt} - pad);`;const St=`
        ${ot(ht[0].dims,vt,"value += _X(x);",_t,"0.0")}
      `;return Object.assign(Object.assign({},mt),{output:{dims:bt,type:ht[0].type,textureType:nt.TextureType.unpacked},shaderSource:St})};_.globalAveragePool=(ht,mt,gt)=>{st(mt);const yt={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[nt.TextureType.unpacked],cacheHint:`${gt.countIncludePad}`};return[ht.run(Object.assign(Object.assign({},yt),{get:()=>it(mt,yt,!0,gt)}),mt)]},_.parseGlobalAveragePoolAttributes=ht=>{const mt=ht.attributes.getInt("count_include_pad",0)!==0;return(0,tt.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:mt,kernelShape:[],strides:[],pads:[]})},_.maxPool=(ht,mt,gt)=>{st(mt);const yt={name:"MaxPool",inputNames:["X"],inputTypes:[nt.TextureType.unpacked],cacheHint:gt.cacheKey};return[ht.run(Object.assign(Object.assign({},yt),{get:()=>at(mt,yt,!1,gt)}),mt)]},_.parseMaxPoolAttributes=ht=>{const mt=ht.attributes.getString("auto_pad","NOTSET"),gt=ht.attributes.getInt("ceil_mode",0),yt=ht.attributes.getInts("kernel_shape"),vt=ht.attributes.getInts("strides",[]),bt=ht.attributes.getInts("pads",[]),xt=ht.attributes.getInt("storage_order",0),_t=ht.attributes.getInts("dilations",[]);if(xt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(gt!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,tt.createAttributeWithCacheKey)({autoPad:mt,ceilMode:gt,countIncludePad:!1,kernelShape:yt,strides:vt,pads:bt,storageOrder:xt,dilations:_t})};const at=(ht,mt,gt,yt)=>{const[vt,bt]=lt(ht,yt,gt),xt=`
      ${ot(ht[0].dims,vt,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},mt),{output:{dims:bt,type:ht[0].type,textureType:nt.TextureType.unpacked},shaderSource:xt})},lt=(ht,mt,gt)=>{const yt=ht[0].dims.slice(),vt=Object.hasOwnProperty.call(mt,"dilations"),bt=mt.kernelShape.slice(),xt=mt.strides.slice(),_t=vt?mt.dilations.slice():[],St=mt.pads.slice();rt.PoolConvUtil.adjustPoolAttributes(gt,yt,bt,xt,_t,St);const wt=rt.PoolConvUtil.computePoolOutputShape(gt,yt,xt,_t,bt,St,mt.autoPad),Et=Object.assign({},mt);return vt?Object.assign(Et,{kernelShape:bt,strides:xt,pads:St,dilations:_t,cacheKey:mt.cacheKey}):Object.assign(Et,{kernelShape:bt,strides:xt,pads:St,cacheKey:mt.cacheKey}),[Et,wt]},ct={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},ut={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[nt.TextureType.unpacked]};_.globalMaxPool=(ht,mt)=>(st(mt),[ht.run(Object.assign(Object.assign({},ut),{get:()=>at(mt,ut,!0,ct)}),mt)]);const st=ht=>{if(!ht||ht.length!==1)throw new Error("Pool ops requires 1 input.");if(ht[0].type!=="float32"&&ht[0].type!=="float64")throw new Error("Invalid input type.")},ot=(ht,mt,gt,yt,vt)=>{const bt=ht.length;if(mt.kernelShape.length<=2){const xt=mt.kernelShape[mt.kernelShape.length-1],_t=mt.strides[mt.strides.length-1],St=mt.pads[mt.pads.length/2-1],wt=mt.pads[mt.pads.length-1],Et=ht[bt-1];let Tt="",Ct="",It="";if(Tt=St+wt!==0?`
          for (int i = 0; i < ${xt}; i++) {
            x[${bt} - 1] = indices[${bt} - 1] * ${_t} - ${St} + i;
            if (x[${bt} - 1] < 0 || x[${bt} - 1] >= ${Et}) {
              pad++;
              continue;
            }
            ${gt}
          }`:`
          for (int i = 0; i < ${xt}; i++) {
            x[${bt} - 1] = indices[${bt} - 1] * ${_t} - ${St} + i;
            ${gt}
          }`,mt.kernelShape.length===2){const Pt=mt.kernelShape[mt.kernelShape.length-2],At=mt.strides[mt.strides.length-2],kt=mt.pads[mt.pads.length/2-2],Rt=mt.pads[mt.pads.length-2],$t=ht[bt-2];Ct=kt+Rt!==0?`
            for (int j = 0; j < ${Pt}; j++) {
              x[${bt} - 2] = indices[${bt} - 2] * ${At} - ${kt} + j;
              if (x[${bt} - 2] < 0 || x[${bt} - 2] >= ${$t}) {
                pad+= ${xt};
                continue;
              }
          `:`
            for (int j = 0; j < ${Pt}; j++) {
              x[${bt} - 2] = indices[${bt} - 2] * ${At} - ${kt} + j;
            `,It=`
          }
        `}return`
        float process(int indices[${bt}]) {
          int x[${bt}];
          copyVec(indices, x);

          float value = ${vt};
          int pad = 0;
          ${Ct}
          ${Tt}
          ${It}
          ${yt}
          return value;
        }
      `}{const xt=rt.ShapeUtil.size(mt.kernelShape),_t=rt.ShapeUtil.computeStrides(mt.kernelShape),St=_t.length,wt=mt.pads.length,Et=ft(St),Tt=dt(ht,"inputDims"),Ct=dt(mt.pads,"pads"),It=dt(_t,"kernelStrides"),Pt=dt(mt.strides,"strides");let At="";return At=mt.pads.reduce((kt,Rt)=>kt+Rt)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${gt}
          }`:`
          }
          ${gt}
        `,`
        ${Et}
        float process(int indices[${bt}]) {
          int x[${bt}];
          copyVec(indices, x);
          int offset[${St}];
          int pads[${wt}];
          int inputDims[${bt}];
          int kernelStrides[${St}];
          int strides[${St}];
          ${Ct}
          ${Tt}
          ${Pt}
          ${It}

          float value = ${vt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${xt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${bt} - ${St}; j < ${bt}; j++) {
              x[j] = indices[j] * strides[j - ${bt} + ${St}]
                + offset[j - ${bt} + ${St}] - pads[j - 2];
              ${At}
          }
          ${yt}

          return value;
        }
      `}},dt=(ht,mt)=>{let gt="";for(let yt=0;yt<ht.length;yt++)gt+=`
      ${mt}[${yt}] = ${ht[yt]};
    `;return gt},ft=ht=>`
  void offsetToIndices(int offset, int[${ht}] strides, out int[${ht}] indices) {
    if (${ht} == 0) {
      return;
    }
    for (int i = 0; i < ${ht} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${ht} - 1] = offset;
  }`},4939:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.reduceLogSumSquare=_.reduceLogSum=_.reduceProd=_.reduceMin=_.reduceMax=_.reduceMean=_.reduceSum=_.parseReduceAttributes=void 0;const tt=et(246),rt=et(782),nt=et(2517),it=et(2039),at=(ut,st,ot,dt,ft)=>{ct(st);const ht={name:dt,inputNames:["A"],inputTypes:[it.TextureType.unpacked]};return[ut.run(Object.assign(Object.assign({},ht),{cacheHint:ot.cacheKey,get:()=>lt(ut,st,ot,dt,ft,ht)}),st)]};_.parseReduceAttributes=ut=>{const st=ut.attributes.getInts("axes",[]),ot=ut.attributes.getInt("keepdims",1)===1;return(0,tt.createAttributeWithCacheKey)({axes:st,keepDims:ot})};const lt=(ut,st,ot,dt,ft,ht)=>{const mt=[],gt=st[0].dims.length||1,yt=[],vt=nt.ShapeUtil.normalizeAxes(ot.axes,st[0].dims.length),bt=ft(st,vt);let xt=bt[1];for(let St=0;St<st[0].dims.length;St++)vt.indexOf(St)>=0||vt.length===0?(ot.keepDims&&mt.push(1),xt=`
          for(int j${St} = 0; j${St} < ${st[0].dims[St]}; j${St}++) {
            inputIdx[${St}] = j${St};
            ${xt}
          }`):(yt.push(`inputIdx[${St}] = outputIdx[${mt.length}];`),mt.push(st[0].dims[St]));const _t=`
      float process(int outputIdx[${mt.length||1}]) {
        float value;                 // final result
        int inputIdx[${gt}];      // addressing input data
        ${yt.join(`
`)}
        ${bt[0]}       // init ops for reduce max/min
        ${xt}
        ${bt[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},ht),{output:{dims:mt,type:st[0].type,textureType:it.TextureType.unpacked},shaderSource:_t})},ct=ut=>{if(!ut||ut.length!==1)throw new Error("Reduce op requires 1 input.");if(rt.NUMBER_TYPES.indexOf(ut[0].type)===-1)throw new Error("Invalid input type.")};_.reduceSum=(ut,st,ot)=>at(ut,st,ot,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),_.reduceMean=(ut,st,ot)=>at(ut,st,ot,"ReduceMean",(dt,ft)=>{let ht=1;for(let mt=0;mt<dt[0].dims.length;mt++)(ft.indexOf(mt)>=0||ft.length===0)&&(ht*=dt[0].dims[mt]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${ht}.;`]}),_.reduceMax=(ut,st,ot)=>at(ut,st,ot,"ReduceMax",(dt,ft)=>{const ht=[];for(let mt=0;mt<dt[0].dims.length;mt++)(ft.indexOf(mt)>=0||ft.length===0)&&ht.push(`inputIdx[${mt}] = 0;`);return[`${ht.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),_.reduceMin=(ut,st,ot)=>at(ut,st,ot,"ReduceMin",(dt,ft)=>{const ht=[];for(let mt=0;mt<dt[0].dims.length;mt++)(ft.indexOf(mt)>=0||ft.length===0)&&ht.push(`inputIdx[${mt}] = 0;`);return[`${ht.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),_.reduceProd=(ut,st,ot)=>at(ut,st,ot,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),_.reduceLogSum=(ut,st,ot)=>at(ut,st,ot,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),_.reduceLogSumSquare=(ut,st,ot)=>at(ut,st,ot,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.isReshapeCheap=_.processDims3D=_.createPackedReshape3DProgramInfoLoader=void 0;const tt=et(2517),rt=et(5060),nt=et(2039),it=et(2827);_.createPackedReshape3DProgramInfoLoader=(at,lt,ct)=>{const ut=(st=>({name:"Reshape (packed)",inputTypes:[nt.TextureType.packed],inputNames:["A"],cacheHint:`${st}`}))(ct);return Object.assign(Object.assign({},ut),{get:()=>((st,ot,dt,ft)=>{const ht=ot.dims,mt=ft;let gt="";for(let bt=0;bt<4;bt++){let xt="";switch(bt){case 0:xt="outputCoords = rc;";break;case 1:xt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:xt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:xt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}gt+=`
        ${xt}
        ${bt>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${bt}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${bt>0?"}":""}
      `}const yt=(0,rt.getGlsl)(st.session.backend.glContext.version),vt=`
      ${function(bt){const xt=tt.ShapeUtil.computeStrides(bt),_t=["b","r","c"],St="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${xt.map((wt,Et)=>`int ${_t[Et]} = ${St} / ${wt}; ${Et===xt.length-1?`int ${_t[Et+1]} = ${St} - ${_t[Et]} * ${wt}`:`index -= ${_t[Et]} * ${wt}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(ht)}
      ${function(bt){const xt=tt.ShapeUtil.computeStrides(bt);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${xt[0]} + coords.z * ${xt[1]} + coords.y;
  }
`}(mt)}
      ${(0,it.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${mt[2]};
        int cols = ${mt[1]};

        ${gt}
        ${yt.output} = result;
      }
    `;return Object.assign(Object.assign({},dt),{output:{dims:mt,type:ot.type,textureType:nt.TextureType.packed},shaderSource:vt,hasMain:!0})})(at,lt,ut,ct)})},_.processDims3D=function(at){if(at.length===0)return[1,1,1];let lt=1;for(let ct=0;ct<at.length-2;++ct)lt*=at[ct];return[lt,at.length>1?at[at.length-2]:1,at[at.length-1]]},_.isReshapeCheap=function(at,lt){let ct=!1;return ct=at.length===0||lt.length===0||(at.length<2||lt.length<2?at[at.length-1]===lt[lt.length-1]:at[at.length-1]===lt[lt.length-1]&&at[at.length-2]===lt[lt.length-2]),ct}},718:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.reshape=void 0;const tt=et(2517);_.reshape=(rt,nt)=>{const it=tt.ShapeUtil.calculateReshapedDims(nt[0].dims,nt[1].integerData);return rt.session.pack?[rt.reshapePacked(nt[0],it)]:[rt.reshapeUnpacked(nt[0],it)]}},2268:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseResizeAttributesV11=_.parseResizeAttributesV10=_.resize=void 0;const tt=et(5060),rt=et(2039),nt=et(9390),it=et(2827),at=et(9793),lt={name:"Resize",inputNames:["A"],inputTypes:[rt.TextureType.packed]};_.resize=(dt,ft,ht)=>((0,at.validateInputs)(ft,ht),[dt.run(Object.assign(Object.assign({},lt),{cacheHint:ht.cacheKey,get:()=>ct(dt,ft,ht)}),ft)]),_.parseResizeAttributesV10=dt=>(0,at.parseUpsampleAttributes)(dt,10),_.parseResizeAttributesV11=dt=>(0,at.parseUpsampleAttributes)(dt,11);const ct=(dt,ft,ht)=>{const mt=(0,tt.getGlsl)(dt.session.backend.glContext.version),[gt,yt]=ut(ft,ht);if(gt.every(At=>At===1)&&ht.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},lt),{output:{dims:yt,type:ft[0].type,textureType:rt.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${mt.texture2D}(X, TexCoords);
                    ${mt.output} = v;
                }`});const vt=yt.length;if(vt<2)throw new Error(`output dimension should be at least 2, but got ${vt}`);const bt=yt[vt-2],xt=yt[vt-1],_t=ft[0].dims;if(vt!==_t.length)throw new Error(`output dimension should match input ${_t.length}, but got ${vt}`);const St=_t[vt-2],wt=_t[vt-1],Et=gt[vt-2],Tt=gt[vt-1];let Ct="";if(ht.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${ht.mode}'`);switch(ht.coordinateTransformMode){case"asymmetric":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${xt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${bt}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${xt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${bt}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":Ct=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${xt}.0 - 1.0, ${bt}.0 - 1.0, ${xt}.0 - 1.0,
                            ${bt}.0 - 1.0);
                        vec4 original = vec4(${wt}.0 - 1.0, ${St}.0 - 1.0, ${wt}.0 - 1.0,
                            ${St}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${ht.coordinateTransformMode}'`)}const It=(0,nt.getCoordsDataType)(vt),Pt=`
            const vec2 inputWH = vec2(${St}.0, ${wt}.0);
            const vec4 scaleWHWH = vec4(float(${Et}), float(${Tt}), float(${Et}), float(${Tt}));
            ${(0,it.unpackFromChannel)()}
            ${Ct}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${It} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${bt-1};
                bool hasNextCol = rc.z < ${xt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${mt.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},lt),{output:{dims:yt,type:ft[0].type,textureType:rt.TextureType.packed},hasMain:!0,shaderSource:Pt})},ut=(dt,ft)=>{const ht=dt[0].dims;let mt,gt=ft.scales;if(gt.length===0){const vt=dt[ft.scalesInputIdx];if(vt&&vt.size!==0){if(dt[ft.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");gt=st(vt,ft.mode,ft.isResize)}else{const bt=dt[ft.sizesInputIdx];if(!bt||bt.size===0)throw new Error("Either scales or sizes MUST be provided as input.");mt=Array.from(bt.integerData),gt=ot(mt,ht,ft.mode,ft.isResize)}}else if(dt[ft.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const yt=mt||ht.map((vt,bt)=>Math.floor(vt*gt[bt]));return[gt,yt]},st=(dt,ft,ht)=>{const mt=Array.from(dt.floatData);return(0,at.scalesValidation)(mt,ft,ht),mt},ot=(dt,ft,ht,mt)=>{const gt=ft.length,yt=new Array(gt);for(let vt=0,bt=gt;vt<bt;vt++)if(ft[vt]===0){if(dt[vt]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");yt[vt]=1}else yt[vt]=dt[vt]/ft[vt];return(0,at.scalesValidation)(yt,ht,mt),yt}},8117:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.shape=void 0;const tt=et(9162);_.shape=(nt,it)=>(rt(it),[new tt.Tensor([it[0].dims.length],"int32",void 0,void 0,new Int32Array(it[0].dims))]);const rt=nt=>{if(!nt||nt.length!==1)throw new Error("Shape requires 1 input.")}},2278:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.sliceV10=_.parseSliceAttributes=_.slice=void 0;const tt=et(246),rt=et(782),nt=et(2517),it=et(2039),at={name:"Slice",inputNames:["A"],inputTypes:[it.TextureType.unpacked]};_.slice=(ot,dt,ft)=>(ct(dt),[ot.run(Object.assign(Object.assign({},at),{cacheHint:ft.cacheKey,get:()=>lt(ot,dt[0],ft)}),dt)]),_.parseSliceAttributes=ot=>{const dt=ot.attributes.getInts("starts"),ft=ot.attributes.getInts("ends"),ht=ot.attributes.getInts("axes",[]);return(0,tt.createAttributeWithCacheKey)({starts:dt,ends:ft,axes:ht})};const lt=(ot,dt,ft)=>{const ht=ft.axes.length===0?dt.dims.slice(0).map((_t,St)=>St):ft.axes,mt=nt.ShapeUtil.normalizeAxes(ht,dt.dims.length),gt=ft.starts.map((_t,St)=>_t>dt.dims[mt[St]]-1?dt.dims[mt[St]]:nt.ShapeUtil.normalizeAxis(_t,dt.dims[mt[St]])),yt=ft.ends.map((_t,St)=>_t>dt.dims[mt[St]]-1?dt.dims[mt[St]]:nt.ShapeUtil.normalizeAxis(_t,dt.dims[mt[St]])),vt=dt.dims.slice(),bt=[];for(let _t=0;_t<mt.length;_t++)vt[mt[_t]]=yt[_t]-gt[_t],gt[_t]>0&&bt.push(`outputIdx[${mt[_t]}] += ${gt[_t]};`);const xt=`
      float process(int outputIdx[${vt.length}]) {
        ${bt.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},at),{output:{dims:vt,type:dt.type,textureType:it.TextureType.unpacked},shaderSource:xt})},ct=ot=>{if(!ot||ot.length!==1)throw new Error("Slice requires 1 input.");if(rt.NUMBER_TYPES.indexOf(ot[0].type)===-1)throw new Error("Invalid input type.")};_.sliceV10=(ot,dt)=>{st(dt);const ft=ut(ot,dt);return[ot.run(Object.assign(Object.assign({},at),{cacheHint:ft.cacheKey,get:()=>lt(ot,dt[0],ft)}),[dt[0]])]};const ut=(ot,dt)=>{if(!ot.session.isInitializer(dt[1].dataId)||!ot.session.isInitializer(dt[2].dataId)||dt.length>=4&&!ot.session.isInitializer(dt[3].dataId)||dt.length>=5&&!ot.session.isInitializer(dt[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(dt.length>=5&&dt[4].integerData.some(gt=>gt!==1))throw new Error("currently non-1 steps is not supported for Slice");const ft=Array.from(dt[1].integerData),ht=Array.from(dt[2].integerData),mt=dt.length>=4?Array.from(dt[3].integerData):[];return{starts:ft,ends:ht,axes:mt,cacheKey:`${mt};${ft};${ht}`}},st=ot=>{if(!ot||ot.length<3||ot.length>5)throw new Error("Invalid input number.");if(ot[1].type!=="int32"||ot[1].dims.length!==1)throw new Error("Invalid input type.");if(ot[2].type!=="int32"||ot[2].dims.length!==1)throw new Error("Invalid input type.");if(ot.length>=4&&(ot[3].type!=="int32"||ot[3].dims.length!==1))throw new Error("Invalid input type.");if(ot.length>=5&&(ot[4].type!=="int32"||ot[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.softmaxV13=_.parseSoftmaxAttributesV13=_.parseSoftmaxAttributes=_.softmax=void 0;const tt=et(246),rt=et(2517),nt=et(5060),it=et(2039),at=et(3738),lt={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[it.TextureType.unpacked]},ct={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[it.TextureType.unpacked,it.TextureType.unpacked]},ut={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[it.TextureType.unpacked,it.TextureType.unpacked,it.TextureType.unpacked]};_.softmax=(mt,gt,yt)=>{ht(gt);const vt=gt[0].dims.slice(),bt=rt.ShapeUtil.normalizeAxis(yt.axis,vt.length),xt=rt.ShapeUtil.sizeToDimension(vt,bt),_t=rt.ShapeUtil.sizeFromDimension(vt,bt);return st(mt,gt,yt,xt,_t)},_.parseSoftmaxAttributes=mt=>(0,tt.createAttributeWithCacheKey)({axis:mt.attributes.getInt("axis",1)}),_.parseSoftmaxAttributesV13=mt=>(0,tt.createAttributeWithCacheKey)({axis:mt.attributes.getInt("axis",-1)}),_.softmaxV13=(mt,gt,yt)=>{ht(gt);const vt=gt[0].dims.slice(),bt=rt.ShapeUtil.normalizeAxis(yt.axis,vt.length),xt=vt.length,_t=bt!==xt-1,St=[];let wt,Et=[],Tt=[];_t&&(Et=Array.from({length:xt}).map((At,kt)=>kt),Et[bt]=xt-1,Et[xt-1]=bt,Et.map(At=>St.push(vt[At])),wt=(0,tt.createAttributeWithCacheKey)({perm:Et}),Tt=(0,at.transpose)(mt,gt,wt));const Ct=_t?rt.ShapeUtil.sizeToDimension(St,xt-1):rt.ShapeUtil.sizeToDimension(vt,xt-1),It=_t?rt.ShapeUtil.sizeFromDimension(St,xt-1):rt.ShapeUtil.sizeFromDimension(vt,xt-1),Pt=st(mt,_t?Tt:gt,yt,Ct,It);return _t?(0,at.transpose)(mt,Pt,wt):Pt};const st=(mt,gt,yt,vt,bt)=>{const xt=ot(mt,gt[0],vt,bt,[vt]),_t=mt.run(Object.assign(Object.assign({},lt),{cacheHint:yt.cacheKey,get:()=>xt}),gt),St=dt(mt,gt[0],vt,bt,xt.output.dims,[vt]),wt=mt.run(Object.assign(Object.assign({},ct),{cacheHint:yt.cacheKey,get:()=>St}),[gt[0],_t]),Et=ft(mt,gt[0],vt,bt,xt.output.dims,St.output.dims);return[mt.run(Object.assign(Object.assign({},ut),{cacheHint:yt.cacheKey,get:()=>Et}),[gt[0],_t,wt])]},ot=(mt,gt,yt,vt,bt)=>{const[xt,_t]=mt.calculateTextureWidthAndHeight(gt.dims,it.TextureType.unpacked),St=bt.length;if(yt<1||vt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(bt.length!==1)throw new Error("Dimensionality of the output should be 1");if(bt[0]!==yt)throw new Error("Shape of the output should be equal to logical row count");const wt=(0,nt.getGlsl)(mt.session.backend.glContext.version),Et=`
      float process(int[${St}] indices) {
        int logical_row_start_offset = indices[0] * ${vt};

        float max = getColorAsFloat(${wt.texture2D}(A, offsetToCoords(logical_row_start_offset, ${xt},
        ${_t} )));
        for(int i=1; i<${vt}; ++i)
        {
          float current = getColorAsFloat(${wt.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${xt}, ${_t})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},lt),{output:{dims:bt,type:gt.type,textureType:it.TextureType.unpacked},shaderSource:Et})},dt=(mt,gt,yt,vt,bt,xt)=>{const[_t,St]=mt.calculateTextureWidthAndHeight(gt.dims,it.TextureType.unpacked),wt=xt.length;if(yt<1||vt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(xt.length!==1)throw new Error("Dimensionality of the output should be 1");if(xt[0]!==yt)throw new Error("Shape of the output should be equal to logical row count");if(bt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(bt[0]!==yt)throw new Error("Shape of the intermediate results should be equal to logical row count");const Et=`
      float process(int[${wt}] indices) {
        int logical_row_start_offset = indices[0] * ${vt};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${vt}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,nt.getGlsl)(mt.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${_t}, ${St}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},ct),{output:{dims:xt,type:gt.type,textureType:it.TextureType.unpacked},shaderSource:Et})},ft=(mt,gt,yt,vt,bt,xt)=>{const[_t,St]=mt.calculateTextureWidthAndHeight(gt.dims,it.TextureType.unpacked),wt=gt.dims.length;if(yt<1||vt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(bt.length!==1||xt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(bt[0]!==yt||xt[0]!==yt)throw new Error("Shape of the intermediate results should be equal to logical row count");const Et=`
      float process(int[${wt}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${_t}, ${St});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${vt};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},ut),{output:{dims:gt.dims,type:gt.type,textureType:it.TextureType.unpacked},shaderSource:Et})},ht=mt=>{if(!mt||mt.length!==1)throw new Error("Softmax requires 1 input.");if(mt[0].type!=="float32"&&mt[0].type!=="float64")throw new Error("Invalid input type")}},5975:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseSplitAttributes=_.split=void 0;const tt=et(246),rt=et(2517),nt=et(2039),it={name:"Split",inputNames:["A"],inputTypes:[nt.TextureType.unpacked]};_.split=(ut,st,ot)=>{ct(st);const dt=rt.ShapeUtil.normalizeAxis(ot.axis,st[0].dims.length),ft=at(ut,st,dt,ot),ht=[];for(let mt=0;mt<ft;++mt)ht.push(ut.run(Object.assign(Object.assign({},it),{cacheHint:`${ot.cacheKey};${mt}`,get:()=>lt(ut,st[0],ot,dt,mt)}),st));return ht},_.parseSplitAttributes=ut=>{const st=ut.attributes.getInt("axis",0),ot=ut.attributes.getInts("split",[]),dt=ut.outputs.length;return(0,tt.createAttributeWithCacheKey)({axis:st,split:ot,numOutputs:dt})};const at=(ut,st,ot,dt)=>{const[,ft]=rt.SplitUtil.splitShape(st[0].dims,ot,dt.split,dt.numOutputs);return ft.length},lt=(ut,st,ot,dt,ft)=>{const[ht,mt]=rt.SplitUtil.splitShape(st.dims,dt,ot.split,ot.numOutputs),gt=mt[ft],yt=ht[ft],vt=`
      float process(int indices[${yt.length}]) {
        indices[${dt}] += ${gt};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},it),{cacheHint:`${ot.cacheKey}:${ft}`,output:{dims:yt,type:st.type,textureType:nt.TextureType.unpacked},shaderSource:vt})},ct=ut=>{if(!ut||ut.length!==1)throw new Error("Split requires one input.");if(ut[0].type!=="int8"&&ut[0].type!=="uint8"&&ut[0].type!=="int16"&&ut[0].type!=="uint16"&&ut[0].type!=="int32"&&ut[0].type!=="uint32"&&ut[0].type!=="float32"&&ut[0].type!=="float64"&&ut[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseSqueezeAttributes=_.squeezeV13=_.squeeze=void 0;const tt=et(2517);_.squeeze=(it,at,lt)=>{rt(at);const ct=tt.ShapeUtil.squeezeShape(at[0].dims,lt);return[it.reshapeUnpacked(at[0],ct)]},_.squeezeV13=(it,at)=>(nt(at),(0,_.squeeze)(it,[at[0]],Array.from(at[1].integerData))),_.parseSqueezeAttributes=it=>it.attributes.getInts("axes");const rt=it=>{if(!it||it.length!==1)throw new Error("Squeeze requires 1 input.");if(it[0].type==="string")throw new Error("invalid input tensor types.")},nt=it=>{if(!it||it.length!==2)throw new Error("Squeeze requires 2 inputs.");if(it[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.sum=void 0;const tt=et(5060),rt=et(2039);_.sum=(at,lt)=>{it(lt);const ct={name:"Sum",inputNames:lt.map((ut,st)=>`X${st}`),inputTypes:new Array(lt.length).fill(rt.TextureType.unpacked)};return[at.run(Object.assign(Object.assign({},ct),{get:()=>nt(at,lt,ct)}),lt)]};const nt=(at,lt,ct)=>{const ut=(0,tt.getGlsl)(at.session.backend.glContext.version),st=lt[0].dims.slice(),ot=`
      void main() {
        vec4 result = ${lt.map((dt,ft)=>`${ut.texture2D}(X${ft},TexCoords)`).join(" + ")};
        ${ut.output} = result;
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:st,type:lt[0].type,textureType:rt.TextureType.unpacked},hasMain:!0,shaderSource:ot})},it=at=>{if(!at||at.length===0)throw new Error("Sum requires inputs.");const lt=at[0].dims.length;for(let ct=1;ct<at.length;ct++){if(lt!==at[ct].dims.length)throw new Error("Input shapes are mismatched.");for(let ut=0;ut<lt;ut++)if(at[0].dims[ut]!==at[ct].dims[ut])throw new Error("Input shapes are not matched.")}if(at[0].type!=="float32"&&at[0].type!=="float64")throw new Error("Invalid input type.");for(let ct=1;ct<at.length;ct++)if(at[0].type!==at[ct].type)throw new Error("Input types are not matched.")}},5723:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.tile=void 0;const tt=et(782),rt=et(2039);_.tile=(at,lt)=>{it(lt);const ct={name:"Tile",inputNames:["A"],inputTypes:[rt.TextureType.unpacked]};return[at.run(Object.assign(Object.assign({},ct),{get:()=>nt(at,lt,ct)}),lt)]};const nt=(at,lt,ct)=>{const ut=lt[0].dims.slice(),st=new Array(ut.length),ot=[];for(let ht=0;ht<ut.length;ht++)st[ht]=ut[ht]*lt[1].numberData[ht],ot.push(`inputIdx[${ht}] = int(mod(float(outputIdx[${ht}]), ${ut[ht]}.));`);const dt=st.length,ft=`
      float process(int outputIdx[${dt}]) {
        int inputIdx[${dt}];
        ${ot.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:st,type:lt[0].type,textureType:rt.TextureType.unpacked},shaderSource:ft})},it=at=>{if(!at||at.length!==2)throw new Error("Tile requires 2 input.");if(at[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(at[1].dims[0]!==at[0].dims.length)throw new Error("Invalid input shape.");if(tt.NUMBER_TYPES.indexOf(at[0].type)===-1)throw new Error("Invalid input type.");if(at[1].type!=="int32"&&at[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseTransposeAttributes=_.transpose=void 0;const tt=et(246),rt=et(2517),nt=et(2039),it={name:"Transpose",inputNames:["A"],inputTypes:[nt.TextureType.unpacked]};_.transpose=(ot,dt,ft)=>(st(dt),[ot.run(Object.assign(Object.assign({},it),{cacheHint:ft.cacheKey,get:()=>at(ot,dt[0],ft.perm)}),dt)]),_.parseTransposeAttributes=ot=>(0,tt.createAttributeWithCacheKey)({perm:ot.attributes.getInts("perm",[])});const at=(ot,dt,ft)=>{const ht=dt.dims;ft=lt(ht,ft);const mt=ct(ht,ft),gt=ht.length,yt=`
      ${ut("perm",ft,gt)}
      float process(int indices[${gt}]) {
        int a[${gt}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},it),{output:{dims:mt,type:dt.type,textureType:nt.TextureType.unpacked},shaderSource:yt})},lt=(ot,dt)=>(dt&&dt.length!==ot.length&&(dt=[...ot.keys()].reverse()),dt),ct=(ot,dt)=>(dt=lt(ot,dt),rt.ShapeUtil.sortBasedOnPerm(ot,dt)),ut=(ot,dt,ft)=>{const ht=[];ht.push(`void ${ot}(out int a[${ft}], int src[${ft}]) {`);for(let mt=0;mt<ft;++mt)ht.push(`	a[${dt[mt]}]=src[${mt}];`);return ht.push("	}"),ht.join(`
`)},st=ot=>{if(!ot||ot.length!==1)throw new Error("Transpose requires 1 input.");if(ot[0].type!=="float32"&&ot[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.encodeAsUint8=void 0;const tt=et(5060),rt=et(2039);_.encodeAsUint8=(nt,it)=>{const at=it.shape,lt=(0,tt.getGlsl)(nt.session.backend.glContext.version),ct=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${lt.texture2D}(X,TexCoords).r;
      ${lt.output} = encodeAsUint8(value);
    }`,ut={name:"Uint8Encode",inputTypes:[rt.TextureType.unpacked],inputNames:["X"],output:{dims:at,type:it.tensor.type,textureType:rt.TextureType.downloadUint8AsFloat},shaderSource:ct,hasMain:!0};return nt.executeProgram(ut,[it.tensor])}},4909:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.tanh=_.tan=_.sqrt=_.sin=_.sigmoid=_.relu=_.not=_.neg=_.log=_.parseLeakyReluAttributes=_.leakyRelu=_.identity=_.floor=_.exp=_.parseEluAttributes=_.elu=_.cos=_.ceil=_.clipV11=_.parseClipAttributes=_.clip=_.atan=_.asin=_.acos=_.abs=_.glslTanh=_.glslTan=_.glslSqrt=_.glslSigmoid=_.glslRelu=_.glslSin=_.glslNot=_.glslNeg=_.glslLog=_.glslLeakyRelu=_.glslIdentity=_.glslClip=_.glslFloor=_.glslExp=_.glslElu=_.glslCos=_.glslCeil=_.glslAtan=_.glslAsin=_.glslAcos=_.glslAbs=void 0;const tt=et(246),rt=et(2517),nt=et(8520),it=et(5060),at=et(2039);function lt(){return Pt("abs")}function ct(){return Pt("acos")}function ut(){return Pt("asin")}function st(){return Pt("atan")}function ot(){return Pt("ceil")}function dt(){return Pt("cos")}function ft(Rt){const $t="elu";return{body:`
  const float alpha = float(${Rt});

  float ${$t}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${$t}_(vec4 v) {
    return vec4(${$t}_(v.x), ${$t}_(v.y), ${$t}_(v.z), ${$t}_(v.w));
  }
  `,name:$t,type:nt.FunctionType.ValueBased}}function ht(){return Pt("exp")}function mt(){return Pt("floor")}function gt(Rt,$t){const Mt="clip";return{body:`
  const float min = float(${Rt});
  const float max = float(${$t});

  float ${Mt}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${Mt}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:Mt,type:nt.FunctionType.ValueBased}}function yt(){const Rt="indentity";return{body:`
  float ${Rt}_(float a) {
    return a;
  }
  vec4 ${Rt}_(vec4 v) {
    return v;
  }
  `,name:Rt,type:nt.FunctionType.ValueBased}}function vt(Rt){const $t="leakyRelu";return{body:`
  const float alpha = float(${Rt});

  float ${$t}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${$t}_(vec4 v) {
    return vec4(${$t}_(v.x), ${$t}_(v.y), ${$t}_(v.z), ${$t}_(v.w));
  }
  `,name:$t,type:nt.FunctionType.ValueBased}}function bt(){return Pt("log")}function xt(){const Rt="neg";return{body:`
  float ${Rt}_(float a) {
    return -a;
  }
  vec4 ${Rt}_(vec4 v) {
    return -v;
  }
  `,name:Rt,type:nt.FunctionType.ValueBased}}function _t(){const Rt="not";return{body:`
  float ${Rt}_(float a) {
    return float( ! bool(a) );
  }
  bool ${Rt}_(bool a) {
    return !a;
  }
  vec4 ${Rt}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${Rt}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:Rt,type:nt.FunctionType.ValueBased}}function St(){return Pt("sin")}function wt(){const Rt="relu";return{body:`
  float ${Rt}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${Rt}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:Rt,type:nt.FunctionType.ValueBased}}function Et(){const Rt="sigmoid";return{body:`
  float ${Rt}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${Rt}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:Rt,type:nt.FunctionType.ValueBased}}function Tt(){return Pt("sqrt")}function Ct(){return Pt("tan")}function It(){const Rt="tanh";return{body:`
  float ${Rt}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${Rt}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:Rt,type:nt.FunctionType.ValueBased}}function Pt(Rt){return{body:`
  float ${Rt}_(float a) {
    return ${Rt}(a);
  }
  vec4 ${Rt}_(vec4 v) {
    return ${Rt}(v);
  }
  `,name:Rt,type:nt.FunctionType.ValueBased}}_.glslAbs=lt,_.glslAcos=ct,_.glslAsin=ut,_.glslAtan=st,_.glslCeil=ot,_.glslCos=dt,_.glslElu=ft,_.glslExp=ht,_.glslFloor=mt,_.glslClip=gt,_.glslIdentity=yt,_.glslLeakyRelu=vt,_.glslLog=bt,_.glslNeg=xt,_.glslNot=_t,_.glslSin=St,_.glslRelu=wt,_.glslSigmoid=Et,_.glslSqrt=Tt,_.glslTan=Ct,_.glslTanh=It;const At=(Rt,$t,Mt,Nt)=>{const Dt=Rt.session.pack?at.TextureType.packed:at.TextureType.unpacked,jt={name:Mt.name,inputTypes:[Dt],inputNames:["A"],cacheHint:Nt};return Object.assign(Object.assign({},jt),{get:()=>((Ut,Xt,Wt,Vt)=>{const qt=Ut.session.pack?at.TextureType.packed:at.TextureType.unpacked,tr=(0,it.getGlsl)(Ut.session.backend.glContext.version);return Object.assign(Object.assign({},Xt),{output:{dims:Wt.dims,type:Wt.type,textureType:qt},shaderSource:`
     ${Vt.body}
     void main() {
       vec4 v = ${tr.texture2D}(A, TexCoords);
       v = ${Vt.name}_(v);
       ${tr.output} = v;
     }
     `,hasMain:!0})})(Rt,jt,$t,Mt)})};_.abs=(Rt,$t)=>[Rt.run(At(Rt,$t[0],lt()),$t)],_.acos=(Rt,$t)=>[Rt.run(At(Rt,$t[0],ct()),$t)],_.asin=(Rt,$t)=>[Rt.run(At(Rt,$t[0],ut()),$t)],_.atan=(Rt,$t)=>[Rt.run(At(Rt,$t[0],st()),$t)],_.clip=(Rt,$t,Mt)=>[Rt.run(At(Rt,$t[0],gt(Mt.min,Mt.max),Mt.cacheKey),$t)],_.parseClipAttributes=Rt=>(0,tt.createAttributeWithCacheKey)({min:Rt.attributes.getFloat("min",rt.MIN_CLIP),max:Rt.attributes.getFloat("max",rt.MAX_CLIP)}),_.clipV11=(Rt,$t)=>{const Mt=kt(Rt,$t);return(0,_.clip)(Rt,[$t[0]],Mt)};const kt=(Rt,$t)=>{if($t.length>=3&&(!Rt.session.isInitializer($t[1].dataId)||!Rt.session.isInitializer($t[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const Mt=$t.length>=3?$t[1].numberData[0]:rt.MIN_CLIP,Nt=$t.length>=3?$t[2].numberData[0]:rt.MAX_CLIP;return(0,tt.createAttributeWithCacheKey)({min:Mt,max:Nt})};_.ceil=(Rt,$t)=>[Rt.run(At(Rt,$t[0],ot()),$t)],_.cos=(Rt,$t)=>[Rt.run(At(Rt,$t[0],dt()),$t)],_.elu=(Rt,$t,Mt)=>[Rt.run(At(Rt,$t[0],ft(Mt.alpha),Mt.cacheKey),$t)],_.parseEluAttributes=Rt=>(0,tt.createAttributeWithCacheKey)({alpha:Rt.attributes.getFloat("alpha",1)}),_.exp=(Rt,$t)=>[Rt.run(At(Rt,$t[0],ht()),$t)],_.floor=(Rt,$t)=>[Rt.run(At(Rt,$t[0],mt()),$t)],_.identity=(Rt,$t)=>[Rt.run(At(Rt,$t[0],yt()),$t)],_.leakyRelu=(Rt,$t,Mt)=>[Rt.run(At(Rt,$t[0],vt(Mt.alpha),Mt.cacheKey),$t)],_.parseLeakyReluAttributes=Rt=>(0,tt.createAttributeWithCacheKey)({alpha:Rt.attributes.getFloat("alpha",.01)}),_.log=(Rt,$t)=>[Rt.run(At(Rt,$t[0],bt()),$t)],_.neg=(Rt,$t)=>[Rt.run(At(Rt,$t[0],xt()),$t)],_.not=(Rt,$t)=>[Rt.run(At(Rt,$t[0],_t()),$t)],_.relu=(Rt,$t)=>[Rt.run(At(Rt,$t[0],wt()),$t)],_.sigmoid=(Rt,$t)=>[Rt.run(At(Rt,$t[0],Et()),$t)],_.sin=(Rt,$t)=>[Rt.run(At(Rt,$t[0],St()),$t)],_.sqrt=(Rt,$t)=>[Rt.run(At(Rt,$t[0],Tt()),$t)],_.tan=(Rt,$t)=>[Rt.run(At(Rt,$t[0],Ct()),$t)],_.tanh=(Rt,$t)=>[Rt.run(At(Rt,$t[0],It()),$t)]},5611:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createUnpackProgramInfoLoader=_.createUnpackProgramInfo=void 0;const tt=et(5060),rt=et(2039),nt=et(9390),it=et(2827),at={name:"unpack",inputNames:["A"],inputTypes:[rt.TextureType.packed]};_.createUnpackProgramInfo=(lt,ct)=>{const ut=ct.dims.length,st=(0,it.getChannels)("rc",ut),ot=st.slice(-2),dt=(0,nt.getCoordsDataType)(ut),ft=(0,it.unpackFromChannel)(),ht=ct.dims.length===0?"":function(yt,vt){if(yt===1)return"rc";let bt="";for(let xt=0;xt<yt;xt++)bt+=vt[xt],xt<yt-1&&(bt+=",");return bt}(ut,st),mt=ut<=1?"rc":`vec2(${ot.join(",")})`,gt=`
    ${ft}
    void main() {
      ${dt} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${ht});

       ${(0,tt.getGlsl)(lt.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${mt}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},at),{hasMain:!0,output:{dims:ct.dims,type:ct.type,textureType:rt.TextureType.unpacked},shaderSource:gt})},_.createUnpackProgramInfoLoader=(lt,ct)=>Object.assign(Object.assign({},at),{get:()=>(0,_.createUnpackProgramInfo)(lt,ct)})},8428:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.parseUnsqueezeAttributes=_.unsqueezeV13=_.unsqueeze=void 0;const tt=et(2517);_.unsqueeze=(it,at,lt)=>{rt(at);const ct=tt.ShapeUtil.unsqueezeShape(at[0].dims,lt);return[it.reshapeUnpacked(at[0],ct)]},_.unsqueezeV13=(it,at)=>(nt(at),(0,_.unsqueeze)(it,[at[0]],Array.from(at[1].integerData))),_.parseUnsqueezeAttributes=it=>it.attributes.getInts("axes");const rt=it=>{if(!it||it.length!==1)throw new Error("Unsqueeze requires 1 input.");if(it[0].type==="string")throw new Error("invalid input tensor types.")},nt=it=>{if(!it||it.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(it[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.scalesValidation=_.validateInputs=_.parseUpsampleAttributes=_.parseUpsampleAttributesV9=_.parseUpsampleAttributesV7=_.upsample=void 0;const tt=et(246),rt=et(5060),nt=et(2039),it={name:"Upsample",inputNames:["X"],inputTypes:[nt.TextureType.unpacked]};_.upsample=(lt,ct,ut)=>((0,_.validateInputs)(ct,ut),[lt.run(Object.assign(Object.assign({},it),{cacheHint:ut.cacheKey,get:()=>at(lt,ct,ut)}),ct)]),_.parseUpsampleAttributesV7=lt=>(0,_.parseUpsampleAttributes)(lt,7),_.parseUpsampleAttributesV9=lt=>(0,_.parseUpsampleAttributes)(lt,9),_.parseUpsampleAttributes=(lt,ct)=>{const ut=ct>=10,st=lt.attributes.getString("mode","nearest");if(st!=="nearest"&&st!=="linear"&&(ct<11||st!=="cubic"))throw new Error(`unrecognized mode: ${st}`);let ot=[];ct<9&&(ot=lt.attributes.getFloats("scales"),(0,_.scalesValidation)(ot,st,ut));const dt=lt.attributes.getFloat("extrapolation_value",0),ft=ct>10?lt.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(ft)===-1)throw new Error(`coordinate_transform_mode '${ft}' is not supported`);const ht=ft==="tf_crop_and_resize",mt=ht,gt=st==="nearest"&&ct>=11?lt.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(gt)===-1)throw new Error(`nearest_mode '${gt}' is not supported`);const yt=lt.attributes.getFloat("cubic_coeff_a",-.75),vt=lt.attributes.getInt("exclude_outside",0)!==0;if(vt&&st!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const bt=ct<11||st==="nearest"&&ft==="asymmetric"&&gt==="floor";let xt=0,_t=0,St=0;return ct>10?lt.inputs.length>2?(xt=1,_t=2,St=3):(_t=1,St=2):ct===9&&(_t=1),(0,tt.createAttributeWithCacheKey)({opset:ct,isResize:ut,mode:st,scales:ot,extrapolationValue:dt,coordinateTransformMode:ft,useExtrapolation:mt,needRoiInput:ht,nearestMode:gt,cubicCoefficientA:yt,excludeOutside:vt,useNearest2xOptimization:bt,roiInputIdx:xt,scalesInputIdx:_t,sizesInputIdx:St})};const at=(lt,ct,ut)=>{const st=(0,rt.getGlsl)(lt.session.backend.glContext.version),[ot,dt]=lt.calculateTextureWidthAndHeight(ct[0].dims,nt.TextureType.unpacked),ft=ct[0].dims.map((St,wt)=>Math.floor(St*ut.scales[wt])),[ht,mt]=lt.calculateTextureWidthAndHeight(ft,nt.TextureType.unpacked),gt=ft.length,yt=new Array(gt),vt=new Array(gt);let bt=`
      int output_pitches[${gt}];
      int input_pitches[${gt}];
      `;for(let St=gt-1;St>=0;St--)yt[St]=St===gt-1?1:yt[St+1]*ft[St+1],vt[St]=St===gt-1?1:vt[St+1]*ct[0].dims[St+1],bt+=`
        output_pitches[${St}] = ${yt[St]};
        input_pitches[${St}] = ${vt[St]};
        `;const xt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${ot}, ${dt});
        float value = getColorAsFloat(${st.texture2D}(X, coords));
        return value;
      }
      `,_t=ut.mode==="nearest"?`
    ${xt}
    float process(int indices[${gt}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${ht}, ${mt});

      ${bt}

      int d, m;
      for (int dim = 0; dim < ${gt}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:gt===4?`
    ${xt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${ht}, ${mt});

      ${bt}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${ct[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${xt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${ht}, ${mt});

      ${bt}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${ct[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},it),{output:{dims:ft,type:ct[0].type,textureType:nt.TextureType.unpacked},shaderSource:_t,variables:[{name:"scales",type:"int",arrayLength:ut.scales.length,data:ut.scales.map(St=>Math.ceil(St))}]})};_.validateInputs=(lt,ct)=>{if(!lt||ct.opset<9&&lt.length!==1||ct.opset>=9&&ct.opset<11&&lt.length!==2||ct.opset>=11&&lt.length<2)throw new Error("invalid inputs.");if(ct.scales.length>0&&lt[0].dims.length!==ct.scales.length)throw new Error("Invalid input shape.");if(lt[0].type==="string")throw new Error("Invalid input tensor types.")},_.scalesValidation=(lt,ct,ut)=>{if(ut){for(const st of lt)if(st<=0)throw new Error("Scale value should be greater than 0.")}else for(const st of lt)if(st<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(ct!=="linear"&&ct!=="cubic"||lt.length===2||lt.length===4&&lt[0]===1&&lt[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${ut?"Resize":"Upsample"} opeartor.`)}},1958:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ProgramManager=void 0;const tt=et(1670),rt=et(6231),nt=et(8879),it=et(5060);_.ProgramManager=class{constructor(at,lt,ct){this.profiler=at,this.glContext=lt,this.textureLayoutStrategy=ct,this.repo=new Map,this.attributesBound=!1}getArtifact(at){return this.repo.get(at)}setArtifact(at,lt){this.repo.set(at,lt)}run(at,lt,ct){var ut;this.profiler.event("op",`ProgramManager.run ${(ut=at.programInfo.name)!==null&&ut!==void 0?ut:"unknown kernel"}`,()=>{var st;const ot=this.glContext.gl,dt=at.program;ot.useProgram(dt);try{this.bindOutput(ct),this.attributesBound||this.bindAttributes(at.attribLocations),this.bindUniforms(at.uniformLocations,(st=at.programInfo.variables)!==null&&st!==void 0?st:[],lt)}catch(ft){throw rt.Logger.error("ProgramManager",at.programInfo.shaderSource),ft}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(at=>this.glContext.deleteProgram(at.program))}build(at,lt,ct){return this.profiler.event("backend","ProgramManager.build",()=>{const ut=new nt.GlslPreprocessor(this.glContext,at,lt,ct),st=ut.preprocess(),ot=this.compile(st);return{programInfo:at,program:ot,uniformLocations:this.getUniformLocations(ot,ut.context.programInfo.inputNames,ut.context.programInfo.variables),attribLocations:this.getAttribLocations(ot)}})}compile(at){if(!this.vertexShader){rt.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const ut=(0,it.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(ut,this.glContext.gl.VERTEX_SHADER)}tt.env.debug&&rt.Logger.verbose("ProrgramManager",`FragShader:
${at}
`);const lt=this.glContext.compileShader(at,this.glContext.gl.FRAGMENT_SHADER),ct=this.glContext.createProgram(this.vertexShader,lt);return this.glContext.deleteShader(lt),ct}bindOutput(at){const lt=at.width,ct=at.height;rt.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${lt}/${ct}, shape=${at.shape}, type=${at.tensor.type}`),this.glContext.attachFramebuffer(at.texture,lt,ct)}bindAttributes(at){const lt=at.position,ct=at.textureCoord;this.glContext.setVertexAttributes(lt,ct),this.attributesBound=!0}bindUniforms(at,lt,ct){var ut;const st=this.glContext.gl;let ot=0;for(const{name:dt,type:ft,location:ht,arrayLength:mt}of at){const gt=(ut=lt.find(yt=>yt.name===dt))===null||ut===void 0?void 0:ut.data;if(ft!=="sampler2D"&&!gt)throw new Error(`variable '${dt}' does not have data defined in program info`);switch(ft){case"sampler2D":this.bindTexture(ct[ot],ht,ot),ot++;break;case"float":mt?st.uniform1fv(ht,gt):st.uniform1f(ht,gt);break;case"int":mt?st.uniform1iv(ht,gt):st.uniform1i(ht,gt);break;default:throw new Error(`Uniform not implemented: ${ft}`)}}}bindTexture(at,lt,ct){this.glContext.bindTextureToUniform(at.texture,ct,lt)}getAttribLocations(at){return{position:this.getAttribLocation(at,"position"),textureCoord:this.getAttribLocation(at,"textureCoord")}}getUniformLocations(at,lt,ct){const ut=[];if(lt)for(const st of lt)ut.push({name:st,type:"sampler2D",location:this.getUniformLocation(at,st)});if(ct)for(const st of ct)ut.push(Object.assign(Object.assign({},st),{location:this.getUniformLocation(at,st.name)}));return ut}getUniformLocation(at,lt){const ct=this.glContext.gl.getUniformLocation(at,lt);if(ct===null)throw new Error(`Uniform ${lt} not found.`);return ct}getAttribLocation(at,lt){return this.glContext.gl.getAttribLocation(at,lt)}}},6416:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.WebGLSessionHandler=void 0;const tt=et(6231),rt=et(1047),nt=et(8316),it=et(1640),at=et(1958),lt=et(7859),ct=et(5702);_.WebGLSessionHandler=class{constructor(ut,st){this.backend=ut,this.context=st,this.layoutStrategy=new lt.PreferLogicalStrategy(ut.glContext.maxTextureSize),this.programManager=new at.ProgramManager(this.context.profiler,ut.glContext,this.layoutStrategy),this.textureManager=new ct.TextureManager(ut.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:ut.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=ut.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new nt.WebGLInferenceHandler(this)}onGraphInitialized(ut){const st=ut.getValues().filter(ot=>ot.from===-1&&ot.tensor).map(ot=>ot.tensor.dataId);this.initializers=new Set(st)}isInitializer(ut){return!!this.initializers&&this.initializers.has(ut)}addInitializer(ut){this.initializers.add(ut)}getTextureData(ut,st){return st?this.packedTextureDataCache.get(ut):this.unpackedTextureDataCache.get(ut)}setTextureData(ut,st,ot=!1){tt.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),ot?this.packedTextureDataCache.set(ut,st):this.unpackedTextureDataCache.set(ut,st)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(ut=>this.textureManager.releaseTexture(ut,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(ut=>this.textureManager.releaseTexture(ut,!0)),this.unpackedTextureDataCache=new Map}resolve(ut,st,ot){const dt=(0,rt.resolveOperator)(ut,st,it.WEBGL_OP_RESOLVE_RULES);return{impl:dt.opImpl,context:dt.opInit?dt.opInit(ut,ot):ut}}}},7769:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Uint8DataEncoder=_.RGBAFloatDataEncoder=_.RedFloat32DataEncoder=void 0;const tt=et(6231);_.RedFloat32DataEncoder=class{constructor(rt,nt=1){if(nt===1)this.internalFormat=rt.R32F,this.format=rt.RED,this.textureType=rt.FLOAT,this.channelSize=nt;else{if(nt!==4)throw new Error(`Invalid number of channels: ${nt}`);this.internalFormat=rt.RGBA32F,this.format=rt.RGBA,this.textureType=rt.FLOAT,this.channelSize=nt}}encode(rt,nt){let it,at;return rt.constructor!==Float32Array&&(tt.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),at=new Float32Array(rt)),nt*this.channelSize>rt.length?(tt.Logger.warning("Encoder","Source data too small. Allocating larger array"),at=rt,it=this.allocate(nt*this.channelSize),at.forEach((lt,ct)=>it[ct]=lt)):(at=rt,it=at),it}allocate(rt){return new Float32Array(4*rt)}decode(rt,nt){return this.channelSize===1?rt.filter((it,at)=>at%4==0).subarray(0,nt):rt.subarray(0,nt)}},_.RGBAFloatDataEncoder=class{constructor(rt,nt=1,it){if(nt!==1&&nt!==4)throw new Error(`Invalid number of channels: ${nt}`);this.internalFormat=rt.RGBA,this.format=rt.RGBA,this.channelSize=nt,this.textureType=it||rt.FLOAT}encode(rt,nt){let it=rt;return this.channelSize===1&&(tt.Logger.verbose("Encoder","Exploding into a larger array"),it=this.allocate(nt),rt.forEach((at,lt)=>it[4*lt]=at)),it}allocate(rt){return new Float32Array(4*rt)}decode(rt,nt){return this.channelSize===1?rt.filter((it,at)=>at%4==0).subarray(0,nt):rt.subarray(0,nt)}},_.Uint8DataEncoder=class{constructor(rt,nt=1){if(this.channelSize=4,nt===1)this.internalFormat=rt.ALPHA,this.format=rt.ALPHA,this.textureType=rt.UNSIGNED_BYTE,this.channelSize=nt;else{if(nt!==4)throw new Error(`Invalid number of channels: ${nt}`);this.internalFormat=rt.RGBA,this.format=rt.RGBA,this.textureType=rt.UNSIGNED_BYTE,this.channelSize=nt}}encode(rt,nt){return new Uint8Array(rt.buffer,rt.byteOffset,rt.byteLength)}allocate(rt){return new Uint8Array(rt*this.channelSize)}decode(rt,nt){if(rt instanceof Uint8Array)return rt.subarray(0,nt);throw new Error(`Invalid array type: ${rt.constructor}`)}}},7859:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getBatchDim=_.sizeToSquarishShape=_.getRowsCols=_.sizeFromShape=_.isInt=_.parseAxisParam=_.squeezeShape=_.PreferLogicalStrategy=_.AlwaysKeepOriginalSizeStrategy=void 0;const tt=et(6231),rt=et(2517);function nt(ut,st){const ot=[],dt=[],ft=st!=null&&Array.isArray(st)&&st.length===0,ht=st==null||ft?null:it(st,ut).sort();let mt=0;for(let gt=0;gt<ut.length;++gt){if(ht!=null){if(ht[mt]===gt&&ut[gt]!==1)throw new Error(`Can't squeeze axis ${gt} since its dim '${ut[gt]}' is not 1`);(ht[mt]==null||ht[mt]>gt)&&ut[gt]===1&&(ot.push(ut[gt]),dt.push(gt)),ht[mt]<=gt&&mt++}ut[gt]!==1&&(ot.push(ut[gt]),dt.push(gt))}return{newShape:ot,keptDims:dt}}function it(ut,st){const ot=st.length;return ut=ut==null?st.map((dt,ft)=>ft):[].concat(ut),(0,rt.assert)(ut.every(dt=>dt>=-ot&&dt<ot),()=>`All values in axis param must be in range [-${ot}, ${ot}) but got axis ${ut}`),(0,rt.assert)(ut.every(at),()=>`All values in axis param must be integers but got axis ${ut}`),ut.map(dt=>dt<0?ot+dt:dt)}function at(ut){return ut%1==0}function lt(ut){if(ut.length===0)return 1;let st=ut[0];for(let ot=1;ot<ut.length;ot++)st*=ut[ot];return st}function ct(ut){const st=Math.ceil(Math.sqrt(ut));return[st,Math.ceil(ut/st)]}_.AlwaysKeepOriginalSizeStrategy=class{constructor(ut){this.maxTextureSize=ut}computeTextureWH(ut,st){if(ut.length===0)return[1,1];const ot=this.maxTextureSize;if(st&&st.breakAxis!==void 0){const ht=st.breakAxis>=ut.length?1:ut.slice(st.breakAxis).reduce((gt,yt)=>gt*yt),mt=st.breakAxis<=0?1:ut.slice(0,st.breakAxis).reduce((gt,yt)=>gt*yt);if(!(ht>ot||mt>ot))return[ht,mt];tt.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${ut}, breakAxis:${st.breakAxis}`)}const dt=ut.reduce((ht,mt)=>ht*mt);let ft=Math.floor(Math.sqrt(dt));for(;ft<ot&&ft<dt&&dt%ft!=0;ft++);if(ft>=ot||dt%ft!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${ut}`);return[ft,dt/ft]}},_.PreferLogicalStrategy=class{constructor(ut){this.maxTextureSize=ut}computeTextureWH(ut,st){const ot=this.computeTexture(ut,st);return st&&st.isPacked&&(ot[0]/=2,ot[1]/=2),st&&st.reverseWH?[ot[1],ot[0]]:ot}computeTexture(ut,st){const ot=st&&st.isPacked;if(ut.length===0)return ot?[2,2]:[1,1];let dt=this.maxTextureSize;if(st&&st.breakAxis!==void 0){const mt=st.breakAxis>=ut.length?1:ut.slice(st.breakAxis).reduce((yt,vt)=>yt*vt),gt=st.breakAxis<=0?1:ut.slice(0,st.breakAxis).reduce((yt,vt)=>yt*vt);if(!(mt>dt||gt>dt))return[mt,gt];tt.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${ut}, breakAxis:${st.breakAxis}`)}let ft=ut.slice(0);ot&&(dt*=2,ft=ft.map((mt,gt)=>gt>=ft.length-2?ft[gt]%2==0?ft[gt]:ft[gt]+1:ft[gt]),ft.length===1&&(ft=[2,ft[0]])),ft.length!==2&&(ft=nt(ft).newShape);const ht=lt(ft);return ft.length<=1&&ht<=dt?[1,ht]:ft.length===2&&ft[0]<=dt&&ft[1]<=dt?ft:ft.length===3&&ft[0]*ft[1]<=dt&&ft[2]<=dt?[ft[0]*ft[1],ft[2]]:ft.length===3&&ft[0]<=dt&&ft[1]*ft[2]<=dt?[ft[0],ft[1]*ft[2]]:ft.length===4&&ft[0]*ft[1]*ft[2]<=dt&&ft[3]<=dt?[ft[0]*ft[1]*ft[2],ft[3]]:ft.length===4&&ft[0]<=dt&&ft[1]*ft[2]*ft[3]<=dt?[ft[0],ft[1]*ft[2]*ft[3]]:ot?ct(ht/4).map(mt=>2*mt):ct(ht)}},_.squeezeShape=nt,_.parseAxisParam=it,_.isInt=at,_.sizeFromShape=lt,_.getRowsCols=function(ut){if(ut.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[ut.length>1?ut[ut.length-2]:1,ut[ut.length-1]]},_.sizeToSquarishShape=ct,_.getBatchDim=function(ut,st=2){return lt(ut.slice(0,ut.length-st))}},4057:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createTextureLayoutFromShape=_.calculateTextureWidthAndHeight=_.createTextureLayoutFromTextureType=void 0;const tt=et(2517),rt=et(2039);_.createTextureLayoutFromTextureType=(nt,it,at)=>{const lt=at===rt.TextureType.unpacked||at===rt.TextureType.unpackedReversed?1:4,ct=at===rt.TextureType.packed,ut=at===rt.TextureType.unpackedReversed||at===rt.TextureType.packed,st=at===rt.TextureType.packedLastDimension?it.length-1:void 0,ot=at===rt.TextureType.packedLastDimension?it.map((dt,ft)=>ft===it.length-1?4*dt:dt):void 0;return(0,_.createTextureLayoutFromShape)(nt,it,lt,ot,{isPacked:ct,reverseWH:ut,breakAxis:st})},_.calculateTextureWidthAndHeight=(nt,it,at)=>{const lt=(0,_.createTextureLayoutFromTextureType)(nt,it,at);return[lt.width,lt.height]},_.createTextureLayoutFromShape=(nt,it,at=1,lt,ct)=>{const ut=!(!ct||!ct.isPacked),[st,ot]=nt.computeTextureWH(ut&&lt||it,ct),dt=it.length;let ft=it.slice(0);if(dt===0&&(ft=[1]),at===1)lt=it;else if(ut){if(at!==4)throw new Error("a packed texture must be 4-channel");lt=it,dt>0&&(ft[dt-1]=Math.ceil(ft[dt-1]/2)),dt>1&&(ft[dt-2]=Math.ceil(ft[dt-2]/2))}else if(!lt)throw new Error("Unpacked shape is needed when using channels > 1");return{width:st,height:ot,channels:at,isPacked:ut,shape:ft,strides:tt.ShapeUtil.computeStrides(ft),unpackedShape:lt,reversedWH:ct&&ct.reverseWH}}},5702:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.TextureManager=void 0;const tt=et(6231);_.TextureManager=class{constructor(rt,nt,it,at){this.glContext=rt,this.layoutStrategy=nt,this.profiler=it,this.config=at,this.pendingRead=new Map,at.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(rt,nt,it,at){const lt=this.toEncoderType(rt),ct=this.glContext.getEncoder(lt,nt.channels||1,at);if(nt.isPacked&&at===1)throw new Error("not implemented");const ut=nt.width,st=nt.height;let ot,dt;if(this.config.reuseTextures){ot=`${ut}x${st}_${ct.format}_${ct.internalFormat}_${ct.textureType}`,dt=this.inUseTextures.get(ot),dt||(dt=[],this.inUseTextures.set(ot,dt));const ht=this.idleTextures.get(ot);if(ht&&ht.length>0){const mt=ht.pop();return dt.push(mt),at===1&&this.glContext.updateTexture(mt,ut,st,ct,this.toTextureData(rt,it)),mt}}tt.Logger.verbose("TextureManager",`Creating new texture of size ${nt.width}x${nt.height}`);const ft=this.glContext.allocateTexture(ut,st,ct,this.toTextureData(rt,it));return this.config.reuseTextures&&(dt.push(ft),this.textureLookup.set(ft,ot)),ft}readTexture(rt,nt,it){return it||(it=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const at=rt.shape.reduce((ct,ut)=>ct*ut)*it,lt=this.glContext.readTexture(rt.texture,rt.width,rt.height,at,this.toEncoderType(nt),it);return this.toTensorData(nt,lt)})}async readTextureAsync(rt,nt,it){const at=rt.tensor.dataId;if(it||(it=1),this.pendingRead.has(at)){const lt=this.pendingRead.get(at);return new Promise(ct=>lt==null?void 0:lt.push(ct))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(at,[]);const lt=rt.shape.reduce((ot,dt)=>ot*dt)*it;await this.glContext.createAndWaitForFence();const ct=this.glContext.readTexture(rt.texture,rt.width,rt.height,lt,this.toEncoderType(nt),it),ut=this.toTensorData(nt,ct),st=this.pendingRead.get(at);return this.pendingRead.delete(at),st==null||st.forEach(ot=>ot(ut)),ut})}readUint8TextureAsFloat(rt){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const nt=rt.shape.reduce((at,lt)=>at*lt),it=this.glContext.readTexture(rt.texture,rt.width,rt.height,4*nt,"byte",4);return new Float32Array(it.buffer,it.byteOffset,nt)})}releaseTexture(rt,nt){let it;if(this.config.reuseTextures&&(it=this.textureLookup.get(rt.texture),it)){nt&&this.textureLookup.delete(it);const at=this.inUseTextures.get(it);if(at){const lt=at.indexOf(rt.texture);if(lt!==-1){at.splice(lt,1);let ct=this.idleTextures.get(it);ct||(ct=[],this.idleTextures.set(it,ct)),ct.push(rt.texture)}}}it&&!nt||(tt.Logger.verbose("TextureManager",`Deleting texture of size ${rt.width}x${rt.height}`),this.glContext.deleteTexture(rt.texture))}toTensorData(rt,nt){switch(rt){case"int16":return nt instanceof Int16Array?nt:Int16Array.from(nt);case"int32":return nt instanceof Int32Array?nt:Int32Array.from(nt);case"int8":return nt instanceof Int8Array?nt:Int8Array.from(nt);case"uint16":return nt instanceof Uint16Array?nt:Uint16Array.from(nt);case"uint32":return nt instanceof Uint32Array?nt:Uint32Array.from(nt);case"uint8":case"bool":return nt instanceof Uint8Array?nt:Uint8Array.from(nt);case"float32":return nt instanceof Float32Array?nt:Float32Array.from(nt);case"float64":return nt instanceof Float64Array?nt:Float64Array.from(nt);default:throw new Error(`TensorData type ${rt} is not supported`)}}toTextureData(rt,nt){if(nt)return nt instanceof Float32Array?nt:new Float32Array(nt)}toEncoderType(rt){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(_e,_)=>{var et;Object.defineProperty(_,"__esModule",{value:!0}),_.TextureType=void 0,(et=_.TextureType||(_.TextureType={}))[et.unpacked=0]="unpacked",et[et.unpackedReversed=1]="unpackedReversed",et[et.packed=2]="packed",et[et.downloadUint8AsFloat=3]="downloadUint8AsFloat",et[et.packedLastDimension=4]="packedLastDimension"},9390:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.getGlChannels=_.getCoordsDataType=_.getSqueezedParams=_.squeezeInputShape=_.generateShaderFuncNameFromInputSamplerNameAtOutCoords=_.generateShaderFuncNameFromInputSamplerName=_.repeatedTry=_.getPackedShape=void 0;const tt=et(2517);_.getPackedShape=function(rt){const nt=rt.length;return rt.slice(0,nt-1).concat(rt[nt-1]/4)},_.repeatedTry=async function(rt,nt=at=>0,it){return new Promise((at,lt)=>{let ct=0;const ut=()=>{if(rt())return void at();ct++;const st=nt(ct);it!=null&&ct>=it?lt():setTimeout(ut,st)};ut()})},_.generateShaderFuncNameFromInputSamplerName=function(rt){return(0,tt.assert)(rt!==void 0&&rt.length!==0,()=>"empty string found for sampler name"),"get"+rt.charAt(0).toUpperCase()+rt.slice(1)},_.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(rt){return(0,tt.assert)(rt!==void 0&&rt.length!==0,()=>"empty string found for sampler name"),"get"+rt.charAt(0).toUpperCase()+rt.slice(1)+"AtOutCoords"},_.squeezeInputShape=function(rt,nt){let it=JSON.parse(JSON.stringify(rt));return it=nt,it},_.getSqueezedParams=function(rt,nt){return nt.map(it=>rt[it]).join(", ")},_.getCoordsDataType=function(rt){if(rt<=1)return"int";if(rt===2)return"ivec2";if(rt===3)return"ivec3";if(rt===4)return"ivec4";if(rt===5)return"ivec5";if(rt===6)return"ivec6";throw Error(`GPU for rank ${rt} is not yet supported`)},_.getGlChannels=function(rt=6){return["x","y","z","w","u","v"].slice(0,rt)}},7305:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.createNewWebGLContext=_.createWebGLContext=void 0;const tt=et(6231),rt=et(1713),nt={};function it(at){const lt=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const st=document.createElement("canvas");return st.width=1,st.height=1,st}();let ct;const ut={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!at||at==="webgl2")&&(ct=lt.getContext("webgl2",ut),ct))try{return new rt.WebGLContext(ct,2)}catch(st){tt.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${st}`)}if((!at||at==="webgl")&&(ct=lt.getContext("webgl",ut)||lt.getContext("experimental-webgl",ut),ct))try{return new rt.WebGLContext(ct,1)}catch(st){tt.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${st}`)}throw new Error("WebGL is not supported")}_.createWebGLContext=function at(lt){let ct;lt&&lt!=="webgl2"||!("webgl2"in nt)?lt&&lt!=="webgl"||!("webgl"in nt)||(ct=nt.webgl):ct=nt.webgl2,ct=ct||it(lt),lt=lt||ct.version===1?"webgl":"webgl2";const ut=ct.gl;return nt[lt]=ct,ut.isContextLost()?(delete nt[lt],at(lt)):(ut.disable(ut.DEPTH_TEST),ut.disable(ut.STENCIL_TEST),ut.disable(ut.BLEND),ut.disable(ut.DITHER),ut.disable(ut.POLYGON_OFFSET_FILL),ut.disable(ut.SAMPLE_COVERAGE),ut.enable(ut.SCISSOR_TEST),ut.enable(ut.CULL_FACE),ut.cullFace(ut.BACK),ct)},_.createNewWebGLContext=it},1713:function(_e,_,et){var tt=this&&this.__createBinding||(Object.create?function(ut,st,ot,dt){dt===void 0&&(dt=ot);var ft=Object.getOwnPropertyDescriptor(st,ot);ft&&!("get"in ft?!st.__esModule:ft.writable||ft.configurable)||(ft={enumerable:!0,get:function(){return st[ot]}}),Object.defineProperty(ut,dt,ft)}:function(ut,st,ot,dt){dt===void 0&&(dt=ot),ut[dt]=st[ot]}),rt=this&&this.__setModuleDefault||(Object.create?function(ut,st){Object.defineProperty(ut,"default",{enumerable:!0,value:st})}:function(ut,st){ut.default=st}),nt=this&&this.__importStar||function(ut){if(ut&&ut.__esModule)return ut;var st={};if(ut!=null)for(var ot in ut)ot!=="default"&&Object.prototype.hasOwnProperty.call(ut,ot)&&tt(st,ut,ot);return rt(st,ut),st};Object.defineProperty(_,"__esModule",{value:!0}),_.WebGLContext=_.linearSearchLastTrue=void 0;const it=et(1670),at=nt(et(7769)),lt=et(9390);function ct(ut){let st=0;for(;st<ut.length&&ut[st]();++st);return st-1}_.linearSearchLastTrue=ct,_.WebGLContext=class{constructor(ut,st){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=ut,this.version=st,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(ut,st,ot,dt){const ft=this.gl,ht=ft.createTexture();ft.bindTexture(ft.TEXTURE_2D,ht),ft.texParameteri(ft.TEXTURE_2D,ft.TEXTURE_MIN_FILTER,ft.NEAREST),ft.texParameteri(ft.TEXTURE_2D,ft.TEXTURE_MAG_FILTER,ft.NEAREST),ft.texParameteri(ft.TEXTURE_2D,ft.TEXTURE_WRAP_S,ft.CLAMP_TO_EDGE),ft.texParameteri(ft.TEXTURE_2D,ft.TEXTURE_WRAP_T,ft.CLAMP_TO_EDGE);const mt=dt?ot.encode(dt,ut*st):null;return ft.texImage2D(ft.TEXTURE_2D,0,ot.internalFormat,ut,st,0,ot.format,ot.textureType,mt),this.checkError(),ht}updateTexture(ut,st,ot,dt,ft){const ht=this.gl;ht.bindTexture(ht.TEXTURE_2D,ut);const mt=dt.encode(ft,st*ot);ht.texSubImage2D(ht.TEXTURE_2D,0,0,0,st,ot,dt.format,dt.textureType,mt),this.checkError()}attachFramebuffer(ut,st,ot){const dt=this.gl;dt.bindTexture(dt.TEXTURE_2D,ut),dt.bindFramebuffer(dt.FRAMEBUFFER,this.framebuffer),dt.framebufferTexture2D(dt.FRAMEBUFFER,dt.COLOR_ATTACHMENT0,dt.TEXTURE_2D,ut,0),this.checkError(),dt.viewport(0,0,st,ot),dt.scissor(0,0,st,ot)}readTexture(ut,st,ot,dt,ft,ht){const mt=this.gl;ht||(ht=1),this.frameBufferBound||this.attachFramebuffer(ut,st,ot);const gt=this.getEncoder(ft,ht),yt=gt.allocate(st*ot);return mt.bindTexture(mt.TEXTURE_2D,ut),mt.framebufferTexture2D(mt.FRAMEBUFFER,mt.COLOR_ATTACHMENT0,mt.TEXTURE_2D,ut,0),mt.readPixels(0,0,st,ot,mt.RGBA,gt.textureType,yt),this.checkError(),gt.decode(yt,dt)}isFramebufferReady(){return!0}getActiveTexture(){const ut=this.gl;return"TEXTURE"+(ut.getParameter(this.gl.ACTIVE_TEXTURE)-ut.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(ut,st){const ot=this.gl;ot.vertexAttribPointer(ut,3,ot.FLOAT,!1,20,0),ot.enableVertexAttribArray(ut),st!==-1&&(ot.vertexAttribPointer(st,2,ot.FLOAT,!1,20,12),ot.enableVertexAttribArray(st)),this.checkError()}createProgram(ut,st){const ot=this.gl,dt=ot.createProgram();return ot.attachShader(dt,ut),ot.attachShader(dt,st),ot.linkProgram(dt),dt}compileShader(ut,st){const ot=this.gl,dt=ot.createShader(st);if(!dt)throw new Error(`createShader() returned null with type ${st}`);if(ot.shaderSource(dt,ut),ot.compileShader(dt),ot.getShaderParameter(dt,ot.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${ot.getShaderInfoLog(dt)}
Shader source:
${ut}`);return dt}deleteShader(ut){this.gl.deleteShader(ut)}bindTextureToUniform(ut,st,ot){const dt=this.gl;dt.activeTexture(dt.TEXTURE0+st),this.checkError(),dt.bindTexture(dt.TEXTURE_2D,ut),this.checkError(),dt.uniform1i(ot,st),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(it.env.debug){const ut=this.gl,st=ut.getError();let ot="";switch(st){case ut.NO_ERROR:return;case ut.INVALID_ENUM:ot="INVALID_ENUM";break;case ut.INVALID_VALUE:ot="INVALID_VALUE";break;case ut.INVALID_OPERATION:ot="INVALID_OPERATION";break;case ut.INVALID_FRAMEBUFFER_OPERATION:ot="INVALID_FRAMEBUFFER_OPERATION";break;case ut.OUT_OF_MEMORY:ot="OUT_OF_MEMORY";break;case ut.CONTEXT_LOST_WEBGL:ot="CONTEXT_LOST_WEBGL";break;default:ot=`Unknown WebGL Error: ${st.toString(16)}`}throw new Error(ot)}}deleteTexture(ut){this.gl.deleteTexture(ut)}deleteProgram(ut){this.gl.deleteProgram(ut)}getEncoder(ut,st,ot=0){if(this.version===2)return new at.RedFloat32DataEncoder(this.gl,st);switch(ut){case"float":return ot===1||this.isRenderFloat32Supported?new at.RGBAFloatDataEncoder(this.gl,st):new at.RGBAFloatDataEncoder(this.gl,st,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new at.Uint8DataEncoder(this.gl,st);default:throw new Error(`Invalid dataType: ${ut}`)}}clearActiveTextures(){const ut=this.gl;for(let st=0;st<this.maxTextureImageUnits;++st)ut.activeTexture(ut.TEXTURE0+st),ut.bindTexture(ut.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const ut=this.gl;ut.bindFramebuffer(ut.FRAMEBUFFER,null),ut.deleteFramebuffer(this.framebuffer),ut.bindBuffer(ut.ARRAY_BUFFER,null),ut.deleteBuffer(this.vertexbuffer),ut.bindBuffer(ut.ELEMENT_ARRAY_BUFFER,null),ut.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const ut=this.gl,st=ut.createBuffer();if(!st)throw new Error("createBuffer() returned null");const ot=this.createDefaultGeometry();return ut.bindBuffer(ut.ARRAY_BUFFER,st),ut.bufferData(ut.ARRAY_BUFFER,ot,ut.STATIC_DRAW),this.checkError(),st}createFramebuffer(){const ut=this.gl.createFramebuffer();if(!ut)throw new Error("createFramebuffer returned null");return ut}queryVitalParameters(){const ut=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=ut.getParameter(ut.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=ut.getParameter(ut.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const ut=this.gl,st=ut.createTexture();ut.bindTexture(ut.TEXTURE_2D,st);const ot=this.version===2?ut.RGBA32F:ut.RGBA;ut.texImage2D(ut.TEXTURE_2D,0,ot,1,1,0,ut.RGBA,ut.FLOAT,null);const dt=ut.createFramebuffer();ut.bindFramebuffer(ut.FRAMEBUFFER,dt),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,st,0);const ft=ut.checkFramebufferStatus(ut.FRAMEBUFFER)===ut.FRAMEBUFFER_COMPLETE;return ut.bindTexture(ut.TEXTURE_2D,null),ut.bindFramebuffer(ut.FRAMEBUFFER,null),ut.deleteTexture(st),ut.deleteFramebuffer(dt),ft}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const ut=this.gl;let st,ot,dt,ft,ht;try{st=ut.createTexture(),ot=ut.createFramebuffer(),ut.bindTexture(ut.TEXTURE_2D,st);const mt=this.version===2?ut.RGBA32F:ut.RGBA;return ut.texImage2D(ut.TEXTURE_2D,0,mt,1,1,0,ut.RGBA,ut.FLOAT,null),ut.bindFramebuffer(ut.FRAMEBUFFER,ot),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,st,0),ut.enable(ut.BLEND),dt=ut.createShader(ut.VERTEX_SHADER),!!dt&&(ut.shaderSource(dt,"void main(){}"),ut.compileShader(dt),ft=ut.createShader(ut.FRAGMENT_SHADER),!!ft&&(ut.shaderSource(ft,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),ut.compileShader(ft),ht=ut.createProgram(),!!ht&&(ut.attachShader(ht,dt),ut.attachShader(ht,ft),ut.linkProgram(ht),ut.useProgram(ht),ut.drawArrays(ut.POINTS,0,1),ut.getError()===ut.NO_ERROR)))}finally{ut.disable(ut.BLEND),ht&&ut.deleteProgram(ht),dt&&ut.deleteShader(dt),ft&&ut.deleteShader(ft),ot&&(ut.bindFramebuffer(ut.FRAMEBUFFER,null),ut.deleteFramebuffer(ot)),st&&(ut.bindTexture(ut.TEXTURE_2D,null),ut.deleteTexture(st))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const ut=this.gl,st=this.disjointTimerQueryWebgl2Extension,ot=ut.createQuery();return ut.beginQuery(st.TIME_ELAPSED_EXT,ot),ot}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const ut=this.gl,st=this.disjointTimerQueryWebgl2Extension;ut.endQuery(st.TIME_ELAPSED_EXT)}}isTimerResultAvailable(ut){let st=!1,ot=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const dt=this.gl,ft=this.disjointTimerQueryWebgl2Extension;st=dt.getQueryParameter(ut,dt.QUERY_RESULT_AVAILABLE),ot=dt.getParameter(ft.GPU_DISJOINT_EXT)}return st&&!ot}getTimerResult(ut){let st=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const ot=this.gl;st=ot.getQueryParameter(ut,ot.QUERY_RESULT),ot.deleteQuery(ut)}return st/1e6}async waitForQueryAndGetTime(ut){return await(0,lt.repeatedTry)(()=>this.isTimerResultAvailable(ut)),this.getTimerResult(ut)}async createAndWaitForFence(){const ut=this.createFence(this.gl);return this.pollFence(ut)}createFence(ut){let st;const ot=ut,dt=ot.fenceSync(ot.SYNC_GPU_COMMANDS_COMPLETE,0);return ut.flush(),st=dt===null?()=>!0:()=>{const ft=ot.clientWaitSync(dt,0,0);return ft===ot.ALREADY_SIGNALED||ft===ot.CONDITION_SATISFIED},{query:dt,isFencePassed:st}}async pollFence(ut){return new Promise(st=>{this.addItemToPoll(()=>ut.isFencePassed(),()=>st())})}pollItems(){const ut=ct(this.itemsToPoll.map(st=>st.isDoneFn));for(let st=0;st<=ut;++st){const{resolveFn:ot}=this.itemsToPoll[st];ot()}this.itemsToPoll=this.itemsToPoll.slice(ut+1)}async addItemToPoll(ut,st){this.itemsToPoll.push({isDoneFn:ut,resolveFn:st}),this.itemsToPoll.length>1||await(0,lt.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},1036:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.ExecutionPlan=void 0;const tt=et(6231);class rt{constructor(it,at){this.op=it,this.node=at}}_.ExecutionPlan=class{constructor(nt,it,at){this.graph=nt,this.profiler=at,this.initialize(it)}initialize(nt){this.profiler.event("session","ExecutionPlan.initialize",()=>{const it=this.graph.getNodes();if(it.length!==nt.length)throw new Error("The size of nodes and OPs do not match.");this._ops=nt.map((at,lt)=>new rt(at,it[lt])),this.reset(),this._starter=[],this._ops.forEach((at,lt)=>{let ct=!0;for(const ut of at.node.inputs)if(!this._values[ut]&&this.graph.getInputIndices().indexOf(ut)===-1){ct=!1;break}ct&&this._starter.push(lt)})})}reset(){this._values=this.graph.getValues().map(nt=>nt.tensor)}async execute(nt,it){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const at=nt.createInferenceHandler(),lt=this.graph.getInputIndices();if(it.length!==lt.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${it.length} expected: ${lt.length}`);it.forEach((ft,ht)=>{const mt=lt[ht];this._values[mt]=ft});const ct=this._starter.slice(0),ut=this.graph.getValues(),st=this.graph.getNodes();let ot=0;for(;ot<ct.length;){const ft=ct[ot++],ht=this._ops[ft],mt=ht.node.inputs.map(bt=>this._values[bt]);if(mt.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${ht.node}`);const gt=mt;tt.Logger.verbose("ExecPlan",`Runing op:${ht.node.name} (${gt.map((bt,xt)=>`'${ht.node.inputs[xt]}': ${bt.type}[${bt.dims.join(",")}]`).join(", ")})`);const yt=await this.profiler.event("node",ht.node.name,async()=>ht.op.impl(at,gt,ht.op.context));if(yt.length!==ht.node.outputs.length)throw new Error("the size of output does not match model definition.");yt.forEach((bt,xt)=>{const _t=ht.node.outputs[xt];if(this._values[_t])throw new Error(`output [${_t}] already has value: op:${ht.node.name}`);this._values[_t]=bt});const vt=new Set;yt.forEach((bt,xt)=>{const _t=ht.node.outputs[xt];for(const St of ut[_t].to){const wt=st[St];let Et=!0;for(const Tt of wt.inputs)if(!this._values[Tt]){Et=!1;break}Et&&vt.add(St)}}),ct.push(...vt)}const dt=[];for(let ft=0;ft<this.graph.getOutputIndices().length;ft++){const ht=this.graph.getOutputIndices()[ft],mt=this._values[ht];if(mt===void 0)throw new Error(`required output [${ht}] does not have value`);ht===0?await mt.getData():mt.data,dt.push(mt)}return tt.Logger.verbose("ExecPlan","disposing of inferenceHandler"),at.dispose(),dt})}}},7070:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Graph=void 0;const tt=et(1446),rt=et(7778),nt=et(9395),it=et(9162),at=et(2517);var lt=nt.onnxruntime.experimental.fbs;_.Graph={from:(ot,dt)=>new st(ot,dt)};class ct{constructor(dt){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,dt&&(this.type=at.ProtoUtil.tensorValueTypeFromProto(dt.type.tensorType))}get from(){return this._from}get to(){return this._to}}class ut{constructor(dt,ft){dt instanceof tt.onnx.NodeProto?(this.name=dt.name,this.opType=dt.opType,this.attributes=new rt.Attribute(dt.attribute)):dt instanceof lt.Node&&(this.name=ft??dt.name(),this.opType=dt.opType(),this.attributes=new rt.Attribute(at.ProtoUtil.tensorAttributesFromORTFormat(dt))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class st{constructor(dt,ft){if(!dt)throw new TypeError("graph is empty");this.buildGraph(dt),this.transformGraph(ft),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(dt){if(dt instanceof tt.onnx.GraphProto)this.buildGraphFromOnnxFormat(dt);else{if(!(dt instanceof lt.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(dt)}}buildGraphFromOnnxFormat(dt){const ft=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const ht=new Map;if(!dt.input)throw new Error("missing information in graph: input");const mt=[];for(const gt of dt.input){if(ft.has(gt.name))throw new Error(`duplicated input name: ${gt.name}`);const yt=this._allData.push(new ct(gt))-1;ft.set(gt.name,yt),mt.push(gt.name)}if(!dt.initializer)throw new Error("missing information in graph: initializer");for(const gt of dt.initializer){let yt=ft.get(gt.name);if(yt===void 0){const vt=new ct;vt.type={shape:{dims:at.ProtoUtil.tensorDimsFromProto(gt.dims)},tensorType:at.ProtoUtil.tensorDataTypeFromProto(gt.dataType)},yt=this._allData.push(vt)-1,ft.set(gt.name,yt)}this._allData[yt]._from=-1,this._allData[yt].tensor=it.Tensor.fromProto(gt)}for(let gt=0;gt<this._allData.length;gt++)this._allData[gt].tensor||(this._allInputIndices.push(gt),this._allInputNames.push(mt[gt]));if(!dt.output)throw new Error("missing information in graph: output");for(const gt of dt.output){if(ft.has(gt.name))throw new Error(`duplicated output name: ${gt.name}`);const yt=this._allData.push(new ct(gt))-1;ft.set(gt.name,yt),this._allOutputIndices.push(yt),this._allOutputNames.push(gt.name)}if(!dt.node)throw new Error("missing information in graph: node");for(const gt of dt.node){if(!gt.name)for(let vt=0;;vt++){const bt=`unnamed_${gt.opType}_${vt}`;if(!ht.has(bt)){gt.name=bt;break}}if(ht.has(gt.name))throw new Error(`duplicated node name: ${gt.name}`);const yt=this._nodes.push(new ut(gt))-1;ht.set(gt.name,yt)}for(let gt=0;gt<this._nodes.length;gt++){const yt=this._nodes[gt],vt=dt.node[gt];if(!vt.output)throw new Error(`missing output for node: ${vt.name}`);for(const bt of vt.output){let xt=ft.get(bt);if(xt===void 0&&(xt=this._allData.push(new ct)-1,ft.set(bt,xt)),yt.outputs.push(xt),this._allData[xt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${xt}`);if(this._allData[xt]._from=gt,vt.opType==="Constant"){if(!vt.attribute||vt.attribute.length!==1||!vt.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!vt.output||vt.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");yt.outputs.pop(),yt.executeNode=!1,this._allData[xt]._from=-1,this._allData[xt].tensor=it.Tensor.fromProto(vt.attribute[0].t)}}}for(let gt=0;gt<this._nodes.length;gt++){const yt=this._nodes[gt],vt=dt.node[gt];if(!vt.input)throw new Error(`missing input for node: ${vt.name}`);for(const bt of vt.input){const xt=ft.get(bt);if(xt===void 0){if(bt===""&&vt.input.length===3&&vt.opType==="Resize")continue;throw new Error(`unrecognized input '${bt}' for node: ${vt.name}`)}yt.inputs.push(xt),this._allData[xt]._to.push(gt)}}return!0}buildGraphFromOrtFormat(dt){var ft,ht,mt;const gt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const yt=new Map,vt=[];for(let bt=0;bt<dt.inputsLength();bt++){const xt=dt.inputs(bt);if(gt.has(xt))throw new Error(`duplicated input name: ${xt}`);for(let _t=0;_t<dt.nodeArgsLength();_t++)if(((ft=dt.nodeArgs(_t))===null||ft===void 0?void 0:ft.name())===xt){const St=new ct;if(((mt=(ht=dt.nodeArgs(_t))===null||ht===void 0?void 0:ht.type())===null||mt===void 0?void 0:mt.valueType())!==lt.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const wt=dt.nodeArgs(_t).type().value(new lt.TensorTypeAndShape),Et=at.ProtoUtil.tensorDataTypeFromProto(wt.elemType()),Tt=wt.shape(),Ct=[];for(let Pt=0;Pt<Tt.dimLength();Pt++)Ct.push(at.LongUtil.longToNumber(Tt.dim(Pt).value().dimValue()));St.type={shape:{dims:Ct},tensorType:Et};const It=this._allData.push(St)-1;gt.set(xt,It),vt.push(xt)}}for(let bt=0;bt<dt.initializersLength();bt++){const xt=dt.initializers(bt);let _t=gt.get(xt.name());if(_t===void 0){const St=new ct,wt=at.ProtoUtil.tensorDimsFromORTFormat(xt),Et=at.ProtoUtil.tensorDataTypeFromProto(xt.dataType());St.type={shape:{dims:wt},tensorType:Et},_t=this._allData.push(St)-1,gt.set(xt.name(),_t)}this._allData[_t]._from=-1,this._allData[_t].tensor=it.Tensor.fromOrtTensor(xt)}for(let bt=0;bt<this._allData.length;bt++)this._allData[bt].tensor||(this._allInputIndices.push(bt),this._allInputNames.push(vt[bt]));for(let bt=0;bt<dt.outputsLength();bt++){const xt=dt.outputs(bt);if(gt.has(xt))throw new Error(`duplicated output name: ${xt}`);const _t=this._allData.push(new ct)-1;gt.set(xt,_t),this._allOutputIndices.push(_t),this._allOutputNames.push(xt)}if(!dt.nodes)throw new Error("missing information in graph: node");for(let bt=0;bt<dt.nodesLength();bt++){const xt=dt.nodes(bt);let _t=xt.name();if(!_t)for(let wt=0;_t=`unnamed_${xt.opType()}_${wt}`,yt.has(_t);wt++);if(yt.has(_t))throw new Error(`duplicated node name: ${_t}`);const St=this._nodes.push(new ut(xt,_t))-1;yt.set(_t,St)}for(let bt=0;bt<this._nodes.length;bt++){const xt=this._nodes[bt],_t=dt.nodes(bt);if(_t==null)throw new Error(`No node exists at index ${bt}`);if((_t==null?void 0:_t.outputsLength())===0)throw new Error(`missing output for node: ${_t.name}`);for(let St=0;St<(_t==null?void 0:_t.outputsLength());St++){const wt=_t==null?void 0:_t.outputs(St);let Et=gt.get(wt);if(Et===void 0&&(Et=this._allData.push(new ct)-1,gt.set(wt,Et)),xt.outputs.push(Et),this._allData[Et]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${Et}`);if(this._allData[Et]._from=bt,_t.opType()==="Constant"){if(_t.attributesLength()!==1||!_t.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(_t.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");xt.outputs.pop(),xt.executeNode=!1,this._allData[Et]._from=-1,this._allData[Et].tensor=it.Tensor.fromOrtTensor(_t.attributes(0).t())}}}for(let bt=0;bt<this._nodes.length;bt++){const xt=this._nodes[bt],_t=dt.nodes(bt);if(_t.inputsLength()===0)throw new Error(`missing input for node: ${_t.name}`);for(let St=0;St<_t.inputsLength();St++){const wt=_t.inputs(St),Et=gt.get(wt);if(Et===void 0)throw new Error(`unrecognized input '${wt}' for node: ${_t.name()}`);xt.inputs.push(Et),this._allData[Et]._to.push(bt)}}}checkIsAcyclic(){const dt=new Set;this._allInputIndices.forEach(mt=>{this._allData[mt]._to.forEach(gt=>{dt.add(gt)})});const ft=Array.from(dt),ht=new Array(this._nodes.length).fill("white");for(;ft.length>0;){const mt=ft.pop();ht[mt]==="gray"?ht[mt]="black":(ft.push(mt),ht[mt]="gray",this._nodes[mt].outputs.forEach(gt=>{const yt=this._allData[gt];if(yt.tensor!==void 0)throw new Error("node outputs should not be initialized");if(yt._from!==mt)throw new Error("from property of the Value object doesn't match index of Node being processed");yt._to.forEach(vt=>{if(ht[vt]==="gray")throw new Error("model graph is cyclic");ht[vt]==="white"&&ft.push(vt)})}))}}transformGraph(dt){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),dt&&dt.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let dt=0;for(let ft=0;ft<this._nodes.length;ft++)this._nodes[ft].executeNode?dt>0&&(this._nodes[ft].inputs.forEach(ht=>{const mt=this._allData[ht]._to.indexOf(ft+dt);mt!==-1&&(this._allData[ht]._to[mt]=ft)}),this._nodes[ft].outputs.forEach(ht=>{this._allData[ht]._from&&this._allData[ht]._from===ft+dt&&(this._allData[ht]._from=ft)})):(dt++,this._nodes[ft].outputs.forEach(ht=>{this._allData[ht]._from=-2}),this._nodes.splice(ft,1),ft--);dt=0;for(let ft=0;ft<this._allData.length;ft++)if(this._allData[ft].from!==-2||this._allOutputIndices.indexOf(ft+dt)!==-1){if(dt>0){let ht=-1;this._allData[ft].from!==void 0&&this._allData[ft].from!==-1?(ht=this._nodes[this._allData[ft].from].outputs.indexOf(ft+dt),ht!==-1&&(this._nodes[this._allData[ft].from].outputs[ht]=ft)):(ht=this._allInputIndices.indexOf(ft+dt),ht!==-1&&(this._allInputIndices[ht]=ft)),this._allData[ft].to.forEach(mt=>{ht=this._nodes[mt].inputs.indexOf(ft+dt),ht!==-1&&(this._nodes[mt].inputs[ht]=ft)}),this._allData[ft].to.length===0&&(ht=this._allOutputIndices.indexOf(ft+dt),ht!==-1&&(this._allOutputIndices[ht]=ft))}}else dt++,this._allData.splice(ft,1),ft--}deleteNode(dt){const ft=this._nodes[dt];if(ft.outputs.length>1){for(let bt=1;bt<ft.outputs.length;bt++)if(this._allData[ft.outputs[bt]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}ft.executeNode=!1;const ht=ft.inputs[0],mt=ft.outputs[0],gt=this._allData[mt].to,yt=this._allData[ht].to.indexOf(dt);if(yt===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[ht].to.splice(yt,1),this._allData[mt]._to=[];const vt=this._allOutputIndices.indexOf(mt);if(vt!==-1&&(this._allOutputIndices[vt]=ht),gt&&gt.length>0)for(const bt of gt){const xt=this._nodes[bt].inputs.indexOf(mt);if(xt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[bt].inputs[xt]=ht,this._allData[ht].to.push(bt)}}removeAllDropoutNodes(){let dt=0;for(const ft of this._nodes){if(ft.opType==="Dropout"){if(ft.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(ft.outputs.length!==1&&ft.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(ft.outputs.length===2&&this._allData[ft.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(dt)}dt++}}removeAllIdentityNodes(){let dt=0;for(const ft of this._nodes)ft.opType==="Identity"&&this.deleteNode(dt),dt++}isActivation(dt){switch(dt.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const dt of this._nodes)if(dt.opType==="Conv"){const ft=this._allData[dt.outputs[0]]._to;if(ft.length===1&&this.isActivation(this._nodes[ft[0]])){const ht=this._nodes[ft[0]];if(ht.opType==="Clip")if(ht.inputs.length===1)try{dt.attributes.set("activation_params","floats",[ht.attributes.getFloat("min"),ht.attributes.getFloat("max")])}catch{dt.attributes.set("activation_params","floats",[at.MIN_CLIP,at.MAX_CLIP])}else{if(!(ht.inputs.length>=3&&this._allData[ht.inputs[1]].tensor!==void 0&&this._allData[ht.inputs[2]].tensor!==void 0))continue;dt.attributes.set("activation_params","floats",[this._allData[ht.inputs[1]].tensor.floatData[0],this._allData[ht.inputs[2]].tensor.floatData[0]])}dt.attributes.set("activation","string",ht.opType),this.deleteNode(ft[0])}}}}},6231:(_e,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.now=_.Profiler=_.Logger=void 0;const et={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},tt={none:new class{log(ut,st,ot){}},console:new class{log(ut,st,ot){console.log(`${this.color(ut)} ${ot?"\x1B[35m"+ot+"\x1B[0m ":""}${st}`)}color(ut){switch(ut){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${ut}`)}}}},rt={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let nt={"":rt};function it(ut,st,ot,dt){if(st===void 0)return ft=ut,{verbose:it.verbose.bind(null,ft),info:it.info.bind(null,ft),warning:it.warning.bind(null,ft),error:it.error.bind(null,ft),fatal:it.fatal.bind(null,ft)};if(ot===void 0)at(ut,st);else if(typeof ot=="number"&&dt===void 0)at(ut,st);else if(typeof ot=="string"&&dt===void 0)at(ut,ot,0,st);else{if(typeof ot!="string"||typeof dt!="number")throw new TypeError("input is valid");at(ut,ot,0,st)}var ft}function at(ut,st,ot,dt){const ft=nt[dt||""]||nt[""];et[ut]<et[ft.minimalSeverity]||(ft.logDateTime&&(st=`${new Date().toISOString()}|${st}`),ft.logSourceLocation,tt[ft.provider].log(ut,st,dt))}(function(ut){function st(dt){nt={},ot("",dt||{})}function ot(dt,ft){if(dt==="*")st(ft);else{const ht=nt[dt]||rt;nt[dt]={provider:ft.provider||ht.provider,minimalSeverity:ft.minimalSeverity||ht.minimalSeverity,logDateTime:ft.logDateTime===void 0?ht.logDateTime:ft.logDateTime,logSourceLocation:ft.logSourceLocation===void 0?ht.logSourceLocation:ft.logSourceLocation}}}ut.verbose=function(dt,ft){ut("verbose",dt,ft)},ut.info=function(dt,ft){ut("info",dt,ft)},ut.warning=function(dt,ft){ut("warning",dt,ft)},ut.error=function(dt,ft){ut("error",dt,ft)},ut.fatal=function(dt,ft){ut("fatal",dt,ft)},ut.reset=st,ut.set=ot,ut.setWithEnv=function(dt){const ft={};dt.logLevel&&(ft.minimalSeverity=dt.logLevel),ot("",ft)}})(it),_.Logger=it;class lt{constructor(st,ot,dt,ft,ht,mt){this.category=st,this.name=ot,this.startTime=dt,this.endCallback=ft,this.timer=ht,this.ctx=mt}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class ct{constructor(st,ot,dt,ft){this.category=st,this.name=ot,this.startTime=dt,this.endTime=ft}}_.Profiler=class{static create(ut){return ut===void 0?new this:new this(ut.maxNumberEvents,ut.flushBatchSize,ut.flushIntervalInMilliseconds)}constructor(ut,st,ot){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=ut===void 0?1e4:ut,this._flushBatchSize=st===void 0?10:st,this._flushIntervalInMilliseconds=ot===void 0?5e3:ot}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,_.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(ut,st,ot,dt){const ft=this._started?this.begin(ut,st,dt):void 0;let ht=!1;const mt=ot();if(mt&&typeof mt.then=="function")return ht=!0,new Promise((gt,yt)=>{mt.then(async vt=>{ft&&await ft.end(),gt(vt)},async vt=>{ft&&await ft.end(),yt(vt)})});if(!ht&&ft){const gt=ft.end();if(gt&&typeof gt.then=="function")return new Promise((yt,vt)=>{gt.then(()=>{yt(mt)},bt=>{vt(bt)})})}return mt}begin(ut,st,ot){if(!this._started)throw new Error("profiler is not started yet");if(ot===void 0){const dt=(0,_.now)();return this.flush(dt),new lt(ut,st,dt,ft=>this.endSync(ft))}{const dt=ot.beginTimer();return new lt(ut,st,0,async ft=>this.end(ft),dt,ot)}}async end(ut){const st=await ut.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ct(ut.category,ut.name,ut.startTime,st)),this.flush(st))}endSync(ut){const st=(0,_.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ct(ut.category,ut.name,ut.startTime,st)),this.flush(st))}logOneEvent(ut){_.Logger.verbose(`Profiler.${ut.category}`,`${(ut.endTime-ut.startTime).toFixed(2)}ms on event '${ut.name}' at ${ut.endTime.toFixed(2)}`)}flush(ut){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||ut-this._flushTime>=this._flushIntervalInMilliseconds){for(const st=this._flushPointer;this._flushPointer<st+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,_.now)()}}get started(){return this._started}},_.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Model=void 0;const tt=et(5686),rt=et(1446),nt=et(7070),it=et(9395),at=et(2517);var lt=it.onnxruntime.experimental.fbs;_.Model=class{constructor(){}load(ct,ut,st){if(!st)try{return void this.loadFromOnnxFormat(ct,ut)}catch(ot){if(st!==void 0)throw ot}this.loadFromOrtFormat(ct,ut)}loadFromOnnxFormat(ct,ut){const st=rt.onnx.ModelProto.decode(ct);if(at.LongUtil.longToNumber(st.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=st.opsetImport.map(ot=>({domain:ot.domain,version:at.LongUtil.longToNumber(ot.version)})),this._graph=nt.Graph.from(st.graph,ut)}loadFromOrtFormat(ct,ut){const st=new tt.flatbuffers.ByteBuffer(ct),ot=lt.InferenceSession.getRootAsInferenceSession(st).model();if(at.LongUtil.longToNumber(ot.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let dt=0;dt<ot.opsetImportLength();dt++){const ft=ot.opsetImport(dt);this._opsets.push({domain:ft==null?void 0:ft.domain(),version:at.LongUtil.longToNumber(ft.version())})}this._graph=nt.Graph.from(ot.graph(),ut)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(_e,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.FLOAT_TYPES=_.INT_TYPES=_.NUMBER_TYPES=void 0,_.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],_.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],_.FLOAT_TYPES=["float32","float64"]},1047:(_e,_)=>{function et(tt,rt){if(rt.endsWith("+")){const nt=Number.parseInt(rt.substring(0,rt.length-1),10);return!isNaN(nt)&&nt<=tt}if(rt.split("-").length===2){const nt=rt.split("-"),it=Number.parseInt(nt[0],10),at=Number.parseInt(nt[1],10);return!isNaN(it)&&!isNaN(at)&&it<=tt&&tt<=at}return Number.parseInt(rt,10)===tt}Object.defineProperty(_,"__esModule",{value:!0}),_.resolveOperator=void 0,_.resolveOperator=function(tt,rt,nt){for(const it of nt){const at=it[0],lt=it[1],ct=it[2],ut=it[3],st=it[4];if(tt.opType===at){for(const ot of rt)if((ot.domain===lt||ot.domain==="ai.onnx"&&lt==="")&&et(ot.version,ct))return{opImpl:ut,opInit:st}}}throw new TypeError(`cannot resolve operator '${tt.opType}' with opsets: ${rt.map(it=>`${it.domain||"ai.onnx"} v${it.version}`).join(", ")}`)}},9395:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.onnxruntime=void 0;const tt=et(5686);var rt,nt;rt=_.onnxruntime||(_.onnxruntime={}),function(it){(function(at){at[at.UNDEFINED=0]="UNDEFINED",at[at.FLOAT=1]="FLOAT",at[at.INT=2]="INT",at[at.STRING=3]="STRING",at[at.TENSOR=4]="TENSOR",at[at.GRAPH=5]="GRAPH",at[at.FLOATS=6]="FLOATS",at[at.INTS=7]="INTS",at[at.STRINGS=8]="STRINGS",at[at.TENSORS=9]="TENSORS",at[at.GRAPHS=10]="GRAPHS",at[at.SPARSE_TENSOR=11]="SPARSE_TENSOR",at[at.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(it.AttributeType||(it.AttributeType={}))}((nt=rt.experimental||(rt.experimental={})).fbs||(nt.fbs={})),function(it){(function(at){(function(lt){(function(ct){ct[ct.UNKNOWN=0]="UNKNOWN",ct[ct.VALUE=1]="VALUE",ct[ct.PARAM=2]="PARAM"})(lt.DimensionValueType||(lt.DimensionValueType={}))})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){(function(ct){ct[ct.UNDEFINED=0]="UNDEFINED",ct[ct.FLOAT=1]="FLOAT",ct[ct.UINT8=2]="UINT8",ct[ct.INT8=3]="INT8",ct[ct.UINT16=4]="UINT16",ct[ct.INT16=5]="INT16",ct[ct.INT32=6]="INT32",ct[ct.INT64=7]="INT64",ct[ct.STRING=8]="STRING",ct[ct.BOOL=9]="BOOL",ct[ct.FLOAT16=10]="FLOAT16",ct[ct.DOUBLE=11]="DOUBLE",ct[ct.UINT32=12]="UINT32",ct[ct.UINT64=13]="UINT64",ct[ct.COMPLEX64=14]="COMPLEX64",ct[ct.COMPLEX128=15]="COMPLEX128",ct[ct.BFLOAT16=16]="BFLOAT16"})(lt.TensorDataType||(lt.TensorDataType={}))})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){(function(ct){ct[ct.Primitive=0]="Primitive",ct[ct.Fused=1]="Fused"})(lt.NodeType||(lt.NodeType={}))})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){(function(ct){ct[ct.NONE=0]="NONE",ct[ct.tensor_type=1]="tensor_type",ct[ct.sequence_type=2]="sequence_type",ct[ct.map_type=3]="map_type"})(lt.TypeInfoValue||(lt.TypeInfoValue={}))})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsShape(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsShape(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}dim(st,ot){let dt=this.bb.__offset(this.bb_pos,4);return dt?(ot||new it.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}dimLength(){let st=this.bb.__offset(this.bb_pos,4);return st?this.bb.__vector_len(this.bb_pos+st):0}static startShape(st){st.startObject(1)}static addDim(st,ot){st.addFieldOffset(0,ot,0)}static createDimVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startDimVector(st,ot){st.startVector(4,ot,4)}static endShape(st){return st.endObject()}static createShape(st,ot){return ct.startShape(st),ct.addDim(st,ot),ct.endShape(st)}}lt.Shape=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsDimension(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsDimension(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}value(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?(st||new it.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}denotation(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__string(this.bb_pos+ot,st):null}static startDimension(st){st.startObject(2)}static addValue(st,ot){st.addFieldOffset(0,ot,0)}static addDenotation(st,ot){st.addFieldOffset(1,ot,0)}static endDimension(st){return st.endObject()}static createDimension(st,ot,dt){return ct.startDimension(st),ct.addValue(st,ot),ct.addDenotation(st,dt),ct.endDimension(st)}}lt.Dimension=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsDimensionValue(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsDimensionValue(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}dimType(){let st=this.bb.__offset(this.bb_pos,4);return st?this.bb.readInt8(this.bb_pos+st):it.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let st=this.bb.__offset(this.bb_pos,6);return st?this.bb.readInt64(this.bb_pos+st):this.bb.createLong(0,0)}dimParam(st){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.__string(this.bb_pos+ot,st):null}static startDimensionValue(st){st.startObject(3)}static addDimType(st,ot){st.addFieldInt8(0,ot,it.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(st,ot){st.addFieldInt64(1,ot,st.createLong(0,0))}static addDimParam(st,ot){st.addFieldOffset(2,ot,0)}static endDimensionValue(st){return st.endObject()}static createDimensionValue(st,ot,dt,ft){return ct.startDimensionValue(st),ct.addDimType(st,ot),ct.addDimValue(st,dt),ct.addDimParam(st,ft),ct.endDimensionValue(st)}}lt.DimensionValue=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsTensorTypeAndShape(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsTensorTypeAndShape(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}elemType(){let st=this.bb.__offset(this.bb_pos,4);return st?this.bb.readInt32(this.bb_pos+st):it.experimental.fbs.TensorDataType.UNDEFINED}shape(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?(st||new it.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}static startTensorTypeAndShape(st){st.startObject(2)}static addElemType(st,ot){st.addFieldInt32(0,ot,it.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(st,ot){st.addFieldOffset(1,ot,0)}static endTensorTypeAndShape(st){return st.endObject()}static createTensorTypeAndShape(st,ot,dt){return ct.startTensorTypeAndShape(st),ct.addElemType(st,ot),ct.addShape(st,dt),ct.endTensorTypeAndShape(st)}}lt.TensorTypeAndShape=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsMapType(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsMapType(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}keyType(){let st=this.bb.__offset(this.bb_pos,4);return st?this.bb.readInt32(this.bb_pos+st):it.experimental.fbs.TensorDataType.UNDEFINED}valueType(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?(st||new it.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}static startMapType(st){st.startObject(2)}static addKeyType(st,ot){st.addFieldInt32(0,ot,it.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(st,ot){st.addFieldOffset(1,ot,0)}static endMapType(st){return st.endObject()}static createMapType(st,ot,dt){return ct.startMapType(st),ct.addKeyType(st,ot),ct.addValueType(st,dt),ct.endMapType(st)}}lt.MapType=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsSequenceType(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsSequenceType(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}elemType(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?(st||new it.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}static startSequenceType(st){st.startObject(1)}static addElemType(st,ot){st.addFieldOffset(0,ot,0)}static endSequenceType(st){return st.endObject()}static createSequenceType(st,ot){return ct.startSequenceType(st),ct.addElemType(st,ot),ct.endSequenceType(st)}}lt.SequenceType=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(at.fbs||(at.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(lt,ct){return this.bb_pos=lt,this.bb=ct,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(lt,ct,ut,st){return lt.prep(4,12),lt.writeInt32(st),lt.writeInt32(ut),lt.writeInt32(ct),lt.offset()}}})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsNodeEdge(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsNodeEdge(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}nodeIndex(){let st=this.bb.__offset(this.bb_pos,4);return st?this.bb.readUint32(this.bb_pos+st):0}inputEdges(st,ot){let dt=this.bb.__offset(this.bb_pos,6);return dt?(ot||new it.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+dt)+12*st,this.bb):null}inputEdgesLength(){let st=this.bb.__offset(this.bb_pos,6);return st?this.bb.__vector_len(this.bb_pos+st):0}outputEdges(st,ot){let dt=this.bb.__offset(this.bb_pos,8);return dt?(ot||new it.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+dt)+12*st,this.bb):null}outputEdgesLength(){let st=this.bb.__offset(this.bb_pos,8);return st?this.bb.__vector_len(this.bb_pos+st):0}static startNodeEdge(st){st.startObject(3)}static addNodeIndex(st,ot){st.addFieldInt32(0,ot,0)}static addInputEdges(st,ot){st.addFieldOffset(1,ot,0)}static startInputEdgesVector(st,ot){st.startVector(12,ot,4)}static addOutputEdges(st,ot){st.addFieldOffset(2,ot,0)}static startOutputEdgesVector(st,ot){st.startVector(12,ot,4)}static endNodeEdge(st){return st.endObject()}static createNodeEdge(st,ot,dt,ft){return ct.startNodeEdge(st),ct.addNodeIndex(st,ot),ct.addInputEdges(st,dt),ct.addOutputEdges(st,ft),ct.endNodeEdge(st)}}lt.NodeEdge=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsNode(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsNode(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}name(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__string(this.bb_pos+ot,st):null}docString(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__string(this.bb_pos+ot,st):null}domain(st){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.__string(this.bb_pos+ot,st):null}sinceVersion(){let st=this.bb.__offset(this.bb_pos,10);return st?this.bb.readInt32(this.bb_pos+st):0}index(){let st=this.bb.__offset(this.bb_pos,12);return st?this.bb.readUint32(this.bb_pos+st):0}opType(st){let ot=this.bb.__offset(this.bb_pos,14);return ot?this.bb.__string(this.bb_pos+ot,st):null}type(){let st=this.bb.__offset(this.bb_pos,16);return st?this.bb.readInt32(this.bb_pos+st):it.experimental.fbs.NodeType.Primitive}executionProviderType(st){let ot=this.bb.__offset(this.bb_pos,18);return ot?this.bb.__string(this.bb_pos+ot,st):null}inputs(st,ot){let dt=this.bb.__offset(this.bb_pos,20);return dt?this.bb.__string(this.bb.__vector(this.bb_pos+dt)+4*st,ot):null}inputsLength(){let st=this.bb.__offset(this.bb_pos,20);return st?this.bb.__vector_len(this.bb_pos+st):0}outputs(st,ot){let dt=this.bb.__offset(this.bb_pos,22);return dt?this.bb.__string(this.bb.__vector(this.bb_pos+dt)+4*st,ot):null}outputsLength(){let st=this.bb.__offset(this.bb_pos,22);return st?this.bb.__vector_len(this.bb_pos+st):0}attributes(st,ot){let dt=this.bb.__offset(this.bb_pos,24);return dt?(ot||new it.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}attributesLength(){let st=this.bb.__offset(this.bb_pos,24);return st?this.bb.__vector_len(this.bb_pos+st):0}inputArgCounts(st){let ot=this.bb.__offset(this.bb_pos,26);return ot?this.bb.readInt32(this.bb.__vector(this.bb_pos+ot)+4*st):0}inputArgCountsLength(){let st=this.bb.__offset(this.bb_pos,26);return st?this.bb.__vector_len(this.bb_pos+st):0}inputArgCountsArray(){let st=this.bb.__offset(this.bb_pos,26);return st?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+st),this.bb.__vector_len(this.bb_pos+st)):null}implicitInputs(st,ot){let dt=this.bb.__offset(this.bb_pos,28);return dt?this.bb.__string(this.bb.__vector(this.bb_pos+dt)+4*st,ot):null}implicitInputsLength(){let st=this.bb.__offset(this.bb_pos,28);return st?this.bb.__vector_len(this.bb_pos+st):0}static startNode(st){st.startObject(13)}static addName(st,ot){st.addFieldOffset(0,ot,0)}static addDocString(st,ot){st.addFieldOffset(1,ot,0)}static addDomain(st,ot){st.addFieldOffset(2,ot,0)}static addSinceVersion(st,ot){st.addFieldInt32(3,ot,0)}static addIndex(st,ot){st.addFieldInt32(4,ot,0)}static addOpType(st,ot){st.addFieldOffset(5,ot,0)}static addType(st,ot){st.addFieldInt32(6,ot,it.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(st,ot){st.addFieldOffset(7,ot,0)}static addInputs(st,ot){st.addFieldOffset(8,ot,0)}static createInputsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startInputsVector(st,ot){st.startVector(4,ot,4)}static addOutputs(st,ot){st.addFieldOffset(9,ot,0)}static createOutputsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startOutputsVector(st,ot){st.startVector(4,ot,4)}static addAttributes(st,ot){st.addFieldOffset(10,ot,0)}static createAttributesVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startAttributesVector(st,ot){st.startVector(4,ot,4)}static addInputArgCounts(st,ot){st.addFieldOffset(11,ot,0)}static createInputArgCountsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addInt32(ot[dt]);return st.endVector()}static startInputArgCountsVector(st,ot){st.startVector(4,ot,4)}static addImplicitInputs(st,ot){st.addFieldOffset(12,ot,0)}static createImplicitInputsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startImplicitInputsVector(st,ot){st.startVector(4,ot,4)}static endNode(st){return st.endObject()}static createNode(st,ot,dt,ft,ht,mt,gt,yt,vt,bt,xt,_t,St,wt){return ct.startNode(st),ct.addName(st,ot),ct.addDocString(st,dt),ct.addDomain(st,ft),ct.addSinceVersion(st,ht),ct.addIndex(st,mt),ct.addOpType(st,gt),ct.addType(st,yt),ct.addExecutionProviderType(st,vt),ct.addInputs(st,bt),ct.addOutputs(st,xt),ct.addAttributes(st,_t),ct.addInputArgCounts(st,St),ct.addImplicitInputs(st,wt),ct.endNode(st)}}lt.Node=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsValueInfo(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsValueInfo(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}name(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__string(this.bb_pos+ot,st):null}docString(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__string(this.bb_pos+ot,st):null}type(st){let ot=this.bb.__offset(this.bb_pos,8);return ot?(st||new it.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}static startValueInfo(st){st.startObject(3)}static addName(st,ot){st.addFieldOffset(0,ot,0)}static addDocString(st,ot){st.addFieldOffset(1,ot,0)}static addType(st,ot){st.addFieldOffset(2,ot,0)}static endValueInfo(st){return st.endObject()}static createValueInfo(st,ot,dt,ft){return ct.startValueInfo(st),ct.addName(st,ot),ct.addDocString(st,dt),ct.addType(st,ft),ct.endValueInfo(st)}}lt.ValueInfo=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsTypeInfo(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsTypeInfo(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}denotation(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__string(this.bb_pos+ot,st):null}valueType(){let st=this.bb.__offset(this.bb_pos,6);return st?this.bb.readUint8(this.bb_pos+st):it.experimental.fbs.TypeInfoValue.NONE}value(st){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.__union(st,this.bb_pos+ot):null}static startTypeInfo(st){st.startObject(3)}static addDenotation(st,ot){st.addFieldOffset(0,ot,0)}static addValueType(st,ot){st.addFieldInt8(1,ot,it.experimental.fbs.TypeInfoValue.NONE)}static addValue(st,ot){st.addFieldOffset(2,ot,0)}static endTypeInfo(st){return st.endObject()}static createTypeInfo(st,ot,dt,ft){return ct.startTypeInfo(st),ct.addDenotation(st,ot),ct.addValueType(st,dt),ct.addValue(st,ft),ct.endTypeInfo(st)}}lt.TypeInfo=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsOperatorSetId(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsOperatorSetId(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}domain(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__string(this.bb_pos+ot,st):null}version(){let st=this.bb.__offset(this.bb_pos,6);return st?this.bb.readInt64(this.bb_pos+st):this.bb.createLong(0,0)}static startOperatorSetId(st){st.startObject(2)}static addDomain(st,ot){st.addFieldOffset(0,ot,0)}static addVersion(st,ot){st.addFieldInt64(1,ot,st.createLong(0,0))}static endOperatorSetId(st){return st.endObject()}static createOperatorSetId(st,ot,dt){return ct.startOperatorSetId(st),ct.addDomain(st,ot),ct.addVersion(st,dt),ct.endOperatorSetId(st)}}lt.OperatorSetId=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsTensor(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsTensor(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}name(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__string(this.bb_pos+ot,st):null}docString(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__string(this.bb_pos+ot,st):null}dims(st){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.readInt64(this.bb.__vector(this.bb_pos+ot)+8*st):this.bb.createLong(0,0)}dimsLength(){let st=this.bb.__offset(this.bb_pos,8);return st?this.bb.__vector_len(this.bb_pos+st):0}dataType(){let st=this.bb.__offset(this.bb_pos,10);return st?this.bb.readInt32(this.bb_pos+st):it.experimental.fbs.TensorDataType.UNDEFINED}rawData(st){let ot=this.bb.__offset(this.bb_pos,12);return ot?this.bb.readUint8(this.bb.__vector(this.bb_pos+ot)+st):0}rawDataLength(){let st=this.bb.__offset(this.bb_pos,12);return st?this.bb.__vector_len(this.bb_pos+st):0}rawDataArray(){let st=this.bb.__offset(this.bb_pos,12);return st?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+st),this.bb.__vector_len(this.bb_pos+st)):null}stringData(st,ot){let dt=this.bb.__offset(this.bb_pos,14);return dt?this.bb.__string(this.bb.__vector(this.bb_pos+dt)+4*st,ot):null}stringDataLength(){let st=this.bb.__offset(this.bb_pos,14);return st?this.bb.__vector_len(this.bb_pos+st):0}static startTensor(st){st.startObject(6)}static addName(st,ot){st.addFieldOffset(0,ot,0)}static addDocString(st,ot){st.addFieldOffset(1,ot,0)}static addDims(st,ot){st.addFieldOffset(2,ot,0)}static createDimsVector(st,ot){st.startVector(8,ot.length,8);for(let dt=ot.length-1;dt>=0;dt--)st.addInt64(ot[dt]);return st.endVector()}static startDimsVector(st,ot){st.startVector(8,ot,8)}static addDataType(st,ot){st.addFieldInt32(3,ot,it.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(st,ot){st.addFieldOffset(4,ot,0)}static createRawDataVector(st,ot){st.startVector(1,ot.length,1);for(let dt=ot.length-1;dt>=0;dt--)st.addInt8(ot[dt]);return st.endVector()}static startRawDataVector(st,ot){st.startVector(1,ot,1)}static addStringData(st,ot){st.addFieldOffset(5,ot,0)}static createStringDataVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startStringDataVector(st,ot){st.startVector(4,ot,4)}static endTensor(st){return st.endObject()}static createTensor(st,ot,dt,ft,ht,mt,gt){return ct.startTensor(st),ct.addName(st,ot),ct.addDocString(st,dt),ct.addDims(st,ft),ct.addDataType(st,ht),ct.addRawData(st,mt),ct.addStringData(st,gt),ct.endTensor(st)}}lt.Tensor=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsSparseTensor(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsSparseTensor(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}values(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?(st||new it.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}indices(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?(st||new it.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}dims(st){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.readInt64(this.bb.__vector(this.bb_pos+ot)+8*st):this.bb.createLong(0,0)}dimsLength(){let st=this.bb.__offset(this.bb_pos,8);return st?this.bb.__vector_len(this.bb_pos+st):0}static startSparseTensor(st){st.startObject(3)}static addValues(st,ot){st.addFieldOffset(0,ot,0)}static addIndices(st,ot){st.addFieldOffset(1,ot,0)}static addDims(st,ot){st.addFieldOffset(2,ot,0)}static createDimsVector(st,ot){st.startVector(8,ot.length,8);for(let dt=ot.length-1;dt>=0;dt--)st.addInt64(ot[dt]);return st.endVector()}static startDimsVector(st,ot){st.startVector(8,ot,8)}static endSparseTensor(st){return st.endObject()}static createSparseTensor(st,ot,dt,ft){return ct.startSparseTensor(st),ct.addValues(st,ot),ct.addIndices(st,dt),ct.addDims(st,ft),ct.endSparseTensor(st)}}lt.SparseTensor=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsAttribute(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsAttribute(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}name(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__string(this.bb_pos+ot,st):null}docString(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.__string(this.bb_pos+ot,st):null}type(){let st=this.bb.__offset(this.bb_pos,8);return st?this.bb.readInt32(this.bb_pos+st):it.experimental.fbs.AttributeType.UNDEFINED}f(){let st=this.bb.__offset(this.bb_pos,10);return st?this.bb.readFloat32(this.bb_pos+st):0}i(){let st=this.bb.__offset(this.bb_pos,12);return st?this.bb.readInt64(this.bb_pos+st):this.bb.createLong(0,0)}s(st){let ot=this.bb.__offset(this.bb_pos,14);return ot?this.bb.__string(this.bb_pos+ot,st):null}t(st){let ot=this.bb.__offset(this.bb_pos,16);return ot?(st||new it.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}g(st){let ot=this.bb.__offset(this.bb_pos,18);return ot?(st||new it.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}floats(st){let ot=this.bb.__offset(this.bb_pos,20);return ot?this.bb.readFloat32(this.bb.__vector(this.bb_pos+ot)+4*st):0}floatsLength(){let st=this.bb.__offset(this.bb_pos,20);return st?this.bb.__vector_len(this.bb_pos+st):0}floatsArray(){let st=this.bb.__offset(this.bb_pos,20);return st?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+st),this.bb.__vector_len(this.bb_pos+st)):null}ints(st){let ot=this.bb.__offset(this.bb_pos,22);return ot?this.bb.readInt64(this.bb.__vector(this.bb_pos+ot)+8*st):this.bb.createLong(0,0)}intsLength(){let st=this.bb.__offset(this.bb_pos,22);return st?this.bb.__vector_len(this.bb_pos+st):0}strings(st,ot){let dt=this.bb.__offset(this.bb_pos,24);return dt?this.bb.__string(this.bb.__vector(this.bb_pos+dt)+4*st,ot):null}stringsLength(){let st=this.bb.__offset(this.bb_pos,24);return st?this.bb.__vector_len(this.bb_pos+st):0}tensors(st,ot){let dt=this.bb.__offset(this.bb_pos,26);return dt?(ot||new it.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}tensorsLength(){let st=this.bb.__offset(this.bb_pos,26);return st?this.bb.__vector_len(this.bb_pos+st):0}graphs(st,ot){let dt=this.bb.__offset(this.bb_pos,28);return dt?(ot||new it.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}graphsLength(){let st=this.bb.__offset(this.bb_pos,28);return st?this.bb.__vector_len(this.bb_pos+st):0}static startAttribute(st){st.startObject(13)}static addName(st,ot){st.addFieldOffset(0,ot,0)}static addDocString(st,ot){st.addFieldOffset(1,ot,0)}static addType(st,ot){st.addFieldInt32(2,ot,it.experimental.fbs.AttributeType.UNDEFINED)}static addF(st,ot){st.addFieldFloat32(3,ot,0)}static addI(st,ot){st.addFieldInt64(4,ot,st.createLong(0,0))}static addS(st,ot){st.addFieldOffset(5,ot,0)}static addT(st,ot){st.addFieldOffset(6,ot,0)}static addG(st,ot){st.addFieldOffset(7,ot,0)}static addFloats(st,ot){st.addFieldOffset(8,ot,0)}static createFloatsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addFloat32(ot[dt]);return st.endVector()}static startFloatsVector(st,ot){st.startVector(4,ot,4)}static addInts(st,ot){st.addFieldOffset(9,ot,0)}static createIntsVector(st,ot){st.startVector(8,ot.length,8);for(let dt=ot.length-1;dt>=0;dt--)st.addInt64(ot[dt]);return st.endVector()}static startIntsVector(st,ot){st.startVector(8,ot,8)}static addStrings(st,ot){st.addFieldOffset(10,ot,0)}static createStringsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startStringsVector(st,ot){st.startVector(4,ot,4)}static addTensors(st,ot){st.addFieldOffset(11,ot,0)}static createTensorsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startTensorsVector(st,ot){st.startVector(4,ot,4)}static addGraphs(st,ot){st.addFieldOffset(12,ot,0)}static createGraphsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startGraphsVector(st,ot){st.startVector(4,ot,4)}static endAttribute(st){return st.endObject()}static createAttribute(st,ot,dt,ft,ht,mt,gt,yt,vt,bt,xt,_t,St,wt){return ct.startAttribute(st),ct.addName(st,ot),ct.addDocString(st,dt),ct.addType(st,ft),ct.addF(st,ht),ct.addI(st,mt),ct.addS(st,gt),ct.addT(st,yt),ct.addG(st,vt),ct.addFloats(st,bt),ct.addInts(st,xt),ct.addStrings(st,_t),ct.addTensors(st,St),ct.addGraphs(st,wt),ct.endAttribute(st)}}lt.Attribute=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsGraph(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsGraph(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}initializers(st,ot){let dt=this.bb.__offset(this.bb_pos,4);return dt?(ot||new it.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}initializersLength(){let st=this.bb.__offset(this.bb_pos,4);return st?this.bb.__vector_len(this.bb_pos+st):0}nodeArgs(st,ot){let dt=this.bb.__offset(this.bb_pos,6);return dt?(ot||new it.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}nodeArgsLength(){let st=this.bb.__offset(this.bb_pos,6);return st?this.bb.__vector_len(this.bb_pos+st):0}nodes(st,ot){let dt=this.bb.__offset(this.bb_pos,8);return dt?(ot||new it.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}nodesLength(){let st=this.bb.__offset(this.bb_pos,8);return st?this.bb.__vector_len(this.bb_pos+st):0}maxNodeIndex(){let st=this.bb.__offset(this.bb_pos,10);return st?this.bb.readUint32(this.bb_pos+st):0}nodeEdges(st,ot){let dt=this.bb.__offset(this.bb_pos,12);return dt?(ot||new it.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}nodeEdgesLength(){let st=this.bb.__offset(this.bb_pos,12);return st?this.bb.__vector_len(this.bb_pos+st):0}inputs(st,ot){let dt=this.bb.__offset(this.bb_pos,14);return dt?this.bb.__string(this.bb.__vector(this.bb_pos+dt)+4*st,ot):null}inputsLength(){let st=this.bb.__offset(this.bb_pos,14);return st?this.bb.__vector_len(this.bb_pos+st):0}outputs(st,ot){let dt=this.bb.__offset(this.bb_pos,16);return dt?this.bb.__string(this.bb.__vector(this.bb_pos+dt)+4*st,ot):null}outputsLength(){let st=this.bb.__offset(this.bb_pos,16);return st?this.bb.__vector_len(this.bb_pos+st):0}sparseInitializers(st,ot){let dt=this.bb.__offset(this.bb_pos,18);return dt?(ot||new it.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}sparseInitializersLength(){let st=this.bb.__offset(this.bb_pos,18);return st?this.bb.__vector_len(this.bb_pos+st):0}static startGraph(st){st.startObject(8)}static addInitializers(st,ot){st.addFieldOffset(0,ot,0)}static createInitializersVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startInitializersVector(st,ot){st.startVector(4,ot,4)}static addNodeArgs(st,ot){st.addFieldOffset(1,ot,0)}static createNodeArgsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startNodeArgsVector(st,ot){st.startVector(4,ot,4)}static addNodes(st,ot){st.addFieldOffset(2,ot,0)}static createNodesVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startNodesVector(st,ot){st.startVector(4,ot,4)}static addMaxNodeIndex(st,ot){st.addFieldInt32(3,ot,0)}static addNodeEdges(st,ot){st.addFieldOffset(4,ot,0)}static createNodeEdgesVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startNodeEdgesVector(st,ot){st.startVector(4,ot,4)}static addInputs(st,ot){st.addFieldOffset(5,ot,0)}static createInputsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startInputsVector(st,ot){st.startVector(4,ot,4)}static addOutputs(st,ot){st.addFieldOffset(6,ot,0)}static createOutputsVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startOutputsVector(st,ot){st.startVector(4,ot,4)}static addSparseInitializers(st,ot){st.addFieldOffset(7,ot,0)}static createSparseInitializersVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startSparseInitializersVector(st,ot){st.startVector(4,ot,4)}static endGraph(st){return st.endObject()}static createGraph(st,ot,dt,ft,ht,mt,gt,yt,vt){return ct.startGraph(st),ct.addInitializers(st,ot),ct.addNodeArgs(st,dt),ct.addNodes(st,ft),ct.addMaxNodeIndex(st,ht),ct.addNodeEdges(st,mt),ct.addInputs(st,gt),ct.addOutputs(st,yt),ct.addSparseInitializers(st,vt),ct.endGraph(st)}}lt.Graph=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsModel(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsModel(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}irVersion(){let st=this.bb.__offset(this.bb_pos,4);return st?this.bb.readInt64(this.bb_pos+st):this.bb.createLong(0,0)}opsetImport(st,ot){let dt=this.bb.__offset(this.bb_pos,6);return dt?(ot||new it.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}opsetImportLength(){let st=this.bb.__offset(this.bb_pos,6);return st?this.bb.__vector_len(this.bb_pos+st):0}producerName(st){let ot=this.bb.__offset(this.bb_pos,8);return ot?this.bb.__string(this.bb_pos+ot,st):null}producerVersion(st){let ot=this.bb.__offset(this.bb_pos,10);return ot?this.bb.__string(this.bb_pos+ot,st):null}domain(st){let ot=this.bb.__offset(this.bb_pos,12);return ot?this.bb.__string(this.bb_pos+ot,st):null}modelVersion(){let st=this.bb.__offset(this.bb_pos,14);return st?this.bb.readInt64(this.bb_pos+st):this.bb.createLong(0,0)}docString(st){let ot=this.bb.__offset(this.bb_pos,16);return ot?this.bb.__string(this.bb_pos+ot,st):null}graph(st){let ot=this.bb.__offset(this.bb_pos,18);return ot?(st||new it.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}graphDocString(st){let ot=this.bb.__offset(this.bb_pos,20);return ot?this.bb.__string(this.bb_pos+ot,st):null}static startModel(st){st.startObject(9)}static addIrVersion(st,ot){st.addFieldInt64(0,ot,st.createLong(0,0))}static addOpsetImport(st,ot){st.addFieldOffset(1,ot,0)}static createOpsetImportVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startOpsetImportVector(st,ot){st.startVector(4,ot,4)}static addProducerName(st,ot){st.addFieldOffset(2,ot,0)}static addProducerVersion(st,ot){st.addFieldOffset(3,ot,0)}static addDomain(st,ot){st.addFieldOffset(4,ot,0)}static addModelVersion(st,ot){st.addFieldInt64(5,ot,st.createLong(0,0))}static addDocString(st,ot){st.addFieldOffset(6,ot,0)}static addGraph(st,ot){st.addFieldOffset(7,ot,0)}static addGraphDocString(st,ot){st.addFieldOffset(8,ot,0)}static endModel(st){return st.endObject()}static createModel(st,ot,dt,ft,ht,mt,gt,yt,vt,bt){return ct.startModel(st),ct.addIrVersion(st,ot),ct.addOpsetImport(st,dt),ct.addProducerName(st,ft),ct.addProducerVersion(st,ht),ct.addDomain(st,mt),ct.addModelVersion(st,gt),ct.addDocString(st,yt),ct.addGraph(st,vt),ct.addGraphDocString(st,bt),ct.endModel(st)}}lt.Model=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsKernelCreateInfos(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsKernelCreateInfos(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}nodeIndices(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.readUint32(this.bb.__vector(this.bb_pos+ot)+4*st):0}nodeIndicesLength(){let st=this.bb.__offset(this.bb_pos,4);return st?this.bb.__vector_len(this.bb_pos+st):0}nodeIndicesArray(){let st=this.bb.__offset(this.bb_pos,4);return st?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+st),this.bb.__vector_len(this.bb_pos+st)):null}kernelDefHashes(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?this.bb.readUint64(this.bb.__vector(this.bb_pos+ot)+8*st):this.bb.createLong(0,0)}kernelDefHashesLength(){let st=this.bb.__offset(this.bb_pos,6);return st?this.bb.__vector_len(this.bb_pos+st):0}static startKernelCreateInfos(st){st.startObject(2)}static addNodeIndices(st,ot){st.addFieldOffset(0,ot,0)}static createNodeIndicesVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addInt32(ot[dt]);return st.endVector()}static startNodeIndicesVector(st,ot){st.startVector(4,ot,4)}static addKernelDefHashes(st,ot){st.addFieldOffset(1,ot,0)}static createKernelDefHashesVector(st,ot){st.startVector(8,ot.length,8);for(let dt=ot.length-1;dt>=0;dt--)st.addInt64(ot[dt]);return st.endVector()}static startKernelDefHashesVector(st,ot){st.startVector(8,ot,8)}static endKernelCreateInfos(st){return st.endObject()}static createKernelCreateInfos(st,ot,dt){return ct.startKernelCreateInfos(st),ct.addNodeIndices(st,ot),ct.addKernelDefHashes(st,dt),ct.endKernelCreateInfos(st)}}lt.KernelCreateInfos=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsSubGraphSessionState(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsSubGraphSessionState(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}graphId(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__string(this.bb_pos+ot,st):null}sessionState(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?(st||new it.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}static startSubGraphSessionState(st){st.startObject(2)}static addGraphId(st,ot){st.addFieldOffset(0,ot,0)}static addSessionState(st,ot){st.addFieldOffset(1,ot,0)}static endSubGraphSessionState(st){let ot=st.endObject();return st.requiredField(ot,4),ot}static createSubGraphSessionState(st,ot,dt){return ct.startSubGraphSessionState(st),ct.addGraphId(st,ot),ct.addSessionState(st,dt),ct.endSubGraphSessionState(st)}}lt.SubGraphSessionState=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsSessionState(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsSessionState(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}kernels(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?(st||new it.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}subGraphSessionStates(st,ot){let dt=this.bb.__offset(this.bb_pos,6);return dt?(ot||new it.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+dt)+4*st),this.bb):null}subGraphSessionStatesLength(){let st=this.bb.__offset(this.bb_pos,6);return st?this.bb.__vector_len(this.bb_pos+st):0}static startSessionState(st){st.startObject(2)}static addKernels(st,ot){st.addFieldOffset(0,ot,0)}static addSubGraphSessionStates(st,ot){st.addFieldOffset(1,ot,0)}static createSubGraphSessionStatesVector(st,ot){st.startVector(4,ot.length,4);for(let dt=ot.length-1;dt>=0;dt--)st.addOffset(ot[dt]);return st.endVector()}static startSubGraphSessionStatesVector(st,ot){st.startVector(4,ot,4)}static endSessionState(st){return st.endObject()}static createSessionState(st,ot,dt){return ct.startSessionState(st),ct.addKernels(st,ot),ct.addSubGraphSessionStates(st,dt),ct.endSessionState(st)}}lt.SessionState=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={})),function(it){(function(at){(function(lt){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(st,ot){return this.bb_pos=st,this.bb=ot,this}static getRootAsInferenceSession(st,ot){return(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static getSizePrefixedRootAsInferenceSession(st,ot){return st.setPosition(st.position()+tt.flatbuffers.SIZE_PREFIX_LENGTH),(ot||new ct).__init(st.readInt32(st.position())+st.position(),st)}static bufferHasIdentifier(st){return st.__has_identifier("ORTM")}ortVersion(st){let ot=this.bb.__offset(this.bb_pos,4);return ot?this.bb.__string(this.bb_pos+ot,st):null}model(st){let ot=this.bb.__offset(this.bb_pos,6);return ot?(st||new it.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}sessionState(st){let ot=this.bb.__offset(this.bb_pos,8);return ot?(st||new it.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+ot),this.bb):null}static startInferenceSession(st){st.startObject(3)}static addOrtVersion(st,ot){st.addFieldOffset(0,ot,0)}static addModel(st,ot){st.addFieldOffset(1,ot,0)}static addSessionState(st,ot){st.addFieldOffset(2,ot,0)}static endInferenceSession(st){return st.endObject()}static finishInferenceSessionBuffer(st,ot){st.finish(ot,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(st,ot){st.finish(ot,"ORTM",!0)}static createInferenceSession(st,ot,dt,ft){return ct.startInferenceSession(st),ct.addOrtVersion(st,ot),ct.addModel(st,dt),ct.addSessionState(st,ft),ct.endInferenceSession(st)}}lt.InferenceSession=ct})(at.fbs||(at.fbs={}))})(it.experimental||(it.experimental={}))}(_.onnxruntime||(_.onnxruntime={}))},7448:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.OnnxjsSessionHandler=void 0;const tt=et(1670),rt=et(9162);_.OnnxjsSessionHandler=class{constructor(nt){this.session=nt,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(nt,it,at){const lt=new Map;for(const st in nt)if(Object.hasOwnProperty.call(nt,st)){const ot=nt[st];lt.set(st,new rt.Tensor(ot.dims,ot.type,void 0,void 0,ot.data))}const ct=await this.session.run(lt),ut={};return ct.forEach((st,ot)=>{ut[ot]=new tt.Tensor(st.type,st.data,st.dims)}),ut}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.Session=void 0;const tt=et(7067),rt=et(1296),nt=et(7091),it=et(1036),at=et(6231),lt=et(2644);_.Session=class{constructor(ct={}){this._initialized=!1,this.backendHint=ct.backendHint,this.profiler=at.Profiler.create(ct.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(ct,ut,st){await this.profiler.event("session","Session.loadModel",async()=>{const ot=await(0,nt.resolveBackend)(this.backendHint);if(this.sessionHandler=ot.createSessionHandler(this.context),this._model=new lt.Model,typeof ct=="string"){const dt=ct.endsWith(".ort");if(typeof fetch>"u"){const ft=await(0,rt.promisify)(tt.readFile)(ct);this.initialize(ft,dt)}else{const ft=await fetch(ct),ht=await ft.arrayBuffer();this.initialize(new Uint8Array(ht),dt)}}else if(ArrayBuffer.isView(ct))this.initialize(ct);else{const dt=new Uint8Array(ct,ut||0,st||ct.byteLength);this.initialize(dt)}})}initialize(ct,ut){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const st=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(ct,st,ut),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new it.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(ct){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const ut=this.normalizeAndValidateInputs(ct),st=await this._executionPlan.execute(this.sessionHandler,ut);return this.createOutput(st)})}normalizeAndValidateInputs(ct){const ut=this._model.graph.getInputNames();if(Array.isArray(ct)){if(ct.length!==ut.length)throw new Error(`incorrect input array length: expected ${ut.length} but got ${ct.length}`)}else{if(ct.size!==ut.length)throw new Error(`incorrect input map size: expected ${ut.length} but got ${ct.size}`);const st=new Array(ct.size);let ot=0;for(let dt=0;dt<ut.length;++dt){const ft=ct.get(ut[dt]);if(!ft)throw new Error(`missing input tensor for: '${name}'`);st[ot++]=ft}ct=st}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,ct,!1);else{const st=this._model.graph.getInputIndices(),ot=this._model.graph.getValues(),dt=new Array(st.length);for(let ft=0;ft<st.length;++ft){const ht=ot[st[ft]];dt[ft]=ht.type.shape.dims,this.context.graphInputTypes.push(ht.type.tensorType),this.context.graphInputDims.push(ct[ft].dims)}this.validateInputTensorDims(dt,ct,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,ct),ct}validateInputTensorTypes(ct,ut){for(let st=0;st<ut.length;st++){const ot=ct[st],dt=ut[st].type;if(ot!==dt)throw new Error(`input tensor[${st}] check failed: expected type '${ot}' but got ${dt}`)}}validateInputTensorDims(ct,ut,st){for(let ot=0;ot<ut.length;ot++){const dt=ct[ot],ft=ut[ot].dims;if(!this.compareTensorDims(dt,ft,st))throw new Error(`input tensor[${ot}] check failed: expected shape '[${dt.join(",")}]' but got [${ft.join(",")}]`)}}compareTensorDims(ct,ut,st){if(ct.length!==ut.length)return!1;for(let ot=0;ot<ct.length;++ot)if(ct[ot]!==ut[ot]&&(!st||ct[ot]!==0))return!1;return!0}createOutput(ct){const ut=this._model.graph.getOutputNames();if(ct.length!==ut.length)throw new Error("expected number of outputs do not match number of generated outputs");const st=new Map;for(let ot=0;ot<ut.length;++ot)st.set(ut[ot],ct[ot]);return st}initializeOps(ct){const ut=ct.getNodes();this._ops=new Array(ut.length);for(let st=0;st<ut.length;st++)this._ops[st]=this.sessionHandler.resolve(ut[st],this._model.opsets,ct)}}},9162:function(_e,_,et){var tt=this&&this.__importDefault||function(ht){return ht&&ht.__esModule?ht:{default:ht}};Object.defineProperty(_,"__esModule",{value:!0}),_.Tensor=void 0;const rt=et(3442),nt=tt(et(3720)),it=et(1446),at=et(9395),lt=et(2517);var ct=at.onnxruntime.experimental.fbs;class ut{get data(){if(this.cache===void 0){const mt=this.dataProvider(this.dataId);if(mt.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=mt}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(mt){return this.data[lt.ShapeUtil.indicesToOffset(mt,this.strides)]}set(mt,gt){this.data[lt.ShapeUtil.indicesToOffset(mt,this.strides)]=gt}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=lt.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(mt,gt,yt,vt,bt,xt=rt.Guid.create()){this.dims=mt,this.type=gt,this.dataProvider=yt,this.asyncDataProvider=vt,this.cache=bt,this.dataId=xt,this.size=lt.ShapeUtil.validateDimsAndCalcSize(mt);const _t=this.size,St=yt===void 0&&vt===void 0&&bt===void 0;if(bt!==void 0&&bt.length!==_t)throw new RangeError("Input dims doesn't match data length.");if(gt==="string"){if(!(bt===void 0||Array.isArray(bt)&&bt.every(wt=>typeof wt=="string")))throw new TypeError("cache should be a string array");St&&(this.cache=new Array(_t))}else{if(bt!==void 0){const wt=ot(gt);if(!(bt instanceof wt))throw new TypeError(`cache should be type ${wt.name}`)}if(St){const wt=new ArrayBuffer(_t*function(Et){switch(Et){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${Et}`)}}(gt));this.cache=function(Et,Tt){return new(ot(Tt))(Et)}(wt,gt)}}}static fromProto(mt){if(!mt)throw new Error("cannot construct Value from an empty tensor");const gt=lt.ProtoUtil.tensorDataTypeFromProto(mt.dataType),yt=lt.ProtoUtil.tensorDimsFromProto(mt.dims),vt=new ut(yt,gt);if(gt==="string")mt.stringData.forEach((bt,xt)=>{vt.data[xt]=(0,lt.decodeUtf8String)(bt)});else if(mt.rawData&&typeof mt.rawData.byteLength=="number"&&mt.rawData.byteLength>0){const bt=vt.data,xt=new DataView(mt.rawData.buffer,mt.rawData.byteOffset,mt.rawData.byteLength),_t=st(mt.dataType),St=mt.rawData.byteLength/_t;if(mt.rawData.byteLength%_t!=0)throw new Error("invalid buffer length");if(bt.length!==St)throw new Error("buffer length mismatch");for(let wt=0;wt<St;wt++){const Et=ft(xt,mt.dataType,wt*_t);bt[wt]=Et}}else{let bt;switch(mt.dataType){case it.onnx.TensorProto.DataType.FLOAT:bt=mt.floatData;break;case it.onnx.TensorProto.DataType.INT32:case it.onnx.TensorProto.DataType.INT16:case it.onnx.TensorProto.DataType.UINT16:case it.onnx.TensorProto.DataType.INT8:case it.onnx.TensorProto.DataType.UINT8:case it.onnx.TensorProto.DataType.BOOL:bt=mt.int32Data;break;case it.onnx.TensorProto.DataType.INT64:bt=mt.int64Data;break;case it.onnx.TensorProto.DataType.DOUBLE:bt=mt.doubleData;break;case it.onnx.TensorProto.DataType.UINT32:case it.onnx.TensorProto.DataType.UINT64:bt=mt.uint64Data;break;default:throw new Error("unspecific error")}if(bt==null)throw new Error("failed to populate data from a tensorproto value");const xt=vt.data;if(xt.length!==bt.length)throw new Error("array length mismatch");for(let _t=0;_t<bt.length;_t++){const St=bt[_t];nt.default.isLong(St)?xt[_t]=dt(St,mt.dataType):xt[_t]=St}}return vt}static fromData(mt,gt,yt){return new ut(gt,yt,void 0,void 0,mt)}static fromOrtTensor(mt){if(!mt)throw new Error("cannot construct Value from an empty tensor");const gt=lt.ProtoUtil.tensorDimsFromORTFormat(mt),yt=lt.ProtoUtil.tensorDataTypeFromProto(mt.dataType()),vt=new ut(gt,yt);if(yt==="string")for(let bt=0;bt<mt.stringDataLength();bt++)vt.data[bt]=mt.stringData(bt);else if(mt.rawDataArray()&&typeof mt.rawDataLength()=="number"&&mt.rawDataLength()>0){const bt=vt.data,xt=new DataView(mt.rawDataArray().buffer,mt.rawDataArray().byteOffset,mt.rawDataLength()),_t=st(mt.dataType()),St=mt.rawDataLength()/_t;if(mt.rawDataLength()%_t!=0)throw new Error("invalid buffer length");if(bt.length!==St)throw new Error("buffer length mismatch");for(let wt=0;wt<St;wt++){const Et=ft(xt,mt.dataType(),wt*_t);bt[wt]=Et}}return vt}}function st(ht){switch(ht){case it.onnx.TensorProto.DataType.UINT8:case it.onnx.TensorProto.DataType.INT8:case it.onnx.TensorProto.DataType.BOOL:return 1;case it.onnx.TensorProto.DataType.UINT16:case it.onnx.TensorProto.DataType.INT16:return 2;case it.onnx.TensorProto.DataType.FLOAT:case it.onnx.TensorProto.DataType.INT32:case it.onnx.TensorProto.DataType.UINT32:return 4;case it.onnx.TensorProto.DataType.INT64:case it.onnx.TensorProto.DataType.DOUBLE:case it.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${it.onnx.TensorProto.DataType[ht]}`)}}function ot(ht){switch(ht){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function dt(ht,mt){if(mt===it.onnx.TensorProto.DataType.INT64||mt===ct.TensorDataType.INT64){if(ht.greaterThanOrEqual(2147483648)||ht.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(mt!==it.onnx.TensorProto.DataType.UINT32&&mt!==ct.TensorDataType.UINT32&&mt!==it.onnx.TensorProto.DataType.UINT64&&mt!==ct.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${it.onnx.TensorProto.DataType[mt]}`);if(ht.greaterThanOrEqual(4294967296)||ht.lessThan(0))throw new TypeError("uint64 is not supported")}return ht.toNumber()}function ft(ht,mt,gt){switch(mt){case it.onnx.TensorProto.DataType.BOOL:case it.onnx.TensorProto.DataType.UINT8:return ht.getUint8(gt);case it.onnx.TensorProto.DataType.INT8:return ht.getInt8(gt);case it.onnx.TensorProto.DataType.UINT16:return ht.getUint16(gt,!0);case it.onnx.TensorProto.DataType.INT16:return ht.getInt16(gt,!0);case it.onnx.TensorProto.DataType.FLOAT:return ht.getFloat32(gt,!0);case it.onnx.TensorProto.DataType.INT32:return ht.getInt32(gt,!0);case it.onnx.TensorProto.DataType.UINT32:return ht.getUint32(gt,!0);case it.onnx.TensorProto.DataType.INT64:return dt(nt.default.fromBits(ht.getUint32(gt,!0),ht.getUint32(gt+4,!0),!1),mt);case it.onnx.TensorProto.DataType.DOUBLE:return ht.getFloat64(gt,!0);case it.onnx.TensorProto.DataType.UINT64:return dt(nt.default.fromBits(ht.getUint32(gt,!0),ht.getUint32(gt+4,!0),!0),mt);default:throw new Error(`cannot read from DataView for type ${it.onnx.TensorProto.DataType[mt]}`)}}_.Tensor=ut},2517:function(_e,_,et){var tt=this&&this.__importDefault||function(mt){return mt&&mt.__esModule?mt:{default:mt}};Object.defineProperty(_,"__esModule",{value:!0}),_.decodeUtf8String=_.MAX_CLIP=_.MIN_CLIP=_.PoolConvUtil=_.ReduceUtil=_.SplitUtil=_.MathUtil=_.ShapeUtil=_.LongUtil=_.ProtoUtil=_.GemmUtil=_.arrayCopyHelper=_.BroadcastUtil=_.MatMulUtil=_.ArrayUtil=_.assert=_.checkInputsShape=void 0;const rt=et(5686),nt=tt(et(3720)),it=et(1446),at=et(9162);_.checkInputsShape=function(mt,...gt){if(!mt||mt.length!==gt.length)return!1;for(let yt=0;yt<mt.length;yt++)if(!mt[yt].dims||mt[yt].dims.length!==gt[yt])return!1;return!0},_.assert=function(mt,gt){if(!mt)throw new Error(typeof gt=="string"?gt:gt())},_.ArrayUtil=class{static arraysEqual(mt,gt){if(mt.length!==gt.length)return!1;for(let yt=0;yt<mt.length;yt++)if(mt[yt]!==gt[yt])return!1;return!0}};class lt{static preprocessInputShapes(gt,yt){return[gt.length===1?[1,gt[0]]:gt,yt.length===1?[yt[0],1]:yt]}static postprocessOutputShape(gt,yt,vt){yt===1&&gt.splice(gt.length-2,1),vt===1&&gt.pop()}static calcMatMulShape(gt,yt){return gt[1]!==yt[0]?void 0:[gt[0],yt[1]]}}_.MatMulUtil=lt;class ct{static calcShape(gt,yt,vt=!1){const bt=gt.length,xt=yt.length;if(bt===0)return yt;if(xt===0)return gt;const _t=Math.max(gt.length,yt.length),St=new Array(_t);if(vt){if(bt<2||xt<2)return;const wt=lt.calcMatMulShape([gt[bt-2],gt[bt-1]],[yt[xt-2],yt[xt-1]]);if(wt===void 0)return;[St[_t-2],St[_t-1]]=wt}for(let wt=vt?3:1;wt<=_t;wt++){const Et=bt-wt<0?1:gt[bt-wt],Tt=xt-wt<0?1:yt[xt-wt];if(Et!==Tt&&Et>1&&Tt>1)return;St[_t-wt]=Math.max(Et,Tt)}return St}static index(gt,yt){const vt=new Array(yt.length);return ct.fillIndex(gt,yt,vt),vt}static fillIndex(gt,yt,vt){const bt=gt.length-yt.length;for(let xt=0;xt<yt.length;xt++)vt[xt]=gt[bt+xt]%yt[xt]}static calc(gt,yt,vt,bt,xt){const _t=ct.calcShape(gt.dims,yt.dims);if(_t){if(bt&&!ot.areEqual(_t,gt.dims))return;const St=ot.size(_t),wt=bt?gt:new at.Tensor(_t,xt||gt.type);if(_t.length===0)wt.set([],vt(gt.get([]),yt.get([])));else{const Et=new Array(_t.length),Tt=new Array(gt.dims.length),Ct=new Array(yt.dims.length);let It,Pt=0,At=0,kt=!1,Rt=!1;gt.dims.length===0&&(Pt=gt.get([]),kt=!0),yt.dims.length===0&&(At=yt.get([]),Rt=!0);for(let $t=0;$t<St;$t++){It=$t;for(let Mt=_t.length-1;Mt>=0;Mt--)Et[Mt]=It%_t[Mt],It=Math.floor(It/_t[Mt]);kt||(ct.fillIndex(Et,gt.dims,Tt),Pt=gt.get(Tt)),Rt||(ct.fillIndex(Et,yt.dims,Ct),At=yt.get(Ct)),wt.set(Et,vt(Pt,At))}}return wt}}static isValidBroadcast(gt,yt){const vt=gt.length,bt=yt.length;if(vt>bt)return!1;for(let xt=1;xt<=vt;xt++)if(gt[vt-xt]!==1&&gt[vt-xt]!==yt[bt-xt])return!1;return!0}static getBroadcastDims(gt,yt){const vt=gt.length,bt=[];for(let xt=0;xt<vt;xt++){const _t=vt-1-xt,St=gt[_t]||1;(yt[yt.length-1-xt]||1)>1&&St===1&&bt.unshift(_t)}return bt}}_.BroadcastUtil=ct,_.arrayCopyHelper=function(mt,gt,yt,vt,bt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(vt+bt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+bt>mt.length)throw new Error("target array is too small to hold result");for(let xt=0;xt<bt;xt++)mt[yt+xt]=gt[vt+xt]},_.GemmUtil=class{static getShapeOfGemmResult(mt,gt,yt,vt,bt){if(mt.length!==2||yt.length!==2)throw new Error("shape need to be of size 2");let xt,_t,St;gt?(xt=mt[1],_t=mt[0]):(xt=mt[0],_t=mt[1]);let wt=-1;if(vt?(St=yt[0],wt=1):(St=yt[1],wt=0),yt[wt]!==_t)throw new Error("dimension mismatch");if(xt<=0||St<=0||_t<=0)throw new Error("invalid shape specified");if(bt&&!ct.isValidBroadcast(bt,[xt,St]))throw new Error("gemm: invalid bias shape for broadcast");return[xt,St,_t]}};class ut{static tensorDataTypeFromProto(gt){switch(gt){case it.onnx.TensorProto.DataType.INT8:return"int8";case it.onnx.TensorProto.DataType.UINT8:return"uint8";case it.onnx.TensorProto.DataType.BOOL:return"bool";case it.onnx.TensorProto.DataType.INT16:return"int16";case it.onnx.TensorProto.DataType.UINT16:return"uint16";case it.onnx.TensorProto.DataType.INT32:return"int32";case it.onnx.TensorProto.DataType.UINT32:return"uint32";case it.onnx.TensorProto.DataType.FLOAT:return"float32";case it.onnx.TensorProto.DataType.DOUBLE:return"float64";case it.onnx.TensorProto.DataType.STRING:return"string";case it.onnx.TensorProto.DataType.INT64:return"int32";case it.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${it.onnx.TensorProto.DataType[gt]}`)}}static tensorDataTypeStringToEnum(gt){switch(gt){case"int8":return it.onnx.TensorProto.DataType.INT8;case"uint8":return it.onnx.TensorProto.DataType.UINT8;case"bool":return it.onnx.TensorProto.DataType.BOOL;case"int16":return it.onnx.TensorProto.DataType.INT16;case"uint16":return it.onnx.TensorProto.DataType.UINT16;case"int32":return it.onnx.TensorProto.DataType.INT32;case"uint32":return it.onnx.TensorProto.DataType.UINT32;case"float32":return it.onnx.TensorProto.DataType.FLOAT;case"float64":return it.onnx.TensorProto.DataType.DOUBLE;case"string":return it.onnx.TensorProto.DataType.STRING;case"int64":return it.onnx.TensorProto.DataType.INT64;case"uint64":return it.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${gt}`)}}static tensorDimsFromProto(gt){return gt.map(yt=>nt.default.isLong(yt)?yt.toNumber():yt)}static tensorValueTypeFromProto(gt){return{tensorType:ut.tensorDataTypeFromProto(gt.elemType),shape:{dims:ut.tensorDimsFromProto(gt.shape.dim.map(yt=>yt.dimValue))}}}static tensorDimsFromORTFormat(gt){const yt=[];for(let vt=0;vt<gt.dimsLength();vt++)yt.push(st.longToNumber(gt.dims(vt)));return yt}static tensorAttributesFromORTFormat(gt){const yt=[];for(let vt=0;vt<gt.attributesLength();vt++)yt.push(gt.attributes(vt));return yt}}_.ProtoUtil=ut;class st{static longToNumber(gt,yt){return nt.default.isLong(gt)?gt.toNumber():gt instanceof rt.flatbuffers.Long?nt.default.fromValue({low:gt.low,high:gt.high,unsigned:yt!=null&&yt}).toNumber():gt}static isLong(gt){return nt.default.isLong(gt)||gt instanceof rt.flatbuffers.Long}}_.LongUtil=st;class ot{static size(gt){return ot.getSizeFromDimensionRange(gt,0,gt.length)}static sizeFromDimension(gt,yt){if(yt<0||yt>gt.length)throw new Error(`invalid dimension of ${yt} for sizeFromDimension as Tensor has ${gt.length} dimensions.`);return ot.getSizeFromDimensionRange(gt,yt,gt.length)}static sizeToDimension(gt,yt){if(yt<0||yt>gt.length)throw new Error(`invalid dimension of ${yt} for sizeToDimension as Tensor has ${gt.length} dimensions.`);return ot.getSizeFromDimensionRange(gt,0,yt)}static getSizeFromDimensionRange(gt,yt,vt){let bt=1;for(let xt=yt;xt<vt;xt++){if(gt[xt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");bt*=gt[xt]}return bt}static computeStrides(gt){const yt=gt.length;if(yt===0)return[];if(yt===1)return[1];const vt=new Array(yt);vt[yt-1]=1,vt[yt-2]=gt[yt-1];for(let bt=yt-3;bt>=0;--bt)vt[bt]=vt[bt+1]*gt[bt+1];return vt}static transpose(gt){return gt.slice().reverse()}static indicesToOffset(gt,yt,vt){vt===void 0&&(vt=gt.length);let bt=0;for(let xt=0;xt<vt;++xt)bt+=yt[xt]*gt[xt];return bt}static offsetToIndices(gt,yt){const vt=yt.length;if(vt===0)return[];if(vt===1)return[gt*yt[0]];const bt=new Array(yt.length);for(let xt=0;xt<bt.length-1;++xt)bt[xt]=Math.floor(gt/yt[xt]),gt-=bt[xt]*yt[xt];return bt[bt.length-1]=gt,bt}static normalizeAxis(gt,yt){if(gt<-yt&&gt>=yt)throw new Error("unsupported axis for this operation.");return gt<0?gt+yt:gt}static normalizeAxes(gt,yt){return gt.map(vt=>this.normalizeAxis(vt,yt))}static incrementIndex(gt,yt,vt){if(yt.length===0||gt.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(vt===void 0)vt=yt.length;else if(vt<=0||vt>yt.length)throw new Error("Incorrect axis to increment on");for(let bt=vt-1;bt>=0&&(gt[bt]++,!(gt[bt]<yt[bt]));--bt)gt[bt]=0}static calculateReshapedDims(gt,yt){if(yt.length===0){if(gt.length===0||ot.size(gt)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const vt=yt.length,bt=new Array(vt);let xt=-1,_t=1;for(let wt=0;wt<vt;wt++){if(yt[wt]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(yt[wt]===-1){if(xt!==-1)throw new Error("at most one dimension in shape hints can be -1");xt=wt}else{if(yt[wt]===0){if(wt>=gt.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");bt[wt]=gt[wt]}else bt[wt]=yt[wt];_t*=bt[wt]}}const St=ot.size(gt);if(xt!==-1){if(St%_t!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${gt}] Output shape: [${yt}]`);bt[xt]=St/_t}else if(_t!==St)throw new Error("reshapedDims and originalDims don't have matching sizes");return bt}static sortBasedOnPerm(gt,yt){return yt?yt.map(vt=>gt[vt]):gt.slice().reverse()}static padShape(gt,yt){const vt=gt.length;return gt.map((bt,xt)=>bt+yt[xt]+yt[xt+vt])}static areEqual(gt,yt){return gt.length===yt.length&&gt.every((vt,bt)=>vt===yt[bt])}static validateDimsAndCalcSize(gt){if(gt.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let yt=1;for(const vt of gt){if(!Number.isInteger(vt))throw new TypeError(`Invalid shape: ${vt} is not an integer`);if(vt<0||vt>2147483647)throw new TypeError(`Invalid shape: length ${vt} is not allowed`);yt*=vt}return yt}static flattenShape(gt,yt){yt<0&&(yt+=gt.length);const vt=gt.reduce((xt,_t)=>xt*_t,1),bt=gt.slice(yt).reduce((xt,_t)=>xt*_t,1);return[vt/bt,bt]}static squeezeShape(gt,yt){const vt=new Array;yt=ot.normalizeAxes(yt,gt.length);for(let bt=0;bt<gt.length;bt++){const xt=yt.indexOf(bt)>=0;if(xt&&gt[bt]!==1)throw new Error("squeeze an axis of size different than 1");(yt.length===0&&gt[bt]>1||yt.length>0&&!xt)&&vt.push(gt[bt])}return vt}static unsqueezeShape(gt,yt){const vt=new Array(gt.length+yt.length);vt.fill(0);for(let xt=0;xt<yt.length;xt++){const _t=ot.normalizeAxis(yt[xt],vt.length);if(_t>=vt.length)throw new Error("'axes' has an out of range axis");if(vt[_t]!==0)throw new Error("'axes' has a duplicate axis");vt[_t]=1}let bt=0;for(let xt=0;xt<vt.length;xt++)vt[xt]===0&&(vt[xt]=gt[bt++]);if(bt!==gt.length)throw new Error("the unsqueezed dimension could not be established");return vt}}_.ShapeUtil=ot,_.MathUtil=class{static sqr(mt,gt,yt,vt,bt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(vt+bt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+bt>mt.length)throw new Error("target array is too small to hold result");for(let xt=0;xt<bt;xt++)mt[yt+xt]+=Math.pow(gt[vt+xt],2)}static axpy(mt,gt,yt,vt,bt,xt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(vt+bt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+bt>mt.length)throw new Error("target array is too small to hold result");for(let _t=0;_t<bt;_t++)mt[yt+_t]+=xt*gt[vt+_t]}static powx(mt,gt,yt,vt,bt,xt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(vt+bt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+bt>mt.length)throw new Error("target array is too small to hold result");for(let _t=0;_t<bt;_t++)mt[yt+_t]=Math.pow(gt[vt+_t],xt)}static mul(mt,gt,yt,vt,bt){if(vt<0||vt>=gt.length)throw new Error("sourceIndex out of bounds");if(yt<0||yt>=mt.length)throw new Error("targetIndex out of bounds");if(vt+bt>gt.length)throw new Error("source indices to be copied are outside bounds");if(yt+bt>mt.length)throw new Error("target array is too small to hold result");for(let xt=0;xt<bt;xt++)mt[yt+xt]=gt[vt+xt]*mt[yt+xt]}};class dt{static splitShape(gt,yt,vt,bt){if(vt.length===0){if(!bt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");dt.determineSplit(gt[yt],bt,vt)}const xt=[],_t=[0];for(let St=0;St<vt.length;++St){St!==0&&_t.push(_t[St-1]+vt[St-1]);const wt=gt.slice();wt[yt]=vt[St],xt.push(wt)}return[xt,_t]}static determineSplit(gt,yt,vt){if(gt%yt!=0)throw new Error("cannot split tensor to equal sized parts");for(let bt=0;bt<yt;++bt)vt.push(gt/yt)}}_.SplitUtil=dt;class ft{static calcReduce(gt,yt,vt,bt,xt){const _t=gt.dims.slice(0);yt.length===0&&_t.forEach((Pt,At)=>yt.push(At));const St=ft.calcReduceShape(_t,yt,!0),wt=ot.size(St),Et=new at.Tensor(St,gt.type),Tt=ot.computeStrides(St),Ct=ot.computeStrides(_t),It=new Array(_t.length);for(let Pt=0;Pt<wt;Pt++){const At=ot.offsetToIndices(Pt,Tt);ct.fillIndex(At,_t,It),Et.set(At,ft.calcReduceByAxis(gt.numberData,yt,_t,0,ot.indicesToOffset(It,Ct),bt,xt))}return vt?Et:new at.Tensor(ft.calcReduceShape(_t,yt,vt),Et.type,void 0,void 0,Et.data,Et.dataId)}static calcReduceByAxis(gt,yt,vt,bt,xt,_t,St){let wt=0;if(bt>=yt.length)return _t(gt[xt]);const Et=yt[bt],Tt=Et>=vt.length?1:ot.size(vt.slice(Et+1));for(let Ct=0;Ct<vt[Et];Ct++)wt=Ct===0?ft.calcReduceByAxis(gt,yt,vt,bt+1,xt,_t,St):St(wt,ft.calcReduceByAxis(gt,yt,vt,bt+1,xt,_t,St)),xt+=Tt;return wt}static calcReduceShape(gt,yt,vt){const bt=gt.slice();for(let xt=0;xt<yt.length;xt++)bt[yt[xt]]=vt?1:0;return bt.filter(xt=>xt!==0)}}_.ReduceUtil=ft;class ht{static adjustPoolAttributes(gt,yt,vt,bt,xt,_t){if(!gt&&vt.length!==yt.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(gt)for(let St=0;St<yt.length-2;St++)St>=vt.length?vt.push(yt[St+2]):vt[St]=yt[St+2];for(let St=0;St<vt.length;St++)if(St<bt.length){if(bt[St]<0)throw new Error("strides should be greater than or equal to 1")}else bt.push(1);for(let St=0;St<vt.length;St++)if(St<xt.length){if(xt[St]<0)throw new Error("dilations should be greater than or equal to 1")}else xt.push(1);for(let St=0;St<2*vt.length;St++)if(St<_t.length){if(_t[St]<0)throw new Error("pad should be greater than or equal to 1")}else _t.push(0);for(let St=0;St<vt.length;St++){if(vt[St]<=0)throw new Error("kernel shapes need to be greater than 0");if(_t[St]>=vt[St]||_t[St+vt.length]>=vt[St])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(gt,yt,vt,bt,xt,_t){if(_t){if(xt.length!==2*(gt.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(yt.length!==gt.length-2)throw new Error("length of strides should be the length of data dimensions");if(bt.length!==gt.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let St=0;St<gt.length-2;St++)ht.adjustPadAndReturnShape(gt[St+2],yt[St],vt[St],bt[St],xt,St,St+gt.length-2,_t)}}static computePoolOutputShape(gt,yt,vt,bt,xt,_t,St){if(yt.length<=0)throw new Error("input shape must be of size greater than 0");const wt=[yt[0],yt[1]];return ht.computeShapeHelper(gt,yt,wt,vt,bt,xt,_t,St),wt}static computeConvOutputShape(gt,yt,vt,bt,xt,_t,St){if(gt.length<=0||yt.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const wt=[gt[0],yt[0]];return ht.computeShapeHelper(!1,gt,wt,vt,bt,xt,_t,St),wt}static computeShapeHelper(gt,yt,vt,bt,xt,_t,St,wt){if(gt)for(let Et=0;Et<yt.length-2;Et++)vt.push(1);else for(let Et=0;Et<yt.length-2;Et++)vt.push(ht.adjustPadAndReturnShape(yt[Et+2],bt[Et],xt[Et],_t[Et],St,Et,Et+yt.length-2,wt))}static adjustPadAndReturnShape(gt,yt,vt,bt,xt,_t,St,wt){const Et=vt*(bt-1)+1;if(!wt||wt==="NOTSET")return Math.floor((gt+xt[_t]+xt[St]-Et)/yt+1);switch(wt){case"VALID":return xt[_t]=0,xt[St]=0,Math.floor((gt-Et)/yt+1);case"SAME_LOWER":case"SAME_UPPER":if(vt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const Tt=((gt+yt-1)/yt-1)*yt+bt-gt;return xt[_t]=Math.floor(wt==="SAME_LOWER"?(Tt+1)/2:Tt/2),xt[St]=Tt-xt[_t],Math.floor((gt+Tt-bt)/yt+1)}default:throw new Error("Unsupported AutoPad type")}}}_.PoolConvUtil=ht,_.MIN_CLIP=-34028234663852886e22,_.MAX_CLIP=34028234663852886e22,_.decodeUtf8String=function(mt){return new TextDecoder().decode(mt)}},7967:(_e,_)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.iterateExtraOptions=void 0,_.iterateExtraOptions=(et,tt,rt,nt)=>{if(typeof et=="object"&&et!==null){if(rt.has(et))throw new Error("Circular reference in options");rt.add(et)}Object.entries(et).forEach(([it,at])=>{const lt=tt?tt+it:it;if(typeof at=="object")(0,_.iterateExtraOptions)(at,lt+".",rt,nt);else if(typeof at=="string"||typeof at=="number")nt(lt,at.toString());else{if(typeof at!="boolean")throw new Error("Can't handle extra config type: "+typeof at);nt(lt,at?"1":"0")}})}},2157:function(_e,_,et){var tt,rt=this&&this.__createBinding||(Object.create?function(Tt,Ct,It,Pt){Pt===void 0&&(Pt=It);var At=Object.getOwnPropertyDescriptor(Ct,It);At&&!("get"in At?!Ct.__esModule:At.writable||At.configurable)||(At={enumerable:!0,get:function(){return Ct[It]}}),Object.defineProperty(Tt,Pt,At)}:function(Tt,Ct,It,Pt){Pt===void 0&&(Pt=It),Tt[Pt]=Ct[It]}),nt=this&&this.__setModuleDefault||(Object.create?function(Tt,Ct){Object.defineProperty(Tt,"default",{enumerable:!0,value:Ct})}:function(Tt,Ct){Tt.default=Ct}),it=this&&this.__importStar||function(Tt){if(Tt&&Tt.__esModule)return Tt;var Ct={};if(Tt!=null)for(var It in Tt)It!=="default"&&Object.prototype.hasOwnProperty.call(Tt,It)&&rt(Ct,Tt,It);return nt(Ct,Tt),Ct};Object.defineProperty(_,"__esModule",{value:!0}),_.endProfiling=_.run=_.releaseSession=_.createSession=_.createSessionFinalize=_.createSessionAllocate=_.initOrt=_.initWasm=void 0;const at=et(1670),lt=it(et(349)),ct=et(6361),ut=()=>!!at.env.wasm.proxy&&typeof document<"u";let st,ot,dt,ft=!1,ht=!1,mt=!1;const gt=[],yt=[],vt=[],bt=[],xt=[],_t=[],St=()=>{if(ft||!ht||mt||!st)throw new Error("worker not ready")},wt=Tt=>{switch(Tt.data.type){case"init-wasm":ft=!1,Tt.data.err?(mt=!0,ot[1](Tt.data.err)):(ht=!0,ot[0]());break;case"init-ort":Tt.data.err?dt[1](Tt.data.err):dt[0]();break;case"create_allocate":Tt.data.err?gt.shift()[1](Tt.data.err):gt.shift()[0](Tt.data.out);break;case"create_finalize":Tt.data.err?yt.shift()[1](Tt.data.err):yt.shift()[0](Tt.data.out);break;case"create":Tt.data.err?vt.shift()[1](Tt.data.err):vt.shift()[0](Tt.data.out);break;case"release":Tt.data.err?bt.shift()[1](Tt.data.err):bt.shift()[0]();break;case"run":Tt.data.err?xt.shift()[1](Tt.data.err):xt.shift()[0](Tt.data.out);break;case"end-profiling":Tt.data.err?_t.shift()[1](Tt.data.err):_t.shift()[0]()}},Et=typeof document<"u"?(tt=document==null?void 0:document.currentScript)===null||tt===void 0?void 0:tt.src:void 0;_.initWasm=async()=>{if(ut()){if(ht)return;if(ft)throw new Error("multiple calls to 'initWasm()' detected.");if(mt)throw new Error("previous call to 'initWasm()' failed.");return ft=!0,at.env.wasm.wasmPaths===void 0&&Et&&Et.indexOf("blob:")!==0&&(at.env.wasm.wasmPaths=Et.substr(0,+Et.lastIndexOf("/")+1)),new Promise((Tt,Ct)=>{st==null||st.terminate(),st=et(9710).Z(),st.onmessage=wt,ot=[Tt,Ct];const It={type:"init-wasm",in:at.env.wasm};st.postMessage(It)})}return(0,ct.initializeWebAssembly)(at.env.wasm)},_.initOrt=async(Tt,Ct)=>{if(ut())return St(),new Promise((It,Pt)=>{dt=[It,Pt];const At={type:"init-ort",in:{numThreads:Tt,loggingLevel:Ct}};st.postMessage(At)});lt.initOrt(Tt,Ct)},_.createSessionAllocate=async Tt=>ut()?(St(),new Promise((Ct,It)=>{gt.push([Ct,It]);const Pt={type:"create_allocate",in:{model:Tt}};st.postMessage(Pt,[Tt.buffer])})):lt.createSessionAllocate(Tt),_.createSessionFinalize=async(Tt,Ct)=>ut()?(St(),new Promise((It,Pt)=>{yt.push([It,Pt]);const At={type:"create_finalize",in:{modeldata:Tt,options:Ct}};st.postMessage(At)})):lt.createSessionFinalize(Tt,Ct),_.createSession=async(Tt,Ct)=>ut()?(St(),new Promise((It,Pt)=>{vt.push([It,Pt]);const At={type:"create",in:{model:Tt,options:Ct}};st.postMessage(At,[Tt.buffer])})):lt.createSession(Tt,Ct),_.releaseSession=async Tt=>{if(ut())return St(),new Promise((Ct,It)=>{bt.push([Ct,It]);const Pt={type:"release",in:Tt};st.postMessage(Pt)});lt.releaseSession(Tt)},_.run=async(Tt,Ct,It,Pt,At)=>ut()?(St(),new Promise((kt,Rt)=>{xt.push([kt,Rt]);const $t={type:"run",in:{sessionId:Tt,inputIndices:Ct,inputs:It,outputIndices:Pt,options:At}};st.postMessage($t,lt.extractTransferableBuffers(It))})):lt.run(Tt,Ct,It,Pt,At),_.endProfiling=async Tt=>{if(ut())return St(),new Promise((Ct,It)=>{_t.push([Ct,It]);const Pt={type:"end-profiling",in:Tt};st.postMessage(Pt)});lt.endProfiling(Tt)}},586:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.setRunOptions=void 0;const tt=et(7967),rt=et(4983),nt=et(6361);_.setRunOptions=it=>{const at=(0,nt.getInstance)();let lt=0;const ct=[],ut=it||{};try{if((it==null?void 0:it.logSeverityLevel)===void 0)ut.logSeverityLevel=2;else if(typeof it.logSeverityLevel!="number"||!Number.isInteger(it.logSeverityLevel)||it.logSeverityLevel<0||it.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${it.logSeverityLevel}`);if((it==null?void 0:it.logVerbosityLevel)===void 0)ut.logVerbosityLevel=0;else if(typeof it.logVerbosityLevel!="number"||!Number.isInteger(it.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${it.logVerbosityLevel}`);(it==null?void 0:it.terminate)===void 0&&(ut.terminate=!1);let st=0;if((it==null?void 0:it.tag)!==void 0&&(st=(0,rt.allocWasmString)(it.tag,ct)),lt=at._OrtCreateRunOptions(ut.logSeverityLevel,ut.logVerbosityLevel,!!ut.terminate,st),lt===0)throw new Error("Can't create run options");return(it==null?void 0:it.extra)!==void 0&&(0,tt.iterateExtraOptions)(it.extra,"",new WeakSet,(ot,dt)=>{const ft=(0,rt.allocWasmString)(ot,ct),ht=(0,rt.allocWasmString)(dt,ct);if(at._OrtAddRunConfigEntry(lt,ft,ht)!==0)throw new Error(`Can't set a run config entry: ${ot} - ${dt}`)}),[lt,ct]}catch(st){throw lt!==0&&at._OrtReleaseRunOptions(lt),ct.forEach(at._free),st}}},2306:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.OnnxruntimeWebAssemblySessionHandler=void 0;const tt=et(2806),rt=et(1670),nt=et(2850),it=et(2157);let at;_.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(lt){const ct=await fetch(lt),ut=await ct.arrayBuffer();return(0,it.createSessionAllocate)(new Uint8Array(ut))}async loadModel(lt,ct){if(at||(await(0,it.initOrt)(rt.env.wasm.numThreads,(ut=>{switch(ut){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${ut}`)}})(rt.env.logLevel)),at=!0),typeof lt=="string")if(typeof fetch>"u"){const ut=await(0,nt.promisify)(tt.readFile)(lt);[this.sessionId,this.inputNames,this.outputNames]=await(0,it.createSession)(ut,ct)}else{const ut=await this.createSessionAllocate(lt);[this.sessionId,this.inputNames,this.outputNames]=await(0,it.createSessionFinalize)(ut,ct)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,it.createSession)(lt,ct)}async dispose(){return(0,it.releaseSession)(this.sessionId)}async run(lt,ct,ut){const st=[],ot=[];Object.entries(lt).forEach(mt=>{const gt=mt[0],yt=mt[1],vt=this.inputNames.indexOf(gt);if(vt===-1)throw new Error(`invalid input '${gt}'`);st.push(yt),ot.push(vt)});const dt=[];Object.entries(ct).forEach(mt=>{const gt=mt[0],yt=this.outputNames.indexOf(gt);if(yt===-1)throw new Error(`invalid output '${gt}'`);dt.push(yt)});const ft=await(0,it.run)(this.sessionId,ot,st.map(mt=>[mt.type,mt.dims,mt.data]),dt,ut),ht={};for(let mt=0;mt<ft.length;mt++)ht[this.outputNames[dt[mt]]]=new rt.Tensor(ft[mt][0],ft[mt][2],ft[mt][1]);return ht}startProfiling(){}endProfiling(){(0,it.endProfiling)(this.sessionId)}}},4919:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.setSessionOptions=void 0;const tt=et(7967),rt=et(4983),nt=et(6361);_.setSessionOptions=it=>{const at=(0,nt.getInstance)();let lt=0;const ct=[],ut=it||{};(st=>{st.extra||(st.extra={}),st.extra.session||(st.extra.session={});const ot=st.extra.session;ot.use_ort_model_bytes_directly||(ot.use_ort_model_bytes_directly="1")})(ut);try{(it==null?void 0:it.graphOptimizationLevel)===void 0&&(ut.graphOptimizationLevel="all");const st=(ft=>{switch(ft){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${ft}`)}})(ut.graphOptimizationLevel);(it==null?void 0:it.enableCpuMemArena)===void 0&&(ut.enableCpuMemArena=!0),(it==null?void 0:it.enableMemPattern)===void 0&&(ut.enableMemPattern=!0),(it==null?void 0:it.executionMode)===void 0&&(ut.executionMode="sequential");const ot=(ft=>{switch(ft){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${ft}`)}})(ut.executionMode);let dt=0;if((it==null?void 0:it.logId)!==void 0&&(dt=(0,rt.allocWasmString)(it.logId,ct)),(it==null?void 0:it.logSeverityLevel)===void 0)ut.logSeverityLevel=2;else if(typeof it.logSeverityLevel!="number"||!Number.isInteger(it.logSeverityLevel)||it.logSeverityLevel<0||it.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${it.logSeverityLevel}`);if((it==null?void 0:it.logVerbosityLevel)===void 0)ut.logVerbosityLevel=0;else if(typeof it.logVerbosityLevel!="number"||!Number.isInteger(it.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${it.logVerbosityLevel}`);if((it==null?void 0:it.enableProfiling)===void 0&&(ut.enableProfiling=!1),lt=at._OrtCreateSessionOptions(st,!!ut.enableCpuMemArena,!!ut.enableMemPattern,ot,!!ut.enableProfiling,0,dt,ut.logSeverityLevel,ut.logVerbosityLevel),lt===0)throw new Error("Can't create session options");return it!=null&&it.executionProviders&&((ft,ht,mt)=>{for(const gt of ht){let yt=typeof gt=="string"?gt:gt.name;switch(yt){case"xnnpack":yt="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${yt}`)}const vt=(0,rt.allocWasmString)(yt,mt);if((0,nt.getInstance)()._OrtAppendExecutionProvider(ft,vt)!==0)throw new Error(`Can't append execution provider: ${yt}`)}})(lt,it.executionProviders,ct),(it==null?void 0:it.extra)!==void 0&&(0,tt.iterateExtraOptions)(it.extra,"",new WeakSet,(ft,ht)=>{const mt=(0,rt.allocWasmString)(ft,ct),gt=(0,rt.allocWasmString)(ht,ct);if(at._OrtAddSessionConfigEntry(lt,mt,gt)!==0)throw new Error(`Can't set a session config entry: ${ft} - ${ht}`)}),[lt,ct]}catch(st){throw lt!==0&&at._OrtReleaseSessionOptions(lt),ct.forEach(at._free),st}}},4983:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.allocWasmString=void 0;const tt=et(6361);_.allocWasmString=(rt,nt)=>{const it=(0,tt.getInstance)(),at=it.lengthBytesUTF8(rt)+1,lt=it._malloc(at);return it.stringToUTF8(rt,lt,at),nt.push(lt),lt}},349:(_e,_,et)=>{Object.defineProperty(_,"__esModule",{value:!0}),_.extractTransferableBuffers=_.endProfiling=_.run=_.releaseSession=_.createSession=_.createSessionFinalize=_.createSessionAllocate=_.initOrt=void 0;const tt=et(586),rt=et(4919),nt=et(4983),it=et(6361);_.initOrt=(st,ot)=>{const dt=(0,it.getInstance)()._OrtInit(st,ot);if(dt!==0)throw new Error(`Can't initialize onnxruntime. error code = ${dt}`)};const at=new Map;_.createSessionAllocate=st=>{const ot=(0,it.getInstance)(),dt=ot._malloc(st.byteLength);return ot.HEAPU8.set(st,dt),[dt,st.byteLength]},_.createSessionFinalize=(st,ot)=>{const dt=(0,it.getInstance)();let ft=0,ht=0,mt=[];try{if([ht,mt]=(0,rt.setSessionOptions)(ot),ft=dt._OrtCreateSession(st[0],st[1],ht),ft===0)throw new Error("Can't create a session")}finally{dt._free(st[0]),dt._OrtReleaseSessionOptions(ht),mt.forEach(dt._free)}const gt=dt._OrtGetInputCount(ft),yt=dt._OrtGetOutputCount(ft),vt=[],bt=[],xt=[],_t=[];for(let St=0;St<gt;St++){const wt=dt._OrtGetInputName(ft,St);if(wt===0)throw new Error("Can't get an input name");bt.push(wt),vt.push(dt.UTF8ToString(wt))}for(let St=0;St<yt;St++){const wt=dt._OrtGetOutputName(ft,St);if(wt===0)throw new Error("Can't get an output name");_t.push(wt),xt.push(dt.UTF8ToString(wt))}return at.set(ft,[ft,bt,_t]),[ft,vt,xt]},_.createSession=(st,ot)=>{const dt=(0,_.createSessionAllocate)(st);return(0,_.createSessionFinalize)(dt,ot)},_.releaseSession=st=>{const ot=(0,it.getInstance)(),dt=at.get(st);if(!dt)throw new Error("invalid session id");const ft=dt[0],ht=dt[1],mt=dt[2];ht.forEach(ot._OrtFree),mt.forEach(ot._OrtFree),ot._OrtReleaseSession(ft),at.delete(st)};const lt=st=>{switch(st){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${st}`)}},ct=st=>{switch(st){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${st}`)}},ut=st=>{switch(st){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${st}`)}};_.run=(st,ot,dt,ft,ht)=>{const mt=(0,it.getInstance)(),gt=at.get(st);if(!gt)throw new Error("invalid session id");const yt=gt[0],vt=gt[1],bt=gt[2],xt=ot.length,_t=ft.length;let St=0,wt=[];const Et=[],Tt=[];try{[St,wt]=(0,tt.setRunOptions)(ht);for(let Rt=0;Rt<xt;Rt++){const $t=dt[Rt][0],Mt=dt[Rt][1],Nt=dt[Rt][2];let Dt,jt;if(Array.isArray(Nt)){jt=4*Nt.length,Dt=mt._malloc(jt),Tt.push(Dt);let Wt=Dt/4;for(let Vt=0;Vt<Nt.length;Vt++){if(typeof Nt[Vt]!="string")throw new TypeError(`tensor data at index ${Vt} is not a string`);mt.HEAPU32[Wt++]=(0,nt.allocWasmString)(Nt[Vt],Tt)}}else jt=Nt.byteLength,Dt=mt._malloc(jt),Tt.push(Dt),mt.HEAPU8.set(new Uint8Array(Nt.buffer,Nt.byteOffset,jt),Dt);const Ut=mt.stackSave(),Xt=mt.stackAlloc(4*Mt.length);try{let Wt=Xt/4;Mt.forEach(qt=>mt.HEAP32[Wt++]=qt);const Vt=mt._OrtCreateTensor(lt($t),Dt,jt,Xt,Mt.length);if(Vt===0)throw new Error("Can't create a tensor");Et.push(Vt)}finally{mt.stackRestore(Ut)}}const Ct=mt.stackSave(),It=mt.stackAlloc(4*xt),Pt=mt.stackAlloc(4*xt),At=mt.stackAlloc(4*_t),kt=mt.stackAlloc(4*_t);try{let Rt=It/4,$t=Pt/4,Mt=At/4,Nt=kt/4;for(let Ut=0;Ut<xt;Ut++)mt.HEAPU32[Rt++]=Et[Ut],mt.HEAPU32[$t++]=vt[ot[Ut]];for(let Ut=0;Ut<_t;Ut++)mt.HEAPU32[Mt++]=0,mt.HEAPU32[Nt++]=bt[ft[Ut]];let Dt=mt._OrtRun(yt,Pt,It,xt,kt,_t,At,St);const jt=[];if(Dt===0)for(let Ut=0;Ut<_t;Ut++){const Xt=mt.HEAPU32[At/4+Ut],Wt=mt.stackSave(),Vt=mt.stackAlloc(16);let qt,tr=0;try{if(Dt=mt._OrtGetTensorData(Xt,Vt,Vt+4,Vt+8,Vt+12),Dt!==0)throw new Error(`Can't access output tensor data. error code = ${Dt}`);let Kt=Vt/4;const Yt=mt.HEAPU32[Kt++];tr=mt.HEAPU32[Kt++];const rr=mt.HEAPU32[Kt++],ir=mt.HEAPU32[Kt++],lr=[];for(let ur=0;ur<ir;ur++)lr.push(mt.HEAPU32[rr/4+ur]);mt._OrtFree(rr);const ar=lr.length===0?1:lr.reduce((ur,fr)=>ur*fr);if(qt=ct(Yt),qt==="string"){const ur=[];let fr=tr/4;for(let yr=0;yr<ar;yr++){const Tr=mt.HEAPU32[fr++],Sr=yr===ar-1?void 0:mt.HEAPU32[fr]-Tr;ur.push(mt.UTF8ToString(Tr,Sr))}jt.push([qt,lr,ur])}else{const ur=new(ut(qt))(ar);new Uint8Array(ur.buffer,ur.byteOffset,ur.byteLength).set(mt.HEAPU8.subarray(tr,tr+ur.byteLength)),jt.push([qt,lr,ur])}}finally{mt.stackRestore(Wt),qt==="string"&&tr&&mt._free(tr),mt._OrtReleaseTensor(Xt)}}if(Dt===0)return jt;throw new Error(`failed to call OrtRun(). error code = ${Dt}.`)}finally{mt.stackRestore(Ct)}}finally{Et.forEach(mt._OrtReleaseTensor),Tt.forEach(mt._free),mt._OrtReleaseRunOptions(St),wt.forEach(mt._free)}},_.endProfiling=st=>{const ot=(0,it.getInstance)(),dt=at.get(st);if(!dt)throw new Error("invalid session id");const ft=dt[0],ht=ot._OrtEndProfiling(ft);if(ht===0)throw new Error("Can't get an profile file name");ot._OrtFree(ht)},_.extractTransferableBuffers=st=>{const ot=[];for(const dt of st){const ft=dt[2];!Array.isArray(ft)&&ft.buffer&&ot.push(ft.buffer)}return ot}},6361:function(_e,_,et){var tt=this&&this.__createBinding||(Object.create?function(ht,mt,gt,yt){yt===void 0&&(yt=gt);var vt=Object.getOwnPropertyDescriptor(mt,gt);vt&&!("get"in vt?!mt.__esModule:vt.writable||vt.configurable)||(vt={enumerable:!0,get:function(){return mt[gt]}}),Object.defineProperty(ht,yt,vt)}:function(ht,mt,gt,yt){yt===void 0&&(yt=gt),ht[yt]=mt[gt]}),rt=this&&this.__setModuleDefault||(Object.create?function(ht,mt){Object.defineProperty(ht,"default",{enumerable:!0,value:mt})}:function(ht,mt){ht.default=mt}),nt=this&&this.__importStar||function(ht){if(ht&&ht.__esModule)return ht;var mt={};if(ht!=null)for(var gt in ht)gt!=="default"&&Object.prototype.hasOwnProperty.call(ht,gt)&&tt(mt,ht,gt);return rt(mt,ht),mt},it=this&&this.__importDefault||function(ht){return ht&&ht.__esModule?ht:{default:ht}};Object.defineProperty(_,"__esModule",{value:!0}),_.dispose=_.getInstance=_.initializeWebAssembly=void 0;const at=nt(et(6449)),lt=it(et(932)),ct=et(3474);let ut,st=!1,ot=!1,dt=!1;const ft=(ht,mt)=>mt?ht?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":ht?"ort-wasm-simd.wasm":"ort-wasm.wasm";_.initializeWebAssembly=async ht=>{if(st)return Promise.resolve();if(ot)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(dt)throw new Error("previous call to 'initializeWebAssembly()' failed.");ot=!0;const mt=ht.initTimeout,gt=ht.numThreads,yt=ht.simd,vt=gt>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),bt=yt&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),xt=typeof ht.wasmPaths=="string"?ht.wasmPaths:void 0,_t=ft(!1,vt),St=ft(bt,vt),wt=typeof ht.wasmPaths=="object"?ht.wasmPaths[St]:void 0;let Et=!1;const Tt=[];if(mt>0&&Tt.push(new Promise(Ct=>{setTimeout(()=>{Et=!0,Ct()},mt)})),Tt.push(new Promise((Ct,It)=>{const Pt=vt?ct:lt.default,At={locateFile:(kt,Rt)=>vt&&kt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([et(4154)],{type:"text/javascript"})):kt===_t?wt??(xt??Rt)+St:Rt+kt};if(vt)if(typeof Blob>"u")At.mainScriptUrlOrBlob=at.join("/","ort-wasm-threaded.js");else{const kt=`var ortWasmThreaded=(function(){var _scriptDir;return ${Pt.toString()}})();`;At.mainScriptUrlOrBlob=new Blob([kt],{type:"text/javascript"})}Pt(At).then(kt=>{ot=!1,st=!0,ut=kt,Ct()},kt=>{ot=!1,dt=!0,It(kt)})})),await Promise.race(Tt),Et)throw new Error(`WebAssembly backend initializing failed due to timeout: ${mt}ms`)},_.getInstance=()=>{if(st&&ut)return ut;throw new Error("WebAssembly is not initialized yet.")},_.dispose=()=>{var ht;!st||ot||dt||(ot=!0,(ht=ut.PThread)===null||ht===void 0||ht.terminateAllThreads(),ut=void 0,ot=!1,st=!1,dt=!0)}},9710:(_e,_,et)=>{et.d(_,{Z:()=>nt});var tt=et(477),rt=et.n(tt);function nt(){return rt()('/*!\n* ONNX Runtime Web v1.14.0\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var t={474:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){function e(){return j.buffer!=D&&N(j.buffer),P}function r(){return j.buffer!=D&&N(j.buffer),U}function a(){return j.buffer!=D&&N(j.buffer),F}function i(){return j.buffer!=D&&N(j.buffer),I}function o(){return j.buffer!=D&&N(j.buffer),W}var u,c,s;t=t||{},u||(u=void 0!==t?t:{}),u.ready=new Promise((function(t,e){c=t,s=e}));var l,f,p,h,d,y,b=Object.assign({},u),m="./this.program",g=(t,e)=>{throw e},v="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,A="";function S(t){return u.locateFile?u.locateFile(t,A):A+t}if(_){let e;A=w?n(908).dirname(A)+"/":"//",y=()=>{d||(h=n(384),d=n(908))},l=function(t,e){return y(),t=d.normalize(t),h.readFileSync(t,e?void 0:"utf8")},p=t=>((t=l(t,!0)).buffer||(t=new Uint8Array(t)),t),f=(t,e,n)=>{y(),t=d.normalize(t),h.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof ct))throw t})),process.on("unhandledRejection",(function(t){throw t})),g=(t,e)=>{if(Q())throw process.exitCode=t,e;e instanceof ct||x("exiting due to exception: "+e),process.exit(t)},u.inspect=function(){return"[Emscripten Module object]"};try{e=n(925)}catch(t){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),t}n.g.Worker=e.Worker}else(v||w)&&(w?A=self.location.href:"undefined"!=typeof document&&document.currentScript&&(A=document.currentScript.src),_scriptDir&&(A=_scriptDir),A=0!==A.indexOf("blob:")?A.substr(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},w&&(p=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),f=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);_&&(y(),T=t=>h.writeSync(1,t+"\\n"),E=t=>h.writeSync(2,t+"\\n"));var M,C=u.print||T,x=u.printErr||E;Object.assign(u,b),b=null,u.thisProgram&&(m=u.thisProgram),u.quit&&(g=u.quit),u.wasmBinary&&(M=u.wasmBinary);var R=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&at("no native wasm support detected");var j,k,D,P,U,F,I,W,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function z(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&L)return L.decode(t.buffer instanceof SharedArrayBuffer?t.slice(e,n):t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function Y(t,e){return(t>>>=0)?z(r(),t,e):""}function B(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function G(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function N(t){D=t,u.HEAP8=P=new Int8Array(t),u.HEAP16=new Int16Array(t),u.HEAP32=F=new Int32Array(t),u.HEAPU8=U=new Uint8Array(t),u.HEAPU16=new Uint16Array(t),u.HEAPU32=I=new Uint32Array(t),u.HEAPF32=new Float32Array(t),u.HEAPF64=W=new Float64Array(t)}O&&(D=u.buffer);var V=u.INITIAL_MEMORY||16777216;if(O)j=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)j=u.wasmMemory;else if(!((j=new WebAssembly.Memory({initial:V/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");j&&(D=j.buffer),V=D.byteLength,N(D);var $,q=[],X=[],J=[],Z=[];function Q(){return R||!1}function K(){var t=u.preRun.shift();q.unshift(t)}var tt,et=0,nt=null,rt=null;function at(t){throw O?postMessage({cmd:"onAbort",arg:t}):u.onAbort&&u.onAbort(t),x(t="Aborted("+t+")"),H=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),s(t),t}function it(){return tt.startsWith("data:application/octet-stream;base64,")}function ot(){var t=tt;try{if(t==tt&&M)return new Uint8Array(M);if(p)return p(t);throw"both async and sync fetching of the wasm failed"}catch(t){at(t)}}tt="ort-wasm-threaded.wasm",it()||(tt=S(tt));var ut={};function ct(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function st(t){(t=ht.Vb[t])||at(),ht.mc(t)}function lt(t){var e=ht.Cc();if(!e)return 6;ht.ac.push(e),ht.Vb[t.Ub]=e,e.Ub=t.Ub;var n={cmd:"run",start_routine:t.Ic,arg:t.zc,pthread_ptr:t.Ub};return e.$b=()=>{n.time=performance.now(),e.postMessage(n,t.Nc)},e.loaded&&(e.$b(),delete e.$b),0}function ft(t){if(O)return $t(1,1,t);Q()||(ht.oc(),u.onExit&&u.onExit(t),H=!0),g(t,new ct(t))}function pt(t,e){if(!e&&O)throw bt(t),"unwind";Q()||O||(me(),dt(J),be(0),re[1].length&&ae(1,10),re[2].length&&ae(2,10),ht.oc()),ft(t)}var ht={Yb:[],ac:[],qc:[],Vb:{},fc:function(){O&&ht.Ec()},Pc:function(){},Ec:function(){ht.receiveObjectTransfer=ht.Gc,ht.threadInitTLS=ht.pc,ht.setExitStatus=ht.nc,R=!1},nc:function(){},oc:function(){for(var t of Object.values(ht.Vb))ht.mc(t);for(t of ht.Yb)t.terminate();ht.Yb=[]},mc:function(t){var e=t.Ub;delete ht.Vb[e],ht.Yb.push(t),ht.ac.splice(ht.ac.indexOf(t),1),t.Ub=0,Oe(e)},Gc:function(){},pc:function(){ht.qc.forEach((t=>t()))},Fc:function(t,e){t.onmessage=n=>{var r=(n=n.data).cmd;if(t.Ub&&(ht.Bc=t.Ub),n.targetThread&&n.targetThread!=he()){var a=ht.Vb[n.Qc];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?zt(n.queue):"spawnThread"===r?lt(n):"cleanupThread"===r?st(n.thread):"killThread"===r?(n=n.thread,r=ht.Vb[n],delete ht.Vb[n],r.terminate(),Oe(n),ht.ac.splice(ht.ac.indexOf(r),1),r.Ub=0):"cancelThread"===r?ht.Vb[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(t.loaded=!0,e&&e(t),t.$b&&(t.$b(),delete t.$b)):"print"===r?C("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?t.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);ht.Bc=void 0},t.onerror=t=>{throw x("worker sent an error! "+t.filename+":"+t.lineno+": "+t.message),t},_&&(t.on("message",(function(e){t.onmessage({data:e})})),t.on("error",(function(e){t.onerror(e)})),t.on("detachedExit",(function(){}))),t.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:j,wasmModule:k})},yc:function(){var t=S("ort-wasm-threaded.worker.js");ht.Yb.push(new Worker(t))},Cc:function(){return 0==ht.Yb.length&&(ht.yc(),ht.Fc(ht.Yb[0])),ht.Yb.pop()}};function dt(t){for(;0<t.length;)t.shift()(u)}function yt(t){var e=Ee();return t=t(),Me(e),t}function bt(t){if(O)return $t(2,0,t);try{pt(t)}catch(t){t instanceof ct||"unwind"==t||g(1,t)}}u.PThread=ht,u.establishStackSpace=function(){var t=he(),e=a()[t+44>>2>>>0];t=a()[t+48>>2>>>0],Te(e,e-t),Me(e)};var mt=[];function gt(t){var e=mt[t];return e||(t>=mt.length&&(mt.length=t+1),mt[t]=e=$.get(t)),e}u.invokeEntryPoint=function(t,e){t=gt(t)(e),Q()?ht.nc(t):Ae(t)};var vt,wt,_t=[],Ot=0,At=0;function St(t){this.Zb=t,this.Sb=t-24,this.xc=function(t){i()[this.Sb+4>>2>>>0]=t},this.bc=function(){return i()[this.Sb+4>>2>>>0]},this.wc=function(t){i()[this.Sb+8>>2>>>0]=t},this.Dc=function(){return i()[this.Sb+8>>2>>>0]},this.rc=function(){a()[this.Sb>>2>>>0]=0},this.hc=function(t){t=t?1:0,e()[this.Sb+12>>0>>>0]=t},this.uc=function(){return 0!=e()[this.Sb+12>>0>>>0]},this.ic=function(t){t=t?1:0,e()[this.Sb+13>>0>>>0]=t},this.kc=function(){return 0!=e()[this.Sb+13>>0>>>0]},this.fc=function(t,e){this.cc(0),this.xc(t),this.wc(e),this.rc(),this.hc(!1),this.ic(!1)},this.sc=function(){Atomics.add(a(),this.Sb>>2,1)},this.Hc=function(){return 1===Atomics.sub(a(),this.Sb>>2,1)},this.cc=function(t){i()[this.Sb+16>>2>>>0]=t},this.tc=function(){return i()[this.Sb+16>>2>>>0]},this.vc=function(){if(Re(this.bc()))return i()[this.Zb>>2>>>0];var t=this.tc();return 0!==t?t:this.Zb}}function Tt(t){return ye(new St(t).Sb)}function Et(t,e,n,r){return O?$t(3,1,t,e,n,r):Mt(t,e,n,r)}function Mt(t,e,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?Et(t,e,n,r):(t={Ic:n,Ub:t,zc:r,Nc:a},O?(t.Oc="spawnThread",postMessage(t,a),0):lt(t))}function Ct(t,e,n){return O?$t(4,1,t,e,n):0}function xt(t,e){if(O)return $t(5,1,t,e)}function Rt(t,e){if(O)return $t(6,1,t,e)}function jt(t,e,n){if(O)return $t(7,1,t,e,n)}function kt(t,e,n){return O?$t(8,1,t,e,n):0}function Dt(t,e){if(O)return $t(9,1,t,e)}function Pt(t,e,n){if(O)return $t(10,1,t,e,n)}function Ut(t,e,n,r){if(O)return $t(11,1,t,e,n,r)}function Ft(t,e,n,r){if(O)return $t(12,1,t,e,n,r)}function It(t,e,n,r){if(O)return $t(13,1,t,e,n,r)}function Wt(t){if(O)return $t(14,1,t)}function Ht(t,e){if(O)return $t(15,1,t,e)}function Lt(t,e,n){if(O)return $t(16,1,t,e,n)}function zt(t){Atomics.store(a(),t>>2,1),he()&&_e(t),Atomics.compareExchange(a(),t>>2,1,0)}function Yt(t){return i()[t>>>2]+4294967296*a()[t+4>>>2]}function Bt(t,e,n,r,a,i){return O?$t(17,1,t,e,n,r,a,i):-52}function Gt(t,e,n,r,a,i){if(O)return $t(18,1,t,e,n,r,a,i)}function Nt(t){var n=G(t)+1,r=de(n);return r&&B(t,e(),r,n),r}function Vt(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}if(O)return $t(19,1,t,e,n);var o=(new Date).getFullYear(),u=new Date(o,0,1),c=new Date(o,6,1);o=u.getTimezoneOffset();var s=c.getTimezoneOffset(),l=Math.max(o,s);a()[t>>2>>>0]=60*l,a()[e>>2>>>0]=Number(o!=s),t=r(u),e=r(c),t=Nt(t),e=Nt(e),s<o?(i()[n>>2>>>0]=t,i()[n+4>>2>>>0]=e):(i()[n>>2>>>0]=e,i()[n+4>>2>>>0]=t)}function $t(t,e){var n=arguments.length-2,r=arguments;return yt((()=>{for(var a=Ce(8*n),i=a>>3,u=0;u<n;u++){var c=r[2+u];o()[i+u>>>0]=c}return we(t,n,a,e)}))}u.executeNotifiedProxyingQueue=zt,wt=_?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var qt,Xt=[],Jt={};function Zt(){if(!qt){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(t in Jt)void 0===Jt[t]?delete e[t]:e[t]=Jt[t];var n=[];for(t in e)n.push(t+"="+e[t]);qt=n}return qt}function Qt(t,n){if(O)return $t(20,1,t,n);var r=0;return Zt().forEach((function(a,o){var u=n+r;for(o=i()[t+4*o>>2>>>0]=u,u=0;u<a.length;++u)e()[o++>>0>>>0]=a.charCodeAt(u);e()[o>>0>>>0]=0,r+=a.length+1})),0}function Kt(t,e){if(O)return $t(21,1,t,e);var n=Zt();i()[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),i()[e>>2>>>0]=r,0}function te(t){return O?$t(22,1,t):52}function ee(t,e,n,r){return O?$t(23,1,t,e,n,r):52}function ne(t,e,n,r,a){return O?$t(24,1,t,e,n,r,a):70}var re=[null,[],[]];function ae(t,e){var n=re[t];0===e||10===e?((1===t?C:x)(z(n,0)),n.length=0):n.push(e)}function ie(t,e,n,a){if(O)return $t(25,1,t,e,n,a);for(var o=0,u=0;u<n;u++){var c=i()[e>>2>>>0],s=i()[e+4>>2>>>0];e+=8;for(var l=0;l<s;l++)ae(t,r()[c+l>>>0]);o+=s}return i()[a>>2>>>0]=o,0}var oe=0;function ue(t){return 0==t%4&&(0!=t%100||0==t%400)}var ce=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function le(t,n,r,i){function o(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function u(t,e){return o(t,e,"0")}function c(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function s(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function l(t){var e=t.Wb;for(t=new Date(new Date(t.Xb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(ue(t.getFullYear())?ce:se)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=s(new Date(t.getFullYear(),0,4)),n=s(n),0>=c(e,t)?0>=c(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var f=a()[i+40>>2>>>0];for(var p in i={Lc:a()[i>>2>>>0],Kc:a()[i+4>>2>>>0],dc:a()[i+8>>2>>>0],jc:a()[i+12>>2>>>0],ec:a()[i+16>>2>>>0],Xb:a()[i+20>>2>>>0],Tb:a()[i+24>>2>>>0],Wb:a()[i+28>>2>>>0],Rc:a()[i+32>>2>>>0],Jc:a()[i+36>>2>>>0],Mc:f?Y(f):""},r=Y(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(t){return h[t.Tb].substring(0,3)},"%A":function(t){return h[t.Tb]},"%b":function(t){return d[t.ec].substring(0,3)},"%B":function(t){return d[t.ec]},"%C":function(t){return u((t.Xb+1900)/100|0,2)},"%d":function(t){return u(t.jc,2)},"%e":function(t){return o(t.jc,2," ")},"%g":function(t){return l(t).toString().substring(2)},"%G":function(t){return l(t)},"%H":function(t){return u(t.dc,2)},"%I":function(t){return 0==(t=t.dc)?t=12:12<t&&(t-=12),u(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.ec-1;e+=(ue(t.Xb+1900)?ce:se)[n++]);return u(t.jc+e,3)},"%m":function(t){return u(t.ec+1,2)},"%M":function(t){return u(t.Kc,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.dc&&12>t.dc?"AM":"PM"},"%S":function(t){return u(t.Lc,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Tb||7},"%U":function(t){return u(Math.floor((t.Wb+7-t.Tb)/7),2)},"%V":function(t){var e=Math.floor((t.Wb+7-(t.Tb+6)%7)/7);if(2>=(t.Tb+371-t.Wb-2)%7&&e++,e)53==e&&(4==(n=(t.Tb+371-t.Wb)%7)||3==n&&ue(t.Xb)||(e=1));else{e=52;var n=(t.Tb+7-t.Wb-1)%7;(4==n||5==n&&ue(t.Xb%400-1))&&e++}return u(e,2)},"%w":function(t){return t.Tb},"%W":function(t){return u(Math.floor((t.Wb+7-(t.Tb+6)%7)/7),2)},"%y":function(t){return(t.Xb+1900).toString().substring(2)},"%Y":function(t){return t.Xb+1900},"%z":function(t){var e=0<=(t=t.Jc);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Mc},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](i)));return p=function(t){var e=Array(G(t)+1);return B(t,e,0,e.length),e}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(t,n){e().set(t,n>>>0)}(p,t),p.length-1)}ht.fc();var fe=[null,ft,bt,Et,Ct,xt,Rt,jt,kt,Dt,Pt,Ut,Ft,It,Wt,Ht,Lt,Bt,Gt,Vt,Qt,Kt,te,ee,ne,ie],pe={b:function(t){return de(t+24)+24},n:function(t){return(t=new St(t)).uc()||(t.hc(!0),Ot--),t.ic(!1),_t.push(t),t.sc(),t.vc()},ma:function(t){throw x("Unexpected exception thrown, this is not properly supported - aborting"),H=!0,t},x:function(){Se(0);var t=_t.pop();if(t.Hc()&&!t.kc()){var e=t.Dc();e&&gt(e)(t.Zb),Tt(t.Zb)}At=0},e:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},l:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},h:function(){var t=At;if(!t)return oe=0;var e=new St(t);e.cc(t);var n=e.bc();if(!n)return oe=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(xe(i,n,e.Sb+16))return oe=i,t}return oe=n,t},t:Tt,M:function(){var t=_t.pop();t||at("no exception to throw");var e=t.Zb;throw t.kc()||(_t.push(t),t.ic(!0),t.hc(!1),Ot++),At=e,e},c:function(t,e,n){throw new St(t).fc(e,n),At=t,Ot++,t},pa:function(){return Ot},Fa:function(t){ge(t,!w,1,!v),ht.pc()},T:function(t){O?postMessage({cmd:"cleanupThread",thread:t}):st(t)},xa:Mt,j:function(t){throw At||(At=t),t},H:Ct,Ma:xt,ua:Rt,wa:jt,oa:kt,Ka:Dt,Ca:Pt,Ja:Ut,V:Ft,va:It,sa:Wt,La:Ht,ta:Lt,Ta:function(){},X:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ua:function(){at("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},W:function(){return Date.now()},ya:function(){return 2097152},Oa:function(){return!0},za:function(t,e,n,r){if(t==e)setTimeout((()=>zt(r)));else if(O)postMessage({targetThread:t,cmd:"processProxyingQueue",queue:r});else{if(!(t=ht.Vb[t]))return;t.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},Ea:function(){return-1},Pa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getUTCSeconds(),a()[e+4>>2>>>0]=t.getUTCMinutes(),a()[e+8>>2>>>0]=t.getUTCHours(),a()[e+12>>2>>>0]=t.getUTCDate(),a()[e+16>>2>>>0]=t.getUTCMonth(),a()[e+20>>2>>>0]=t.getUTCFullYear()-1900,a()[e+24>>2>>>0]=t.getUTCDay(),t=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[e+28>>2>>>0]=t},Qa:function(t,e){t=new Date(1e3*Yt(t)),a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),a()[e+20>>2>>>0]=t.getFullYear()-1900,a()[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1),r=(t.getTime()-n.getTime())/864e5|0;a()[e+28>>2>>>0]=r,a()[e+36>>2>>>0]=-60*t.getTimezoneOffset(),r=new Date(t.getFullYear(),6,1).getTimezoneOffset(),t=0|(r!=(n=n.getTimezoneOffset())&&t.getTimezoneOffset()==Math.min(n,r)),a()[e+32>>2>>>0]=t},Ra:function(t){var e=new Date(a()[t+20>>2>>>0]+1900,a()[t+16>>2>>>0],a()[t+12>>2>>>0],a()[t+8>>2>>>0],a()[t+4>>2>>>0],a()[t>>2>>>0],0),n=a()[t+32>>2>>>0],r=e.getTimezoneOffset(),i=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),6,1).getTimezoneOffset(),u=i.getTimezoneOffset(),c=Math.min(u,o);return 0>n?a()[t+32>>2>>>0]=Number(o!=u&&c==r):0<n!=(c==r)&&(o=Math.max(u,o),e.setTime(e.getTime()+6e4*((0<n?c:o)-r))),a()[t+24>>2>>>0]=e.getDay(),n=(e.getTime()-i.getTime())/864e5|0,a()[t+28>>2>>>0]=n,a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},Aa:Bt,Ba:Gt,Sa:function t(e,n,r){t.Ac||(t.Ac=!0,Vt(e,n,r))},y:function(){at("")},U:function(){if(!_&&!w){var t="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";vt||(vt={}),vt[t]||(vt[t]=1,_&&(t="warning: "+t),x(t))}},ra:function(){return 4294901760},B:wt,Ia:function(t,e,n){r().copyWithin(t>>>0,e>>>0,e+n>>>0)},F:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},Da:function(t,e,n){Xt.length=e,n>>=3;for(var r=0;r<e;r++)Xt[r]=o()[n+r>>>0];return(0>t?ut[-t-1]:fe[t]).apply(null,Xt)},qa:function(t){var e=r().length;if((t>>>=0)<=e||4294901760<t)return!1;for(var n=1;4>=n;n*=2){var a=e*(1+.2/n);a=Math.min(a,t+100663296);var i=Math;a=Math.max(t,a),i=i.min.call(i,4294901760,a+(65536-a%65536)%65536);t:{try{j.grow(i-D.byteLength+65535>>>16),N(j.buffer);var o=1;break t}catch(t){}o=void 0}if(o)return!0}return!1},Na:function(){throw"unwind"},Ga:Qt,Ha:Kt,J:pt,I:te,S:ee,ga:ne,R:ie,d:function(){return oe},na:function t(r,a){t.lc||(t.lc=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(_)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>at("randomDevice")}());for(var i=0;i<a;i++)e()[r+i>>0>>>0]=t.lc();return 0},ia:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ja:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},K:function(t){var e=Ee();try{return gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},f:function(t,e){var n=Ee();try{return gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},P:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},Q:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},k:function(t,e,n){var r=Ee();try{return gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},p:function(t,e,n,r){var a=Ee();try{return gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},q:function(t,e,n,r,a){var i=Ee();try{return gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},N:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},s:function(t,e,n,r,a,i){var o=Ee();try{return gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},w:function(t,e,n,r,a,i,o){var u=Ee();try{return gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},L:function(t,e,n,r,a,i,o,u){var c=Ee();try{return gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},E:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{return gt(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=Ee();try{return He(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},_:function(t,e,n,r,a,i,o){var u=Ee();try{return ke(t,e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},Z:function(t,e,n,r,a){var i=Ee();try{return Le(t,e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},ca:function(t,e,n,r){var a=Ee();try{return Ie(t,e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},$:function(t){var e=Ee();try{return je(t)}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},ba:function(t,e){var n=Ee();try{return We(t,e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},Y:function(t,e,n){var r=Ee();try{return De(t,e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},g:function(t){var e=Ee();try{gt(t)()}catch(t){if(Me(e),t!==t+0)throw t;Se(1,0)}},r:function(t,e){var n=Ee();try{gt(t)(e)}catch(t){if(Me(n),t!==t+0)throw t;Se(1,0)}},i:function(t,e,n){var r=Ee();try{gt(t)(e,n)}catch(t){if(Me(r),t!==t+0)throw t;Se(1,0)}},ha:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},m:function(t,e,n,r){var a=Ee();try{gt(t)(e,n,r)}catch(t){if(Me(a),t!==t+0)throw t;Se(1,0)}},v:function(t,e,n,r,a){var i=Ee();try{gt(t)(e,n,r,a)}catch(t){if(Me(i),t!==t+0)throw t;Se(1,0)}},u:function(t,e,n,r,a,i){var o=Ee();try{gt(t)(e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},O:function(t,e,n,r,a,i,o){var u=Ee();try{gt(t)(e,n,r,a,i,o)}catch(t){if(Me(u),t!==t+0)throw t;Se(1,0)}},A:function(t,e,n,r,a,i,o,u){var c=Ee();try{gt(t)(e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},ka:function(t,e,n,r,a,i,o,u,c){var s=Ee();try{gt(t)(e,n,r,a,i,o,u,c)}catch(t){if(Me(s),t!==t+0)throw t;Se(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l){var f=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(Me(f),t!==t+0)throw t;Se(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=Ee();try{gt(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(Me(b),t!==t+0)throw t;Se(1,0)}},fa:function(t,e,n,r,a,i,o,u){var c=Ee();try{Pe(t,e,n,r,a,i,o,u)}catch(t){if(Me(c),t!==t+0)throw t;Se(1,0)}},da:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=Ee();try{Fe(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(Me(p),t!==t+0)throw t;Se(1,0)}},ea:function(t,e,n,r,a,i){var o=Ee();try{Ue(t,e,n,r,a,i)}catch(t){if(Me(o),t!==t+0)throw t;Se(1,0)}},o:function(t){return t},a:j||u.wasmMemory,G:function(t){oe=t},la:le,z:function(t,e,n,r){return le(t,e,n,r)}};!function(){function t(t,e){u.asm=t.exports,ht.qc.push(u.asm.sb),$=u.asm.ub,X.unshift(u.asm.Va),k=e,O||(et--,u.monitorRunDependencies&&u.monitorRunDependencies(et),0==et&&(null!==nt&&(clearInterval(nt),nt=null),rt&&(t=rt,rt=null,t())))}function e(e){t(e.instance,e.module)}function n(t){return function(){if(!M&&(v||w)){if("function"==typeof fetch&&!tt.startsWith("file://"))return fetch(tt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+tt+"\'";return t.arrayBuffer()})).catch((function(){return ot()}));if(f)return new Promise((function(t,e){f(tt,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return ot()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then((function(t){return t})).then(t,(function(t){x("failed to asynchronously prepare wasm: "+t),at(t)}))}var r={a:pe};if(O||(et++,u.monitorRunDependencies&&u.monitorRunDependencies(et)),u.instantiateWasm)try{return u.instantiateWasm(r,t)}catch(t){return x("Module.instantiateWasm callback failed with error: "+t),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||it()||tt.startsWith("file://")||_||"function"!=typeof fetch?n(e):fetch(tt,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(e,(function(t){return x("wasm streaming compile failed: "+t),x("falling back to ArrayBuffer instantiation"),n(e)}))}))).catch(s)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Va).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm.Wa).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.Xa).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.Ya).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.Za).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm._a).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.$a).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ab).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.bb).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.cb).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.db).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.eb).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.fb).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.gb).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.hb).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ib).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.jb).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.kb).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.lb).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.mb).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.nb).apply(null,arguments)};var he=u._pthread_self=function(){return(he=u._pthread_self=u.asm.ob).apply(null,arguments)},de=u._malloc=function(){return(de=u._malloc=u.asm.pb).apply(null,arguments)},ye=u._free=function(){return(ye=u._free=u.asm.qb).apply(null,arguments)},be=u._fflush=function(){return(be=u._fflush=u.asm.rb).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.sb).apply(null,arguments)};var me=u.___funcs_on_exit=function(){return(me=u.___funcs_on_exit=u.asm.tb).apply(null,arguments)},ge=u.__emscripten_thread_init=function(){return(ge=u.__emscripten_thread_init=u.asm.vb).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.wb).apply(null,arguments)};var ve,we=u._emscripten_run_in_main_runtime_thread_js=function(){return(we=u._emscripten_run_in_main_runtime_thread_js=u.asm.xb).apply(null,arguments)},_e=u.__emscripten_proxy_execute_task_queue=function(){return(_e=u.__emscripten_proxy_execute_task_queue=u.asm.yb).apply(null,arguments)},Oe=u.__emscripten_thread_free_data=function(){return(Oe=u.__emscripten_thread_free_data=u.asm.zb).apply(null,arguments)},Ae=u.__emscripten_thread_exit=function(){return(Ae=u.__emscripten_thread_exit=u.asm.Ab).apply(null,arguments)},Se=u._setThrew=function(){return(Se=u._setThrew=u.asm.Bb).apply(null,arguments)},Te=u._emscripten_stack_set_limits=function(){return(Te=u._emscripten_stack_set_limits=u.asm.Cb).apply(null,arguments)},Ee=u.stackSave=function(){return(Ee=u.stackSave=u.asm.Db).apply(null,arguments)},Me=u.stackRestore=function(){return(Me=u.stackRestore=u.asm.Eb).apply(null,arguments)},Ce=u.stackAlloc=function(){return(Ce=u.stackAlloc=u.asm.Fb).apply(null,arguments)},xe=u.___cxa_can_catch=function(){return(xe=u.___cxa_can_catch=u.asm.Gb).apply(null,arguments)},Re=u.___cxa_is_pointer_type=function(){return(Re=u.___cxa_is_pointer_type=u.asm.Hb).apply(null,arguments)},je=u.dynCall_j=function(){return(je=u.dynCall_j=u.asm.Ib).apply(null,arguments)},ke=u.dynCall_iiiiij=function(){return(ke=u.dynCall_iiiiij=u.asm.Jb).apply(null,arguments)},De=u.dynCall_jii=function(){return(De=u.dynCall_jii=u.asm.Kb).apply(null,arguments)},Pe=u.dynCall_viiiiij=function(){return(Pe=u.dynCall_viiiiij=u.asm.Lb).apply(null,arguments)},Ue=u.dynCall_vjji=function(){return(Ue=u.dynCall_vjji=u.asm.Mb).apply(null,arguments)},Fe=u.dynCall_viiijjjii=function(){return(Fe=u.dynCall_viiijjjii=u.asm.Nb).apply(null,arguments)},Ie=u.dynCall_iij=function(){return(Ie=u.dynCall_iij=u.asm.Ob).apply(null,arguments)},We=u.dynCall_ji=function(){return(We=u.dynCall_ji=u.asm.Pb).apply(null,arguments)},He=u.dynCall_iiiiiij=function(){return(He=u.dynCall_iiiiiij=u.asm.Qb).apply(null,arguments)},Le=u.dynCall_iiij=function(){return(Le=u.dynCall_iiij=u.asm.Rb).apply(null,arguments)};function ze(){function t(){if(!ve&&(ve=!0,u.calledRun=!0,!H)&&(O||dt(X),c(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var t=u.postRun.shift();Z.unshift(t)}dt(Z)}}if(!(0<et))if(O)c(u),O||dt(X),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)K();dt(q),0<et||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),t()}),1)):t())}}if(u.UTF8ToString=Y,u.stringToUTF8=function(t,e,n){return B(t,r(),e,n)},u.lengthBytesUTF8=G,u.keepRuntimeAlive=Q,u.wasmMemory=j,u.stackSave=Ee,u.stackRestore=Me,u.stackAlloc=Ce,u.ExitStatus=ct,u.PThread=ht,rt=function t(){ve||ze(),ve||(rt=t)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return ze(),t.ready});t.exports=r},932:(t,e,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(t){var e,r,a;t=t||{},e||(e=void 0!==t?t:{}),e.ready=new Promise((function(t,e){r=t,a=e}));var i,o,u,c,s,l,f=Object.assign({},e),p="./this.program",h=(t,e)=>{throw e},d="object"==typeof window,y="function"==typeof importScripts,b="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";b?(m=y?n(908).dirname(m)+"/":"//",l=()=>{s||(c=n(384),s=n(908))},i=function(t,e){return l(),t=s.normalize(t),c.readFileSync(t,e?void 0:"utf8")},u=t=>((t=i(t,!0)).buffer||(t=new Uint8Array(t)),t),o=(t,e,n)=>{l(),t=s.normalize(t),c.readFile(t,(function(t,r){t?n(t):e(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){if(!(t instanceof J))throw t})),process.on("unhandledRejection",(function(t){throw t})),h=(t,e)=>{if(_||0<L)throw process.exitCode=t,e;e instanceof J||w("exiting due to exception: "+e),process.exit(t)},e.inspect=function(){return"[Emscripten Module object]"}):(d||y)&&(y?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},y&&(u=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),o=(t,e,n)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?e(r.response):n()},r.onerror=n,r.send(null)});var g,v=e.print||console.log.bind(console),w=e.printErr||console.warn.bind(console);Object.assign(e,f),f=null,e.thisProgram&&(p=e.thisProgram),e.quit&&(h=e.quit),e.wasmBinary&&(g=e.wasmBinary);var _=e.noExitRuntime||!1;"object"!=typeof WebAssembly&&V("no native wasm support detected");var O,A,S,T,E,M,C=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(t,e,n){var r=(e>>>=0)+n;for(n=e;t[n]&&!(n>=r);)++n;if(16<n-e&&t.buffer&&x)return x.decode(t.subarray(e,n));for(r="";e<n;){var a=t[e++];if(128&a){var i=63&t[e++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&t[e++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&t[e++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function j(t,e){return(t>>>=0)?R(T,t,e):""}function k(t,e,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(n>=r)break;e[n++>>>0]=o}else{if(2047>=o){if(n+1>=r)break;e[n++>>>0]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;e[n++>>>0]=224|o>>12}else{if(n+3>=r)break;e[n++>>>0]=240|o>>18,e[n++>>>0]=128|o>>12&63}e[n++>>>0]=128|o>>6&63}e[n++>>>0]=128|63&o}}return e[n>>>0]=0,n-a}function D(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);127>=r?e++:2047>=r?e+=2:55296<=r&&57343>=r?(e+=4,++n):e+=3}return e}function P(){var t=O.buffer;A=t,e.HEAP8=S=new Int8Array(t),e.HEAP16=new Int16Array(t),e.HEAP32=E=new Int32Array(t),e.HEAPU8=T=new Uint8Array(t),e.HEAPU16=new Uint16Array(t),e.HEAPU32=M=new Uint32Array(t),e.HEAPF32=new Float32Array(t),e.HEAPF64=new Float64Array(t)}var U,F=[],I=[],W=[],H=[],L=0;function z(){var t=e.preRun.shift();F.unshift(t)}var Y,B=0,G=null,N=null;function V(t){throw e.onAbort&&e.onAbort(t),w(t="Aborted("+t+")"),C=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),a(t),t}function $(){return Y.startsWith("data:application/octet-stream;base64,")}if(Y="ort-wasm.wasm",!$()){var q=Y;Y=e.locateFile?e.locateFile(q,m):m+q}function X(){var t=Y;try{if(t==Y&&g)return new Uint8Array(g);if(u)return u(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function J(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Z(t){for(;0<t.length;)t.shift()(e)}var Q=[],K=0,tt=0;function et(t){this.Db=t,this.zb=t-24,this.Ub=function(t){M[this.zb+4>>2>>>0]=t},this.Eb=function(){return M[this.zb+4>>2>>>0]},this.Sb=function(t){M[this.zb+8>>2>>>0]=t},this.Wb=function(){return M[this.zb+8>>2>>>0]},this.Tb=function(){E[this.zb>>2>>>0]=0},this.Ib=function(t){S[this.zb+12>>0>>>0]=t?1:0},this.Pb=function(){return 0!=S[this.zb+12>>0>>>0]},this.Jb=function(t){S[this.zb+13>>0>>>0]=t?1:0},this.Lb=function(){return 0!=S[this.zb+13>>0>>>0]},this.Rb=function(t,e){this.Fb(0),this.Ub(t),this.Sb(e),this.Tb(),this.Ib(!1),this.Jb(!1)},this.Nb=function(){E[this.zb>>2>>>0]+=1},this.Xb=function(){var t=E[this.zb>>2>>>0];return E[this.zb>>2>>>0]=t-1,1===t},this.Fb=function(t){M[this.zb+16>>2>>>0]=t},this.Ob=function(){return M[this.zb+16>>2>>>0]},this.Qb=function(){if(Mt(this.Eb()))return M[this.Db>>2>>>0];var t=this.Ob();return 0!==t?t:this.Db}}function nt(t){return vt(new et(t).zb)}var rt=[];function at(t){var e=rt[t];return e||(t>=rt.length&&(rt.length=t+1),rt[t]=e=U.get(t)),e}function it(t){var e=D(t)+1,n=gt(e);return n&&k(t,S,n,e),n}var ot={};function ut(){if(!ct){var t,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(t in ot)void 0===ot[t]?delete e[t]:e[t]=ot[t];var n=[];for(t in e)n.push(t+"="+e[t]);ct=n}return ct}var ct,st=[null,[],[]];function lt(t,e){var n=st[t];0===e||10===e?((1===t?v:w)(R(n,0)),n.length=0):n.push(e)}var ft=0;function pt(t){return 0==t%4&&(0!=t%100||0==t%400)}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function yt(t,e,n,r){function a(t,e,n){for(t="number"==typeof t?t.toString():t||"";t.length<e;)t=n[0]+t;return t}function i(t,e){return a(t,e,"0")}function o(t,e){function n(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function u(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function c(t){var e=t.Bb;for(t=new Date(new Date(t.Cb+1900,0,1).getTime());0<e;){var n=t.getMonth(),r=(pt(t.getFullYear())?ht:dt)[n];if(!(e>r-t.getDate())){t.setDate(t.getDate()+e);break}e-=r-t.getDate()+1,t.setDate(1),11>n?t.setMonth(n+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return n=new Date(t.getFullYear()+1,0,4),e=u(new Date(t.getFullYear(),0,4)),n=u(n),0>=o(e,t)?0>=o(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=E[r+40>>2>>>0];for(var l in r={$b:E[r>>2>>>0],Zb:E[r+4>>2>>>0],Gb:E[r+8>>2>>>0],Kb:E[r+12>>2>>>0],Hb:E[r+16>>2>>>0],Cb:E[r+20>>2>>>0],Ab:E[r+24>>2>>>0],Bb:E[r+28>>2>>>0],bc:E[r+32>>2>>>0],Yb:E[r+36>>2>>>0],ac:s?j(s):""},n=j(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),s[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in s={"%a":function(t){return f[t.Ab].substring(0,3)},"%A":function(t){return f[t.Ab]},"%b":function(t){return p[t.Hb].substring(0,3)},"%B":function(t){return p[t.Hb]},"%C":function(t){return i((t.Cb+1900)/100|0,2)},"%d":function(t){return i(t.Kb,2)},"%e":function(t){return a(t.Kb,2," ")},"%g":function(t){return c(t).toString().substring(2)},"%G":function(t){return c(t)},"%H":function(t){return i(t.Gb,2)},"%I":function(t){return 0==(t=t.Gb)?t=12:12<t&&(t-=12),i(t,2)},"%j":function(t){for(var e=0,n=0;n<=t.Hb-1;e+=(pt(t.Cb+1900)?ht:dt)[n++]);return i(t.Kb+e,3)},"%m":function(t){return i(t.Hb+1,2)},"%M":function(t){return i(t.Zb,2)},"%n":function(){return"\\n"},"%p":function(t){return 0<=t.Gb&&12>t.Gb?"AM":"PM"},"%S":function(t){return i(t.$b,2)},"%t":function(){return"\\t"},"%u":function(t){return t.Ab||7},"%U":function(t){return i(Math.floor((t.Bb+7-t.Ab)/7),2)},"%V":function(t){var e=Math.floor((t.Bb+7-(t.Ab+6)%7)/7);if(2>=(t.Ab+371-t.Bb-2)%7&&e++,e)53==e&&(4==(n=(t.Ab+371-t.Bb)%7)||3==n&&pt(t.Cb)||(e=1));else{e=52;var n=(t.Ab+7-t.Bb-1)%7;(4==n||5==n&&pt(t.Cb%400-1))&&e++}return i(e,2)},"%w":function(t){return t.Ab},"%W":function(t){return i(Math.floor((t.Bb+7-(t.Ab+6)%7)/7),2)},"%y":function(t){return(t.Cb+1900).toString().substring(2)},"%Y":function(t){return t.Cb+1900},"%z":function(t){var e=0<=(t=t.Yb);return t=Math.abs(t)/60,(e?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.ac},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),s)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),s[l](r)));return l=function(t){var e=Array(D(t)+1);return k(t,e,0,e.length),e}(n=n.replace(/\\0\\0/g,"%")),l.length>e?0:(S.set(l,t>>>0),l.length-1)}var bt={a:function(t){return gt(t+24)+24},m:function(t){return(t=new et(t)).Pb()||(t.Ib(!0),K--),t.Jb(!1),Q.push(t),t.Nb(),t.Qb()},ia:function(t){throw w("Unexpected exception thrown, this is not properly supported - aborting"),C=!0,t},w:function(){Ot(0);var t=Q.pop();if(t.Xb()&&!t.Lb()){var e=t.Wb();e&&at(e)(t.Db),nt(t.Db)}tt=0},d:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},k:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},g:function(){var t=tt;if(!t)return ft=0;var e=new et(t);e.Fb(t);var n=e.Eb();if(!n)return ft=0,t;for(var r=Array.prototype.slice.call(arguments),a=0;a<r.length;a++){var i=r[a];if(0===i||i===n)break;if(Et(i,n,e.zb+16))return ft=i,t}return ft=n,t},s:nt,L:function(){var t=Q.pop();t||V("no exception to throw");var e=t.Db;throw t.Lb()||(Q.push(t),t.Jb(!0),t.Ib(!1),K++),tt=e,e},b:function(t,e,n){throw new et(t).Rb(e,n),tt=t,K++,t},la:function(){return K},i:function(t){throw tt||(tt=t),t},H:function(){return 0},Ba:function(){},pa:function(){},ra:function(){},ka:function(){return 0},za:function(){},ua:function(){},ya:function(){},R:function(){},qa:function(){},na:function(){},Aa:function(){},oa:function(){},Ha:function(){},Ja:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Ia:function(){V("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},S:function(){return Date.now()},Ca:function(){return!0},Da:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getUTCSeconds(),E[e+4>>2>>>0]=t.getUTCMinutes(),E[e+8>>2>>>0]=t.getUTCHours(),E[e+12>>2>>>0]=t.getUTCDate(),E[e+16>>2>>>0]=t.getUTCMonth(),E[e+20>>2>>>0]=t.getUTCFullYear()-1900,E[e+24>>2>>>0]=t.getUTCDay(),E[e+28>>2>>>0]=(t.getTime()-Date.UTC(t.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},Ea:function(t,e){t=new Date(1e3*(M[t>>>2]+4294967296*E[t+4>>>2])),E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),E[e+20>>2>>>0]=t.getFullYear()-1900,E[e+24>>2>>>0]=t.getDay();var n=new Date(t.getFullYear(),0,1);E[e+28>>2>>>0]=(t.getTime()-n.getTime())/864e5|0,E[e+36>>2>>>0]=-60*t.getTimezoneOffset();var r=new Date(t.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[e+32>>2>>>0]=0|(r!=n&&t.getTimezoneOffset()==Math.min(n,r))},Fa:function(t){var e=new Date(E[t+20>>2>>>0]+1900,E[t+16>>2>>>0],E[t+12>>2>>>0],E[t+8>>2>>>0],E[t+4>>2>>>0],E[t>>2>>>0],0),n=E[t+32>>2>>>0],r=e.getTimezoneOffset(),a=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1).getTimezoneOffset(),o=a.getTimezoneOffset(),u=Math.min(o,i);return 0>n?E[t+32>>2>>>0]=Number(i!=o&&u==r):0<n!=(u==r)&&(i=Math.max(o,i),e.setTime(e.getTime()+6e4*((0<n?u:i)-r))),E[t+24>>2>>>0]=e.getDay(),E[t+28>>2>>>0]=(e.getTime()-a.getTime())/864e5|0,E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),e.getTime()/1e3|0},sa:function(){return-52},ta:function(){},Ga:function t(e,n,r){t.Vb||(t.Vb=!0,function(t,e,n){function r(t){return(t=t.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?t[1]:"GMT"}var a=(new Date).getFullYear(),i=new Date(a,0,1),o=new Date(a,6,1);a=i.getTimezoneOffset();var u=o.getTimezoneOffset();E[t>>2>>>0]=60*Math.max(a,u),E[e>>2>>>0]=Number(a!=u),t=r(i),e=r(o),t=it(t),e=it(e),u<a?(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e):(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t)}(e,n,r))},B:function(){V("")},ma:function(){return 4294901760},I:b?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),xa:function(t,e,n){T.copyWithin(t>>>0,e>>>0,e+n>>>0)},G:function(t){var e=T.length;if(4294901760<(t>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var a=Math;r=Math.max(t,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);t:{try{O.grow(a-A.byteLength+65535>>>16),P();var i=1;break t}catch(t){}i=void 0}if(i)return!0}return!1},va:function(t,e){var n=0;return ut().forEach((function(r,a){var i=e+n;for(a=M[t+4*a>>2>>>0]=i,i=0;i<r.length;++i)S[a++>>0>>>0]=r.charCodeAt(i);S[a>>0>>>0]=0,n+=r.length+1})),0},wa:function(t,e){var n=ut();M[t>>2>>>0]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),M[e>>2>>>0]=r,0},ba:function(t){_||0<L||(_t(),Z(W),wt(0),st[1].length&&lt(1,10),st[2].length&&lt(2,10)),_||0<L||(e.onExit&&e.onExit(t),C=!0),h(t,new J(t))},E:function(){return 52},Q:function(){return 52},ca:function(){return 70},P:function(t,e,n,r){for(var a=0,i=0;i<n;i++){var o=M[e>>2>>>0],u=M[e+4>>2>>>0];e+=8;for(var c=0;c<u;c++)lt(t,T[o+c>>>0]);a+=u}return M[r>>2>>>0]=a,0},c:function(){return ft},ja:function t(e,r){t.Mb||(t.Mb=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);return()=>(crypto.getRandomValues(t),t[0])}if(b)try{var e=n(Object(function(){var t=new Error("Cannot find module \'crypto\'");throw t.code="MODULE_NOT_FOUND",t}()));return()=>e.randomBytes(1)[0]}catch(t){}return()=>V("randomDevice")}());for(var a=0;a<r;a++)S[e+a>>0>>>0]=t.Mb();return 0},ea:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},fa:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},J:function(t){var e=At();try{return at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},e:function(t,e){var n=At();try{return at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},N:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},O:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},j:function(t,e,n){var r=At();try{return at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},o:function(t,e,n,r){var a=At();try{return at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},p:function(t,e,n,r,a){var i=At();try{return at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},M:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},r:function(t,e,n,r,a,i){var o=At();try{return at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},v:function(t,e,n,r,a,i,o){var u=At();try{return at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},K:function(t,e,n,r,a,i,o,u){var c=At();try{return at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},D:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{return at(t)(e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},X:function(t,e,n,r,a,i,o,u){var c=At();try{return Ft(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},V:function(t,e,n,r,a,i,o){var u=At();try{return xt(t,e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},U:function(t,e,n,r,a){var i=At();try{return It(t,e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},Z:function(t,e,n,r){var a=At();try{return Pt(t,e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},W:function(t){var e=At();try{return Ct(t)}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},Y:function(t,e){var n=At();try{return Ut(t,e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},T:function(t,e,n){var r=At();try{return Rt(t,e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},f:function(t){var e=At();try{at(t)()}catch(t){if(St(e),t!==t+0)throw t;Ot(1,0)}},q:function(t,e){var n=At();try{at(t)(e)}catch(t){if(St(n),t!==t+0)throw t;Ot(1,0)}},h:function(t,e,n){var r=At();try{at(t)(e,n)}catch(t){if(St(r),t!==t+0)throw t;Ot(1,0)}},da:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},l:function(t,e,n,r){var a=At();try{at(t)(e,n,r)}catch(t){if(St(a),t!==t+0)throw t;Ot(1,0)}},t:function(t,e,n,r,a){var i=At();try{at(t)(e,n,r,a)}catch(t){if(St(i),t!==t+0)throw t;Ot(1,0)}},u:function(t,e,n,r,a,i){var o=At();try{at(t)(e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},x:function(t,e,n,r,a,i,o){var u=At();try{at(t)(e,n,r,a,i,o)}catch(t){if(St(u),t!==t+0)throw t;Ot(1,0)}},z:function(t,e,n,r,a,i,o,u){var c=At();try{at(t)(e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},ga:function(t,e,n,r,a,i,o,u,c){var s=At();try{at(t)(e,n,r,a,i,o,u,c)}catch(t){if(St(s),t!==t+0)throw t;Ot(1,0)}},A:function(t,e,n,r,a,i,o,u,c,s,l){var f=At();try{at(t)(e,n,r,a,i,o,u,c,s,l)}catch(t){if(St(f),t!==t+0)throw t;Ot(1,0)}},C:function(t,e,n,r,a,i,o,u,c,s,l,f,p,h,d,y){var b=At();try{at(t)(e,n,r,a,i,o,u,c,s,l,f,p,h,d,y)}catch(t){if(St(b),t!==t+0)throw t;Ot(1,0)}},aa:function(t,e,n,r,a,i,o,u){var c=At();try{jt(t,e,n,r,a,i,o,u)}catch(t){if(St(c),t!==t+0)throw t;Ot(1,0)}},_:function(t,e,n,r,a,i,o,u,c,s,l,f){var p=At();try{Dt(t,e,n,r,a,i,o,u,c,s,l,f)}catch(t){if(St(p),t!==t+0)throw t;Ot(1,0)}},$:function(t,e,n,r,a,i){var o=At();try{kt(t,e,n,r,a,i)}catch(t){if(St(o),t!==t+0)throw t;Ot(1,0)}},n:function(t){return t},F:function(t){ft=t},ha:yt,y:function(t,e,n,r){return yt(t,e,n,r)}};!function(){function t(t){e.asm=t.exports,O=e.asm.Ka,P(),U=e.asm.ib,I.unshift(e.asm.La),B--,e.monitorRunDependencies&&e.monitorRunDependencies(B),0==B&&(null!==G&&(clearInterval(G),G=null),N&&(t=N,N=null,t()))}function n(e){t(e.instance)}function r(t){return function(){if(!g&&(d||y)){if("function"==typeof fetch&&!Y.startsWith("file://"))return fetch(Y,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at \'"+Y+"\'";return t.arrayBuffer()})).catch((function(){return X()}));if(o)return new Promise((function(t,e){o(Y,(function(e){t(new Uint8Array(e))}),e)}))}return Promise.resolve().then((function(){return X()}))}().then((function(t){return WebAssembly.instantiate(t,i)})).then((function(t){return t})).then(t,(function(t){w("failed to asynchronously prepare wasm: "+t),V(t)}))}var i={a:bt};if(B++,e.monitorRunDependencies&&e.monitorRunDependencies(B),e.instantiateWasm)try{return e.instantiateWasm(i,t)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||$()||Y.startsWith("file://")||b||"function"!=typeof fetch?r(n):fetch(Y,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,i).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.La).apply(null,arguments)},e._OrtInit=function(){return(e._OrtInit=e.asm.Ma).apply(null,arguments)},e._OrtCreateSessionOptions=function(){return(e._OrtCreateSessionOptions=e.asm.Na).apply(null,arguments)},e._OrtAppendExecutionProvider=function(){return(e._OrtAppendExecutionProvider=e.asm.Oa).apply(null,arguments)},e._OrtAddSessionConfigEntry=function(){return(e._OrtAddSessionConfigEntry=e.asm.Pa).apply(null,arguments)},e._OrtReleaseSessionOptions=function(){return(e._OrtReleaseSessionOptions=e.asm.Qa).apply(null,arguments)},e._OrtCreateSession=function(){return(e._OrtCreateSession=e.asm.Ra).apply(null,arguments)},e._OrtReleaseSession=function(){return(e._OrtReleaseSession=e.asm.Sa).apply(null,arguments)},e._OrtGetInputCount=function(){return(e._OrtGetInputCount=e.asm.Ta).apply(null,arguments)},e._OrtGetOutputCount=function(){return(e._OrtGetOutputCount=e.asm.Ua).apply(null,arguments)},e._OrtGetInputName=function(){return(e._OrtGetInputName=e.asm.Va).apply(null,arguments)},e._OrtGetOutputName=function(){return(e._OrtGetOutputName=e.asm.Wa).apply(null,arguments)},e._OrtFree=function(){return(e._OrtFree=e.asm.Xa).apply(null,arguments)},e._OrtCreateTensor=function(){return(e._OrtCreateTensor=e.asm.Ya).apply(null,arguments)},e._OrtGetTensorData=function(){return(e._OrtGetTensorData=e.asm.Za).apply(null,arguments)},e._OrtReleaseTensor=function(){return(e._OrtReleaseTensor=e.asm._a).apply(null,arguments)},e._OrtCreateRunOptions=function(){return(e._OrtCreateRunOptions=e.asm.$a).apply(null,arguments)},e._OrtAddRunConfigEntry=function(){return(e._OrtAddRunConfigEntry=e.asm.ab).apply(null,arguments)},e._OrtReleaseRunOptions=function(){return(e._OrtReleaseRunOptions=e.asm.bb).apply(null,arguments)},e._OrtRun=function(){return(e._OrtRun=e.asm.cb).apply(null,arguments)},e._OrtEndProfiling=function(){return(e._OrtEndProfiling=e.asm.db).apply(null,arguments)};var mt,gt=e._malloc=function(){return(gt=e._malloc=e.asm.eb).apply(null,arguments)},vt=e._free=function(){return(vt=e._free=e.asm.fb).apply(null,arguments)},wt=e._fflush=function(){return(wt=e._fflush=e.asm.gb).apply(null,arguments)},_t=e.___funcs_on_exit=function(){return(_t=e.___funcs_on_exit=e.asm.hb).apply(null,arguments)},Ot=e._setThrew=function(){return(Ot=e._setThrew=e.asm.jb).apply(null,arguments)},At=e.stackSave=function(){return(At=e.stackSave=e.asm.kb).apply(null,arguments)},St=e.stackRestore=function(){return(St=e.stackRestore=e.asm.lb).apply(null,arguments)},Tt=e.stackAlloc=function(){return(Tt=e.stackAlloc=e.asm.mb).apply(null,arguments)},Et=e.___cxa_can_catch=function(){return(Et=e.___cxa_can_catch=e.asm.nb).apply(null,arguments)},Mt=e.___cxa_is_pointer_type=function(){return(Mt=e.___cxa_is_pointer_type=e.asm.ob).apply(null,arguments)},Ct=e.dynCall_j=function(){return(Ct=e.dynCall_j=e.asm.pb).apply(null,arguments)},xt=e.dynCall_iiiiij=function(){return(xt=e.dynCall_iiiiij=e.asm.qb).apply(null,arguments)},Rt=e.dynCall_jii=function(){return(Rt=e.dynCall_jii=e.asm.rb).apply(null,arguments)},jt=e.dynCall_viiiiij=function(){return(jt=e.dynCall_viiiiij=e.asm.sb).apply(null,arguments)},kt=e.dynCall_vjji=function(){return(kt=e.dynCall_vjji=e.asm.tb).apply(null,arguments)},Dt=e.dynCall_viiijjjii=function(){return(Dt=e.dynCall_viiijjjii=e.asm.ub).apply(null,arguments)},Pt=e.dynCall_iij=function(){return(Pt=e.dynCall_iij=e.asm.vb).apply(null,arguments)},Ut=e.dynCall_ji=function(){return(Ut=e.dynCall_ji=e.asm.wb).apply(null,arguments)},Ft=e.dynCall_iiiiiij=function(){return(Ft=e.dynCall_iiiiiij=e.asm.xb).apply(null,arguments)},It=e.dynCall_iiij=function(){return(It=e.dynCall_iiij=e.asm.yb).apply(null,arguments)};function Wt(){function t(){if(!mt&&(mt=!0,e.calledRun=!0,!C)){if(Z(I),r(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;){var t=e.postRun.shift();H.unshift(t)}Z(H)}}if(!(0<B)){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)z();Z(F),0<B||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),t()}),1)):t())}}if(e.UTF8ToString=j,e.stringToUTF8=function(t,e,n){return k(t,T,e,n)},e.lengthBytesUTF8=D,e.stackSave=At,e.stackRestore=St,e.stackAlloc=Tt,N=function t(){mt||Wt(),mt||(N=t)},e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);0<e.preInit.length;)e.preInit.pop()();return Wt(),t.ready});t.exports=r},967:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iterateExtraOptions=void 0,e.iterateExtraOptions=(t,n,r,a)=>{if("object"==typeof t&&null!==t){if(r.has(t))throw new Error("Circular reference in options");r.add(t)}Object.entries(t).forEach((([t,i])=>{const o=n?n+t:t;if("object"==typeof i)(0,e.iterateExtraOptions)(i,o+".",r,a);else if("string"==typeof i||"number"==typeof i)a(o,i.toString());else{if("boolean"!=typeof i)throw new Error("Can\'t handle extra config type: "+typeof i);a(o,i?"1":"0")}}))}},586:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setRunOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setRunOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};try{if(void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);void 0===(null==t?void 0:t.terminate)&&(u.terminate=!1);let i=0;if(void 0!==(null==t?void 0:t.tag)&&(i=(0,a.allocWasmString)(t.tag,o)),n=e._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,i),0===n)throw new Error("Can\'t create run options");return void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddRunConfigEntry(n,i,u))throw new Error(`Can\'t set a run config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseRunOptions(n),o.forEach(e._free),t}}},919:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSessionOptions=void 0;const r=n(967),a=n(983),i=n(361);e.setSessionOptions=t=>{const e=(0,i.getInstance)();let n=0;const o=[],u=t||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==t?void 0:t.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const c=(t=>{switch(t){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${t}`)}})(u.graphOptimizationLevel);void 0===(null==t?void 0:t.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==t?void 0:t.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==t?void 0:t.executionMode)&&(u.executionMode="sequential");const s=(t=>{switch(t){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${t}`)}})(u.executionMode);let l=0;if(void 0!==(null==t?void 0:t.logId)&&(l=(0,a.allocWasmString)(t.logId,o)),void 0===(null==t?void 0:t.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof t.logSeverityLevel||!Number.isInteger(t.logSeverityLevel)||t.logSeverityLevel<0||t.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${t.logSeverityLevel}`);if(void 0===(null==t?void 0:t.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof t.logVerbosityLevel||!Number.isInteger(t.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${t.logVerbosityLevel}`);if(void 0===(null==t?void 0:t.enableProfiling)&&(u.enableProfiling=!1),n=e._OrtCreateSessionOptions(c,!!u.enableCpuMemArena,!!u.enableMemPattern,s,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==t?void 0:t.executionProviders)&&((t,e,n)=>{for(const r of e){let e="string"==typeof r?r:r.name;switch(e){case"xnnpack":e="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${e}`)}const o=(0,a.allocWasmString)(e,n);if(0!==(0,i.getInstance)()._OrtAppendExecutionProvider(t,o))throw new Error(`Can\'t append execution provider: ${e}`)}})(n,t.executionProviders,o),void 0!==(null==t?void 0:t.extra)&&(0,r.iterateExtraOptions)(t.extra,"",new WeakSet,((t,r)=>{const i=(0,a.allocWasmString)(t,o),u=(0,a.allocWasmString)(r,o);if(0!==e._OrtAddSessionConfigEntry(n,i,u))throw new Error(`Can\'t set a session config entry: ${t} - ${r}`)})),[n,o]}catch(t){throw 0!==n&&e._OrtReleaseSessionOptions(n),o.forEach(e._free),t}}},983:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allocWasmString=void 0;const r=n(361);e.allocWasmString=(t,e)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(t)+1,i=n._malloc(a);return n.stringToUTF8(t,i,a),e.push(i),i}},349:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractTransferableBuffers=e.endProfiling=e.run=e.releaseSession=e.createSession=e.createSessionFinalize=e.createSessionAllocate=e.initOrt=void 0;const r=n(586),a=n(919),i=n(983),o=n(361);e.initOrt=(t,e)=>{const n=(0,o.getInstance)()._OrtInit(t,e);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;e.createSessionAllocate=t=>{const e=(0,o.getInstance)(),n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),[n,t.byteLength]},e.createSessionFinalize=(t,e)=>{const n=(0,o.getInstance)();let r=0,i=0,c=[];try{if([i,c]=(0,a.setSessionOptions)(e),r=n._OrtCreateSession(t[0],t[1],i),0===r)throw new Error("Can\'t create a session")}finally{n._free(t[0]),n._OrtReleaseSessionOptions(i),c.forEach(n._free)}const s=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],h=[],d=[];for(let t=0;t<s;t++){const e=n._OrtGetInputName(r,t);if(0===e)throw new Error("Can\'t get an input name");p.push(e),f.push(n.UTF8ToString(e))}for(let t=0;t<l;t++){const e=n._OrtGetOutputName(r,t);if(0===e)throw new Error("Can\'t get an output name");d.push(e),h.push(n.UTF8ToString(e))}return u.set(r,[r,p,d]),[r,f,h]},e.createSession=(t,n)=>{const r=(0,e.createSessionAllocate)(t);return(0,e.createSessionFinalize)(r,n)},e.releaseSession=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],i=n[2];a.forEach(e._OrtFree),i.forEach(e._OrtFree),e._OrtReleaseSession(r),u.delete(t)};const c=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},l=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};e.run=(t,e,n,a,f)=>{const p=(0,o.getInstance)(),h=u.get(t);if(!h)throw new Error("invalid session id");const d=h[0],y=h[1],b=h[2],m=e.length,g=a.length;let v=0,w=[];const _=[],O=[];try{[v,w]=(0,r.setRunOptions)(f);for(let t=0;t<m;t++){const e=n[t][0],r=n[t][1],a=n[t][2];let o,u;if(Array.isArray(a)){u=4*a.length,o=p._malloc(u),O.push(o);let t=o/4;for(let e=0;e<a.length;e++){if("string"!=typeof a[e])throw new TypeError(`tensor data at index ${e} is not a string`);p.HEAPU32[t++]=(0,i.allocWasmString)(a[e],O)}}else u=a.byteLength,o=p._malloc(u),O.push(o),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),o);const s=p.stackSave(),l=p.stackAlloc(4*r.length);try{let t=l/4;r.forEach((e=>p.HEAP32[t++]=e));const n=p._OrtCreateTensor(c(e),o,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");_.push(n)}finally{p.stackRestore(s)}}const t=p.stackSave(),o=p.stackAlloc(4*m),u=p.stackAlloc(4*m),h=p.stackAlloc(4*g),A=p.stackAlloc(4*g);try{let n=o/4,r=u/4,i=h/4,c=A/4;for(let t=0;t<m;t++)p.HEAPU32[n++]=_[t],p.HEAPU32[r++]=y[e[t]];for(let t=0;t<g;t++)p.HEAPU32[i++]=0,p.HEAPU32[c++]=b[a[t]];let f=p._OrtRun(d,u,o,m,A,g,h,v);const w=[];if(0===f)for(let t=0;t<g;t++){const e=p.HEAPU32[h/4+t],n=p.stackSave(),r=p.stackAlloc(16);let a,i=0;try{if(f=p._OrtGetTensorData(e,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let t=r/4;const o=p.HEAPU32[t++];i=p.HEAPU32[t++];const u=p.HEAPU32[t++],c=p.HEAPU32[t++],h=[];for(let t=0;t<c;t++)h.push(p.HEAPU32[u/4+t]);p._OrtFree(u);const d=0===h.length?1:h.reduce(((t,e)=>t*e));if(a=s(o),"string"===a){const t=[];let e=i/4;for(let n=0;n<d;n++){const r=p.HEAPU32[e++],a=n===d-1?void 0:p.HEAPU32[e]-r;t.push(p.UTF8ToString(r,a))}w.push([a,h,t])}else{const t=new(l(a))(d);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(p.HEAPU8.subarray(i,i+t.byteLength)),w.push([a,h,t])}}finally{p.stackRestore(n),"string"===a&&i&&p._free(i),p._OrtReleaseTensor(e)}}if(0===f)return w;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(t)}}finally{_.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(v),w.forEach(p._free)}},e.endProfiling=t=>{const e=(0,o.getInstance)(),n=u.get(t);if(!n)throw new Error("invalid session id");const r=n[0],a=e._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");e._OrtFree(a)},e.extractTransferableBuffers=t=>{const e=[];for(const n of t){const t=n[2];!Array.isArray(t)&&t.buffer&&e.push(t.buffer)}return e}},361:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(e,n);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,a)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return a(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.getInstance=e.initializeWebAssembly=void 0;const u=i(n(449)),c=o(n(932)),s=n(474);let l,f=!1,p=!1,h=!1;const d=(t,e)=>e?t?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":t?"ort-wasm-simd.wasm":"ort-wasm.wasm";e.initializeWebAssembly=async t=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(h)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const e=t.initTimeout,r=t.numThreads,a=t.simd,i=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(t){return!1}})(),o=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(t){return!1}})(),y="string"==typeof t.wasmPaths?t.wasmPaths:void 0,b=d(!1,i),m=d(o,i),g="object"==typeof t.wasmPaths?t.wasmPaths[m]:void 0;let v=!1;const w=[];if(e>0&&w.push(new Promise((t=>{setTimeout((()=>{v=!0,t()}),e)}))),w.push(new Promise(((t,e)=>{const r=i?s:c.default,a={locateFile:(t,e)=>i&&t.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):t===b?null!=g?g:(null!=y?y:e)+m:e+t};if(i)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const t=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([t],{type:"text/javascript"})}r(a).then((e=>{p=!1,f=!0,l=e,t()}),(t=>{p=!1,h=!0,e(t)}))}))),await Promise.race(w),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${e}ms`)},e.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},e.dispose=()=>{var t;!f||p||h||(p=!0,null===(t=l.PThread)||void 0===t||t.terminateAllThreads(),l=void 0,p=!1,f=!1,h=!0)}},154:t=>{"use strict";t.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";const t=n(349),e=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,e.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(t=>postMessage({type:"init-wasm",err:t})));break;case"init-ort":try{const{numThreads:e,loggingLevel:r}=n.data.in;(0,t.initOrt)(e,r),postMessage({type:"init-ort"})}catch(t){postMessage({type:"init-ort",err:t})}break;case"create_allocate":try{const{model:e}=n.data.in,r=(0,t.createSessionAllocate)(e);postMessage({type:"create_allocate",out:r})}catch(t){postMessage({type:"create_allocate",err:t})}break;case"create_finalize":try{const{modeldata:e,options:r}=n.data.in,a=(0,t.createSessionFinalize)(e,r);postMessage({type:"create_finalize",out:a})}catch(t){postMessage({type:"create_finalize",err:t})}break;case"create":try{const{model:e,options:r}=n.data.in,a=(0,t.createSession)(e,r);postMessage({type:"create",out:a})}catch(t){postMessage({type:"create",err:t})}break;case"release":try{const e=n.data.in;(0,t.releaseSession)(e),postMessage({type:"release"})}catch(t){postMessage({type:"release",err:t})}break;case"run":try{const{sessionId:e,inputIndices:r,inputs:a,outputIndices:i,options:o}=n.data.in,u=(0,t.run)(e,r,a,i,o);postMessage({type:"run",out:u},(0,t.extractTransferableBuffers)(u))}catch(t){postMessage({type:"run",err:t})}break;case"end-profiling":try{const e=n.data.in;(0,t.endProfiling)(e),postMessage({type:"end-profiling"})}catch(t){postMessage({type:"end-profiling",err:t})}}}})()})();\n',"Worker",void 0,void 0)}},477:_e=>{_e.exports=function(_,et,tt,rt){var nt=self||window;try{try{var it;try{it=new nt.Blob([_])}catch{(it=new(nt.BlobBuilder||nt.WebKitBlobBuilder||nt.MozBlobBuilder||nt.MSBlobBuilder)).append(_),it=it.getBlob()}var at=nt.URL||nt.webkitURL,lt=at.createObjectURL(it),ct=new nt[et](lt,tt);return at.revokeObjectURL(lt),ct}catch{return new nt[et]("data:application/javascript,".concat(encodeURIComponent(_)),tt)}}catch{if(!rt)throw Error("Inline worker is not supported");return new nt[et](rt,tt)}}},4154:_e=>{_e.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},1670:_e=>{_e.exports=__WEBPACK_EXTERNAL_MODULE__1670__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(_e,_,et)=>{et.r(_),et.d(_,{flatbuffers:()=>tt});var tt={};tt.Offset,tt.Table,tt.SIZEOF_SHORT=2,tt.SIZEOF_INT=4,tt.FILE_IDENTIFIER_LENGTH=4,tt.SIZE_PREFIX_LENGTH=4,tt.Encoding={UTF8_BYTES:1,UTF16_STRING:2},tt.int32=new Int32Array(2),tt.float32=new Float32Array(tt.int32.buffer),tt.float64=new Float64Array(tt.int32.buffer),tt.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,tt.Long=function(rt,nt){this.low=0|rt,this.high=0|nt},tt.Long.create=function(rt,nt){return rt==0&&nt==0?tt.Long.ZERO:new tt.Long(rt,nt)},tt.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},tt.Long.prototype.equals=function(rt){return this.low==rt.low&&this.high==rt.high},tt.Long.ZERO=new tt.Long(0,0),tt.Builder=function(rt){if(rt)nt=rt;else var nt=1024;this.bb=tt.ByteBuffer.allocate(nt),this.space=nt,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},tt.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},tt.Builder.prototype.forceDefaults=function(rt){this.force_defaults=rt},tt.Builder.prototype.dataBuffer=function(){return this.bb},tt.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},tt.Builder.prototype.prep=function(rt,nt){rt>this.minalign&&(this.minalign=rt);for(var it=1+~(this.bb.capacity()-this.space+nt)&rt-1;this.space<it+rt+nt;){var at=this.bb.capacity();this.bb=tt.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-at}this.pad(it)},tt.Builder.prototype.pad=function(rt){for(var nt=0;nt<rt;nt++)this.bb.writeInt8(--this.space,0)},tt.Builder.prototype.writeInt8=function(rt){this.bb.writeInt8(this.space-=1,rt)},tt.Builder.prototype.writeInt16=function(rt){this.bb.writeInt16(this.space-=2,rt)},tt.Builder.prototype.writeInt32=function(rt){this.bb.writeInt32(this.space-=4,rt)},tt.Builder.prototype.writeInt64=function(rt){this.bb.writeInt64(this.space-=8,rt)},tt.Builder.prototype.writeFloat32=function(rt){this.bb.writeFloat32(this.space-=4,rt)},tt.Builder.prototype.writeFloat64=function(rt){this.bb.writeFloat64(this.space-=8,rt)},tt.Builder.prototype.addInt8=function(rt){this.prep(1,0),this.writeInt8(rt)},tt.Builder.prototype.addInt16=function(rt){this.prep(2,0),this.writeInt16(rt)},tt.Builder.prototype.addInt32=function(rt){this.prep(4,0),this.writeInt32(rt)},tt.Builder.prototype.addInt64=function(rt){this.prep(8,0),this.writeInt64(rt)},tt.Builder.prototype.addFloat32=function(rt){this.prep(4,0),this.writeFloat32(rt)},tt.Builder.prototype.addFloat64=function(rt){this.prep(8,0),this.writeFloat64(rt)},tt.Builder.prototype.addFieldInt8=function(rt,nt,it){(this.force_defaults||nt!=it)&&(this.addInt8(nt),this.slot(rt))},tt.Builder.prototype.addFieldInt16=function(rt,nt,it){(this.force_defaults||nt!=it)&&(this.addInt16(nt),this.slot(rt))},tt.Builder.prototype.addFieldInt32=function(rt,nt,it){(this.force_defaults||nt!=it)&&(this.addInt32(nt),this.slot(rt))},tt.Builder.prototype.addFieldInt64=function(rt,nt,it){!this.force_defaults&&nt.equals(it)||(this.addInt64(nt),this.slot(rt))},tt.Builder.prototype.addFieldFloat32=function(rt,nt,it){(this.force_defaults||nt!=it)&&(this.addFloat32(nt),this.slot(rt))},tt.Builder.prototype.addFieldFloat64=function(rt,nt,it){(this.force_defaults||nt!=it)&&(this.addFloat64(nt),this.slot(rt))},tt.Builder.prototype.addFieldOffset=function(rt,nt,it){(this.force_defaults||nt!=it)&&(this.addOffset(nt),this.slot(rt))},tt.Builder.prototype.addFieldStruct=function(rt,nt,it){nt!=it&&(this.nested(nt),this.slot(rt))},tt.Builder.prototype.nested=function(rt){if(rt!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},tt.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},tt.Builder.prototype.slot=function(rt){this.vtable[rt]=this.offset()},tt.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},tt.Builder.growByteBuffer=function(rt){var nt=rt.capacity();if(3221225472&nt)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var it=nt<<1,at=tt.ByteBuffer.allocate(it);return at.setPosition(it-nt),at.bytes().set(rt.bytes(),it-nt),at},tt.Builder.prototype.addOffset=function(rt){this.prep(tt.SIZEOF_INT,0),this.writeInt32(this.offset()-rt+tt.SIZEOF_INT)},tt.Builder.prototype.startObject=function(rt){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=rt;for(var nt=0;nt<rt;nt++)this.vtable[nt]=0;this.isNested=!0,this.object_start=this.offset()},tt.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var rt=this.offset(),nt=this.vtable_in_use-1;nt>=0&&this.vtable[nt]==0;nt--);for(var it=nt+1;nt>=0;nt--)this.addInt16(this.vtable[nt]!=0?rt-this.vtable[nt]:0);this.addInt16(rt-this.object_start);var at=(it+2)*tt.SIZEOF_SHORT;this.addInt16(at);var lt=0,ct=this.space;e:for(nt=0;nt<this.vtables.length;nt++){var ut=this.bb.capacity()-this.vtables[nt];if(at==this.bb.readInt16(ut)){for(var st=tt.SIZEOF_SHORT;st<at;st+=tt.SIZEOF_SHORT)if(this.bb.readInt16(ct+st)!=this.bb.readInt16(ut+st))continue e;lt=this.vtables[nt];break}}return lt?(this.space=this.bb.capacity()-rt,this.bb.writeInt32(this.space,lt-rt)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-rt,this.offset()-rt)),this.isNested=!1,rt},tt.Builder.prototype.finish=function(rt,nt,it){var at=it?tt.SIZE_PREFIX_LENGTH:0;if(nt){var lt=nt;if(this.prep(this.minalign,tt.SIZEOF_INT+tt.FILE_IDENTIFIER_LENGTH+at),lt.length!=tt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+tt.FILE_IDENTIFIER_LENGTH);for(var ct=tt.FILE_IDENTIFIER_LENGTH-1;ct>=0;ct--)this.writeInt8(lt.charCodeAt(ct))}this.prep(this.minalign,tt.SIZEOF_INT+at),this.addOffset(rt),at&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},tt.Builder.prototype.finishSizePrefixed=function(rt,nt){this.finish(rt,nt,!0)},tt.Builder.prototype.requiredField=function(rt,nt){var it=this.bb.capacity()-rt,at=it-this.bb.readInt32(it);if(this.bb.readInt16(at+nt)==0)throw new Error("FlatBuffers: field "+nt+" must be set")},tt.Builder.prototype.startVector=function(rt,nt,it){this.notNested(),this.vector_num_elems=nt,this.prep(tt.SIZEOF_INT,rt*nt),this.prep(it,rt*nt)},tt.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},tt.Builder.prototype.createString=function(rt){if(rt instanceof Uint8Array)var nt=rt;else{nt=[];for(var it=0;it<rt.length;){var at,lt=rt.charCodeAt(it++);(at=lt<55296||lt>=56320?lt:(lt<<10)+rt.charCodeAt(it++)+-56613888)<128?nt.push(at):(at<2048?nt.push(at>>6&31|192):(at<65536?nt.push(at>>12&15|224):nt.push(at>>18&7|240,at>>12&63|128),nt.push(at>>6&63|128)),nt.push(63&at|128))}}this.addInt8(0),this.startVector(1,nt.length,1),this.bb.setPosition(this.space-=nt.length),it=0;for(var ct=this.space,ut=this.bb.bytes();it<nt.length;it++)ut[ct++]=nt[it];return this.endVector()},tt.Builder.prototype.createLong=function(rt,nt){return tt.Long.create(rt,nt)},tt.ByteBuffer=function(rt){this.bytes_=rt,this.position_=0},tt.ByteBuffer.allocate=function(rt){return new tt.ByteBuffer(new Uint8Array(rt))},tt.ByteBuffer.prototype.clear=function(){this.position_=0},tt.ByteBuffer.prototype.bytes=function(){return this.bytes_},tt.ByteBuffer.prototype.position=function(){return this.position_},tt.ByteBuffer.prototype.setPosition=function(rt){this.position_=rt},tt.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},tt.ByteBuffer.prototype.readInt8=function(rt){return this.readUint8(rt)<<24>>24},tt.ByteBuffer.prototype.readUint8=function(rt){return this.bytes_[rt]},tt.ByteBuffer.prototype.readInt16=function(rt){return this.readUint16(rt)<<16>>16},tt.ByteBuffer.prototype.readUint16=function(rt){return this.bytes_[rt]|this.bytes_[rt+1]<<8},tt.ByteBuffer.prototype.readInt32=function(rt){return this.bytes_[rt]|this.bytes_[rt+1]<<8|this.bytes_[rt+2]<<16|this.bytes_[rt+3]<<24},tt.ByteBuffer.prototype.readUint32=function(rt){return this.readInt32(rt)>>>0},tt.ByteBuffer.prototype.readInt64=function(rt){return new tt.Long(this.readInt32(rt),this.readInt32(rt+4))},tt.ByteBuffer.prototype.readUint64=function(rt){return new tt.Long(this.readUint32(rt),this.readUint32(rt+4))},tt.ByteBuffer.prototype.readFloat32=function(rt){return tt.int32[0]=this.readInt32(rt),tt.float32[0]},tt.ByteBuffer.prototype.readFloat64=function(rt){return tt.int32[tt.isLittleEndian?0:1]=this.readInt32(rt),tt.int32[tt.isLittleEndian?1:0]=this.readInt32(rt+4),tt.float64[0]},tt.ByteBuffer.prototype.writeInt8=function(rt,nt){this.bytes_[rt]=nt},tt.ByteBuffer.prototype.writeUint8=function(rt,nt){this.bytes_[rt]=nt},tt.ByteBuffer.prototype.writeInt16=function(rt,nt){this.bytes_[rt]=nt,this.bytes_[rt+1]=nt>>8},tt.ByteBuffer.prototype.writeUint16=function(rt,nt){this.bytes_[rt]=nt,this.bytes_[rt+1]=nt>>8},tt.ByteBuffer.prototype.writeInt32=function(rt,nt){this.bytes_[rt]=nt,this.bytes_[rt+1]=nt>>8,this.bytes_[rt+2]=nt>>16,this.bytes_[rt+3]=nt>>24},tt.ByteBuffer.prototype.writeUint32=function(rt,nt){this.bytes_[rt]=nt,this.bytes_[rt+1]=nt>>8,this.bytes_[rt+2]=nt>>16,this.bytes_[rt+3]=nt>>24},tt.ByteBuffer.prototype.writeInt64=function(rt,nt){this.writeInt32(rt,nt.low),this.writeInt32(rt+4,nt.high)},tt.ByteBuffer.prototype.writeUint64=function(rt,nt){this.writeUint32(rt,nt.low),this.writeUint32(rt+4,nt.high)},tt.ByteBuffer.prototype.writeFloat32=function(rt,nt){tt.float32[0]=nt,this.writeInt32(rt,tt.int32[0])},tt.ByteBuffer.prototype.writeFloat64=function(rt,nt){tt.float64[0]=nt,this.writeInt32(rt,tt.int32[tt.isLittleEndian?0:1]),this.writeInt32(rt+4,tt.int32[tt.isLittleEndian?1:0])},tt.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+tt.SIZEOF_INT+tt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var rt="",nt=0;nt<tt.FILE_IDENTIFIER_LENGTH;nt++)rt+=String.fromCharCode(this.readInt8(this.position_+tt.SIZEOF_INT+nt));return rt},tt.ByteBuffer.prototype.__offset=function(rt,nt){var it=rt-this.readInt32(rt);return nt<this.readInt16(it)?this.readInt16(it+nt):0},tt.ByteBuffer.prototype.__union=function(rt,nt){return rt.bb_pos=nt+this.readInt32(nt),rt.bb=this,rt},tt.ByteBuffer.prototype.__string=function(rt,nt){rt+=this.readInt32(rt);var it=this.readInt32(rt),at="",lt=0;if(rt+=tt.SIZEOF_INT,nt===tt.Encoding.UTF8_BYTES)return this.bytes_.subarray(rt,rt+it);for(;lt<it;){var ct,ut=this.readUint8(rt+lt++);if(ut<192)ct=ut;else{var st=this.readUint8(rt+lt++);if(ut<224)ct=(31&ut)<<6|63&st;else{var ot=this.readUint8(rt+lt++);ct=ut<240?(15&ut)<<12|(63&st)<<6|63&ot:(7&ut)<<18|(63&st)<<12|(63&ot)<<6|63&this.readUint8(rt+lt++)}}ct<65536?at+=String.fromCharCode(ct):(ct-=65536,at+=String.fromCharCode(55296+(ct>>10),56320+(1023&ct)))}return at},tt.ByteBuffer.prototype.__indirect=function(rt){return rt+this.readInt32(rt)},tt.ByteBuffer.prototype.__vector=function(rt){return rt+this.readInt32(rt)+tt.SIZEOF_INT},tt.ByteBuffer.prototype.__vector_len=function(rt){return this.readInt32(rt+this.readInt32(rt))},tt.ByteBuffer.prototype.__has_identifier=function(rt){if(rt.length!=tt.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+tt.FILE_IDENTIFIER_LENGTH);for(var nt=0;nt<tt.FILE_IDENTIFIER_LENGTH;nt++)if(rt.charCodeAt(nt)!=this.readInt8(this.position_+tt.SIZEOF_INT+nt))return!1;return!0},tt.ByteBuffer.prototype.createLong=function(rt,nt){return tt.Long.create(rt,nt)}}},__webpack_module_cache__={};function __webpack_require__(_e){var _=__webpack_module_cache__[_e];if(_!==void 0)return _.exports;var et=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e].call(et.exports,et,et.exports,__webpack_require__),et.exports}__webpack_require__.n=_e=>{var _=_e&&_e.__esModule?()=>_e.default:()=>_e;return __webpack_require__.d(_,{a:_}),_},__webpack_require__.d=(_e,_)=>{for(var et in _)__webpack_require__.o(_,et)&&!__webpack_require__.o(_e,et)&&Object.defineProperty(_e,et,{enumerable:!0,get:_[et]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(_e,_)=>Object.prototype.hasOwnProperty.call(_e,_),__webpack_require__.r=_e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})())})(ortWeb_min);var ortWeb_minExports=ortWeb_min.exports,assetPath={};Object.defineProperty(assetPath,"__esModule",{value:!0});assetPath.baseAssetPath=void 0;const isWeb=typeof window<"u"&&typeof window.document<"u",currentScript=isWeb?window.document.currentScript:null;let basePath="/";currentScript&&(basePath=currentScript.src.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"));assetPath.baseAssetPath=basePath;var defaultModelFetcher$1={};Object.defineProperty(defaultModelFetcher$1,"__esModule",{value:!0});defaultModelFetcher$1.defaultModelFetcher=void 0;const defaultModelFetcher=_e=>fetch(_e).then(_=>_.arrayBuffer());defaultModelFetcher$1.defaultModelFetcher=defaultModelFetcher;var frameProcessor={},logging={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.log=_e.LOG_PREFIX=void 0,_e.LOG_PREFIX="[VAD]";const _=["error","debug","warn"];function et(rt){return(...nt)=>{console[rt](_e.LOG_PREFIX,...nt)}}const tt=_.reduce((rt,nt)=>(rt[nt]=et(nt),rt),{});_e.log=tt})(logging);var messages$1={};Object.defineProperty(messages$1,"__esModule",{value:!0});messages$1.Message=void 0;var Message$1;(function(_e){_e.AudioFrame="AUDIO_FRAME",_e.SpeechStart="SPEECH_START",_e.VADMisfire="VAD_MISFIRE",_e.SpeechEnd="SPEECH_END",_e.SpeechStop="SPEECH_STOP"})(Message$1||(messages$1.Message=Message$1={}));Object.defineProperty(frameProcessor,"__esModule",{value:!0});frameProcessor.FrameProcessor=frameProcessor.validateOptions=frameProcessor.defaultV5FrameProcessorOptions=frameProcessor.defaultLegacyFrameProcessorOptions=void 0;const logging_1$3=logging,messages_1=messages$1,RECOMMENDED_FRAME_SAMPLES=[512,1024,1536];frameProcessor.defaultLegacyFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3,submitUserSpeechOnPause:!1};frameProcessor.defaultV5FrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:3,redemptionFrames:24,frameSamples:512,minSpeechFrames:9,submitUserSpeechOnPause:!1};function validateOptions(_e){RECOMMENDED_FRAME_SAMPLES.includes(_e.frameSamples)||logging_1$3.log.warn("You are using an unusual frame size"),(_e.positiveSpeechThreshold<0||_e.positiveSpeechThreshold>1)&&logging_1$3.log.error("positiveSpeechThreshold should be a number between 0 and 1"),(_e.negativeSpeechThreshold<0||_e.negativeSpeechThreshold>_e.positiveSpeechThreshold)&&logging_1$3.log.error("negativeSpeechThreshold should be between 0 and positiveSpeechThreshold"),_e.preSpeechPadFrames<0&&logging_1$3.log.error("preSpeechPadFrames should be positive"),_e.redemptionFrames<0&&logging_1$3.log.error("redemptionFrames should be positive")}frameProcessor.validateOptions=validateOptions;const concatArrays=_e=>{const _=_e.reduce((tt,rt)=>(tt.push(tt.at(-1)+rt.length),tt),[0]),et=new Float32Array(_.at(-1));return _e.forEach((tt,rt)=>{const nt=_[rt];et.set(tt,nt)}),et};class FrameProcessor{constructor(_,et,tt){this.modelProcessFunc=_,this.modelResetFunc=et,this.options=tt,this.speaking=!1,this.redemptionCounter=0,this.active=!1,this.reset=()=>{this.speaking=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0},this.pause=()=>(this.active=!1,this.options.submitUserSpeechOnPause?this.endSegment():(this.reset(),{})),this.resume=()=>{this.active=!0},this.endSegment=()=>{const rt=this.audioBuffer;this.audioBuffer=[];const nt=this.speaking;this.reset();const it=rt.reduce((at,lt)=>at+ +lt.isSpeech,0);if(nt)if(it>=this.options.minSpeechFrames){const at=concatArrays(rt.map(lt=>lt.frame));return{msg:messages_1.Message.SpeechEnd,audio:at}}else return{msg:messages_1.Message.VADMisfire};return{}},this.process=async rt=>{if(!this.active)return{};const nt=await this.modelProcessFunc(rt);if(this.audioBuffer.push({frame:rt,isSpeech:nt.isSpeech>=this.options.positiveSpeechThreshold}),nt.isSpeech>=this.options.positiveSpeechThreshold&&this.redemptionCounter&&(this.redemptionCounter=0),nt.isSpeech>=this.options.positiveSpeechThreshold&&!this.speaking)return this.speaking=!0,{probs:nt,msg:messages_1.Message.SpeechStart,frame:rt};if(nt.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speaking=!1;const it=this.audioBuffer;if(this.audioBuffer=[],it.reduce((lt,ct)=>lt+ +ct.isSpeech,0)>=this.options.minSpeechFrames){const lt=concatArrays(it.map(ct=>ct.frame));return{probs:nt,msg:messages_1.Message.SpeechEnd,audio:lt,frame:rt}}else return{probs:nt,msg:messages_1.Message.VADMisfire,frame:rt}}if(!this.speaking)for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();return{probs:nt,frame:rt}},this.audioBuffer=[],this.reset()}}frameProcessor.FrameProcessor=FrameProcessor;var nonRealTimeVad={},models={},common={};Object.defineProperty(common,"__esModule",{value:!0});var legacy={},_a$1;Object.defineProperty(legacy,"__esModule",{value:!0});legacy.SileroLegacy=void 0;const logging_1$2=logging;class SileroLegacy{constructor(_,et,tt,rt,nt){this.ortInstance=_,this._session=et,this._h=tt,this._c=rt,this._sr=nt,this.reset_state=()=>{const it=Array(128).fill(0);this._h=new this.ortInstance.Tensor("float32",it,[2,1,64]),this._c=new this.ortInstance.Tensor("float32",it,[2,1,64])},this.process=async it=>{var ot;const lt={input:new this.ortInstance.Tensor("float32",it,[1,it.length]),h:this._h,c:this._c,sr:this._sr},ct=await this._session.run(lt);this._h=ct.hn,this._c=ct.cn;const[ut]=(ot=ct.output)==null?void 0:ot.data;return{notSpeech:1-ut,isSpeech:ut}}}}legacy.SileroLegacy=SileroLegacy;_a$1=SileroLegacy;SileroLegacy.new=async(_e,_)=>{logging_1$2.log.debug("initializing vad");const et=await _(),tt=await _e.InferenceSession.create(et),rt=new _e.Tensor("int64",[16000n]),nt=Array(2*64).fill(0),it=new _e.Tensor("float32",nt,[2,1,64]),at=new _e.Tensor("float32",nt,[2,1,64]);return logging_1$2.log.debug("vad is initialized"),new _a$1(_e,tt,it,at,rt)};var v5={},_a;Object.defineProperty(v5,"__esModule",{value:!0});v5.SileroV5=void 0;const logging_1$1=logging;function getNewState(_e){const _=Array(256).fill(0);return new _e.Tensor("float32",_,[2,1,128])}class SileroV5{constructor(_,et,tt,rt){this._session=_,this._state=et,this._sr=tt,this.ortInstance=rt,this.reset_state=()=>{this._state=getNewState(this.ortInstance)},this.process=async nt=>{var st;const at={input:new this.ortInstance.Tensor("float32",nt,[1,nt.length]),state:this._state,sr:this._sr},lt=await this._session.run(at);this._state=lt.stateN;const[ct]=(st=lt.output)==null?void 0:st.data;return{notSpeech:1-ct,isSpeech:ct}}}}v5.SileroV5=SileroV5;_a=SileroV5;SileroV5.new=async(_e,_)=>{logging_1$1.log.debug("Loading VAD...");const et=await _(),tt=await _e.InferenceSession.create(et),rt=new _e.Tensor("int64",[16000n]),nt=getNewState(_e);return logging_1$1.log.debug("...finished loading VAD"),new _a(tt,nt,rt,_e)};(function(_e){var _=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(nt,it,at,lt){lt===void 0&&(lt=at);var ct=Object.getOwnPropertyDescriptor(it,at);(!ct||("get"in ct?!it.__esModule:ct.writable||ct.configurable))&&(ct={enumerable:!0,get:function(){return it[at]}}),Object.defineProperty(nt,lt,ct)}:function(nt,it,at,lt){lt===void 0&&(lt=at),nt[lt]=it[at]}),et=commonjsGlobal&&commonjsGlobal.__exportStar||function(nt,it){for(var at in nt)at!=="default"&&!Object.prototype.hasOwnProperty.call(it,at)&&_(it,nt,at)};Object.defineProperty(_e,"__esModule",{value:!0}),_e.SileroV5=_e.SileroLegacy=void 0,et(common,_e);var tt=legacy;Object.defineProperty(_e,"SileroLegacy",{enumerable:!0,get:function(){return tt.SileroLegacy}});var rt=v5;Object.defineProperty(_e,"SileroV5",{enumerable:!0,get:function(){return rt.SileroV5}})})(models);var resampler={};Object.defineProperty(resampler,"__esModule",{value:!0});resampler.Resampler=void 0;const logging_1=logging;class Resampler{constructor(_){this.options=_,this.process=et=>{const tt=[];for(const rt of et)for(this.inputBuffer.push(rt);this.hasEnoughDataForFrame();){const nt=this.generateOutputFrame();tt.push(nt)}return tt},this.stream=async function*(et){for(const tt of et)for(this.inputBuffer.push(tt);this.hasEnoughDataForFrame();)yield this.generateOutputFrame()},_.nativeSampleRate<16e3&&logging_1.log.error("nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate"),this.inputBuffer=[]}hasEnoughDataForFrame(){return this.inputBuffer.length*this.options.targetSampleRate/this.options.nativeSampleRate>=this.options.targetFrameSize}generateOutputFrame(){const _=new Float32Array(this.options.targetFrameSize);let et=0,tt=0;for(;et<this.options.targetFrameSize;){let rt=0,nt=0;for(;tt<Math.min(this.inputBuffer.length,(et+1)*this.options.nativeSampleRate/this.options.targetSampleRate);){const it=this.inputBuffer[tt];it!==void 0&&(rt+=it,nt++),tt++}_[et]=rt/nt,et++}return this.inputBuffer=this.inputBuffer.slice(tt),_}}resampler.Resampler=Resampler;(function(_e){Object.defineProperty(_e,"__esModule",{value:!0}),_e.PlatformAgnosticNonRealTimeVAD=_e.defaultNonRealTimeVADOptions=void 0;const _=frameProcessor,et=messages$1,tt=models,rt=resampler;_e.defaultNonRealTimeVADOptions={..._.defaultLegacyFrameProcessorOptions,ortConfig:void 0};class nt{static async _new(at,lt,ct={}){const ut={..._e.defaultNonRealTimeVADOptions,...ct};ut.ortConfig!==void 0&&ut.ortConfig(lt);const st=new this(at,lt,ut);return await st.init(),st}constructor(at,lt,ct){this.modelFetcher=at,this.ort=lt,this.options=ct,this.init=async()=>{const ut=await tt.SileroLegacy.new(this.ort,this.modelFetcher);this.frameProcessor=new _.FrameProcessor(ut.process,ut.reset_state,{frameSamples:this.options.frameSamples,positiveSpeechThreshold:this.options.positiveSpeechThreshold,negativeSpeechThreshold:this.options.negativeSpeechThreshold,redemptionFrames:this.options.redemptionFrames,preSpeechPadFrames:this.options.preSpeechPadFrames,minSpeechFrames:this.options.minSpeechFrames,submitUserSpeechOnPause:this.options.submitUserSpeechOnPause}),this.frameProcessor.resume()},this.run=async function*(ut,st){const ot={nativeSampleRate:st,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples},dt=new rt.Resampler(ot);let ft=0,ht=0,mt=0;for await(const vt of dt.stream(ut)){const{msg:bt,audio:xt}=await this.frameProcessor.process(vt);switch(bt){case et.Message.SpeechStart:ft=mt*this.options.frameSamples/16;break;case et.Message.SpeechEnd:ht=(mt+1)*this.options.frameSamples/16,yield{audio:xt,start:ft,end:ht};break}mt++}const{msg:gt,audio:yt}=this.frameProcessor.endSegment();gt==et.Message.SpeechEnd&&(yield{audio:yt,start:ft,end:mt*this.options.frameSamples/16})},(0,_.validateOptions)(ct)}}_e.PlatformAgnosticNonRealTimeVAD=nt})(nonRealTimeVad);var utils$3={};Object.defineProperty(utils$3,"__esModule",{value:!0});utils$3.audioFileToArray=utils$3.encodeWAV=utils$3.arrayBufferToBase64=utils$3.minFramesForTargetMS=void 0;function minFramesForTargetMS(_e,_,et=16e3){return Math.ceil(_e*et/1e3/_)}utils$3.minFramesForTargetMS=minFramesForTargetMS;function arrayBufferToBase64(_e){const _=new Uint8Array(_e),et=_.byteLength,tt=new Array(et);for(var rt=0;rt<et;rt++){const nt=_[rt];if(nt===void 0)break;tt[rt]=String.fromCharCode(nt)}return btoa(tt.join(""))}utils$3.arrayBufferToBase64=arrayBufferToBase64;function encodeWAV(_e,_=3,et=16e3,tt=1,rt=32){var nt=rt/8,it=tt*nt,at=new ArrayBuffer(44+_e.length*nt),lt=new DataView(at);return writeString(lt,0,"RIFF"),lt.setUint32(4,36+_e.length*nt,!0),writeString(lt,8,"WAVE"),writeString(lt,12,"fmt "),lt.setUint32(16,16,!0),lt.setUint16(20,_,!0),lt.setUint16(22,tt,!0),lt.setUint32(24,et,!0),lt.setUint32(28,et*it,!0),lt.setUint16(32,it,!0),lt.setUint16(34,rt,!0),writeString(lt,36,"data"),lt.setUint32(40,_e.length*nt,!0),_===1?floatTo16BitPCM(lt,44,_e):writeFloat32(lt,44,_e),at}utils$3.encodeWAV=encodeWAV;function writeFloat32(_e,_,et){for(var tt=0;tt<et.length;tt++,_+=4)_e.setFloat32(_,et[tt],!0)}function floatTo16BitPCM(_e,_,et){for(var tt=0;tt<et.length;tt++,_+=2){var rt=Math.max(-1,Math.min(1,et[tt]));_e.setInt16(_,rt<0?rt*32768:rt*32767,!0)}}function writeString(_e,_,et){for(var tt=0;tt<et.length;tt++)_e.setUint8(_+tt,et.charCodeAt(tt))}async function audioFileToArray(_e){const _=new OfflineAudioContext(1,1,44100),et=new FileReader;let tt=null;if(await new Promise(it=>{et.addEventListener("loadend",at=>{const lt=et.result;_.decodeAudioData(lt,ct=>{tt=ct,_.startRendering().then(ut=>{console.log("Rendering completed successfully"),it()}).catch(ut=>{console.error(`Rendering failed: ${ut}`)})},ct=>{console.log(`Error with decoding audio data: ${ct}`)})}),et.readAsArrayBuffer(_e)}),tt===null)throw Error("some shit");let rt=tt,nt=new Float32Array(rt.length);for(let it=0;it<rt.length;it++)for(let at=0;at<rt.numberOfChannels;at++)nt[it]+=rt.getChannelData(at)[it];return{audio:nt,sampleRate:rt.sampleRate}}utils$3.audioFileToArray=audioFileToArray;var realTimeVad={};(function(_e){var _=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(gt,yt,vt,bt){bt===void 0&&(bt=vt);var xt=Object.getOwnPropertyDescriptor(yt,vt);(!xt||("get"in xt?!yt.__esModule:xt.writable||xt.configurable))&&(xt={enumerable:!0,get:function(){return yt[vt]}}),Object.defineProperty(gt,bt,xt)}:function(gt,yt,vt,bt){bt===void 0&&(bt=vt),gt[bt]=yt[vt]}),et=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(gt,yt){Object.defineProperty(gt,"default",{enumerable:!0,value:yt})}:function(gt,yt){gt.default=yt}),tt=commonjsGlobal&&commonjsGlobal.__importStar||function(gt){if(gt&&gt.__esModule)return gt;var yt={};if(gt!=null)for(var vt in gt)vt!=="default"&&Object.prototype.hasOwnProperty.call(gt,vt)&&_(yt,gt,vt);return et(yt,gt),yt};Object.defineProperty(_e,"__esModule",{value:!0}),_e.AudioNodeVAD=_e.MicVAD=_e.getDefaultRealTimeVADOptions=_e.ort=_e.DEFAULT_MODEL=void 0;const rt=tt(ortWeb_minExports),nt=defaultModelFetcher$1,it=frameProcessor,at=logging,lt=messages$1,ct=models,ut=resampler;_e.DEFAULT_MODEL="legacy",_e.ort=rt;const st="vad.worklet.bundle.min.js",ot="silero_vad_v5.onnx",dt="silero_vad_legacy.onnx",ft=gt=>({...gt==="v5"?it.defaultV5FrameProcessorOptions:it.defaultLegacyFrameProcessorOptions,onFrameProcessed:vt=>{},onVADMisfire:()=>{at.log.debug("VAD misfire")},onSpeechStart:()=>{at.log.debug("Detected speech start")},onSpeechEnd:()=>{at.log.debug("Detected speech end")},baseAssetPath:"https://cdn.jsdelivr.net/npm/@ricky0123/vad-web@0.0.22/dist/",onnxWASMBasePath:"https://cdn.jsdelivr.net/npm/onnxruntime-web@1.14.0/dist/",stream:void 0,ortConfig:void 0,model:_e.DEFAULT_MODEL,workletOptions:{}});_e.getDefaultRealTimeVADOptions=ft;class ht{static async new(yt={}){const vt={...(0,_e.getDefaultRealTimeVADOptions)(yt.model??_e.DEFAULT_MODEL),...yt};(0,it.validateOptions)(vt);let bt;vt.stream===void 0?bt=await navigator.mediaDevices.getUserMedia({audio:{...vt.additionalAudioConstraints,channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):bt=vt.stream;const xt=new AudioContext,_t=new MediaStreamAudioSourceNode(xt,{mediaStream:bt}),St=await mt.new(xt,vt);return St.receive(_t),new ht(vt,xt,bt,St,_t)}constructor(yt,vt,bt,xt,_t,St=!1){this.options=yt,this.audioContext=vt,this.stream=bt,this.audioNodeVAD=xt,this.sourceNode=_t,this.listening=St,this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},this.destroy=()=>{this.listening&&this.pause(),this.options.stream===void 0&&this.stream.getTracks().forEach(wt=>wt.stop()),this.sourceNode.disconnect(),this.audioNodeVAD.destroy(),this.audioContext.close()}}}_e.MicVAD=ht;class mt{static async new(yt,vt={}){const bt={...(0,_e.getDefaultRealTimeVADOptions)(vt.model??_e.DEFAULT_MODEL),...vt};(0,it.validateOptions)(bt),_e.ort.env.wasm.wasmPaths=bt.onnxWASMBasePath,bt.ortConfig!==void 0&&bt.ortConfig(_e.ort);const xt=bt.model==="v5"?ot:dt,_t=bt.baseAssetPath+xt,St=bt.model==="v5"?ct.SileroV5.new:ct.SileroLegacy.new;let wt;try{wt=await St(_e.ort,()=>(0,nt.defaultModelFetcher)(_t))}catch(Ct){throw console.error(`Encountered an error while loading model file ${_t}`),Ct}const Et=new it.FrameProcessor(wt.process,wt.reset_state,{frameSamples:bt.frameSamples,positiveSpeechThreshold:bt.positiveSpeechThreshold,negativeSpeechThreshold:bt.negativeSpeechThreshold,redemptionFrames:bt.redemptionFrames,preSpeechPadFrames:bt.preSpeechPadFrames,minSpeechFrames:bt.minSpeechFrames,submitUserSpeechOnPause:bt.submitUserSpeechOnPause}),Tt=new mt(yt,bt,Et);return await Tt.setupAudioNode(),Tt}constructor(yt,vt,bt){this.ctx=yt,this.options=vt,this.bufferIndex=0,this.pause=()=>{const xt=this.frameProcessor.pause();this.handleFrameProcessorEvent(xt)},this.start=()=>{this.frameProcessor.resume()},this.receive=xt=>{xt.connect(this.audioNode)},this.processFrame=async xt=>{const _t=await this.frameProcessor.process(xt);this.handleFrameProcessorEvent(_t)},this.handleFrameProcessorEvent=xt=>{switch(xt.probs!==void 0&&this.options.onFrameProcessed(xt.probs,xt.frame),xt.msg){case lt.Message.SpeechStart:this.options.onSpeechStart();break;case lt.Message.VADMisfire:this.options.onVADMisfire();break;case lt.Message.SpeechEnd:this.options.onSpeechEnd(xt.audio);break}},this.destroy=()=>{var xt;this.audioNode instanceof AudioWorkletNode&&this.audioNode.port.postMessage({message:lt.Message.SpeechStop}),this.audioNode.disconnect(),(xt=this.gainNode)==null||xt.disconnect()},this.frameProcessor=bt}async setupAudioNode(){if("audioWorklet"in this.ctx&&typeof AudioWorkletNode=="function")try{const xt=this.options.baseAssetPath+st;await this.ctx.audioWorklet.addModule(xt);const _t=this.options.workletOptions??{};_t.processorOptions={..._t.processorOptions??{},frameSamples:this.options.frameSamples},this.audioNode=new AudioWorkletNode(this.ctx,"vad-helper-worklet",_t),this.audioNode.port.onmessage=async St=>{var wt;switch((wt=St.data)==null?void 0:wt.message){case lt.Message.AudioFrame:let Et=St.data.data;Et instanceof ArrayBuffer||(Et=new ArrayBuffer(St.data.data.byteLength),new Uint8Array(Et).set(new Uint8Array(St.data.data)));const Tt=new Float32Array(Et);await this.processFrame(Tt);break}};return}catch(xt){console.log("AudioWorklet setup failed, falling back to ScriptProcessor",xt)}this.resampler=new ut.Resampler({nativeSampleRate:this.ctx.sampleRate,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples??480});const vt=4096;this.audioNode=this.ctx.createScriptProcessor(vt,1,1),this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=0;let bt=!1;this.audioNode.onaudioprocess=async xt=>{if(!bt){bt=!0;try{const _t=xt.inputBuffer.getChannelData(0);if(xt.outputBuffer.getChannelData(0).fill(0),this.resampler){const wt=this.resampler.process(_t);for(const Et of wt)await this.processFrame(Et)}}catch(_t){console.error("Error processing audio:",_t)}finally{bt=!1}}},this.audioNode.connect(this.gainNode),this.gainNode.connect(this.ctx.destination)}}_e.AudioNodeVAD=mt})(realTimeVad);(function(_e){var _=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(dt,ft,ht,mt){mt===void 0&&(mt=ht);var gt=Object.getOwnPropertyDescriptor(ft,ht);(!gt||("get"in gt?!ft.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return ft[ht]}}),Object.defineProperty(dt,mt,gt)}:function(dt,ft,ht,mt){mt===void 0&&(mt=ht),dt[mt]=ft[ht]}),et=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(dt,ft){Object.defineProperty(dt,"default",{enumerable:!0,value:ft})}:function(dt,ft){dt.default=ft}),tt=commonjsGlobal&&commonjsGlobal.__importStar||function(dt){if(dt&&dt.__esModule)return dt;var ft={};if(dt!=null)for(var ht in dt)ht!=="default"&&Object.prototype.hasOwnProperty.call(dt,ht)&&_(ft,dt,ht);return et(ft,dt),ft};Object.defineProperty(_e,"__esModule",{value:!0}),_e.NonRealTimeVAD=_e.Message=_e.FrameProcessor=_e.getDefaultRealTimeVADOptions=_e.MicVAD=_e.DEFAULT_MODEL=_e.AudioNodeVAD=_e.utils=_e.defaultNonRealTimeVADOptions=void 0;const rt=tt(ortWeb_minExports),nt=assetPath,it=defaultModelFetcher$1,at=frameProcessor;Object.defineProperty(_e,"FrameProcessor",{enumerable:!0,get:function(){return at.FrameProcessor}});const lt=messages$1;Object.defineProperty(_e,"Message",{enumerable:!0,get:function(){return lt.Message}});const ct=nonRealTimeVad,ut=utils$3;_e.defaultNonRealTimeVADOptions={modelURL:nt.baseAssetPath+"silero_vad_legacy.onnx",modelFetcher:it.defaultModelFetcher};class st extends ct.PlatformAgnosticNonRealTimeVAD{static async new(ft={}){const{modelURL:ht,modelFetcher:mt}={..._e.defaultNonRealTimeVADOptions,...ft};return await this._new(()=>mt(ht),rt,ft)}}_e.NonRealTimeVAD=st,_e.utils={audioFileToArray:ut.audioFileToArray,minFramesForTargetMS:ut.minFramesForTargetMS,arrayBufferToBase64:ut.arrayBufferToBase64,encodeWAV:ut.encodeWAV};var ot=realTimeVad;Object.defineProperty(_e,"AudioNodeVAD",{enumerable:!0,get:function(){return ot.AudioNodeVAD}}),Object.defineProperty(_e,"DEFAULT_MODEL",{enumerable:!0,get:function(){return ot.DEFAULT_MODEL}}),Object.defineProperty(_e,"MicVAD",{enumerable:!0,get:function(){return ot.MicVAD}}),Object.defineProperty(_e,"getDefaultRealTimeVADOptions",{enumerable:!0,get:function(){return ot.getDefaultRealTimeVADOptions}})})(dist);class TaskQueue{constructor(_=3e3){eo(this,"queue",[]);eo(this,"running",!1);eo(this,"taskInterval");eo(this,"pendingComplete",!1);eo(this,"activeTasks",new Set);this.taskInterval=_}addTask(_){this.queue.push(_),this.runNextTask()}clearQueue(){this.queue=[],this.activeTasks.clear(),this.running=!1}async runNextTask(){if(this.running||this.queue.length===0){this.queue.length===0&&this.activeTasks.size===0&&this.pendingComplete&&(this.pendingComplete=!1,await new Promise(et=>setTimeout(et,this.taskInterval)));return}this.running=!0;const _=this.queue.shift();if(_){const et=_();this.activeTasks.add(et);try{await et,await new Promise(tt=>setTimeout(tt,this.taskInterval))}catch(tt){console.error("Task Queue Error",tt)}finally{this.activeTasks.delete(et),this.running=!1,this.runNextTask()}}}hasTask(){return this.queue.length>0||this.activeTasks.size>0||this.running}waitForCompletion(){return this.pendingComplete=!0,new Promise(_=>{const et=()=>{this.hasTask()?setTimeout(et,100):_()};et()})}}const audioTaskQueue=new TaskQueue(20),ScreenCaptureContext=reactExports.createContext(void 0);function ScreenCaptureProvider({children:_e}){const[_,et]=reactExports.useState(null),[tt,rt]=reactExports.useState(!1),[nt,it]=reactExports.useState(""),at=async()=>{try{let ct;if(window.electron){const st={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:await window.electron.ipcRenderer.invoke("get-screen-capture"),minWidth:1280,maxWidth:1280,minHeight:720,maxHeight:720}},audio:!1};ct=await navigator.mediaDevices.getUserMedia(st)}else{const ut={video:!0,audio:!1};ct=await navigator.mediaDevices.getDisplayMedia(ut)}et(ct),rt(!0),it("")}catch(ct){it("Failed to start screen capture"),toaster.create({title:`Failed to start screen capture: ${ct}`,type:"error",duration:2e3}),console.error(ct)}},lt=()=>{_&&(_.getTracks().forEach(ct=>ct.stop()),et(null),rt(!1))};return jsxRuntimeExports.jsx(ScreenCaptureContext.Provider,{value:{stream:_,isStreaming:tt,error:nt,startCapture:at,stopCapture:lt},children:_e})}const useScreenCaptureContext=()=>{const _e=reactExports.useContext(ScreenCaptureContext);if(_e===void 0)throw new Error("useScreenCaptureContext must be used within a ScreenCaptureProvider");return _e};function useMediaCapture(){const{stream:_e}=useCamera(),{stream:_}=useScreenCaptureContext(),et=reactExports.useCallback(async(rt,nt)=>{if(!rt)return console.warn(`No ${nt} stream available`),null;const it=rt.getVideoTracks()[0];if(!it)return console.warn(`No video track in ${nt} stream`),null;const at=new ImageCapture(it);try{const lt=await at.grabFrame(),ct=document.createElement("canvas");ct.width=lt.width,ct.height=lt.height;const ut=ct.getContext("2d");return ut?(ut.drawImage(lt,0,0),ct.toDataURL("image/jpeg",.8)):(console.error("Failed to get canvas context"),null)}catch(lt){return console.error(`Error capturing ${nt} frame:`,lt),toaster.create({title:`Failed to capture ${nt} frame: ${lt}`,type:"error",duration:2e3}),null}},[]);return{captureAllMedia:reactExports.useCallback(async()=>{const rt=[];if(_e){const nt=await et(_e,"camera");nt&&rt.push({source:"camera",data:nt,mime_type:"image/jpeg"})}if(_){const nt=await et(_,"screen");nt&&rt.push({source:"screen",data:nt,mime_type:"image/jpeg"})}return console.log("images: ",rt),rt},[_e,_,et])}}function useSendAudio(){const{sendMessage:_e}=useWebSocket(),{captureAllMedia:_}=useMediaCapture();return{sendAudioPartition:reactExports.useCallback(async tt=>{for(let it=0;it<tt.length;it+=4096){const at=Math.min(it+4096,tt.length),lt=tt.slice(it,at);_e({type:"mic-audio-data",audio:Array.from(lt)})}const nt=await _();_e({type:"mic-audio-end",images:nt})},[_e,_])}}var AiStateEnum=(_e=>(_e.IDLE="idle",_e.THINKING_SPEAKING="thinking-speaking",_e.INTERRUPTED="interrupted",_e.LOADING="loading",_e.LISTENING="listening",_e.WAITING="waiting",_e))(AiStateEnum||{});const initialState="loading",AiStateContext=reactExports.createContext(null);function AiStateProvider({children:_e}){const[_,et]=reactExports.useState(initialState),[tt,rt]=reactExports.useState(!1),nt=reactExports.useRef(null),it=reactExports.useCallback(ut=>{const st=typeof ut=="function"?ut(_):ut;st==="waiting"?_!=="thinking-speaking"&&(et(st),nt.current&&clearTimeout(nt.current),nt.current=setTimeout(()=>{et("idle"),nt.current=null},2e3)):(et(st),nt.current&&(clearTimeout(nt.current),nt.current=null))},[_]),at=reactExports.useMemo(()=>({isIdle:_==="idle",isThinkingSpeaking:_==="thinking-speaking",isInterrupted:_==="interrupted",isLoading:_==="loading",isListening:_==="listening",isWaiting:_==="waiting"}),[_]),lt=reactExports.useCallback(()=>{it("idle")},[it]);reactExports.useEffect(()=>()=>{nt.current&&clearTimeout(nt.current)},[]);const ct=reactExports.useMemo(()=>({aiState:_,setAiState:it,backendSynthComplete:tt,setBackendSynthComplete:rt,...at,resetState:lt}),[_,it,tt,at,lt]);return jsxRuntimeExports.jsx(AiStateContext.Provider,{value:ct,children:_e})}function useAiState(){const _e=reactExports.useContext(AiStateContext);if(!_e)throw new Error("useAiState must be used within a AiStateProvider");return _e}const DEFAULT_VAD_SETTINGS={positiveSpeechThreshold:50,negativeSpeechThreshold:35,redemptionFrames:35},DEFAULT_VAD_STATE={micOn:!1,autoStopMic:!1,autoStartMicOn:!1,autoStartMicOnConvEnd:!1},VADContext=reactExports.createContext(null);function VADProvider({children:_e}){const _=reactExports.useRef(null),et=reactExports.useRef(0),[tt,rt]=useLocalStorage("micOn",DEFAULT_VAD_STATE.micOn),nt=reactExports.useRef(!0),[it,at]=useLocalStorage("autoStopMic",DEFAULT_VAD_STATE.autoStopMic),[lt,ct]=useLocalStorage("vadSettings",DEFAULT_VAD_SETTINGS),[ut,st]=useLocalStorage("autoStartMicOn",DEFAULT_VAD_STATE.autoStartMicOn),ot=reactExports.useRef(!1),[dt,ft]=useLocalStorage("autoStartMicOnConvEnd",DEFAULT_VAD_STATE.autoStartMicOnConvEnd),ht=reactExports.useRef(!1),[,mt]=reactExports.useReducer(Vt=>Vt+1,0),{interrupt:gt}=useInterrupt(),{sendAudioPartition:yt}=useSendAudio(),{setSubtitleText:vt}=reactExports.useContext(SubtitleContext),{aiState:bt,setAiState:xt}=reactExports.useContext(AiStateContext),_t=reactExports.useRef(gt),St=reactExports.useRef(yt),wt=reactExports.useRef(bt),Et=reactExports.useRef(vt),Tt=reactExports.useRef(xt),Ct=reactExports.useRef(!1);reactExports.useEffect(()=>{wt.current=bt},[bt]),reactExports.useEffect(()=>{_t.current=gt},[gt]),reactExports.useEffect(()=>{St.current=yt},[yt]),reactExports.useEffect(()=>{Et.current=vt},[vt]),reactExports.useEffect(()=>{Tt.current=xt},[xt]),reactExports.useEffect(()=>{nt.current=it},[]),reactExports.useEffect(()=>{ot.current=ut},[]),reactExports.useEffect(()=>{ht.current=dt},[]);const It=reactExports.useCallback(Vt=>{et.current=Vt,mt()},[]),Pt=reactExports.useCallback(()=>{console.log("Speech started"),wt.current==="thinking-speaking"&&_t.current(),Ct.current=!0,Tt.current("listening")},[]),At=reactExports.useCallback(Vt=>{Vt.isSpeech>et.current&&It(Vt.isSpeech)},[]),kt=reactExports.useCallback(Vt=>{Ct.current&&(console.log("Speech ended"),audioTaskQueue.clearQueue(),nt.current?Dt():console.log("Auto stop mic is on, keeping mic active"),It(0),St.current(Vt),Ct.current=!1)},[]),Rt=reactExports.useCallback(()=>{Ct.current&&(console.log("VAD misfire detected"),It(0),Ct.current=!1,(wt.current==="interrupted"||wt.current==="listening")&&Tt.current("idle"),Et.current("The LLM can't hear you."))},[]),$t=reactExports.useCallback(Vt=>{ct(Vt),_.current&&(Dt(),setTimeout(()=>{Nt()},100))},[]),Mt=async()=>{const Vt=await dist.MicVAD.new({model:"v5",preSpeechPadFrames:20,positiveSpeechThreshold:lt.positiveSpeechThreshold/100,negativeSpeechThreshold:lt.negativeSpeechThreshold/100,redemptionFrames:lt.redemptionFrames,onSpeechStart:Pt,onFrameProcessed:At,onSpeechEnd:kt,onVADMisfire:Rt});_.current=Vt,Vt.start()},Nt=reactExports.useCallback(async()=>{try{_.current?(console.log("Starting VAD"),_.current.start()):(console.log("Initializing VAD"),await Mt()),rt(!0)}catch(Vt){console.error("Failed to start VAD:",Vt),toaster.create({title:`Failed to start VAD: ${Vt}`,type:"error",duration:2e3})}},[]),Dt=reactExports.useCallback(()=>{console.log("Stopping VAD"),_.current?(_.current.pause(),_.current.destroy(),_.current=null,console.log("VAD stopped and destroyed successfully"),It(0)):console.log("VAD instance not found"),rt(!1),Ct.current=!1},[]),jt=reactExports.useCallback(Vt=>{nt.current=Vt,at(Vt),mt()},[]),Ut=reactExports.useCallback(Vt=>{ot.current=Vt,st(Vt),mt()},[]),Xt=reactExports.useCallback(Vt=>{ht.current=Vt,ft(Vt),mt()},[]),Wt=reactExports.useMemo(()=>({autoStopMic:nt.current,micOn:tt,setMicOn:rt,setAutoStopMic:jt,startMic:Nt,stopMic:Dt,previousTriggeredProbability:et.current,setPreviousTriggeredProbability:It,settings:lt,updateSettings:$t,autoStartMicOn:ot.current,setAutoStartMicOn:Ut,autoStartMicOnConvEnd:ht.current,setAutoStartMicOnConvEnd:Xt}),[tt,Nt,Dt,lt,$t]);return jsxRuntimeExports.jsx(VADContext.Provider,{value:Wt,children:_e})}function useVAD(){const _e=reactExports.useContext(VADContext);if(!_e)throw new Error("useVAD must be used within a VADProvider");return _e}function useMicToggle(){const{startMic:_e,stopMic:_,micOn:et}=useVAD(),{aiState:tt,setAiState:rt}=useAiState();return{handleMicToggle:async()=>{et?(_(),tt==="listening"&&rt("idle")):await _e()},micOn:et}}function useSwitchCharacter(){const{sendMessage:_e}=useWebSocket(),{confName:_,getFilenameByName:et}=useConfig$1(),{interrupt:tt}=useInterrupt(),{stopMic:rt}=useVAD(),{setSubtitleText:nt}=useSubtitle(),{setAiState:it}=useAiState(),{setModelInfo:at}=useLive2DConfig();return{switchCharacter:reactExports.useCallback(ct=>{if(et(_)===ct){console.log("Skipping character switch - same configuration file");return}nt("New Character Loading..."),tt(),rt(),it("loading"),at(void 0),_e({type:"switch-config",file:ct}),console.log("Switch Character fileName: ",ct)},[_,et,_e,tt,rt,nt,it])}}function useIpcHandlers({isPet:_e}){const{handleMicToggle:_}=useMicToggle(),{interrupt:et}=useInterrupt(),{modelInfo:tt,setModelInfo:rt}=useLive2DConfig(),{switchCharacter:nt}=useSwitchCharacter(),it=reactExports.useCallback(()=>{_()},[_]),at=reactExports.useCallback(()=>{et()},[et]),lt=reactExports.useCallback(()=>{tt&&rt({...tt,scrollToResize:!tt.scrollToResize})},[tt,rt]),ct=reactExports.useCallback((ut,st)=>{nt(st)},[nt]);reactExports.useEffect(()=>{var ut;if((ut=window.electron)!=null&&ut.ipcRenderer&&_e)return window.electron.ipcRenderer.removeAllListeners("mic-toggle"),window.electron.ipcRenderer.removeAllListeners("interrupt"),window.electron.ipcRenderer.removeAllListeners("toggle-scroll-to-resize"),window.electron.ipcRenderer.removeAllListeners("switch-character"),window.electron.ipcRenderer.on("mic-toggle",it),window.electron.ipcRenderer.on("interrupt",at),window.electron.ipcRenderer.on("toggle-scroll-to-resize",lt),window.electron.ipcRenderer.on("switch-character",ct),()=>{var st,ot,dt,ft;(st=window.electron)==null||st.ipcRenderer.removeAllListeners("mic-toggle"),(ot=window.electron)==null||ot.ipcRenderer.removeAllListeners("interrupt"),(dt=window.electron)==null||dt.ipcRenderer.removeAllListeners("toggle-scroll-to-resize"),(ft=window.electron)==null||ft.ipcRenderer.removeAllListeners("switch-character")}},[it,at,lt,ct,_e])}var ENV=(_e=>(_e[_e.WEBGL_LEGACY=0]="WEBGL_LEGACY",_e[_e.WEBGL=1]="WEBGL",_e[_e.WEBGL2=2]="WEBGL2",_e))(ENV||{}),RENDERER_TYPE=(_e=>(_e[_e.UNKNOWN=0]="UNKNOWN",_e[_e.WEBGL=1]="WEBGL",_e[_e.CANVAS=2]="CANVAS",_e))(RENDERER_TYPE||{}),BUFFER_BITS=(_e=>(_e[_e.COLOR=16384]="COLOR",_e[_e.DEPTH=256]="DEPTH",_e[_e.STENCIL=1024]="STENCIL",_e))(BUFFER_BITS||{}),BLEND_MODES=(_e=>(_e[_e.NORMAL=0]="NORMAL",_e[_e.ADD=1]="ADD",_e[_e.MULTIPLY=2]="MULTIPLY",_e[_e.SCREEN=3]="SCREEN",_e[_e.OVERLAY=4]="OVERLAY",_e[_e.DARKEN=5]="DARKEN",_e[_e.LIGHTEN=6]="LIGHTEN",_e[_e.COLOR_DODGE=7]="COLOR_DODGE",_e[_e.COLOR_BURN=8]="COLOR_BURN",_e[_e.HARD_LIGHT=9]="HARD_LIGHT",_e[_e.SOFT_LIGHT=10]="SOFT_LIGHT",_e[_e.DIFFERENCE=11]="DIFFERENCE",_e[_e.EXCLUSION=12]="EXCLUSION",_e[_e.HUE=13]="HUE",_e[_e.SATURATION=14]="SATURATION",_e[_e.COLOR=15]="COLOR",_e[_e.LUMINOSITY=16]="LUMINOSITY",_e[_e.NORMAL_NPM=17]="NORMAL_NPM",_e[_e.ADD_NPM=18]="ADD_NPM",_e[_e.SCREEN_NPM=19]="SCREEN_NPM",_e[_e.NONE=20]="NONE",_e[_e.SRC_OVER=0]="SRC_OVER",_e[_e.SRC_IN=21]="SRC_IN",_e[_e.SRC_OUT=22]="SRC_OUT",_e[_e.SRC_ATOP=23]="SRC_ATOP",_e[_e.DST_OVER=24]="DST_OVER",_e[_e.DST_IN=25]="DST_IN",_e[_e.DST_OUT=26]="DST_OUT",_e[_e.DST_ATOP=27]="DST_ATOP",_e[_e.ERASE=26]="ERASE",_e[_e.SUBTRACT=28]="SUBTRACT",_e[_e.XOR=29]="XOR",_e))(BLEND_MODES||{}),DRAW_MODES=(_e=>(_e[_e.POINTS=0]="POINTS",_e[_e.LINES=1]="LINES",_e[_e.LINE_LOOP=2]="LINE_LOOP",_e[_e.LINE_STRIP=3]="LINE_STRIP",_e[_e.TRIANGLES=4]="TRIANGLES",_e[_e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_e[_e.TRIANGLE_FAN=6]="TRIANGLE_FAN",_e))(DRAW_MODES||{}),FORMATS=(_e=>(_e[_e.RGBA=6408]="RGBA",_e[_e.RGB=6407]="RGB",_e[_e.RG=33319]="RG",_e[_e.RED=6403]="RED",_e[_e.RGBA_INTEGER=36249]="RGBA_INTEGER",_e[_e.RGB_INTEGER=36248]="RGB_INTEGER",_e[_e.RG_INTEGER=33320]="RG_INTEGER",_e[_e.RED_INTEGER=36244]="RED_INTEGER",_e[_e.ALPHA=6406]="ALPHA",_e[_e.LUMINANCE=6409]="LUMINANCE",_e[_e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",_e[_e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",_e[_e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",_e))(FORMATS||{}),TARGETS=(_e=>(_e[_e.TEXTURE_2D=3553]="TEXTURE_2D",_e[_e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",_e[_e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",_e[_e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",_e[_e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",_e))(TARGETS||{}),TYPES=(_e=>(_e[_e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",_e[_e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",_e[_e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",_e[_e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",_e[_e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",_e[_e.UNSIGNED_INT=5125]="UNSIGNED_INT",_e[_e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",_e[_e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",_e[_e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",_e[_e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",_e[_e.BYTE=5120]="BYTE",_e[_e.SHORT=5122]="SHORT",_e[_e.INT=5124]="INT",_e[_e.FLOAT=5126]="FLOAT",_e[_e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",_e[_e.HALF_FLOAT=36193]="HALF_FLOAT",_e))(TYPES||{}),SAMPLER_TYPES=(_e=>(_e[_e.FLOAT=0]="FLOAT",_e[_e.INT=1]="INT",_e[_e.UINT=2]="UINT",_e))(SAMPLER_TYPES||{}),SCALE_MODES=(_e=>(_e[_e.NEAREST=0]="NEAREST",_e[_e.LINEAR=1]="LINEAR",_e))(SCALE_MODES||{}),WRAP_MODES=(_e=>(_e[_e.CLAMP=33071]="CLAMP",_e[_e.REPEAT=10497]="REPEAT",_e[_e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",_e))(WRAP_MODES||{}),MIPMAP_MODES=(_e=>(_e[_e.OFF=0]="OFF",_e[_e.POW2=1]="POW2",_e[_e.ON=2]="ON",_e[_e.ON_MANUAL=3]="ON_MANUAL",_e))(MIPMAP_MODES||{}),ALPHA_MODES=(_e=>(_e[_e.NPM=0]="NPM",_e[_e.UNPACK=1]="UNPACK",_e[_e.PMA=2]="PMA",_e[_e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",_e[_e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",_e[_e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",_e))(ALPHA_MODES||{}),CLEAR_MODES=(_e=>(_e[_e.NO=0]="NO",_e[_e.YES=1]="YES",_e[_e.AUTO=2]="AUTO",_e[_e.BLEND=0]="BLEND",_e[_e.CLEAR=1]="CLEAR",_e[_e.BLIT=2]="BLIT",_e))(CLEAR_MODES||{}),GC_MODES=(_e=>(_e[_e.AUTO=0]="AUTO",_e[_e.MANUAL=1]="MANUAL",_e))(GC_MODES||{}),PRECISION=(_e=>(_e.LOW="lowp",_e.MEDIUM="mediump",_e.HIGH="highp",_e))(PRECISION||{}),MASK_TYPES=(_e=>(_e[_e.NONE=0]="NONE",_e[_e.SCISSOR=1]="SCISSOR",_e[_e.STENCIL=2]="STENCIL",_e[_e.SPRITE=3]="SPRITE",_e[_e.COLOR=4]="COLOR",_e))(MASK_TYPES||{}),MSAA_QUALITY=(_e=>(_e[_e.NONE=0]="NONE",_e[_e.LOW=2]="LOW",_e[_e.MEDIUM=4]="MEDIUM",_e[_e.HIGH=8]="HIGH",_e))(MSAA_QUALITY||{}),BUFFER_TYPE=(_e=>(_e[_e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",_e[_e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",_e[_e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",_e))(BUFFER_TYPE||{});const BrowserAdapter={createCanvas:(_e,_)=>{const et=document.createElement("canvas");return et.width=_e,et.height=_,et},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(_e,_)=>fetch(_e,_),parseXML:_e=>new DOMParser().parseFromString(_e,"text/xml")},settings={ADAPTER:BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(_e){return typeof _e<"u"&&_e.platform==="MacIntel"&&typeof _e.maxTouchPoints=="number"&&_e.maxTouchPoints>1&&typeof MSStream>"u"};function createMatch(_e){return function(_){return _.test(_e)}}function isMobile$2(_e){var _={userAgent:"",platform:"",maxTouchPoints:0};!_e&&typeof navigator<"u"?_={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof _e=="string"?_.userAgent=_e:_e&&_e.userAgent&&(_={userAgent:_e.userAgent,platform:_e.platform,maxTouchPoints:_e.maxTouchPoints||0});var et=_.userAgent,tt=et.split("[FBAN");typeof tt[1]<"u"&&(et=tt[0]),tt=et.split("Twitter"),typeof tt[1]<"u"&&(et=tt[0]);var rt=createMatch(et),nt={apple:{phone:rt(appleIphone)&&!rt(windowsPhone),ipod:rt(appleIpod),tablet:!rt(appleIphone)&&(rt(appleTablet)||isAppleTabletOnIos13(_))&&!rt(windowsPhone),universal:rt(appleUniversal),device:(rt(appleIphone)||rt(appleIpod)||rt(appleTablet)||rt(appleUniversal)||isAppleTabletOnIos13(_))&&!rt(windowsPhone)},amazon:{phone:rt(amazonPhone),tablet:!rt(amazonPhone)&&rt(amazonTablet),device:rt(amazonPhone)||rt(amazonTablet)},android:{phone:!rt(windowsPhone)&&rt(amazonPhone)||!rt(windowsPhone)&&rt(androidPhone),tablet:!rt(windowsPhone)&&!rt(amazonPhone)&&!rt(androidPhone)&&(rt(amazonTablet)||rt(androidTablet)),device:!rt(windowsPhone)&&(rt(amazonPhone)||rt(amazonTablet)||rt(androidPhone)||rt(androidTablet))||rt(/\bokhttp\b/i)},windows:{phone:rt(windowsPhone),tablet:rt(windowsTablet),device:rt(windowsPhone)||rt(windowsTablet)},other:{blackberry:rt(otherBlackBerry),blackberry10:rt(otherBlackBerry10),opera:rt(otherOpera),firefox:rt(otherFirefox),chrome:rt(otherChrome),device:rt(otherBlackBerry)||rt(otherBlackBerry10)||rt(otherOpera)||rt(otherFirefox)||rt(otherChrome)},any:!1,phone:!1,tablet:!1};return nt.any=nt.apple.device||nt.android.device||nt.windows.device||nt.other.device,nt.phone=nt.apple.phone||nt.android.phone||nt.windows.phone,nt.tablet=nt.apple.tablet||nt.android.tablet||nt.windows.tablet,nt}const isMobileCall=isMobile$2.default??isMobile$2,isMobile$1=isMobileCall(globalThis.navigator);settings.RETINA_PREFIX=/@([0-9\.]+)x/;settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var eventemitter3={exports:{}};(function(_e){var _=Object.prototype.hasOwnProperty,et="~";function tt(){}Object.create&&(tt.prototype=Object.create(null),new tt().__proto__||(et=!1));function rt(lt,ct,ut){this.fn=lt,this.context=ct,this.once=ut||!1}function nt(lt,ct,ut,st,ot){if(typeof ut!="function")throw new TypeError("The listener must be a function");var dt=new rt(ut,st||lt,ot),ft=et?et+ct:ct;return lt._events[ft]?lt._events[ft].fn?lt._events[ft]=[lt._events[ft],dt]:lt._events[ft].push(dt):(lt._events[ft]=dt,lt._eventsCount++),lt}function it(lt,ct){--lt._eventsCount===0?lt._events=new tt:delete lt._events[ct]}function at(){this._events=new tt,this._eventsCount=0}at.prototype.eventNames=function(){var ct=[],ut,st;if(this._eventsCount===0)return ct;for(st in ut=this._events)_.call(ut,st)&&ct.push(et?st.slice(1):st);return Object.getOwnPropertySymbols?ct.concat(Object.getOwnPropertySymbols(ut)):ct},at.prototype.listeners=function(ct){var ut=et?et+ct:ct,st=this._events[ut];if(!st)return[];if(st.fn)return[st.fn];for(var ot=0,dt=st.length,ft=new Array(dt);ot<dt;ot++)ft[ot]=st[ot].fn;return ft},at.prototype.listenerCount=function(ct){var ut=et?et+ct:ct,st=this._events[ut];return st?st.fn?1:st.length:0},at.prototype.emit=function(ct,ut,st,ot,dt,ft){var ht=et?et+ct:ct;if(!this._events[ht])return!1;var mt=this._events[ht],gt=arguments.length,yt,vt;if(mt.fn){switch(mt.once&&this.removeListener(ct,mt.fn,void 0,!0),gt){case 1:return mt.fn.call(mt.context),!0;case 2:return mt.fn.call(mt.context,ut),!0;case 3:return mt.fn.call(mt.context,ut,st),!0;case 4:return mt.fn.call(mt.context,ut,st,ot),!0;case 5:return mt.fn.call(mt.context,ut,st,ot,dt),!0;case 6:return mt.fn.call(mt.context,ut,st,ot,dt,ft),!0}for(vt=1,yt=new Array(gt-1);vt<gt;vt++)yt[vt-1]=arguments[vt];mt.fn.apply(mt.context,yt)}else{var bt=mt.length,xt;for(vt=0;vt<bt;vt++)switch(mt[vt].once&&this.removeListener(ct,mt[vt].fn,void 0,!0),gt){case 1:mt[vt].fn.call(mt[vt].context);break;case 2:mt[vt].fn.call(mt[vt].context,ut);break;case 3:mt[vt].fn.call(mt[vt].context,ut,st);break;case 4:mt[vt].fn.call(mt[vt].context,ut,st,ot);break;default:if(!yt)for(xt=1,yt=new Array(gt-1);xt<gt;xt++)yt[xt-1]=arguments[xt];mt[vt].fn.apply(mt[vt].context,yt)}}return!0},at.prototype.on=function(ct,ut,st){return nt(this,ct,ut,st,!1)},at.prototype.once=function(ct,ut,st){return nt(this,ct,ut,st,!0)},at.prototype.removeListener=function(ct,ut,st,ot){var dt=et?et+ct:ct;if(!this._events[dt])return this;if(!ut)return it(this,dt),this;var ft=this._events[dt];if(ft.fn)ft.fn===ut&&(!ot||ft.once)&&(!st||ft.context===st)&&it(this,dt);else{for(var ht=0,mt=[],gt=ft.length;ht<gt;ht++)(ft[ht].fn!==ut||ot&&!ft[ht].once||st&&ft[ht].context!==st)&&mt.push(ft[ht]);mt.length?this._events[dt]=mt.length===1?mt[0]:mt:it(this,dt)}return this},at.prototype.removeAllListeners=function(ct){var ut;return ct?(ut=et?et+ct:ct,this._events[ut]&&it(this,ut)):(this._events=new tt,this._eventsCount=0),this},at.prototype.off=at.prototype.removeListener,at.prototype.addListener=at.prototype.on,at.prefixed=et,at.EventEmitter=at,_e.exports=at})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var earcut$2={exports:{}};earcut$2.exports=earcut;earcut$2.exports.default=earcut;function earcut(_e,_,et){et=et||2;var tt=_&&_.length,rt=tt?_[0]*et:_e.length,nt=linkedList(_e,0,rt,et,!0),it=[];if(!nt||nt.next===nt.prev)return it;var at,lt,ct,ut,st,ot,dt;if(tt&&(nt=eliminateHoles(_e,_,nt,et)),_e.length>80*et){at=ct=_e[0],lt=ut=_e[1];for(var ft=et;ft<rt;ft+=et)st=_e[ft],ot=_e[ft+1],st<at&&(at=st),ot<lt&&(lt=ot),st>ct&&(ct=st),ot>ut&&(ut=ot);dt=Math.max(ct-at,ut-lt),dt=dt!==0?32767/dt:0}return earcutLinked(nt,it,et,at,lt,dt,0),it}function linkedList(_e,_,et,tt,rt){var nt,it;if(rt===signedArea(_e,_,et,tt)>0)for(nt=_;nt<et;nt+=tt)it=insertNode(nt,_e[nt],_e[nt+1],it);else for(nt=et-tt;nt>=_;nt-=tt)it=insertNode(nt,_e[nt],_e[nt+1],it);return it&&equals(it,it.next)&&(removeNode(it),it=it.next),it}function filterPoints(_e,_){if(!_e)return _e;_||(_=_e);var et=_e,tt;do if(tt=!1,!et.steiner&&(equals(et,et.next)||area(et.prev,et,et.next)===0)){if(removeNode(et),et=_=et.prev,et===et.next)break;tt=!0}else et=et.next;while(tt||et!==_);return _}function earcutLinked(_e,_,et,tt,rt,nt,it){if(_e){!it&&nt&&indexCurve(_e,tt,rt,nt);for(var at=_e,lt,ct;_e.prev!==_e.next;){if(lt=_e.prev,ct=_e.next,nt?isEarHashed(_e,tt,rt,nt):isEar(_e)){_.push(lt.i/et|0),_.push(_e.i/et|0),_.push(ct.i/et|0),removeNode(_e),_e=ct.next,at=ct.next;continue}if(_e=ct,_e===at){it?it===1?(_e=cureLocalIntersections(filterPoints(_e),_,et),earcutLinked(_e,_,et,tt,rt,nt,2)):it===2&&splitEarcut(_e,_,et,tt,rt,nt):earcutLinked(filterPoints(_e),_,et,tt,rt,nt,1);break}}}}function isEar(_e){var _=_e.prev,et=_e,tt=_e.next;if(area(_,et,tt)>=0)return!1;for(var rt=_.x,nt=et.x,it=tt.x,at=_.y,lt=et.y,ct=tt.y,ut=rt<nt?rt<it?rt:it:nt<it?nt:it,st=at<lt?at<ct?at:ct:lt<ct?lt:ct,ot=rt>nt?rt>it?rt:it:nt>it?nt:it,dt=at>lt?at>ct?at:ct:lt>ct?lt:ct,ft=tt.next;ft!==_;){if(ft.x>=ut&&ft.x<=ot&&ft.y>=st&&ft.y<=dt&&pointInTriangle(rt,at,nt,lt,it,ct,ft.x,ft.y)&&area(ft.prev,ft,ft.next)>=0)return!1;ft=ft.next}return!0}function isEarHashed(_e,_,et,tt){var rt=_e.prev,nt=_e,it=_e.next;if(area(rt,nt,it)>=0)return!1;for(var at=rt.x,lt=nt.x,ct=it.x,ut=rt.y,st=nt.y,ot=it.y,dt=at<lt?at<ct?at:ct:lt<ct?lt:ct,ft=ut<st?ut<ot?ut:ot:st<ot?st:ot,ht=at>lt?at>ct?at:ct:lt>ct?lt:ct,mt=ut>st?ut>ot?ut:ot:st>ot?st:ot,gt=zOrder(dt,ft,_,et,tt),yt=zOrder(ht,mt,_,et,tt),vt=_e.prevZ,bt=_e.nextZ;vt&&vt.z>=gt&&bt&&bt.z<=yt;){if(vt.x>=dt&&vt.x<=ht&&vt.y>=ft&&vt.y<=mt&&vt!==rt&&vt!==it&&pointInTriangle(at,ut,lt,st,ct,ot,vt.x,vt.y)&&area(vt.prev,vt,vt.next)>=0||(vt=vt.prevZ,bt.x>=dt&&bt.x<=ht&&bt.y>=ft&&bt.y<=mt&&bt!==rt&&bt!==it&&pointInTriangle(at,ut,lt,st,ct,ot,bt.x,bt.y)&&area(bt.prev,bt,bt.next)>=0))return!1;bt=bt.nextZ}for(;vt&&vt.z>=gt;){if(vt.x>=dt&&vt.x<=ht&&vt.y>=ft&&vt.y<=mt&&vt!==rt&&vt!==it&&pointInTriangle(at,ut,lt,st,ct,ot,vt.x,vt.y)&&area(vt.prev,vt,vt.next)>=0)return!1;vt=vt.prevZ}for(;bt&&bt.z<=yt;){if(bt.x>=dt&&bt.x<=ht&&bt.y>=ft&&bt.y<=mt&&bt!==rt&&bt!==it&&pointInTriangle(at,ut,lt,st,ct,ot,bt.x,bt.y)&&area(bt.prev,bt,bt.next)>=0)return!1;bt=bt.nextZ}return!0}function cureLocalIntersections(_e,_,et){var tt=_e;do{var rt=tt.prev,nt=tt.next.next;!equals(rt,nt)&&intersects(rt,tt,tt.next,nt)&&locallyInside(rt,nt)&&locallyInside(nt,rt)&&(_.push(rt.i/et|0),_.push(tt.i/et|0),_.push(nt.i/et|0),removeNode(tt),removeNode(tt.next),tt=_e=nt),tt=tt.next}while(tt!==_e);return filterPoints(tt)}function splitEarcut(_e,_,et,tt,rt,nt){var it=_e;do{for(var at=it.next.next;at!==it.prev;){if(it.i!==at.i&&isValidDiagonal(it,at)){var lt=splitPolygon(it,at);it=filterPoints(it,it.next),lt=filterPoints(lt,lt.next),earcutLinked(it,_,et,tt,rt,nt,0),earcutLinked(lt,_,et,tt,rt,nt,0);return}at=at.next}it=it.next}while(it!==_e)}function eliminateHoles(_e,_,et,tt){var rt=[],nt,it,at,lt,ct;for(nt=0,it=_.length;nt<it;nt++)at=_[nt]*tt,lt=nt<it-1?_[nt+1]*tt:_e.length,ct=linkedList(_e,at,lt,tt,!1),ct===ct.next&&(ct.steiner=!0),rt.push(getLeftmost(ct));for(rt.sort(compareX),nt=0;nt<rt.length;nt++)et=eliminateHole(rt[nt],et);return et}function compareX(_e,_){return _e.x-_.x}function eliminateHole(_e,_){var et=findHoleBridge(_e,_);if(!et)return _;var tt=splitPolygon(et,_e);return filterPoints(tt,tt.next),filterPoints(et,et.next)}function findHoleBridge(_e,_){var et=_,tt=_e.x,rt=_e.y,nt=-1/0,it;do{if(rt<=et.y&&rt>=et.next.y&&et.next.y!==et.y){var at=et.x+(rt-et.y)*(et.next.x-et.x)/(et.next.y-et.y);if(at<=tt&&at>nt&&(nt=at,it=et.x<et.next.x?et:et.next,at===tt))return it}et=et.next}while(et!==_);if(!it)return null;var lt=it,ct=it.x,ut=it.y,st=1/0,ot;et=it;do tt>=et.x&&et.x>=ct&&tt!==et.x&&pointInTriangle(rt<ut?tt:nt,rt,ct,ut,rt<ut?nt:tt,rt,et.x,et.y)&&(ot=Math.abs(rt-et.y)/(tt-et.x),locallyInside(et,_e)&&(ot<st||ot===st&&(et.x>it.x||et.x===it.x&&sectorContainsSector(it,et)))&&(it=et,st=ot)),et=et.next;while(et!==lt);return it}function sectorContainsSector(_e,_){return area(_e.prev,_e,_.prev)<0&&area(_.next,_e,_e.next)<0}function indexCurve(_e,_,et,tt){var rt=_e;do rt.z===0&&(rt.z=zOrder(rt.x,rt.y,_,et,tt)),rt.prevZ=rt.prev,rt.nextZ=rt.next,rt=rt.next;while(rt!==_e);rt.prevZ.nextZ=null,rt.prevZ=null,sortLinked(rt)}function sortLinked(_e){var _,et,tt,rt,nt,it,at,lt,ct=1;do{for(et=_e,_e=null,nt=null,it=0;et;){for(it++,tt=et,at=0,_=0;_<ct&&(at++,tt=tt.nextZ,!!tt);_++);for(lt=ct;at>0||lt>0&&tt;)at!==0&&(lt===0||!tt||et.z<=tt.z)?(rt=et,et=et.nextZ,at--):(rt=tt,tt=tt.nextZ,lt--),nt?nt.nextZ=rt:_e=rt,rt.prevZ=nt,nt=rt;et=tt}nt.nextZ=null,ct*=2}while(it>1);return _e}function zOrder(_e,_,et,tt,rt){return _e=(_e-et)*rt|0,_=(_-tt)*rt|0,_e=(_e|_e<<8)&16711935,_e=(_e|_e<<4)&252645135,_e=(_e|_e<<2)&858993459,_e=(_e|_e<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,_e|_<<1}function getLeftmost(_e){var _=_e,et=_e;do(_.x<et.x||_.x===et.x&&_.y<et.y)&&(et=_),_=_.next;while(_!==_e);return et}function pointInTriangle(_e,_,et,tt,rt,nt,it,at){return(rt-it)*(_-at)>=(_e-it)*(nt-at)&&(_e-it)*(tt-at)>=(et-it)*(_-at)&&(et-it)*(nt-at)>=(rt-it)*(tt-at)}function isValidDiagonal(_e,_){return _e.next.i!==_.i&&_e.prev.i!==_.i&&!intersectsPolygon(_e,_)&&(locallyInside(_e,_)&&locallyInside(_,_e)&&middleInside(_e,_)&&(area(_e.prev,_e,_.prev)||area(_e,_.prev,_))||equals(_e,_)&&area(_e.prev,_e,_e.next)>0&&area(_.prev,_,_.next)>0)}function area(_e,_,et){return(_.y-_e.y)*(et.x-_.x)-(_.x-_e.x)*(et.y-_.y)}function equals(_e,_){return _e.x===_.x&&_e.y===_.y}function intersects(_e,_,et,tt){var rt=sign$3(area(_e,_,et)),nt=sign$3(area(_e,_,tt)),it=sign$3(area(et,tt,_e)),at=sign$3(area(et,tt,_));return!!(rt!==nt&&it!==at||rt===0&&onSegment(_e,et,_)||nt===0&&onSegment(_e,tt,_)||it===0&&onSegment(et,_e,tt)||at===0&&onSegment(et,_,tt))}function onSegment(_e,_,et){return _.x<=Math.max(_e.x,et.x)&&_.x>=Math.min(_e.x,et.x)&&_.y<=Math.max(_e.y,et.y)&&_.y>=Math.min(_e.y,et.y)}function sign$3(_e){return _e>0?1:_e<0?-1:0}function intersectsPolygon(_e,_){var et=_e;do{if(et.i!==_e.i&&et.next.i!==_e.i&&et.i!==_.i&&et.next.i!==_.i&&intersects(et,et.next,_e,_))return!0;et=et.next}while(et!==_e);return!1}function locallyInside(_e,_){return area(_e.prev,_e,_e.next)<0?area(_e,_,_e.next)>=0&&area(_e,_e.prev,_)>=0:area(_e,_,_e.prev)<0||area(_e,_e.next,_)<0}function middleInside(_e,_){var et=_e,tt=!1,rt=(_e.x+_.x)/2,nt=(_e.y+_.y)/2;do et.y>nt!=et.next.y>nt&&et.next.y!==et.y&&rt<(et.next.x-et.x)*(nt-et.y)/(et.next.y-et.y)+et.x&&(tt=!tt),et=et.next;while(et!==_e);return tt}function splitPolygon(_e,_){var et=new Node$1(_e.i,_e.x,_e.y),tt=new Node$1(_.i,_.x,_.y),rt=_e.next,nt=_.prev;return _e.next=_,_.prev=_e,et.next=rt,rt.prev=et,tt.next=et,et.prev=tt,nt.next=tt,tt.prev=nt,tt}function insertNode(_e,_,et,tt){var rt=new Node$1(_e,_,et);return tt?(rt.next=tt.next,rt.prev=tt,tt.next.prev=rt,tt.next=rt):(rt.prev=rt,rt.next=rt),rt}function removeNode(_e){_e.next.prev=_e.prev,_e.prev.next=_e.next,_e.prevZ&&(_e.prevZ.nextZ=_e.nextZ),_e.nextZ&&(_e.nextZ.prevZ=_e.prevZ)}function Node$1(_e,_,et){this.i=_e,this.x=_,this.y=et,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}earcut.deviation=function(_e,_,et,tt){var rt=_&&_.length,nt=rt?_[0]*et:_e.length,it=Math.abs(signedArea(_e,0,nt,et));if(rt)for(var at=0,lt=_.length;at<lt;at++){var ct=_[at]*et,ut=at<lt-1?_[at+1]*et:_e.length;it-=Math.abs(signedArea(_e,ct,ut,et))}var st=0;for(at=0;at<tt.length;at+=3){var ot=tt[at]*et,dt=tt[at+1]*et,ft=tt[at+2]*et;st+=Math.abs((_e[ot]-_e[ft])*(_e[dt+1]-_e[ot+1])-(_e[ot]-_e[dt])*(_e[ft+1]-_e[ot+1]))}return it===0&&st===0?0:Math.abs((st-it)/it)};function signedArea(_e,_,et,tt){for(var rt=0,nt=_,it=et-tt;nt<et;nt+=tt)rt+=(_e[it]-_e[nt])*(_e[nt+1]+_e[it+1]),it=nt;return rt}earcut.flatten=function(_e){for(var _=_e[0][0].length,et={vertices:[],holes:[],dimensions:_},tt=0,rt=0;rt<_e.length;rt++){for(var nt=0;nt<_e[rt].length;nt++)for(var it=0;it<_;it++)et.vertices.push(_e[rt][nt][it]);rt>0&&(tt+=_e[rt-1].length,et.holes.push(tt))}return et};var earcutExports=earcut$2.exports;const earcut$1=getDefaultExportFromCjs(earcutExports);var punycode$1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */punycode$1.exports;(function(_e,_){(function(et){var tt=_&&!_.nodeType&&_,rt=!_e.nodeType&&_e,nt=typeof commonjsGlobal=="object"&&commonjsGlobal;(nt.global===nt||nt.window===nt||nt.self===nt)&&(et=nt);var it,at=2147483647,lt=36,ct=1,ut=26,st=38,ot=700,dt=72,ft=128,ht="-",mt=/^xn--/,gt=/[^\x20-\x7E]/,yt=/[\x2E\u3002\uFF0E\uFF61]/g,vt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bt=lt-ct,xt=Math.floor,_t=String.fromCharCode,St;function wt(Dt){throw new RangeError(vt[Dt])}function Et(Dt,jt){for(var Ut=Dt.length,Xt=[];Ut--;)Xt[Ut]=jt(Dt[Ut]);return Xt}function Tt(Dt,jt){var Ut=Dt.split("@"),Xt="";Ut.length>1&&(Xt=Ut[0]+"@",Dt=Ut[1]),Dt=Dt.replace(yt,".");var Wt=Dt.split("."),Vt=Et(Wt,jt).join(".");return Xt+Vt}function Ct(Dt){for(var jt=[],Ut=0,Xt=Dt.length,Wt,Vt;Ut<Xt;)Wt=Dt.charCodeAt(Ut++),Wt>=55296&&Wt<=56319&&Ut<Xt?(Vt=Dt.charCodeAt(Ut++),(Vt&64512)==56320?jt.push(((Wt&1023)<<10)+(Vt&1023)+65536):(jt.push(Wt),Ut--)):jt.push(Wt);return jt}function It(Dt){return Et(Dt,function(jt){var Ut="";return jt>65535&&(jt-=65536,Ut+=_t(jt>>>10&1023|55296),jt=56320|jt&1023),Ut+=_t(jt),Ut}).join("")}function Pt(Dt){return Dt-48<10?Dt-22:Dt-65<26?Dt-65:Dt-97<26?Dt-97:lt}function At(Dt,jt){return Dt+22+75*(Dt<26)-((jt!=0)<<5)}function kt(Dt,jt,Ut){var Xt=0;for(Dt=Ut?xt(Dt/ot):Dt>>1,Dt+=xt(Dt/jt);Dt>bt*ut>>1;Xt+=lt)Dt=xt(Dt/bt);return xt(Xt+(bt+1)*Dt/(Dt+st))}function Rt(Dt){var jt=[],Ut=Dt.length,Xt,Wt=0,Vt=ft,qt=dt,tr,Kt,Yt,rr,ir,lr,ar,ur,fr;for(tr=Dt.lastIndexOf(ht),tr<0&&(tr=0),Kt=0;Kt<tr;++Kt)Dt.charCodeAt(Kt)>=128&&wt("not-basic"),jt.push(Dt.charCodeAt(Kt));for(Yt=tr>0?tr+1:0;Yt<Ut;){for(rr=Wt,ir=1,lr=lt;Yt>=Ut&&wt("invalid-input"),ar=Pt(Dt.charCodeAt(Yt++)),(ar>=lt||ar>xt((at-Wt)/ir))&&wt("overflow"),Wt+=ar*ir,ur=lr<=qt?ct:lr>=qt+ut?ut:lr-qt,!(ar<ur);lr+=lt)fr=lt-ur,ir>xt(at/fr)&&wt("overflow"),ir*=fr;Xt=jt.length+1,qt=kt(Wt-rr,Xt,rr==0),xt(Wt/Xt)>at-Vt&&wt("overflow"),Vt+=xt(Wt/Xt),Wt%=Xt,jt.splice(Wt++,0,Vt)}return It(jt)}function $t(Dt){var jt,Ut,Xt,Wt,Vt,qt,tr,Kt,Yt,rr,ir,lr=[],ar,ur,fr,yr;for(Dt=Ct(Dt),ar=Dt.length,jt=ft,Ut=0,Vt=dt,qt=0;qt<ar;++qt)ir=Dt[qt],ir<128&&lr.push(_t(ir));for(Xt=Wt=lr.length,Wt&&lr.push(ht);Xt<ar;){for(tr=at,qt=0;qt<ar;++qt)ir=Dt[qt],ir>=jt&&ir<tr&&(tr=ir);for(ur=Xt+1,tr-jt>xt((at-Ut)/ur)&&wt("overflow"),Ut+=(tr-jt)*ur,jt=tr,qt=0;qt<ar;++qt)if(ir=Dt[qt],ir<jt&&++Ut>at&&wt("overflow"),ir==jt){for(Kt=Ut,Yt=lt;rr=Yt<=Vt?ct:Yt>=Vt+ut?ut:Yt-Vt,!(Kt<rr);Yt+=lt)yr=Kt-rr,fr=lt-rr,lr.push(_t(At(rr+yr%fr,0))),Kt=xt(yr/fr);lr.push(_t(At(Kt,0))),Vt=kt(Ut,ur,Xt==Wt),Ut=0,++Xt}++Ut,++jt}return lr.join("")}function Mt(Dt){return Tt(Dt,function(jt){return mt.test(jt)?Rt(jt.slice(4).toLowerCase()):jt})}function Nt(Dt){return Tt(Dt,function(jt){return gt.test(jt)?"xn--"+$t(jt):jt})}if(it={version:"1.4.1",ucs2:{decode:Ct,encode:It},decode:Rt,encode:$t,toASCII:Nt,toUnicode:Mt},tt&&rt)if(_e.exports==tt)rt.exports=it;else for(St in it)it.hasOwnProperty(St)&&(tt[St]=it[St]);else et.punycode=it})(commonjsGlobal)})(punycode$1,punycode$1.exports);var punycodeExports=punycode$1.exports,type$2=TypeError;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize$1=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace$1=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat$1=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols||!0)?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(_e){return _e.__proto__}:null);function addNumericSeparator(_e,_){if(_e===1/0||_e===-1/0||_e!==_e||_e&&_e>-1e3&&_e<1e3||$test.call(/e/,_))return _;var et=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof _e=="number"){var tt=_e<0?-$floor(-_e):$floor(_e);if(tt!==_e){var rt=String(tt),nt=$slice.call(_,rt.length+1);return $replace$1.call(rt,et,"$&_")+"."+$replace$1.call($replace$1.call(nt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace$1.call(_,et,"$&_")}var utilInspect=require$$0,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol(inspectCustom)?inspectCustom:null,quotes={__proto__:null,double:'"',single:"'"},quoteREs={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},objectInspect=function _e(_,et,tt,rt){var nt=et||{};if(has$3(nt,"quoteStyle")&&!has$3(quotes,nt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(nt,"maxStringLength")&&(typeof nt.maxStringLength=="number"?nt.maxStringLength<0&&nt.maxStringLength!==1/0:nt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var it=has$3(nt,"customInspect")?nt.customInspect:!0;if(typeof it!="boolean"&&it!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(nt,"indent")&&nt.indent!==null&&nt.indent!=="	"&&!(parseInt(nt.indent,10)===nt.indent&&nt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$3(nt,"numericSeparator")&&typeof nt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var at=nt.numericSeparator;if(typeof _>"u")return"undefined";if(_===null)return"null";if(typeof _=="boolean")return _?"true":"false";if(typeof _=="string")return inspectString(_,nt);if(typeof _=="number"){if(_===0)return 1/0/_>0?"0":"-0";var lt=String(_);return at?addNumericSeparator(_,lt):lt}if(typeof _=="bigint"){var ct=String(_)+"n";return at?addNumericSeparator(_,ct):ct}var ut=typeof nt.depth>"u"?5:nt.depth;if(typeof tt>"u"&&(tt=0),tt>=ut&&ut>0&&typeof _=="object")return isArray$3(_)?"[Array]":"[Object]";var st=getIndent(nt,tt);if(typeof rt>"u")rt=[];else if(indexOf(rt,_)>=0)return"[Circular]";function ot(Pt,At,kt){if(At&&(rt=$arrSlice.call(rt),rt.push(At)),kt){var Rt={depth:nt.depth};return has$3(nt,"quoteStyle")&&(Rt.quoteStyle=nt.quoteStyle),_e(Pt,Rt,tt+1,rt)}return _e(Pt,nt,tt+1,rt)}if(typeof _=="function"&&!isRegExp$1(_)){var dt=nameOf(_),ft=arrObjKeys(_,ot);return"[Function"+(dt?": "+dt:" (anonymous)")+"]"+(ft.length>0?" { "+$join.call(ft,", ")+" }":"")}if(isSymbol(_)){var ht=hasShammedSymbols?$replace$1.call(String(_),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(_);return typeof _=="object"&&!hasShammedSymbols?markBoxed(ht):ht}if(isElement(_)){for(var mt="<"+$toLowerCase.call(String(_.nodeName)),gt=_.attributes||[],yt=0;yt<gt.length;yt++)mt+=" "+gt[yt].name+"="+wrapQuotes(quote(gt[yt].value),"double",nt);return mt+=">",_.childNodes&&_.childNodes.length&&(mt+="..."),mt+="</"+$toLowerCase.call(String(_.nodeName))+">",mt}if(isArray$3(_)){if(_.length===0)return"[]";var vt=arrObjKeys(_,ot);return st&&!singleLineValues(vt)?"["+indentedJoin(vt,st)+"]":"[ "+$join.call(vt,", ")+" ]"}if(isError(_)){var bt=arrObjKeys(_,ot);return!("cause"in Error.prototype)&&"cause"in _&&!isEnumerable.call(_,"cause")?"{ ["+String(_)+"] "+$join.call($concat$1.call("[cause]: "+ot(_.cause),bt),", ")+" }":bt.length===0?"["+String(_)+"]":"{ ["+String(_)+"] "+$join.call(bt,", ")+" }"}if(typeof _=="object"&&it){if(inspectSymbol&&typeof _[inspectSymbol]=="function"&&utilInspect)return utilInspect(_,{depth:ut-tt});if(it!=="symbol"&&typeof _.inspect=="function")return _.inspect()}if(isMap(_)){var xt=[];return mapForEach&&mapForEach.call(_,function(Pt,At){xt.push(ot(At,_,!0)+" => "+ot(Pt,_))}),collectionOf("Map",mapSize$1.call(_),xt,st)}if(isSet(_)){var _t=[];return setForEach&&setForEach.call(_,function(Pt){_t.push(ot(Pt,_))}),collectionOf("Set",setSize.call(_),_t,st)}if(isWeakMap(_))return weakCollectionOf("WeakMap");if(isWeakSet(_))return weakCollectionOf("WeakSet");if(isWeakRef(_))return weakCollectionOf("WeakRef");if(isNumber(_))return markBoxed(ot(Number(_)));if(isBigInt(_))return markBoxed(ot(bigIntValueOf.call(_)));if(isBoolean(_))return markBoxed(booleanValueOf.call(_));if(isString(_))return markBoxed(ot(String(_)));if(typeof window<"u"&&_===window)return"{ [object Window] }";if(typeof globalThis<"u"&&_===globalThis||typeof commonjsGlobal<"u"&&_===commonjsGlobal)return"{ [object globalThis] }";if(!isDate(_)&&!isRegExp$1(_)){var St=arrObjKeys(_,ot),wt=gPO?gPO(_)===Object.prototype:_ instanceof Object||_.constructor===Object,Et=_ instanceof Object?"":"null prototype",Tt=!wt&&toStringTag&&Object(_)===_&&toStringTag in _?$slice.call(toStr$1(_),8,-1):Et?"Object":"",Ct=wt||typeof _.constructor!="function"?"":_.constructor.name?_.constructor.name+" ":"",It=Ct+(Tt||Et?"["+$join.call($concat$1.call([],Tt||[],Et||[]),": ")+"] ":"");return St.length===0?It+"{}":st?It+"{"+indentedJoin(St,st)+"}":It+"{ "+$join.call(St,", ")+" }"}return String(_)};function wrapQuotes(_e,_,et){var tt=et.quoteStyle||_,rt=quotes[tt];return rt+_e+rt}function quote(_e){return $replace$1.call(String(_e),/"/g,"&quot;")}function isArray$3(_e){return toStr$1(_e)==="[object Array]"&&(!toStringTag||!(typeof _e=="object"&&toStringTag in _e))}function isDate(_e){return toStr$1(_e)==="[object Date]"&&(!toStringTag||!(typeof _e=="object"&&toStringTag in _e))}function isRegExp$1(_e){return toStr$1(_e)==="[object RegExp]"&&(!toStringTag||!(typeof _e=="object"&&toStringTag in _e))}function isError(_e){return toStr$1(_e)==="[object Error]"&&(!toStringTag||!(typeof _e=="object"&&toStringTag in _e))}function isString(_e){return toStr$1(_e)==="[object String]"&&(!toStringTag||!(typeof _e=="object"&&toStringTag in _e))}function isNumber(_e){return toStr$1(_e)==="[object Number]"&&(!toStringTag||!(typeof _e=="object"&&toStringTag in _e))}function isBoolean(_e){return toStr$1(_e)==="[object Boolean]"&&(!toStringTag||!(typeof _e=="object"&&toStringTag in _e))}function isSymbol(_e){if(hasShammedSymbols)return _e&&typeof _e=="object"&&_e instanceof Symbol;if(typeof _e=="symbol")return!0;if(!_e||typeof _e!="object"||!symToString)return!1;try{return symToString.call(_e),!0}catch{}return!1}function isBigInt(_e){if(!_e||typeof _e!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(_e),!0}catch{}return!1}var hasOwn$1=Object.prototype.hasOwnProperty||function(_e){return _e in this};function has$3(_e,_){return hasOwn$1.call(_e,_)}function toStr$1(_e){return objectToString.call(_e)}function nameOf(_e){if(_e.name)return _e.name;var _=$match.call(functionToString.call(_e),/^function\s*([\w$]+)/);return _?_[1]:null}function indexOf(_e,_){if(_e.indexOf)return _e.indexOf(_);for(var et=0,tt=_e.length;et<tt;et++)if(_e[et]===_)return et;return-1}function isMap(_e){if(!mapSize$1||!_e||typeof _e!="object")return!1;try{mapSize$1.call(_e);try{setSize.call(_e)}catch{return!0}return _e instanceof Map}catch{}return!1}function isWeakMap(_e){if(!weakMapHas||!_e||typeof _e!="object")return!1;try{weakMapHas.call(_e,weakMapHas);try{weakSetHas.call(_e,weakSetHas)}catch{return!0}return _e instanceof WeakMap}catch{}return!1}function isWeakRef(_e){if(!weakRefDeref||!_e||typeof _e!="object")return!1;try{return weakRefDeref.call(_e),!0}catch{}return!1}function isSet(_e){if(!setSize||!_e||typeof _e!="object")return!1;try{setSize.call(_e);try{mapSize$1.call(_e)}catch{return!0}return _e instanceof Set}catch{}return!1}function isWeakSet(_e){if(!weakSetHas||!_e||typeof _e!="object")return!1;try{weakSetHas.call(_e,weakSetHas);try{weakMapHas.call(_e,weakMapHas)}catch{return!0}return _e instanceof WeakSet}catch{}return!1}function isElement(_e){return!_e||typeof _e!="object"?!1:typeof HTMLElement<"u"&&_e instanceof HTMLElement?!0:typeof _e.nodeName=="string"&&typeof _e.getAttribute=="function"}function inspectString(_e,_){if(_e.length>_.maxStringLength){var et=_e.length-_.maxStringLength,tt="... "+et+" more character"+(et>1?"s":"");return inspectString($slice.call(_e,0,_.maxStringLength),_)+tt}var rt=quoteREs[_.quoteStyle||"single"];rt.lastIndex=0;var nt=$replace$1.call($replace$1.call(_e,rt,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(nt,"single",_)}function lowbyte(_e){var _=_e.charCodeAt(0),et={8:"b",9:"t",10:"n",12:"f",13:"r"}[_];return et?"\\"+et:"\\x"+(_<16?"0":"")+$toUpperCase.call(_.toString(16))}function markBoxed(_e){return"Object("+_e+")"}function weakCollectionOf(_e){return _e+" { ? }"}function collectionOf(_e,_,et,tt){var rt=tt?indentedJoin(et,tt):$join.call(et,", ");return _e+" ("+_+") {"+rt+"}"}function singleLineValues(_e){for(var _=0;_<_e.length;_++)if(indexOf(_e[_],`
`)>=0)return!1;return!0}function getIndent(_e,_){var et;if(_e.indent==="	")et="	";else if(typeof _e.indent=="number"&&_e.indent>0)et=$join.call(Array(_e.indent+1)," ");else return null;return{base:et,prev:$join.call(Array(_+1),et)}}function indentedJoin(_e,_){if(_e.length===0)return"";var et=`
`+_.prev+_.base;return et+$join.call(_e,","+et)+`
`+_.prev}function arrObjKeys(_e,_){var et=isArray$3(_e),tt=[];if(et){tt.length=_e.length;for(var rt=0;rt<_e.length;rt++)tt[rt]=has$3(_e,rt)?_(_e[rt],_e):""}var nt=typeof gOPS=="function"?gOPS(_e):[],it;if(hasShammedSymbols){it={};for(var at=0;at<nt.length;at++)it["$"+nt[at]]=nt[at]}for(var lt in _e)has$3(_e,lt)&&(et&&String(Number(lt))===lt&&lt<_e.length||hasShammedSymbols&&it["$"+lt]instanceof Symbol||($test.call(/[^\w$]/,lt)?tt.push(_(lt,_e)+": "+_(_e[lt],_e)):tt.push(lt+": "+_(_e[lt],_e))));if(typeof gOPS=="function")for(var ct=0;ct<nt.length;ct++)isEnumerable.call(_e,nt[ct])&&tt.push("["+_(nt[ct])+"]: "+_(_e[nt[ct]],_e));return tt}var inspect$3=objectInspect,$TypeError$5=type$2,listGetNode=function(_e,_,et){for(var tt=_e,rt;(rt=tt.next)!=null;tt=rt)if(rt.key===_)return tt.next=rt.next,et||(rt.next=_e.next,_e.next=rt),rt},listGet=function(_e,_){if(_e){var et=listGetNode(_e,_);return et&&et.value}},listSet=function(_e,_,et){var tt=listGetNode(_e,_);tt?tt.value=et:_e.next={key:_,next:_e.next,value:et}},listHas=function(_e,_){return _e?!!listGetNode(_e,_):!1},listDelete=function(_e,_){if(_e)return listGetNode(_e,_,!0)},sideChannelList=function _e(){var _,et={assert:function(tt){if(!et.has(tt))throw new $TypeError$5("Side channel does not contain "+inspect$3(tt))},delete:function(tt){var rt=_&&_.next,nt=listDelete(_,tt);return nt&&rt&&rt===nt&&(_=void 0),!!nt},get:function(tt){return listGet(_,tt)},has:function(tt){return listHas(_,tt)},set:function(tt,rt){_||(_={next:void 0}),listSet(_,tt,rt)}};return et},esObjectAtoms=Object,esErrors=Error,_eval=EvalError,range$1=RangeError,ref=ReferenceError,syntax=SyntaxError,uri=URIError,abs$2=Math.abs,floor$1=Math.floor,max$2=Math.max,min$1=Math.min,pow$1=Math.pow,round$3=Math.round,_isNaN=Number.isNaN||function _e(_){return _!==_},$isNaN=_isNaN,sign$2=function _e(_){return $isNaN(_)||_===0?_:_<0?-1:1},gOPD=Object.getOwnPropertyDescriptor,$gOPD$1=gOPD;if($gOPD$1)try{$gOPD$1([],"length")}catch{$gOPD$1=null}var gopd=$gOPD$1,$defineProperty$1=Object.defineProperty||!1;if($defineProperty$1)try{$defineProperty$1({},"a",{value:1})}catch{$defineProperty$1=!1}var esDefineProperty=$defineProperty$1,shams,hasRequiredShams;function requireShams(){return hasRequiredShams||(hasRequiredShams=1,shams=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var _={},et=Symbol("test"),tt=Object(et);if(typeof et=="string"||Object.prototype.toString.call(et)!=="[object Symbol]"||Object.prototype.toString.call(tt)!=="[object Symbol]")return!1;var rt=42;_[et]=rt;for(var nt in _)return!1;if(typeof Object.keys=="function"&&Object.keys(_).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(_).length!==0)return!1;var it=Object.getOwnPropertySymbols(_);if(it.length!==1||it[0]!==et||!Object.prototype.propertyIsEnumerable.call(_,et))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var at=Object.getOwnPropertyDescriptor(_,et);if(at.value!==rt||at.enumerable!==!0)return!1}return!0}),shams}var hasSymbols$1,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols$1;hasRequiredHasSymbols=1;var _e=typeof Symbol<"u"&&Symbol,_=requireShams();return hasSymbols$1=function(){return typeof _e!="function"||typeof Symbol!="function"||typeof _e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:_()},hasSymbols$1}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var _e=esObjectAtoms;return Object_getPrototypeOf=_e.getPrototypeOf||null,Object_getPrototypeOf}var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr=Object.prototype.toString,max$1=Math.max,funcType="[object Function]",concatty=function _e(_,et){for(var tt=[],rt=0;rt<_.length;rt+=1)tt[rt]=_[rt];for(var nt=0;nt<et.length;nt+=1)tt[nt+_.length]=et[nt];return tt},slicy=function _e(_,et){for(var tt=[],rt=et,nt=0;rt<_.length;rt+=1,nt+=1)tt[nt]=_[rt];return tt},joiny=function(_e,_){for(var et="",tt=0;tt<_e.length;tt+=1)et+=_e[tt],tt+1<_e.length&&(et+=_);return et},implementation$1=function _e(_){var et=this;if(typeof et!="function"||toStr.apply(et)!==funcType)throw new TypeError(ERROR_MESSAGE+et);for(var tt=slicy(arguments,1),rt,nt=function(){if(this instanceof rt){var ut=et.apply(this,concatty(tt,arguments));return Object(ut)===ut?ut:this}return et.apply(_,concatty(tt,arguments))},it=max$1(0,et.length-tt.length),at=[],lt=0;lt<it;lt++)at[lt]="$"+lt;if(rt=Function("binder","return function ("+joiny(at,",")+"){ return binder.apply(this,arguments); }")(nt),et.prototype){var ct=function(){};ct.prototype=et.prototype,rt.prototype=new ct,ct.prototype=null}return rt},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,functionCall=Function.prototype.call,functionApply=Function.prototype.apply,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply,bind$2=functionBind,$apply$1=functionApply,$call$2=functionCall,$reflectApply=reflectApply,actualApply=$reflectApply||bind$2.call($call$2,$apply$1),bind$1=functionBind,$TypeError$4=type$2,$call$1=functionCall,$actualApply=actualApply,callBindApplyHelpers=function _e(_){if(_.length<1||typeof _[0]!="function")throw new $TypeError$4("a function is required");return $actualApply(bind$1,$call$1,_)},get$2,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get$2;hasRequiredGet=1;var _e=callBindApplyHelpers,_=gopd,et;try{et=[].__proto__===Array.prototype}catch(it){if(!it||typeof it!="object"||!("code"in it)||it.code!=="ERR_PROTO_ACCESS")throw it}var tt=!!et&&_&&_(Object.prototype,"__proto__"),rt=Object,nt=rt.getPrototypeOf;return get$2=tt&&typeof tt.get=="function"?_e([tt.get]):typeof nt=="function"?function(at){return nt(at==null?at:rt(at))}:!1,get$2}var getProto$1,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto$1;hasRequiredGetProto=1;var _e=requireReflect_getPrototypeOf(),_=requireObject_getPrototypeOf(),et=requireGet();return getProto$1=_e?function(rt){return _e(rt)}:_?function(rt){if(!rt||typeof rt!="object"&&typeof rt!="function")throw new TypeError("getProto: not an object");return _(rt)}:et?function(rt){return et(rt)}:null,getProto$1}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var _e=Function.prototype.call,_=Object.prototype.hasOwnProperty,et=functionBind;return hasown=et.call(_e,_),hasown}var undefined$1,$Object=esObjectAtoms,$Error=esErrors,$EvalError=_eval,$RangeError=range$1,$ReferenceError=ref,$SyntaxError=syntax,$TypeError$3=type$2,$URIError=uri,abs$1=abs$2,floor=floor$1,max=max$2,min=min$1,pow=pow$1,round$2=round$3,sign$1=sign$2,$Function=Function,getEvalledConstructor=function(_e){try{return $Function('"use strict"; return ('+_e+").constructor;")()}catch{}},$gOPD=gopd,$defineProperty=esDefineProperty,throwTypeError=function(){throw new $TypeError$3},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=requireHasSymbols()(),getProto=requireGetProto(),$ObjectGPO=requireObject_getPrototypeOf(),$ReflectGPO=requireReflect_getPrototypeOf(),$apply=functionApply,$call=functionCall,needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto?undefined$1:getProto(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols||!getProto?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols||!getProto?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$3,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply,"%Object.defineProperty%":$defineProperty,"%Object.getPrototypeOf%":$ObjectGPO,"%Math.abs%":abs$1,"%Math.floor%":floor,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow,"%Math.round%":round$2,"%Math.sign%":sign$1,"%Reflect.getPrototypeOf%":$ReflectGPO};if(getProto)try{null.error}catch(_e){var errorProto=getProto(getProto(_e));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function _e(_){var et;if(_==="%AsyncFunction%")et=getEvalledConstructor("async function () {}");else if(_==="%GeneratorFunction%")et=getEvalledConstructor("function* () {}");else if(_==="%AsyncGeneratorFunction%")et=getEvalledConstructor("async function* () {}");else if(_==="%AsyncGenerator%"){var tt=_e("%AsyncGeneratorFunction%");tt&&(et=tt.prototype)}else if(_==="%AsyncIteratorPrototype%"){var rt=_e("%AsyncGenerator%");rt&&getProto&&(et=getProto(rt.prototype))}return INTRINSICS[_]=et,et},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn=requireHasown(),$concat=bind.call($call,Array.prototype.concat),$spliceApply=bind.call($apply,Array.prototype.splice),$replace=bind.call($call,String.prototype.replace),$strSlice=bind.call($call,String.prototype.slice),$exec=bind.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function _e(_){var et=$strSlice(_,0,1),tt=$strSlice(_,-1);if(et==="%"&&tt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(tt==="%"&&et!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var rt=[];return $replace(_,rePropName,function(nt,it,at,lt){rt[rt.length]=at?$replace(lt,reEscapeChar,"$1"):it||nt}),rt},getBaseIntrinsic=function _e(_,et){var tt=_,rt;if(hasOwn(LEGACY_ALIASES,tt)&&(rt=LEGACY_ALIASES[tt],tt="%"+rt[0]+"%"),hasOwn(INTRINSICS,tt)){var nt=INTRINSICS[tt];if(nt===needsEval&&(nt=doEval(tt)),typeof nt>"u"&&!et)throw new $TypeError$3("intrinsic "+_+" exists, but is not available. Please file an issue!");return{alias:rt,name:tt,value:nt}}throw new $SyntaxError("intrinsic "+_+" does not exist!")},getIntrinsic=function _e(_,et){if(typeof _!="string"||_.length===0)throw new $TypeError$3("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof et!="boolean")throw new $TypeError$3('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,_)===null)throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var tt=stringToPath(_),rt=tt.length>0?tt[0]:"",nt=getBaseIntrinsic("%"+rt+"%",et),it=nt.name,at=nt.value,lt=!1,ct=nt.alias;ct&&(rt=ct[0],$spliceApply(tt,$concat([0,1],ct)));for(var ut=1,st=!0;ut<tt.length;ut+=1){var ot=tt[ut],dt=$strSlice(ot,0,1),ft=$strSlice(ot,-1);if((dt==='"'||dt==="'"||dt==="`"||ft==='"'||ft==="'"||ft==="`")&&dt!==ft)throw new $SyntaxError("property names with quotes must have matching quotes");if((ot==="constructor"||!st)&&(lt=!0),rt+="."+ot,it="%"+rt+"%",hasOwn(INTRINSICS,it))at=INTRINSICS[it];else if(at!=null){if(!(ot in at)){if(!et)throw new $TypeError$3("base intrinsic for "+_+" exists, but the property is not available.");return}if($gOPD&&ut+1>=tt.length){var ht=$gOPD(at,ot);st=!!ht,st&&"get"in ht&&!("originalValue"in ht.get)?at=ht.get:at=at[ot]}else st=hasOwn(at,ot),at=at[ot];st&&!lt&&(INTRINSICS[it]=at)}}return at},GetIntrinsic$2=getIntrinsic,callBindBasic=callBindApplyHelpers,$indexOf=callBindBasic([GetIntrinsic$2("%String.prototype.indexOf%")]),callBound$2=function _e(_,et){var tt=GetIntrinsic$2(_,!!et);return typeof tt=="function"&&$indexOf(_,".prototype.")>-1?callBindBasic([tt]):tt},GetIntrinsic$1=getIntrinsic,callBound$1=callBound$2,inspect$2=objectInspect,$TypeError$2=type$2,$Map=GetIntrinsic$1("%Map%",!0),$mapGet=callBound$1("Map.prototype.get",!0),$mapSet=callBound$1("Map.prototype.set",!0),$mapHas=callBound$1("Map.prototype.has",!0),$mapDelete=callBound$1("Map.prototype.delete",!0),$mapSize=callBound$1("Map.prototype.size",!0),sideChannelMap=!!$Map&&function _e(){var _,et={assert:function(tt){if(!et.has(tt))throw new $TypeError$2("Side channel does not contain "+inspect$2(tt))},delete:function(tt){if(_){var rt=$mapDelete(_,tt);return $mapSize(_)===0&&(_=void 0),rt}return!1},get:function(tt){if(_)return $mapGet(_,tt)},has:function(tt){return _?$mapHas(_,tt):!1},set:function(tt,rt){_||(_=new $Map),$mapSet(_,tt,rt)}};return et},GetIntrinsic=getIntrinsic,callBound=callBound$2,inspect$1=objectInspect,getSideChannelMap$1=sideChannelMap,$TypeError$1=type$2,$WeakMap=GetIntrinsic("%WeakMap%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$weakMapDelete=callBound("WeakMap.prototype.delete",!0),sideChannelWeakmap=$WeakMap?function _e(){var _,et,tt={assert:function(rt){if(!tt.has(rt))throw new $TypeError$1("Side channel does not contain "+inspect$1(rt))},delete:function(rt){if($WeakMap&&rt&&(typeof rt=="object"||typeof rt=="function")){if(_)return $weakMapDelete(_,rt)}else if(getSideChannelMap$1&&et)return et.delete(rt);return!1},get:function(rt){return $WeakMap&&rt&&(typeof rt=="object"||typeof rt=="function")&&_?$weakMapGet(_,rt):et&&et.get(rt)},has:function(rt){return $WeakMap&&rt&&(typeof rt=="object"||typeof rt=="function")&&_?$weakMapHas(_,rt):!!et&&et.has(rt)},set:function(rt,nt){$WeakMap&&rt&&(typeof rt=="object"||typeof rt=="function")?(_||(_=new $WeakMap),$weakMapSet(_,rt,nt)):getSideChannelMap$1&&(et||(et=getSideChannelMap$1()),et.set(rt,nt))}};return tt}:getSideChannelMap$1,$TypeError=type$2,inspect=objectInspect,getSideChannelList=sideChannelList,getSideChannelMap=sideChannelMap,getSideChannelWeakMap=sideChannelWeakmap,makeChannel=getSideChannelWeakMap||getSideChannelMap||getSideChannelList,sideChannel=function _e(){var _,et={assert:function(tt){if(!et.has(tt))throw new $TypeError("Side channel does not contain "+inspect(tt))},delete:function(tt){return!!_&&_.delete(tt)},get:function(tt){return _&&_.get(tt)},has:function(tt){return!!_&&_.has(tt)},set:function(tt,rt){_||(_=makeChannel()),_.set(tt,rt)}};return et},replace$1=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$4={default:Format.RFC3986,formatters:{RFC1738:function(_e){return replace$1.call(_e,percentTwenties,"+")},RFC3986:function(_e){return String(_e)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$3=formats$4,has$2=Object.prototype.hasOwnProperty,isArray$2=Array.isArray,hexTable=function(){for(var _e=[],_=0;_<256;++_)_e.push("%"+((_<16?"0":"")+_.toString(16)).toUpperCase());return _e}(),compactQueue=function _e(_){for(;_.length>1;){var et=_.pop(),tt=et.obj[et.prop];if(isArray$2(tt)){for(var rt=[],nt=0;nt<tt.length;++nt)typeof tt[nt]<"u"&&rt.push(tt[nt]);et.obj[et.prop]=rt}}},arrayToObject=function _e(_,et){for(var tt=et&&et.plainObjects?{__proto__:null}:{},rt=0;rt<_.length;++rt)typeof _[rt]<"u"&&(tt[rt]=_[rt]);return tt},merge$2=function _e(_,et,tt){if(!et)return _;if(typeof et!="object"&&typeof et!="function"){if(isArray$2(_))_.push(et);else if(_&&typeof _=="object")(tt&&(tt.plainObjects||tt.allowPrototypes)||!has$2.call(Object.prototype,et))&&(_[et]=!0);else return[_,et];return _}if(!_||typeof _!="object")return[_].concat(et);var rt=_;return isArray$2(_)&&!isArray$2(et)&&(rt=arrayToObject(_,tt)),isArray$2(_)&&isArray$2(et)?(et.forEach(function(nt,it){if(has$2.call(_,it)){var at=_[it];at&&typeof at=="object"&&nt&&typeof nt=="object"?_[it]=_e(at,nt,tt):_.push(nt)}else _[it]=nt}),_):Object.keys(et).reduce(function(nt,it){var at=et[it];return has$2.call(nt,it)?nt[it]=_e(nt[it],at,tt):nt[it]=at,nt},rt)},assign=function _e(_,et){return Object.keys(et).reduce(function(tt,rt){return tt[rt]=et[rt],tt},_)},decode=function(_e,_,et){var tt=_e.replace(/\+/g," ");if(et==="iso-8859-1")return tt.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(tt)}catch{return tt}},limit=1024,encode=function _e(_,et,tt,rt,nt){if(_.length===0)return _;var it=_;if(typeof _=="symbol"?it=Symbol.prototype.toString.call(_):typeof _!="string"&&(it=String(_)),tt==="iso-8859-1")return escape(it).replace(/%u[0-9a-f]{4}/gi,function(dt){return"%26%23"+parseInt(dt.slice(2),16)+"%3B"});for(var at="",lt=0;lt<it.length;lt+=limit){for(var ct=it.length>=limit?it.slice(lt,lt+limit):it,ut=[],st=0;st<ct.length;++st){var ot=ct.charCodeAt(st);if(ot===45||ot===46||ot===95||ot===126||ot>=48&&ot<=57||ot>=65&&ot<=90||ot>=97&&ot<=122||nt===formats$3.RFC1738&&(ot===40||ot===41)){ut[ut.length]=ct.charAt(st);continue}if(ot<128){ut[ut.length]=hexTable[ot];continue}if(ot<2048){ut[ut.length]=hexTable[192|ot>>6]+hexTable[128|ot&63];continue}if(ot<55296||ot>=57344){ut[ut.length]=hexTable[224|ot>>12]+hexTable[128|ot>>6&63]+hexTable[128|ot&63];continue}st+=1,ot=65536+((ot&1023)<<10|ct.charCodeAt(st)&1023),ut[ut.length]=hexTable[240|ot>>18]+hexTable[128|ot>>12&63]+hexTable[128|ot>>6&63]+hexTable[128|ot&63]}at+=ut.join("")}return at},compact=function _e(_){for(var et=[{obj:{o:_},prop:"o"}],tt=[],rt=0;rt<et.length;++rt)for(var nt=et[rt],it=nt.obj[nt.prop],at=Object.keys(it),lt=0;lt<at.length;++lt){var ct=at[lt],ut=it[ct];typeof ut=="object"&&ut!==null&&tt.indexOf(ut)===-1&&(et.push({obj:it,prop:ct}),tt.push(ut))}return compactQueue(et),_},isRegExp=function _e(_){return Object.prototype.toString.call(_)==="[object RegExp]"},isBuffer=function _e(_){return!_||typeof _!="object"?!1:!!(_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_))},combine=function _e(_,et){return[].concat(_,et)},maybeMap=function _e(_,et){if(isArray$2(_)){for(var tt=[],rt=0;rt<_.length;rt+=1)tt.push(et(_[rt]));return tt}return et(_)},utils$2={arrayToObject,assign,combine,compact,decode,encode,isBuffer,isRegExp,maybeMap,merge:merge$2},getSideChannel=sideChannel,utils$1=utils$2,formats$2=formats$4,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function _e(_){return _+"[]"},comma:"comma",indices:function _e(_,et){return _+"["+et+"]"},repeat:function _e(_){return _}},isArray$1=Array.isArray,push=Array.prototype.push,pushToArray=function(_e,_){push.apply(_e,isArray$1(_)?_:[_])},toISO=Date.prototype.toISOString,defaultFormat=formats$2.default,defaults$1={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:utils$1.encode,encodeValuesOnly:!1,filter:void 0,format:defaultFormat,formatter:formats$2.formatters[defaultFormat],indices:!1,serializeDate:function _e(_){return toISO.call(_)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function _e(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},sentinel={},stringify$4=function _e(_,et,tt,rt,nt,it,at,lt,ct,ut,st,ot,dt,ft,ht,mt,gt,yt){for(var vt=_,bt=yt,xt=0,_t=!1;(bt=bt.get(sentinel))!==void 0&&!_t;){var St=bt.get(_);if(xt+=1,typeof St<"u"){if(St===xt)throw new RangeError("Cyclic object value");_t=!0}typeof bt.get(sentinel)>"u"&&(xt=0)}if(typeof ut=="function"?vt=ut(et,vt):vt instanceof Date?vt=dt(vt):tt==="comma"&&isArray$1(vt)&&(vt=utils$1.maybeMap(vt,function(Dt){return Dt instanceof Date?dt(Dt):Dt})),vt===null){if(it)return ct&&!mt?ct(et,defaults$1.encoder,gt,"key",ft):et;vt=""}if(isNonNullishPrimitive(vt)||utils$1.isBuffer(vt)){if(ct){var wt=mt?et:ct(et,defaults$1.encoder,gt,"key",ft);return[ht(wt)+"="+ht(ct(vt,defaults$1.encoder,gt,"value",ft))]}return[ht(et)+"="+ht(String(vt))]}var Et=[];if(typeof vt>"u")return Et;var Tt;if(tt==="comma"&&isArray$1(vt))mt&&ct&&(vt=utils$1.maybeMap(vt,ct)),Tt=[{value:vt.length>0?vt.join(",")||null:void 0}];else if(isArray$1(ut))Tt=ut;else{var Ct=Object.keys(vt);Tt=st?Ct.sort(st):Ct}var It=lt?String(et).replace(/\./g,"%2E"):String(et),Pt=rt&&isArray$1(vt)&&vt.length===1?It+"[]":It;if(nt&&isArray$1(vt)&&vt.length===0)return Pt+"[]";for(var At=0;At<Tt.length;++At){var kt=Tt[At],Rt=typeof kt=="object"&&kt&&typeof kt.value<"u"?kt.value:vt[kt];if(!(at&&Rt===null)){var $t=ot&&lt?String(kt).replace(/\./g,"%2E"):String(kt),Mt=isArray$1(vt)?typeof tt=="function"?tt(Pt,$t):Pt:Pt+(ot?"."+$t:"["+$t+"]");yt.set(_,xt);var Nt=getSideChannel();Nt.set(sentinel,yt),pushToArray(Et,_e(Rt,Mt,tt,rt,nt,it,at,lt,tt==="comma"&&mt&&isArray$1(vt)?null:ct,ut,st,ot,dt,ft,ht,mt,gt,Nt))}}return Et},normalizeStringifyOptions=function _e(_){if(!_)return defaults$1;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.encodeDotInKeys<"u"&&typeof _.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(_.encoder!==null&&typeof _.encoder<"u"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var et=_.charset||defaults$1.charset;if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var tt=formats$2.default;if(typeof _.format<"u"){if(!has$1.call(formats$2.formatters,_.format))throw new TypeError("Unknown format option provided.");tt=_.format}var rt=formats$2.formatters[tt],nt=defaults$1.filter;(typeof _.filter=="function"||isArray$1(_.filter))&&(nt=_.filter);var it;if(_.arrayFormat in arrayPrefixGenerators?it=_.arrayFormat:"indices"in _?it=_.indices?"indices":"repeat":it=defaults$1.arrayFormat,"commaRoundTrip"in _&&typeof _.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var at=typeof _.allowDots>"u"?_.encodeDotInKeys===!0?!0:defaults$1.allowDots:!!_.allowDots;return{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:at,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:defaults$1.allowEmptyArrays,arrayFormat:it,charset:et,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:defaults$1.charsetSentinel,commaRoundTrip:!!_.commaRoundTrip,delimiter:typeof _.delimiter>"u"?defaults$1.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:defaults$1.encode,encodeDotInKeys:typeof _.encodeDotInKeys=="boolean"?_.encodeDotInKeys:defaults$1.encodeDotInKeys,encoder:typeof _.encoder=="function"?_.encoder:defaults$1.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:nt,format:tt,formatter:rt,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:defaults$1.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:defaults$1.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(_e,_){var et=_e,tt=normalizeStringifyOptions(_),rt,nt;typeof tt.filter=="function"?(nt=tt.filter,et=nt("",et)):isArray$1(tt.filter)&&(nt=tt.filter,rt=nt);var it=[];if(typeof et!="object"||et===null)return"";var at=arrayPrefixGenerators[tt.arrayFormat],lt=at==="comma"&&tt.commaRoundTrip;rt||(rt=Object.keys(et)),tt.sort&&rt.sort(tt.sort);for(var ct=getSideChannel(),ut=0;ut<rt.length;++ut){var st=rt[ut],ot=et[st];tt.skipNulls&&ot===null||pushToArray(it,stringify$4(ot,st,at,lt,tt.allowEmptyArrays,tt.strictNullHandling,tt.skipNulls,tt.encodeDotInKeys,tt.encode?tt.encoder:null,tt.filter,tt.sort,tt.allowDots,tt.serializeDate,tt.format,tt.formatter,tt.encodeValuesOnly,tt.charset,ct))}var dt=it.join(tt.delimiter),ft=tt.addQueryPrefix===!0?"?":"";return tt.charsetSentinel&&(tt.charset==="iso-8859-1"?ft+="utf8=%26%2310003%3B&":ft+="utf8=%E2%9C%93&"),dt.length>0?ft+dt:""},utils=utils$2,has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:utils.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},interpretNumericEntities=function(_e){return _e.replace(/&#(\d+);/g,function(_,et){return String.fromCharCode(parseInt(et,10))})},parseArrayValue=function(_e,_,et){if(_e&&typeof _e=="string"&&_.comma&&_e.indexOf(",")>-1)return _e.split(",");if(_.throwOnLimitExceeded&&et>=_.arrayLimit)throw new RangeError("Array limit exceeded. Only "+_.arrayLimit+" element"+(_.arrayLimit===1?"":"s")+" allowed in an array.");return _e},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function _e(_,et){var tt={__proto__:null},rt=et.ignoreQueryPrefix?_.replace(/^\?/,""):_;rt=rt.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var nt=et.parameterLimit===1/0?void 0:et.parameterLimit,it=rt.split(et.delimiter,et.throwOnLimitExceeded?nt+1:nt);if(et.throwOnLimitExceeded&&it.length>nt)throw new RangeError("Parameter limit exceeded. Only "+nt+" parameter"+(nt===1?"":"s")+" allowed.");var at=-1,lt,ct=et.charset;if(et.charsetSentinel)for(lt=0;lt<it.length;++lt)it[lt].indexOf("utf8=")===0&&(it[lt]===charsetSentinel?ct="utf-8":it[lt]===isoSentinel&&(ct="iso-8859-1"),at=lt,lt=it.length);for(lt=0;lt<it.length;++lt)if(lt!==at){var ut=it[lt],st=ut.indexOf("]="),ot=st===-1?ut.indexOf("="):st+1,dt,ft;ot===-1?(dt=et.decoder(ut,defaults.decoder,ct,"key"),ft=et.strictNullHandling?null:""):(dt=et.decoder(ut.slice(0,ot),defaults.decoder,ct,"key"),ft=utils.maybeMap(parseArrayValue(ut.slice(ot+1),et,isArray(tt[dt])?tt[dt].length:0),function(mt){return et.decoder(mt,defaults.decoder,ct,"value")})),ft&&et.interpretNumericEntities&&ct==="iso-8859-1"&&(ft=interpretNumericEntities(String(ft))),ut.indexOf("[]=")>-1&&(ft=isArray(ft)?[ft]:ft);var ht=has.call(tt,dt);ht&&et.duplicates==="combine"?tt[dt]=utils.combine(tt[dt],ft):(!ht||et.duplicates==="last")&&(tt[dt]=ft)}return tt},parseObject=function(_e,_,et,tt){var rt=0;if(_e.length>0&&_e[_e.length-1]==="[]"){var nt=_e.slice(0,-1).join("");rt=Array.isArray(_)&&_[nt]?_[nt].length:0}for(var it=tt?_:parseArrayValue(_,et,rt),at=_e.length-1;at>=0;--at){var lt,ct=_e[at];if(ct==="[]"&&et.parseArrays)lt=et.allowEmptyArrays&&(it===""||et.strictNullHandling&&it===null)?[]:utils.combine([],it);else{lt=et.plainObjects?{__proto__:null}:{};var ut=ct.charAt(0)==="["&&ct.charAt(ct.length-1)==="]"?ct.slice(1,-1):ct,st=et.decodeDotInKeys?ut.replace(/%2E/g,"."):ut,ot=parseInt(st,10);!et.parseArrays&&st===""?lt={0:it}:!isNaN(ot)&&ct!==st&&String(ot)===st&&ot>=0&&et.parseArrays&&ot<=et.arrayLimit?(lt=[],lt[ot]=it):st!=="__proto__"&&(lt[st]=it)}it=lt}return it},parseKeys$1=function _e(_,et,tt,rt){if(_){var nt=tt.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,it=/(\[[^[\]]*])/,at=/(\[[^[\]]*])/g,lt=tt.depth>0&&it.exec(nt),ct=lt?nt.slice(0,lt.index):nt,ut=[];if(ct){if(!tt.plainObjects&&has.call(Object.prototype,ct)&&!tt.allowPrototypes)return;ut.push(ct)}for(var st=0;tt.depth>0&&(lt=at.exec(nt))!==null&&st<tt.depth;){if(st+=1,!tt.plainObjects&&has.call(Object.prototype,lt[1].slice(1,-1))&&!tt.allowPrototypes)return;ut.push(lt[1])}if(lt){if(tt.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+tt.depth+" and strictDepth is true");ut.push("["+nt.slice(lt.index)+"]")}return parseObject(ut,et,tt,rt)}},normalizeParseOptions=function _e(_){if(!_)return defaults;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.decodeDotInKeys<"u"&&typeof _.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_.decoder!==null&&typeof _.decoder<"u"&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof _.throwOnLimitExceeded<"u"&&typeof _.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var et=typeof _.charset>"u"?defaults.charset:_.charset,tt=typeof _.duplicates>"u"?defaults.duplicates:_.duplicates;if(tt!=="combine"&&tt!=="first"&&tt!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var rt=typeof _.allowDots>"u"?_.decodeDotInKeys===!0?!0:defaults.allowDots:!!_.allowDots;return{allowDots:rt,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:defaults.allowEmptyArrays,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:defaults.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:defaults.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:defaults.arrayLimit,charset:et,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:defaults.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:defaults.comma,decodeDotInKeys:typeof _.decodeDotInKeys=="boolean"?_.decodeDotInKeys:defaults.decodeDotInKeys,decoder:typeof _.decoder=="function"?_.decoder:defaults.decoder,delimiter:typeof _.delimiter=="string"||utils.isRegExp(_.delimiter)?_.delimiter:defaults.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:defaults.depth,duplicates:tt,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:defaults.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:defaults.plainObjects,strictDepth:typeof _.strictDepth=="boolean"?!!_.strictDepth:defaults.strictDepth,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:defaults.strictNullHandling,throwOnLimitExceeded:typeof _.throwOnLimitExceeded=="boolean"?_.throwOnLimitExceeded:!1}},parse$4=function(_e,_){var et=normalizeParseOptions(_);if(_e===""||_e===null||typeof _e>"u")return et.plainObjects?{__proto__:null}:{};for(var tt=typeof _e=="string"?parseValues(_e,et):_e,rt=et.plainObjects?{__proto__:null}:{},nt=Object.keys(tt),it=0;it<nt.length;++it){var at=nt[it],lt=parseKeys$1(at,tt[at],et,typeof _e=="string");rt=utils.merge(rt,lt,et)}return et.allowSparse===!0?rt:utils.compact(rt)},stringify$3=stringify_1,parse$3=parse$4,formats$1=formats$4,lib={formats:formats$1,parse:parse$3,stringify:stringify$3},punycode=punycodeExports;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=lib;function urlParse(_e,_,et){if(_e&&typeof _e=="object"&&_e instanceof Url)return _e;var tt=new Url;return tt.parse(_e,_,et),tt}Url.prototype.parse=function(_e,_,et){if(typeof _e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof _e);var tt=_e.indexOf("?"),rt=tt!==-1&&tt<_e.indexOf("#")?"?":"#",nt=_e.split(rt),it=/\\/g;nt[0]=nt[0].replace(it,"/"),_e=nt.join(rt);var at=_e;if(at=at.trim(),!et&&_e.split("#").length===1){var lt=simplePathPattern.exec(at);if(lt)return this.path=at,this.href=at,this.pathname=lt[1],lt[2]?(this.search=lt[2],_?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):_&&(this.search="",this.query={}),this}var ct=protocolPattern.exec(at);if(ct){ct=ct[0];var ut=ct.toLowerCase();this.protocol=ut,at=at.substr(ct.length)}if(et||ct||at.match(/^\/\/[^@/]+@[^@/]+/)){var st=at.substr(0,2)==="//";st&&!(ct&&hostlessProtocol[ct])&&(at=at.substr(2),this.slashes=!0)}if(!hostlessProtocol[ct]&&(st||ct&&!slashedProtocol[ct])){for(var ot=-1,dt=0;dt<hostEndingChars.length;dt++){var ft=at.indexOf(hostEndingChars[dt]);ft!==-1&&(ot===-1||ft<ot)&&(ot=ft)}var ht,mt;ot===-1?mt=at.lastIndexOf("@"):mt=at.lastIndexOf("@",ot),mt!==-1&&(ht=at.slice(0,mt),at=at.slice(mt+1),this.auth=decodeURIComponent(ht)),ot=-1;for(var dt=0;dt<nonHostChars.length;dt++){var ft=at.indexOf(nonHostChars[dt]);ft!==-1&&(ot===-1||ft<ot)&&(ot=ft)}ot===-1&&(ot=at.length),this.host=at.slice(0,ot),at=at.slice(ot),this.parseHost(),this.hostname=this.hostname||"";var gt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!gt)for(var yt=this.hostname.split(/\./),dt=0,vt=yt.length;dt<vt;dt++){var bt=yt[dt];if(bt&&!bt.match(hostnamePartPattern)){for(var xt="",_t=0,St=bt.length;_t<St;_t++)bt.charCodeAt(_t)>127?xt+="x":xt+=bt[_t];if(!xt.match(hostnamePartPattern)){var wt=yt.slice(0,dt),Et=yt.slice(dt+1),Tt=bt.match(hostnamePartStart);Tt&&(wt.push(Tt[1]),Et.unshift(Tt[2])),Et.length&&(at="/"+Et.join(".")+at),this.hostname=wt.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),gt||(this.hostname=punycode.toASCII(this.hostname));var Ct=this.port?":"+this.port:"",It=this.hostname||"";this.host=It+Ct,this.href+=this.host,gt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),at[0]!=="/"&&(at="/"+at))}if(!unsafeProtocol[ut])for(var dt=0,vt=autoEscape.length;dt<vt;dt++){var Pt=autoEscape[dt];if(at.indexOf(Pt)!==-1){var At=encodeURIComponent(Pt);At===Pt&&(At=escape(Pt)),at=at.split(Pt).join(At)}}var kt=at.indexOf("#");kt!==-1&&(this.hash=at.substr(kt),at=at.slice(0,kt));var Rt=at.indexOf("?");if(Rt!==-1?(this.search=at.substr(Rt),this.query=at.substr(Rt+1),_&&(this.query=querystring.parse(this.query)),at=at.slice(0,Rt)):_&&(this.search="",this.query={}),at&&(this.pathname=at),slashedProtocol[ut]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ct=this.pathname||"",$t=this.search||"";this.path=Ct+$t}return this.href=this.format(),this};function urlFormat(_e){return typeof _e=="string"&&(_e=urlParse(_e)),_e instanceof Url?_e.format():Url.prototype.format.call(_e)}Url.prototype.format=function(){var _e=this.auth||"";_e&&(_e=encodeURIComponent(_e),_e=_e.replace(/%3A/i,":"),_e+="@");var _=this.protocol||"",et=this.pathname||"",tt=this.hash||"",rt=!1,nt="";this.host?rt=_e+this.host:this.hostname&&(rt=_e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(rt+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(nt=querystring.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var it=this.search||nt&&"?"+nt||"";return _&&_.substr(-1)!==":"&&(_+=":"),this.slashes||(!_||slashedProtocol[_])&&rt!==!1?(rt="//"+(rt||""),et&&et.charAt(0)!=="/"&&(et="/"+et)):rt||(rt=""),tt&&tt.charAt(0)!=="#"&&(tt="#"+tt),it&&it.charAt(0)!=="?"&&(it="?"+it),et=et.replace(/[?#]/g,function(at){return encodeURIComponent(at)}),it=it.replace("#","%23"),_+rt+et+it+tt};function urlResolve(_e,_){return urlParse(_e,!1,!0).resolve(_)}Url.prototype.resolve=function(_e){return this.resolveObject(urlParse(_e,!1,!0)).format()};Url.prototype.resolveObject=function(_e){if(typeof _e=="string"){var _=new Url;_.parse(_e,!1,!0),_e=_}for(var et=new Url,tt=Object.keys(this),rt=0;rt<tt.length;rt++){var nt=tt[rt];et[nt]=this[nt]}if(et.hash=_e.hash,_e.href==="")return et.href=et.format(),et;if(_e.slashes&&!_e.protocol){for(var it=Object.keys(_e),at=0;at<it.length;at++){var lt=it[at];lt!=="protocol"&&(et[lt]=_e[lt])}return slashedProtocol[et.protocol]&&et.hostname&&!et.pathname&&(et.pathname="/",et.path=et.pathname),et.href=et.format(),et}if(_e.protocol&&_e.protocol!==et.protocol){if(!slashedProtocol[_e.protocol]){for(var ct=Object.keys(_e),ut=0;ut<ct.length;ut++){var st=ct[ut];et[st]=_e[st]}return et.href=et.format(),et}if(et.protocol=_e.protocol,!_e.host&&!hostlessProtocol[_e.protocol]){for(var vt=(_e.pathname||"").split("/");vt.length&&!(_e.host=vt.shift()););_e.host||(_e.host=""),_e.hostname||(_e.hostname=""),vt[0]!==""&&vt.unshift(""),vt.length<2&&vt.unshift(""),et.pathname=vt.join("/")}else et.pathname=_e.pathname;if(et.search=_e.search,et.query=_e.query,et.host=_e.host||"",et.auth=_e.auth,et.hostname=_e.hostname||_e.host,et.port=_e.port,et.pathname||et.search){var ot=et.pathname||"",dt=et.search||"";et.path=ot+dt}return et.slashes=et.slashes||_e.slashes,et.href=et.format(),et}var ft=et.pathname&&et.pathname.charAt(0)==="/",ht=_e.host||_e.pathname&&_e.pathname.charAt(0)==="/",mt=ht||ft||et.host&&_e.pathname,gt=mt,yt=et.pathname&&et.pathname.split("/")||[],vt=_e.pathname&&_e.pathname.split("/")||[],bt=et.protocol&&!slashedProtocol[et.protocol];if(bt&&(et.hostname="",et.port=null,et.host&&(yt[0]===""?yt[0]=et.host:yt.unshift(et.host)),et.host="",_e.protocol&&(_e.hostname=null,_e.port=null,_e.host&&(vt[0]===""?vt[0]=_e.host:vt.unshift(_e.host)),_e.host=null),mt=mt&&(vt[0]===""||yt[0]==="")),ht)et.host=_e.host||_e.host===""?_e.host:et.host,et.hostname=_e.hostname||_e.hostname===""?_e.hostname:et.hostname,et.search=_e.search,et.query=_e.query,yt=vt;else if(vt.length)yt||(yt=[]),yt.pop(),yt=yt.concat(vt),et.search=_e.search,et.query=_e.query;else if(_e.search!=null){if(bt){et.host=yt.shift(),et.hostname=et.host;var xt=et.host&&et.host.indexOf("@")>0?et.host.split("@"):!1;xt&&(et.auth=xt.shift(),et.hostname=xt.shift(),et.host=et.hostname)}return et.search=_e.search,et.query=_e.query,(et.pathname!==null||et.search!==null)&&(et.path=(et.pathname?et.pathname:"")+(et.search?et.search:"")),et.href=et.format(),et}if(!yt.length)return et.pathname=null,et.search?et.path="/"+et.search:et.path=null,et.href=et.format(),et;for(var _t=yt.slice(-1)[0],St=(et.host||_e.host||yt.length>1)&&(_t==="."||_t==="..")||_t==="",wt=0,Et=yt.length;Et>=0;Et--)_t=yt[Et],_t==="."?yt.splice(Et,1):_t===".."?(yt.splice(Et,1),wt++):wt&&(yt.splice(Et,1),wt--);if(!mt&&!gt)for(;wt--;wt)yt.unshift("..");mt&&yt[0]!==""&&(!yt[0]||yt[0].charAt(0)!=="/")&&yt.unshift(""),St&&yt.join("/").substr(-1)!=="/"&&yt.push("");var Tt=yt[0]===""||yt[0]&&yt[0].charAt(0)==="/";if(bt){et.hostname=Tt?"":yt.length?yt.shift():"",et.host=et.hostname;var xt=et.host&&et.host.indexOf("@")>0?et.host.split("@"):!1;xt&&(et.auth=xt.shift(),et.hostname=xt.shift(),et.host=et.hostname)}return mt=mt||et.host&&yt.length,mt&&!Tt&&yt.unshift(""),yt.length>0?et.pathname=yt.join("/"):(et.pathname=null,et.path=null),(et.pathname!==null||et.search!==null)&&(et.path=(et.pathname?et.pathname:"")+(et.search?et.search:"")),et.auth=_e.auth||et.auth,et.slashes=et.slashes||_e.slashes,et.href=et.format(),et};Url.prototype.parseHost=function(){var _e=this.host,_=portPattern.exec(_e);_&&(_=_[0],_!==":"&&(this.port=_.substr(1)),_e=_e.substr(0,_e.length-_.length)),_e&&(this.hostname=_e)};var parse$2=urlParse,resolve$1=urlResolve,format$1=urlFormat;const warnings={};function deprecation(_e,_,et=3){if(warnings[_])return;let tt=new Error().stack;typeof tt>"u"?console.warn("PixiJS Deprecation Warning: ",`${_}
Deprecated since v${_e}`):(tt=tt.split(`
`).splice(et).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${_}
Deprecated since v${_e}`),console.warn(tt),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${_}
Deprecated since v${_e}`),console.warn(tt))),warnings[_]=!0}const url={get parse(){return deprecation("7.3.0","utils.url.parse is deprecated, use native URL API instead."),parse$2},get format(){return deprecation("7.3.0","utils.url.format is deprecated, use native URL API instead."),format$1},get resolve(){return deprecation("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),resolve$1}};function assertPath(_e){if(typeof _e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(_e)}`)}function removeUrlParams(_e){return _e.split("?")[0].split("#")[0]}function escapeRegExp(_e){return _e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(_e,_,et){return _e.replace(new RegExp(escapeRegExp(_),"g"),et)}function normalizeStringPosix(_e,_){let et="",tt=0,rt=-1,nt=0,it=-1;for(let at=0;at<=_e.length;++at){if(at<_e.length)it=_e.charCodeAt(at);else{if(it===47)break;it=47}if(it===47){if(!(rt===at-1||nt===1))if(rt!==at-1&&nt===2){if(et.length<2||tt!==2||et.charCodeAt(et.length-1)!==46||et.charCodeAt(et.length-2)!==46){if(et.length>2){const lt=et.lastIndexOf("/");if(lt!==et.length-1){lt===-1?(et="",tt=0):(et=et.slice(0,lt),tt=et.length-1-et.lastIndexOf("/")),rt=at,nt=0;continue}}else if(et.length===2||et.length===1){et="",tt=0,rt=at,nt=0;continue}}}else et.length>0?et+=`/${_e.slice(rt+1,at)}`:et=_e.slice(rt+1,at),tt=at-rt-1;rt=at,nt=0}else it===46&&nt!==-1?++nt:nt=-1}return et}const path$1={toPosix(_e){return replaceAll(_e,"\\","/")},isUrl(_e){return/^https?:/.test(this.toPosix(_e))},isDataUrl(_e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(_e)},isBlobUrl(_e){return _e.startsWith("blob:")},hasProtocol(_e){return/^[^/:]+:/.test(this.toPosix(_e))},getProtocol(_e){assertPath(_e),_e=this.toPosix(_e);const _=/^file:\/\/\//.exec(_e);if(_)return _[0];const et=/^[^/:]+:\/{0,2}/.exec(_e);return et?et[0]:""},toAbsolute(_e,_,et){if(assertPath(_e),this.isDataUrl(_e)||this.isBlobUrl(_e))return _e;const tt=removeUrlParams(this.toPosix(_??settings.ADAPTER.getBaseUrl())),rt=removeUrlParams(this.toPosix(et??this.rootname(tt)));return _e=this.toPosix(_e),_e.startsWith("/")?path$1.join(rt,_e.slice(1)):this.isAbsolute(_e)?_e:this.join(tt,_e)},normalize(_e){if(assertPath(_e),_e.length===0)return".";if(this.isDataUrl(_e)||this.isBlobUrl(_e))return _e;_e=this.toPosix(_e);let _="";const et=_e.startsWith("/");this.hasProtocol(_e)&&(_=this.rootname(_e),_e=_e.slice(_.length));const tt=_e.endsWith("/");return _e=normalizeStringPosix(_e),_e.length>0&&tt&&(_e+="/"),et?`/${_e}`:_+_e},isAbsolute(_e){return assertPath(_e),_e=this.toPosix(_e),this.hasProtocol(_e)?!0:_e.startsWith("/")},join(..._e){if(_e.length===0)return".";let _;for(let et=0;et<_e.length;++et){const tt=_e[et];if(assertPath(tt),tt.length>0)if(_===void 0)_=tt;else{const rt=_e[et-1]??"";this.joinExtensions.includes(this.extname(rt).toLowerCase())?_+=`/../${tt}`:_+=`/${tt}`}}return _===void 0?".":this.normalize(_)},dirname(_e){if(assertPath(_e),_e.length===0)return".";_e=this.toPosix(_e);let _=_e.charCodeAt(0);const et=_===47;let tt=-1,rt=!0;const nt=this.getProtocol(_e),it=_e;_e=_e.slice(nt.length);for(let at=_e.length-1;at>=1;--at)if(_=_e.charCodeAt(at),_===47){if(!rt){tt=at;break}}else rt=!1;return tt===-1?et?"/":this.isUrl(it)?nt+_e:nt:et&&tt===1?"//":nt+_e.slice(0,tt)},rootname(_e){assertPath(_e),_e=this.toPosix(_e);let _="";if(_e.startsWith("/")?_="/":_=this.getProtocol(_e),this.isUrl(_e)){const et=_e.indexOf("/",_.length);et!==-1?_=_e.slice(0,et):_=_e,_.endsWith("/")||(_+="/")}return _},basename(_e,_){assertPath(_e),_&&assertPath(_),_e=removeUrlParams(this.toPosix(_e));let et=0,tt=-1,rt=!0,nt;if(_!==void 0&&_.length>0&&_.length<=_e.length){if(_.length===_e.length&&_===_e)return"";let it=_.length-1,at=-1;for(nt=_e.length-1;nt>=0;--nt){const lt=_e.charCodeAt(nt);if(lt===47){if(!rt){et=nt+1;break}}else at===-1&&(rt=!1,at=nt+1),it>=0&&(lt===_.charCodeAt(it)?--it===-1&&(tt=nt):(it=-1,tt=at))}return et===tt?tt=at:tt===-1&&(tt=_e.length),_e.slice(et,tt)}for(nt=_e.length-1;nt>=0;--nt)if(_e.charCodeAt(nt)===47){if(!rt){et=nt+1;break}}else tt===-1&&(rt=!1,tt=nt+1);return tt===-1?"":_e.slice(et,tt)},extname(_e){assertPath(_e),_e=removeUrlParams(this.toPosix(_e));let _=-1,et=0,tt=-1,rt=!0,nt=0;for(let it=_e.length-1;it>=0;--it){const at=_e.charCodeAt(it);if(at===47){if(!rt){et=it+1;break}continue}tt===-1&&(rt=!1,tt=it+1),at===46?_===-1?_=it:nt!==1&&(nt=1):_!==-1&&(nt=-1)}return _===-1||tt===-1||nt===0||nt===1&&_===tt-1&&_===et+1?"":_e.slice(_,tt)},parse(_e){assertPath(_e);const _={root:"",dir:"",base:"",ext:"",name:""};if(_e.length===0)return _;_e=removeUrlParams(this.toPosix(_e));let et=_e.charCodeAt(0);const tt=this.isAbsolute(_e);let rt;_.root=this.rootname(_e),tt||this.hasProtocol(_e)?rt=1:rt=0;let nt=-1,it=0,at=-1,lt=!0,ct=_e.length-1,ut=0;for(;ct>=rt;--ct){if(et=_e.charCodeAt(ct),et===47){if(!lt){it=ct+1;break}continue}at===-1&&(lt=!1,at=ct+1),et===46?nt===-1?nt=ct:ut!==1&&(ut=1):nt!==-1&&(ut=-1)}return nt===-1||at===-1||ut===0||ut===1&&nt===at-1&&nt===it+1?at!==-1&&(it===0&&tt?_.base=_.name=_e.slice(1,at):_.base=_.name=_e.slice(it,at)):(it===0&&tt?(_.name=_e.slice(1,nt),_.base=_e.slice(1,at)):(_.name=_e.slice(it,nt),_.base=_e.slice(it,at)),_.ext=_e.slice(nt,at)),_.dir=this.dirname(_e),_},sep:"/",delimiter:":",joinExtensions:[".html"]};let promise;async function detectVideoAlphaMode(){return promise??(promise=(async()=>{var nt;const _e=document.createElement("canvas").getContext("webgl");if(!_e)return ALPHA_MODES.UNPACK;const _=await new Promise(it=>{const at=document.createElement("video");at.onloadeddata=()=>it(at),at.onerror=()=>it(null),at.autoplay=!1,at.crossOrigin="anonymous",at.preload="auto",at.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",at.load()});if(!_)return ALPHA_MODES.UNPACK;const et=_e.createTexture();_e.bindTexture(_e.TEXTURE_2D,et);const tt=_e.createFramebuffer();_e.bindFramebuffer(_e.FRAMEBUFFER,tt),_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,et,0),_e.pixelStorei(_e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),_e.pixelStorei(_e.UNPACK_COLORSPACE_CONVERSION_WEBGL,_e.NONE),_e.texImage2D(_e.TEXTURE_2D,0,_e.RGBA,_e.RGBA,_e.UNSIGNED_BYTE,_);const rt=new Uint8Array(4);return _e.readPixels(0,0,1,1,_e.RGBA,_e.UNSIGNED_BYTE,rt),_e.deleteFramebuffer(tt),_e.deleteTexture(et),(nt=_e.getExtension("WEBGL_lose_context"))==null||nt.loseContext(),rt[0]<=rt[3]?ALPHA_MODES.PMA:ALPHA_MODES.UNPACK})()),promise}let supported;function isWebGLSupported(){return typeof supported>"u"&&(supported=function(){var _;const _e={stencil:!0,failIfMajorPerformanceCaveat:settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!settings.ADAPTER.getWebGLRenderingContext())return!1;const et=settings.ADAPTER.createCanvas();let tt=et.getContext("webgl",_e)||et.getContext("experimental-webgl",_e);const rt=!!((_=tt==null?void 0:tt.getContextAttributes())!=null&&_.stencil);if(tt){const nt=tt.getExtension("WEBGL_lose_context");nt&&nt.loseContext()}return tt=null,rt}catch{return!1}}()),supported}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t$1=function(_e){return typeof _e=="string"?_e.length>0:typeof _e=="number"},n$1=function(_e,_,et){return _===void 0&&(_=0),et===void 0&&(et=Math.pow(10,_)),Math.round(et*_e)/et+0},e$1=function(_e,_,et){return _===void 0&&(_=0),et===void 0&&(et=1),_e>et?et:_e>_?_e:_},u$1=function(_e){return(_e=isFinite(_e)?_e%360:0)>0?_e:_e+360},a=function(_e){return{r:e$1(_e.r,0,255),g:e$1(_e.g,0,255),b:e$1(_e.b,0,255),a:e$1(_e.a)}},o=function(_e){return{r:n$1(_e.r),g:n$1(_e.g),b:n$1(_e.b),a:n$1(_e.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(_e){var _=_e.toString(16);return _.length<2?"0"+_:_},h$1=function(_e){var _=_e.r,et=_e.g,tt=_e.b,rt=_e.a,nt=Math.max(_,et,tt),it=nt-Math.min(_,et,tt),at=it?nt===_?(et-tt)/it:nt===et?2+(tt-_)/it:4+(_-et)/it:0;return{h:60*(at<0?at+6:at),s:nt?it/nt*100:0,v:nt/255*100,a:rt}},b$1=function(_e){var _=_e.h,et=_e.s,tt=_e.v,rt=_e.a;_=_/360*6,et/=100,tt/=100;var nt=Math.floor(_),it=tt*(1-et),at=tt*(1-(_-nt)*et),lt=tt*(1-(1-_+nt)*et),ct=nt%6;return{r:255*[tt,at,it,it,lt,tt][ct],g:255*[lt,tt,tt,at,it,it][ct],b:255*[it,it,lt,tt,tt,at][ct],a:rt}},g$1=function(_e){return{h:u$1(_e.h),s:e$1(_e.s,0,100),l:e$1(_e.l,0,100),a:e$1(_e.a)}},d$1=function(_e){return{h:n$1(_e.h),s:n$1(_e.s),l:n$1(_e.l),a:n$1(_e.a,3)}},f$1=function(_e){return b$1((et=(_=_e).s,{h:_.h,s:(et*=((tt=_.l)<50?tt:100-tt)/100)>0?2*et/(tt+et)*100:0,v:tt+et,a:_.a}));var _,et,tt},c$1=function(_e){return{h:(_=h$1(_e)).h,s:(rt=(200-(et=_.s))*(tt=_.v)/100)>0&&rt<200?et*tt/100/(rt<=100?rt:200-rt)*100:0,l:rt/2,a:_.a};var _,et,tt,rt},l$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(_e){var _=i.exec(_e);return _?(_e=_[1]).length<=4?{r:parseInt(_e[0]+_e[0],16),g:parseInt(_e[1]+_e[1],16),b:parseInt(_e[2]+_e[2],16),a:_e.length===4?n$1(parseInt(_e[3]+_e[3],16)/255,2):1}:_e.length===6||_e.length===8?{r:parseInt(_e.substr(0,2),16),g:parseInt(_e.substr(2,2),16),b:parseInt(_e.substr(4,2),16),a:_e.length===8?n$1(parseInt(_e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(_e){var _=v$1.exec(_e)||m$1.exec(_e);return _?_[2]!==_[4]||_[4]!==_[6]?null:a({r:Number(_[1])/(_[2]?100/255:1),g:Number(_[3])/(_[4]?100/255:1),b:Number(_[5])/(_[6]?100/255:1),a:_[7]===void 0?1:Number(_[7])/(_[8]?100:1)}):null},"rgb"],[function(_e){var _=l$1.exec(_e)||p$1.exec(_e);if(!_)return null;var et,tt,rt=g$1({h:(et=_[1],tt=_[2],tt===void 0&&(tt="deg"),Number(et)*(r[tt]||1)),s:Number(_[3]),l:Number(_[4]),a:_[5]===void 0?1:Number(_[5])/(_[6]?100:1)});return f$1(rt)},"hsl"]],object:[[function(_e){var _=_e.r,et=_e.g,tt=_e.b,rt=_e.a,nt=rt===void 0?1:rt;return t$1(_)&&t$1(et)&&t$1(tt)?a({r:Number(_),g:Number(et),b:Number(tt),a:Number(nt)}):null},"rgb"],[function(_e){var _=_e.h,et=_e.s,tt=_e.l,rt=_e.a,nt=rt===void 0?1:rt;if(!t$1(_)||!t$1(et)||!t$1(tt))return null;var it=g$1({h:Number(_),s:Number(et),l:Number(tt),a:Number(nt)});return f$1(it)},"hsl"],[function(_e){var _=_e.h,et=_e.s,tt=_e.v,rt=_e.a,nt=rt===void 0?1:rt;if(!t$1(_)||!t$1(et)||!t$1(tt))return null;var it=function(at){return{h:u$1(at.h),s:e$1(at.s,0,100),v:e$1(at.v,0,100),a:e$1(at.a)}}({h:Number(_),s:Number(et),v:Number(tt),a:Number(nt)});return b$1(it)},"hsv"]]},N=function(_e,_){for(var et=0;et<_.length;et++){var tt=_[et][0](_e);if(tt)return[tt,_[et][1]]}return[null,void 0]},x=function(_e){return typeof _e=="string"?N(_e.trim(),y.string):typeof _e=="object"&&_e!==null?N(_e,y.object):[null,void 0]},M=function(_e,_){var et=c$1(_e);return{h:et.h,s:e$1(et.s+100*_,0,100),l:et.l,a:et.a}},H=function(_e){return(299*_e.r+587*_e.g+114*_e.b)/1e3/255},$=function(_e,_){var et=c$1(_e);return{h:et.h,s:et.s,l:e$1(et.l+100*_,0,100),a:et.a}},j=function(){function _e(_){this.parsed=x(_)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return _e.prototype.isValid=function(){return this.parsed!==null},_e.prototype.brightness=function(){return n$1(H(this.rgba),2)},_e.prototype.isDark=function(){return H(this.rgba)<.5},_e.prototype.isLight=function(){return H(this.rgba)>=.5},_e.prototype.toHex=function(){return _=o(this.rgba),et=_.r,tt=_.g,rt=_.b,it=(nt=_.a)<1?s(n$1(255*nt)):"","#"+s(et)+s(tt)+s(rt)+it;var _,et,tt,rt,nt,it},_e.prototype.toRgb=function(){return o(this.rgba)},_e.prototype.toRgbString=function(){return _=o(this.rgba),et=_.r,tt=_.g,rt=_.b,(nt=_.a)<1?"rgba("+et+", "+tt+", "+rt+", "+nt+")":"rgb("+et+", "+tt+", "+rt+")";var _,et,tt,rt,nt},_e.prototype.toHsl=function(){return d$1(c$1(this.rgba))},_e.prototype.toHslString=function(){return _=d$1(c$1(this.rgba)),et=_.h,tt=_.s,rt=_.l,(nt=_.a)<1?"hsla("+et+", "+tt+"%, "+rt+"%, "+nt+")":"hsl("+et+", "+tt+"%, "+rt+"%)";var _,et,tt,rt,nt},_e.prototype.toHsv=function(){return _=h$1(this.rgba),{h:n$1(_.h),s:n$1(_.s),v:n$1(_.v),a:n$1(_.a,3)};var _},_e.prototype.invert=function(){return w$1({r:255-(_=this.rgba).r,g:255-_.g,b:255-_.b,a:_.a});var _},_e.prototype.saturate=function(_){return _===void 0&&(_=.1),w$1(M(this.rgba,_))},_e.prototype.desaturate=function(_){return _===void 0&&(_=.1),w$1(M(this.rgba,-_))},_e.prototype.grayscale=function(){return w$1(M(this.rgba,-1))},_e.prototype.lighten=function(_){return _===void 0&&(_=.1),w$1($(this.rgba,_))},_e.prototype.darken=function(_){return _===void 0&&(_=.1),w$1($(this.rgba,-_))},_e.prototype.rotate=function(_){return _===void 0&&(_=15),this.hue(this.hue()+_)},_e.prototype.alpha=function(_){return typeof _=="number"?w$1({r:(et=this.rgba).r,g:et.g,b:et.b,a:_}):n$1(this.rgba.a,3);var et},_e.prototype.hue=function(_){var et=c$1(this.rgba);return typeof _=="number"?w$1({h:_,s:et.s,l:et.l,a:et.a}):n$1(et.h)},_e.prototype.isEqual=function(_){return this.toHex()===w$1(_).toHex()},_e}(),w$1=function(_e){return _e instanceof j?_e:new j(_e)},S=[],k$1=function(_e){_e.forEach(function(_){S.indexOf(_)<0&&(_(j,y),S.push(_))})};function namesPlugin(_e,_){var et={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},tt={};for(var rt in et)tt[et[rt]]=rt;var nt={};_e.prototype.toName=function(it){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var at,lt,ct=tt[this.toHex()];if(ct)return ct;if(it!=null&&it.closest){var ut=this.toRgb(),st=1/0,ot="black";if(!nt.length)for(var dt in et)nt[dt]=new _e(et[dt]).toRgb();for(var ft in et){var ht=(at=ut,lt=nt[ft],Math.pow(at.r-lt.r,2)+Math.pow(at.g-lt.g,2)+Math.pow(at.b-lt.b,2));ht<st&&(st=ht,ot=ft)}return ot}},_.string.push([function(it){var at=it.toLowerCase(),lt=at==="transparent"?"#0000":et[at];return lt?new _e(lt).toRgb():null},"name"])}k$1([namesPlugin]);const _Color=class Io{constructor(_=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=_}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(_){return this.value=_,this}set value(_){if(_ instanceof Io)this._value=this.cloneSource(_._value),this._int=_._int,this._components.set(_._components);else{if(_===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,_))&&(this.normalize(_),this._value=this.cloneSource(_))}}get value(){return this._value}cloneSource(_){return typeof _=="string"||typeof _=="number"||_ instanceof Number||_===null?_:Array.isArray(_)||ArrayBuffer.isView(_)?_.slice(0):typeof _=="object"&&_!==null?{..._}:_}isSourceEqual(_,et){const tt=typeof _;if(tt!==typeof et)return!1;if(tt==="number"||tt==="string"||_ instanceof Number)return _===et;if(Array.isArray(_)&&Array.isArray(et)||ArrayBuffer.isView(_)&&ArrayBuffer.isView(et))return _.length!==et.length?!1:_.every((rt,nt)=>rt===et[nt]);if(_!==null&&et!==null){const rt=Object.keys(_),nt=Object.keys(et);return rt.length!==nt.length?!1:rt.every(it=>_[it]===et[it])}return _===et}toRgba(){const[_,et,tt,rt]=this._components;return{r:_,g:et,b:tt,a:rt}}toRgb(){const[_,et,tt]=this._components;return{r:_,g:et,b:tt}}toRgbaString(){const[_,et,tt]=this.toUint8RgbArray();return`rgba(${_},${et},${tt},${this.alpha})`}toUint8RgbArray(_){const[et,tt,rt]=this._components;return _=_??[],_[0]=Math.round(et*255),_[1]=Math.round(tt*255),_[2]=Math.round(rt*255),_}toRgbArray(_){_=_??[];const[et,tt,rt]=this._components;return _[0]=et,_[1]=tt,_[2]=rt,_}toNumber(){return this._int}toLittleEndianNumber(){const _=this._int;return(_>>16)+(_&65280)+((_&255)<<16)}multiply(_){const[et,tt,rt,nt]=Io.temp.setValue(_)._components;return this._components[0]*=et,this._components[1]*=tt,this._components[2]*=rt,this._components[3]*=nt,this.refreshInt(),this._value=null,this}premultiply(_,et=!0){return et&&(this._components[0]*=_,this._components[1]*=_,this._components[2]*=_),this._components[3]=_,this.refreshInt(),this._value=null,this}toPremultiplied(_,et=!0){if(_===1)return(255<<24)+this._int;if(_===0)return et?0:this._int;let tt=this._int>>16&255,rt=this._int>>8&255,nt=this._int&255;return et&&(tt=tt*_+.5|0,rt=rt*_+.5|0,nt=nt*_+.5|0),(_*255<<24)+(tt<<16)+(rt<<8)+nt}toHex(){const _=this._int.toString(16);return`#${"000000".substring(0,6-_.length)+_}`}toHexa(){const _=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-_.length)+_}setAlpha(_){return this._components[3]=this._clamp(_),this}round(_){const[et,tt,rt]=this._components;return this._components[0]=Math.round(et*_)/_,this._components[1]=Math.round(tt*_)/_,this._components[2]=Math.round(rt*_)/_,this.refreshInt(),this._value=null,this}toArray(_){_=_??[];const[et,tt,rt,nt]=this._components;return _[0]=et,_[1]=tt,_[2]=rt,_[3]=nt,_}normalize(_){let et,tt,rt,nt;if((typeof _=="number"||_ instanceof Number)&&_>=0&&_<=16777215){const it=_;et=(it>>16&255)/255,tt=(it>>8&255)/255,rt=(it&255)/255,nt=1}else if((Array.isArray(_)||_ instanceof Float32Array)&&_.length>=3&&_.length<=4)_=this._clamp(_),[et,tt,rt,nt=1]=_;else if((_ instanceof Uint8Array||_ instanceof Uint8ClampedArray)&&_.length>=3&&_.length<=4)_=this._clamp(_,0,255),[et,tt,rt,nt=255]=_,et/=255,tt/=255,rt/=255,nt/=255;else if(typeof _=="string"||typeof _=="object"){if(typeof _=="string"){const at=Io.HEX_PATTERN.exec(_);at&&(_=`#${at[2]}`)}const it=w$1(_);it.isValid()&&({r:et,g:tt,b:rt,a:nt}=it.rgba,et/=255,tt/=255,rt/=255)}if(et!==void 0)this._components[0]=et,this._components[1]=tt,this._components[2]=rt,this._components[3]=nt,this.refreshInt();else throw new Error(`Unable to convert color ${_}`)}refreshInt(){this._clamp(this._components);const[_,et,tt]=this._components;this._int=(_*255<<16)+(et*255<<8)+(tt*255|0)}_clamp(_,et=0,tt=1){return typeof _=="number"?Math.min(Math.max(_,et),tt):(_.forEach((rt,nt)=>{_[nt]=Math.min(Math.max(rt,et),tt)}),_)}};_Color.shared=new _Color,_Color.temp=new _Color,_Color.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Color=_Color;function hex2string(_e){return deprecation("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Color.shared.setValue(_e).toHex()}function rgb2hex(_e){return deprecation("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Color.shared.setValue(_e).toNumber()}function mapPremultipliedBlendModes(){const _e=[],_=[];for(let tt=0;tt<32;tt++)_e[tt]=tt,_[tt]=tt;_e[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,_e[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,_e[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,_[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,_[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,_[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;const et=[];return et.push(_),et.push(_e),et}const premultiplyBlendMode=mapPremultipliedBlendModes();function correctBlendMode(_e,_){return premultiplyBlendMode[_?1:0][_e]}function createIndicesForQuads(_e,_=null){const et=_e*6;if(_=_||new Uint16Array(et),_.length!==et)throw new Error(`Out buffer length is incorrect, got ${_.length} and expected ${et}`);for(let tt=0,rt=0;tt<et;tt+=6,rt+=4)_[tt+0]=rt+0,_[tt+1]=rt+1,_[tt+2]=rt+2,_[tt+3]=rt+0,_[tt+4]=rt+2,_[tt+5]=rt+3;return _}function getBufferType(_e){if(_e.BYTES_PER_ELEMENT===4)return _e instanceof Float32Array?"Float32Array":_e instanceof Uint32Array?"Uint32Array":"Int32Array";if(_e.BYTES_PER_ELEMENT===2){if(_e instanceof Uint16Array)return"Uint16Array"}else if(_e.BYTES_PER_ELEMENT===1&&_e instanceof Uint8Array)return"Uint8Array";return null}function nextPow2(_e){return _e+=_e===0?1:0,--_e,_e|=_e>>>1,_e|=_e>>>2,_e|=_e>>>4,_e|=_e>>>8,_e|=_e>>>16,_e+1}function isPow2(_e){return!(_e&_e-1)&&!!_e}function log2(_e){let _=(_e>65535?1:0)<<4;_e>>>=_;let et=(_e>255?1:0)<<3;return _e>>>=et,_|=et,et=(_e>15?1:0)<<2,_e>>>=et,_|=et,et=(_e>3?1:0)<<1,_e>>>=et,_|=et,_|_e>>1}function removeItems(_e,_,et){const tt=_e.length;let rt;if(_>=tt||et===0)return;et=_+et>tt?tt-_:et;const nt=tt-et;for(rt=_;rt<nt;++rt)_e[rt]=_e[rt+et];_e.length=nt}function sign(_e){return _e===0?0:_e<0?-1:1}let nextUid=0;function uid$1(){return++nextUid}const _BoundingBox=class{constructor(_e,_,et,tt){this.left=_e,this.top=_,this.right=et,this.bottom=tt}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};_BoundingBox.EMPTY=new _BoundingBox(0,0,0,0);let BoundingBox=_BoundingBox;const ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null);function destroyTextureCache(){let _e;for(_e in TextureCache)TextureCache[_e].destroy();for(_e in BaseTextureCache)BaseTextureCache[_e].destroy()}function clearTextureCache(){let _e;for(_e in TextureCache)delete TextureCache[_e];for(_e in BaseTextureCache)delete BaseTextureCache[_e]}class CanvasRenderTarget{constructor(_,et,tt){this._canvas=settings.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=tt||settings.RESOLUTION,this.resize(_,et)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(_,et){this._checkDestroyed(),this._canvas.width=Math.round(_*this.resolution),this._canvas.height=Math.round(et*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(_){this._checkDestroyed(),this._canvas.width=Math.round(_)}get height(){return this._checkDestroyed(),this._canvas.height}set height(_){this._checkDestroyed(),this._canvas.height=Math.round(_)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function checkRow(_e,_,et){for(let tt=0,rt=4*et*_;tt<_;++tt,rt+=4)if(_e[rt+3]!==0)return!1;return!0}function checkColumn(_e,_,et,tt,rt){const nt=4*_;for(let it=tt,at=tt*nt+4*et;it<=rt;++it,at+=nt)if(_e[at+3]!==0)return!1;return!0}function getCanvasBoundingBox(_e){const{width:_,height:et}=_e,tt=_e.getContext("2d",{willReadFrequently:!0});if(tt===null)throw new TypeError("Failed to get canvas 2D context");const rt=tt.getImageData(0,0,_,et).data;let nt=0,it=0,at=_-1,lt=et-1;for(;it<et&&checkRow(rt,_,it);)++it;if(it===et)return BoundingBox.EMPTY;for(;checkRow(rt,_,lt);)--lt;for(;checkColumn(rt,_,nt,it,lt);)++nt;for(;checkColumn(rt,_,at,it,lt);)--at;return++at,++lt,new BoundingBox(nt,it,at,lt)}function trimCanvas(_e){const _=getCanvasBoundingBox(_e),{width:et,height:tt}=_;let rt=null;if(!_.isEmpty()){const nt=_e.getContext("2d");if(nt===null)throw new TypeError("Failed to get canvas 2D context");rt=nt.getImageData(_.left,_.top,et,tt)}return{width:et,height:tt,data:rt}}function determineCrossOrigin(_e,_=globalThis.location){if(_e.startsWith("data:"))return"";_=_||globalThis.location;const et=new URL(_e,document.baseURI);return et.hostname!==_.hostname||et.port!==_.port||et.protocol!==_.protocol?"anonymous":""}function getResolutionOfUrl(_e,_=1){var tt;const et=(tt=settings.RETINA_PREFIX)==null?void 0:tt.exec(_e);return et?parseFloat(et[1]):_}var ExtensionType=(_e=>(_e.Renderer="renderer",_e.Application="application",_e.RendererSystem="renderer-webgl-system",_e.RendererPlugin="renderer-webgl-plugin",_e.CanvasRendererSystem="renderer-canvas-system",_e.CanvasRendererPlugin="renderer-canvas-plugin",_e.Asset="asset",_e.LoadParser="load-parser",_e.ResolveParser="resolve-parser",_e.CacheParser="cache-parser",_e.DetectionParser="detection-parser",_e))(ExtensionType||{});const normalizeExtension=_e=>{if(typeof _e=="function"||typeof _e=="object"&&_e.extension){if(!_e.extension)throw new Error("Extension class must have an extension object");_e={...typeof _e.extension!="object"?{type:_e.extension}:_e.extension,ref:_e}}if(typeof _e=="object")_e={..._e};else throw new Error("Invalid extension type");return typeof _e.type=="string"&&(_e.type=[_e.type]),_e},normalizePriority=(_e,_)=>normalizeExtension(_e).priority??_,extensions$1={_addHandlers:{},_removeHandlers:{},_queue:{},remove(..._e){return _e.map(normalizeExtension).forEach(_=>{_.type.forEach(et=>{var tt,rt;return(rt=(tt=this._removeHandlers)[et])==null?void 0:rt.call(tt,_)})}),this},add(..._e){return _e.map(normalizeExtension).forEach(_=>{_.type.forEach(et=>{var nt,it;const tt=this._addHandlers,rt=this._queue;tt[et]?(nt=tt[et])==null||nt.call(tt,_):(rt[et]=rt[et]||[],(it=rt[et])==null||it.push(_))})}),this},handle(_e,_,et){var it;const tt=this._addHandlers,rt=this._removeHandlers;if(tt[_e]||rt[_e])throw new Error(`Extension type ${_e} already has a handler`);tt[_e]=_,rt[_e]=et;const nt=this._queue;return nt[_e]&&((it=nt[_e])==null||it.forEach(at=>_(at)),delete nt[_e]),this},handleByMap(_e,_){return this.handle(_e,et=>{et.name&&(_[et.name]=et.ref)},et=>{et.name&&delete _[et.name]})},handleByList(_e,_,et=-1){return this.handle(_e,tt=>{_.includes(tt.ref)||(_.push(tt.ref),_.sort((rt,nt)=>normalizePriority(nt,et)-normalizePriority(rt,et)))},tt=>{const rt=_.indexOf(tt.ref);rt!==-1&&_.splice(rt,1)})}};class ViewableBuffer{constructor(_){typeof _=="number"?this.rawBinaryData=new ArrayBuffer(_):_ instanceof Uint8Array?this.rawBinaryData=_.buffer:this.rawBinaryData=_,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(_){return this[`${_}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(_){switch(_){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${_} isn't a valid view type`)}}}const fragTemplate$1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(_e){let _="";for(let et=0;et<_e;++et)et>0&&(_+=`
else `),et<_e-1&&(_+=`if(test == ${et}.0){}`);return _}function checkMaxIfStatementsInShader(_e,_){if(_e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const et=_.createShader(_.FRAGMENT_SHADER);for(;;){const tt=fragTemplate$1.replace(/%forloop%/gi,generateIfTestSrc(_e));if(_.shaderSource(et,tt),_.compileShader(et),!_.getShaderParameter(et,_.COMPILE_STATUS))_e=_e/2|0;else break}return _e}const BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5;class State{constructor(){this.data=0,this.blendMode=BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<BLEND$1)}set blend(_){!!(this.data&1<<BLEND$1)!==_&&(this.data^=1<<BLEND$1)}get offsets(){return!!(this.data&1<<OFFSET$1)}set offsets(_){!!(this.data&1<<OFFSET$1)!==_&&(this.data^=1<<OFFSET$1)}get culling(){return!!(this.data&1<<CULLING$1)}set culling(_){!!(this.data&1<<CULLING$1)!==_&&(this.data^=1<<CULLING$1)}get depthTest(){return!!(this.data&1<<DEPTH_TEST$1)}set depthTest(_){!!(this.data&1<<DEPTH_TEST$1)!==_&&(this.data^=1<<DEPTH_TEST$1)}get depthMask(){return!!(this.data&1<<DEPTH_MASK$1)}set depthMask(_){!!(this.data&1<<DEPTH_MASK$1)!==_&&(this.data^=1<<DEPTH_MASK$1)}get clockwiseFrontFace(){return!!(this.data&1<<WINDING$1)}set clockwiseFrontFace(_){!!(this.data&1<<WINDING$1)!==_&&(this.data^=1<<WINDING$1)}get blendMode(){return this._blendMode}set blendMode(_){this.blend=_!==BLEND_MODES.NONE,this._blendMode=_}get polygonOffset(){return this._polygonOffset}set polygonOffset(_){this.offsets=!!_,this._polygonOffset=_}static for2d(){const _=new State;return _.depthTest=!1,_.blend=!0,_}}State.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const INSTALLED=[];function autoDetectResource(_e,_){if(!_e)return null;let et="";if(typeof _e=="string"){const tt=/\.(\w{3,4})(?:$|\?|#)/i.exec(_e);tt&&(et=tt[1].toLowerCase())}for(let tt=INSTALLED.length-1;tt>=0;--tt){const rt=INSTALLED[tt];if(rt.test&&rt.test(_e,et))return new rt(_e,_)}throw new Error("Unrecognized source type to auto-detect Resource")}class Runner{constructor(_){this.items=[],this._name=_,this._aliasCount=0}emit(_,et,tt,rt,nt,it,at,lt){if(arguments.length>8)throw new Error("max arguments reached");const{name:ct,items:ut}=this;this._aliasCount++;for(let st=0,ot=ut.length;st<ot;st++)ut[st][ct](_,et,tt,rt,nt,it,at,lt);return ut===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(_){return _[this._name]&&(this.ensureNonAliasedItems(),this.remove(_),this.items.push(_)),this}remove(_){const et=this.items.indexOf(_);return et!==-1&&(this.ensureNonAliasedItems(),this.items.splice(et,1)),this}contains(_){return this.items.includes(_)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});class Resource{constructor(_=0,et=0){this._width=_,this._height=et,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}bind(_){this.onResize.add(_),this.onUpdate.add(_),this.onError.add(_),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(_){this.onResize.remove(_),this.onUpdate.remove(_),this.onError.remove(_)}resize(_,et){(_!==this._width||et!==this._height)&&(this._width=_,this._height=et,this.onResize.emit(_,et))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(_,et,tt){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(_,et){return!1}}class BufferResource extends Resource{constructor(_,et){const{width:tt,height:rt}=et||{};if(!tt||!rt)throw new Error("BufferResource width or height invalid");super(tt,rt),this.data=_,this.unpackAlignment=et.unpackAlignment??4}upload(_,et,tt){const rt=_.gl;rt.pixelStorei(rt.UNPACK_ALIGNMENT,this.unpackAlignment),rt.pixelStorei(rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.alphaMode===ALPHA_MODES.UNPACK);const nt=et.realWidth,it=et.realHeight;return tt.width===nt&&tt.height===it?rt.texSubImage2D(et.target,0,0,0,nt,it,et.format,tt.type,this.data):(tt.width=nt,tt.height=it,rt.texImage2D(et.target,0,tt.internalFormat,nt,it,0,et.format,tt.type,this.data)),!0}dispose(){this.data=null}static test(_){return _===null||_ instanceof Int8Array||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array}}const defaultBufferOptions={scaleMode:SCALE_MODES.NEAREST,alphaMode:ALPHA_MODES.NPM},_BaseTexture=class xo extends EventEmitter{constructor(_=null,et=null){super(),et=Object.assign({},xo.defaultOptions,et);const{alphaMode:tt,mipmap:rt,anisotropicLevel:nt,scaleMode:it,width:at,height:lt,wrapMode:ct,format:ut,type:st,target:ot,resolution:dt,resourceOptions:ft}=et;_&&!(_ instanceof Resource)&&(_=autoDetectResource(_,ft),_.internal=!0),this.resolution=dt||settings.RESOLUTION,this.width=Math.round((at||0)*this.resolution)/this.resolution,this.height=Math.round((lt||0)*this.resolution)/this.resolution,this._mipmap=rt,this.anisotropicLevel=nt,this._wrapMode=ct,this._scaleMode=it,this.format=ut,this.type=st,this.target=ot,this.alphaMode=tt,this.uid=uid$1(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=at>0&&lt>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(_)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(_){this._mipmap!==_&&(this._mipmap=_,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(_){this._scaleMode!==_&&(this._scaleMode=_,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(_){this._wrapMode!==_&&(this._wrapMode=_,this.dirtyStyleId++)}setStyle(_,et){let tt;return _!==void 0&&_!==this.scaleMode&&(this.scaleMode=_,tt=!0),et!==void 0&&et!==this.mipmap&&(this.mipmap=et,tt=!0),tt&&this.dirtyStyleId++,this}setSize(_,et,tt){return tt=tt||this.resolution,this.setRealSize(_*tt,et*tt,tt)}setRealSize(_,et,tt){return this.resolution=tt||this.resolution,this.width=Math.round(_)/this.resolution,this.height=Math.round(et)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)}setResolution(_){const et=this.resolution;return et===_?this:(this.resolution=_,this.valid&&(this.width=Math.round(this.width*et)/_,this.height=Math.round(this.height*et)/_,this.emit("update",this)),this._refreshPOT(),this)}setResource(_){if(this.resource===_)return this;if(this.resource)throw new Error("Resource can be set only once");return _.bind(this),this.resource=_,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(_){this.emit("error",this,_)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),xo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(_,et,tt=settings.STRICT_TEXTURE_CACHE){const rt=typeof _=="string";let nt=null;if(rt)nt=_;else{if(!_._pixiId){const at=(et==null?void 0:et.pixiIdPrefix)||"pixiid";_._pixiId=`${at}_${uid$1()}`}nt=_._pixiId}let it=BaseTextureCache[nt];if(rt&&tt&&!it)throw new Error(`The cacheId "${nt}" does not exist in BaseTextureCache.`);return it||(it=new xo(_,et),it.cacheId=nt,xo.addToCache(it,nt)),it}static fromBuffer(_,et,tt,rt){_=_||new Float32Array(et*tt*4);const nt=new BufferResource(_,{width:et,height:tt,...rt==null?void 0:rt.resourceOptions});let it,at;return _ instanceof Float32Array?(it=FORMATS.RGBA,at=TYPES.FLOAT):_ instanceof Int32Array?(it=FORMATS.RGBA_INTEGER,at=TYPES.INT):_ instanceof Uint32Array?(it=FORMATS.RGBA_INTEGER,at=TYPES.UNSIGNED_INT):_ instanceof Int16Array?(it=FORMATS.RGBA_INTEGER,at=TYPES.SHORT):_ instanceof Uint16Array?(it=FORMATS.RGBA_INTEGER,at=TYPES.UNSIGNED_SHORT):_ instanceof Int8Array?(it=FORMATS.RGBA,at=TYPES.BYTE):(it=FORMATS.RGBA,at=TYPES.UNSIGNED_BYTE),nt.internal=!0,new xo(nt,Object.assign({},defaultBufferOptions,{type:at,format:it},rt))}static addToCache(_,et){et&&(_.textureCacheIds.includes(et)||_.textureCacheIds.push(et),BaseTextureCache[et]&&BaseTextureCache[et]!==_&&console.warn(`BaseTexture added to the cache with an id [${et}] that already had an entry`),BaseTextureCache[et]=_)}static removeFromCache(_){if(typeof _=="string"){const et=BaseTextureCache[_];if(et){const tt=et.textureCacheIds.indexOf(_);return tt>-1&&et.textureCacheIds.splice(tt,1),delete BaseTextureCache[_],et}}else if(_!=null&&_.textureCacheIds){for(let et=0;et<_.textureCacheIds.length;++et)delete BaseTextureCache[_.textureCacheIds[et]];return _.textureCacheIds.length=0,_}return null}};_BaseTexture.defaultOptions={mipmap:MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:SCALE_MODES.LINEAR,wrapMode:WRAP_MODES.CLAMP,alphaMode:ALPHA_MODES.UNPACK,target:TARGETS.TEXTURE_2D,format:FORMATS.RGBA,type:TYPES.UNSIGNED_BYTE},_BaseTexture._globalBatch=0;let BaseTexture=_BaseTexture;class BatchDrawCall{constructor(){this.texArray=null,this.blend=0,this.type=DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}let UID$4=0;class Buffer{constructor(_,et=!0,tt=!1){this.data=_||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=tt,this.static=et,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}update(_){_ instanceof Array&&(_=new Float32Array(_)),this.data=_||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(_){this.type=_?BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(_){return _ instanceof Array&&(_=new Float32Array(_)),new Buffer(_)}}class Attribute{constructor(_,et=0,tt=!1,rt=TYPES.FLOAT,nt,it,at,lt=1){this.buffer=_,this.size=et,this.normalized=tt,this.type=rt,this.stride=nt,this.start=it,this.instance=at,this.divisor=lt}destroy(){this.buffer=null}static from(_,et,tt,rt,nt){return new Attribute(_,et,tt,rt,nt)}}const map$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays(_e,_){let et=0,tt=0;const rt={};for(let lt=0;lt<_e.length;lt++)tt+=_[lt],et+=_e[lt].length;const nt=new ArrayBuffer(et*4);let it=null,at=0;for(let lt=0;lt<_e.length;lt++){const ct=_[lt],ut=_e[lt],st=getBufferType(ut);rt[st]||(rt[st]=new map$1[st](nt)),it=rt[st];for(let ot=0;ot<ut.length;ot++){const dt=(ot/ct|0)*tt+at,ft=ot%ct;it[dt+ft]=ut[ot]}at+=ct}return new Float32Array(nt)}const byteSizeMap$1={5126:4,5123:2,5121:1};let UID$3=0;const map={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Geometry{constructor(_=[],et={}){this.buffers=_,this.indexBuffer=null,this.attributes=et,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}addAttribute(_,et,tt=0,rt=!1,nt,it,at,lt=!1){if(!et)throw new Error("You must pass a buffer when creating an attribute");et instanceof Buffer||(et instanceof Array&&(et=new Float32Array(et)),et=new Buffer(et));const ct=_.split("|");if(ct.length>1){for(let st=0;st<ct.length;st++)this.addAttribute(ct[st],et,tt,rt,nt);return this}let ut=this.buffers.indexOf(et);return ut===-1&&(this.buffers.push(et),ut=this.buffers.length-1),this.attributes[_]=new Attribute(ut,tt,rt,nt,it,at,lt),this.instanced=this.instanced||lt,this}getAttribute(_){return this.attributes[_]}getBuffer(_){return this.buffers[this.getAttribute(_).buffer]}addIndex(_){return _ instanceof Buffer||(_ instanceof Array&&(_=new Uint16Array(_)),_=new Buffer(_)),_.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=_,this.buffers.includes(_)||this.buffers.push(_),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const _=[],et=[],tt=new Buffer;let rt;for(rt in this.attributes){const nt=this.attributes[rt],it=this.buffers[nt.buffer];_.push(it.data),et.push(nt.size*byteSizeMap$1[nt.type]/4),nt.buffer=0}for(tt.data=interleaveTypedArrays(_,et),rt=0;rt<this.buffers.length;rt++)this.buffers[rt]!==this.indexBuffer&&this.buffers[rt].destroy();return this.buffers=[tt],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const _ in this.attributes){const et=this.attributes[_];return this.buffers[et.buffer].data.length/(et.stride/4||et.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const _=new Geometry;for(let et=0;et<this.buffers.length;et++)_.buffers[et]=new Buffer(this.buffers[et].data.slice(0));for(const et in this.attributes){const tt=this.attributes[et];_.attributes[et]=new Attribute(tt.buffer,tt.size,tt.normalized,tt.type,tt.stride,tt.start,tt.instance)}return this.indexBuffer&&(_.indexBuffer=_.buffers[this.buffers.indexOf(this.indexBuffer)],_.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),_}static merge(_){const et=new Geometry,tt=[],rt=[],nt=[];let it;for(let at=0;at<_.length;at++){it=_[at];for(let lt=0;lt<it.buffers.length;lt++)rt[lt]=rt[lt]||0,rt[lt]+=it.buffers[lt].data.length,nt[lt]=0}for(let at=0;at<it.buffers.length;at++)tt[at]=new map[getBufferType(it.buffers[at].data)](rt[at]),et.buffers[at]=new Buffer(tt[at]);for(let at=0;at<_.length;at++){it=_[at];for(let lt=0;lt<it.buffers.length;lt++)tt[lt].set(it.buffers[lt].data,nt[lt]),nt[lt]+=it.buffers[lt].data.length}if(et.attributes=it.attributes,it.indexBuffer){et.indexBuffer=et.buffers[it.buffers.indexOf(it.indexBuffer)],et.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let at=0,lt=0,ct=0,ut=0;for(let st=0;st<it.buffers.length;st++)if(it.buffers[st]!==it.indexBuffer){ut=st;break}for(const st in it.attributes){const ot=it.attributes[st];(ot.buffer|0)===ut&&(lt+=ot.size*byteSizeMap$1[ot.type]/4)}for(let st=0;st<_.length;st++){const ot=_[st].indexBuffer.data;for(let dt=0;dt<ot.length;dt++)et.indexBuffer.data[dt+ct]+=at;at+=_[st].buffers[ut].data.length/lt,ct+=ot.length}}return et}}class BatchGeometry extends Geometry{constructor(_=!1){super(),this._buffer=new Buffer(null,_,!1),this._indexBuffer=new Buffer(null,_,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,TYPES.FLOAT).addIndex(this._indexBuffer)}}const PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;var SHAPES=(_e=>(_e[_e.POLY=0]="POLY",_e[_e.RECT=1]="RECT",_e[_e.CIRC=2]="CIRC",_e[_e.ELIP=3]="ELIP",_e[_e.RREC=4]="RREC",_e))(SHAPES||{});class Point{constructor(_=0,et=0){this.x=0,this.y=0,this.x=_,this.y=et}clone(){return new Point(this.x,this.y)}copyFrom(_){return this.set(_.x,_.y),this}copyTo(_){return _.set(this.x,this.y),_}equals(_){return _.x===this.x&&_.y===this.y}set(_=0,et=_){return this.x=_,this.y=et,this}}Point.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const tempPoints$1=[new Point,new Point,new Point,new Point];class Rectangle{constructor(_=0,et=0,tt=0,rt=0){this.x=Number(_),this.y=Number(et),this.width=Number(tt),this.height=Number(rt),this.type=SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFrom(_){return this.x=_.x,this.y=_.y,this.width=_.width,this.height=_.height,this}copyTo(_){return _.x=this.x,_.y=this.y,_.width=this.width,_.height=this.height,_}contains(_,et){return this.width<=0||this.height<=0?!1:_>=this.x&&_<this.x+this.width&&et>=this.y&&et<this.y+this.height}intersects(_,et){if(!et){const wt=this.x<_.x?_.x:this.x;if((this.right>_.right?_.right:this.right)<=wt)return!1;const Et=this.y<_.y?_.y:this.y;return(this.bottom>_.bottom?_.bottom:this.bottom)>Et}const tt=this.left,rt=this.right,nt=this.top,it=this.bottom;if(rt<=tt||it<=nt)return!1;const at=tempPoints$1[0].set(_.left,_.top),lt=tempPoints$1[1].set(_.left,_.bottom),ct=tempPoints$1[2].set(_.right,_.top),ut=tempPoints$1[3].set(_.right,_.bottom);if(ct.x<=at.x||lt.y<=at.y)return!1;const st=Math.sign(et.a*et.d-et.b*et.c);if(st===0||(et.apply(at,at),et.apply(lt,lt),et.apply(ct,ct),et.apply(ut,ut),Math.max(at.x,lt.x,ct.x,ut.x)<=tt||Math.min(at.x,lt.x,ct.x,ut.x)>=rt||Math.max(at.y,lt.y,ct.y,ut.y)<=nt||Math.min(at.y,lt.y,ct.y,ut.y)>=it))return!1;const ot=st*(lt.y-at.y),dt=st*(at.x-lt.x),ft=ot*tt+dt*nt,ht=ot*rt+dt*nt,mt=ot*tt+dt*it,gt=ot*rt+dt*it;if(Math.max(ft,ht,mt,gt)<=ot*at.x+dt*at.y||Math.min(ft,ht,mt,gt)>=ot*ut.x+dt*ut.y)return!1;const yt=st*(at.y-ct.y),vt=st*(ct.x-at.x),bt=yt*tt+vt*nt,xt=yt*rt+vt*nt,_t=yt*tt+vt*it,St=yt*rt+vt*it;return!(Math.max(bt,xt,_t,St)<=yt*at.x+vt*at.y||Math.min(bt,xt,_t,St)>=yt*ut.x+vt*ut.y)}pad(_=0,et=_){return this.x-=_,this.y-=et,this.width+=_*2,this.height+=et*2,this}fit(_){const et=Math.max(this.x,_.x),tt=Math.min(this.x+this.width,_.x+_.width),rt=Math.max(this.y,_.y),nt=Math.min(this.y+this.height,_.y+_.height);return this.x=et,this.width=Math.max(tt-et,0),this.y=rt,this.height=Math.max(nt-rt,0),this}ceil(_=1,et=.001){const tt=Math.ceil((this.x+this.width-et)*_)/_,rt=Math.ceil((this.y+this.height-et)*_)/_;return this.x=Math.floor((this.x+et)*_)/_,this.y=Math.floor((this.y+et)*_)/_,this.width=tt-this.x,this.height=rt-this.y,this}enlarge(_){const et=Math.min(this.x,_.x),tt=Math.max(this.x+this.width,_.x+_.width),rt=Math.min(this.y,_.y),nt=Math.max(this.y+this.height,_.y+_.height);return this.x=et,this.width=tt-et,this.y=rt,this.height=nt-rt,this}}Rectangle.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Circle{constructor(_=0,et=0,tt=0){this.x=_,this.y=et,this.radius=tt,this.type=SHAPES.CIRC}clone(){return new Circle(this.x,this.y,this.radius)}contains(_,et){if(this.radius<=0)return!1;const tt=this.radius*this.radius;let rt=this.x-_,nt=this.y-et;return rt*=rt,nt*=nt,rt+nt<=tt}getBounds(){return new Rectangle(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Circle.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Ellipse{constructor(_=0,et=0,tt=0,rt=0){this.x=_,this.y=et,this.width=tt,this.height=rt,this.type=SHAPES.ELIP}clone(){return new Ellipse(this.x,this.y,this.width,this.height)}contains(_,et){if(this.width<=0||this.height<=0)return!1;let tt=(_-this.x)/this.width,rt=(et-this.y)/this.height;return tt*=tt,rt*=rt,tt+rt<=1}getBounds(){return new Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}}Ellipse.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Polygon{constructor(..._){let et=Array.isArray(_[0])?_[0]:_;if(typeof et[0]!="number"){const tt=[];for(let rt=0,nt=et.length;rt<nt;rt++)tt.push(et[rt].x,et[rt].y);et=tt}this.points=et,this.type=SHAPES.POLY,this.closeStroke=!0}clone(){const _=this.points.slice(),et=new Polygon(_);return et.closeStroke=this.closeStroke,et}contains(_,et){let tt=!1;const rt=this.points.length/2;for(let nt=0,it=rt-1;nt<rt;it=nt++){const at=this.points[nt*2],lt=this.points[nt*2+1],ct=this.points[it*2],ut=this.points[it*2+1];lt>et!=ut>et&&_<(ct-at)*((et-lt)/(ut-lt))+at&&(tt=!tt)}return tt}}Polygon.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((_e,_)=>`${_e}, ${_}`,"")}]`};class RoundedRectangle{constructor(_=0,et=0,tt=0,rt=0,nt=20){this.x=_,this.y=et,this.width=tt,this.height=rt,this.radius=nt,this.type=SHAPES.RREC}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}contains(_,et){if(this.width<=0||this.height<=0)return!1;if(_>=this.x&&_<=this.x+this.width&&et>=this.y&&et<=this.y+this.height){const tt=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(et>=this.y+tt&&et<=this.y+this.height-tt||_>=this.x+tt&&_<=this.x+this.width-tt)return!0;let rt=_-(this.x+tt),nt=et-(this.y+tt);const it=tt*tt;if(rt*rt+nt*nt<=it||(rt=_-(this.x+this.width-tt),rt*rt+nt*nt<=it)||(nt=et-(this.y+this.height-tt),rt*rt+nt*nt<=it)||(rt=_-(this.x+tt),rt*rt+nt*nt<=it))return!0}return!1}}RoundedRectangle.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Matrix{constructor(_=1,et=0,tt=0,rt=1,nt=0,it=0){this.array=null,this.a=_,this.b=et,this.c=tt,this.d=rt,this.tx=nt,this.ty=it}fromArray(_){this.a=_[0],this.b=_[1],this.c=_[3],this.d=_[4],this.tx=_[2],this.ty=_[5]}set(_,et,tt,rt,nt,it){return this.a=_,this.b=et,this.c=tt,this.d=rt,this.tx=nt,this.ty=it,this}toArray(_,et){this.array||(this.array=new Float32Array(9));const tt=et||this.array;return _?(tt[0]=this.a,tt[1]=this.b,tt[2]=0,tt[3]=this.c,tt[4]=this.d,tt[5]=0,tt[6]=this.tx,tt[7]=this.ty,tt[8]=1):(tt[0]=this.a,tt[1]=this.c,tt[2]=this.tx,tt[3]=this.b,tt[4]=this.d,tt[5]=this.ty,tt[6]=0,tt[7]=0,tt[8]=1),tt}apply(_,et){et=et||new Point;const tt=_.x,rt=_.y;return et.x=this.a*tt+this.c*rt+this.tx,et.y=this.b*tt+this.d*rt+this.ty,et}applyInverse(_,et){et=et||new Point;const tt=1/(this.a*this.d+this.c*-this.b),rt=_.x,nt=_.y;return et.x=this.d*tt*rt+-this.c*tt*nt+(this.ty*this.c-this.tx*this.d)*tt,et.y=this.a*tt*nt+-this.b*tt*rt+(-this.ty*this.a+this.tx*this.b)*tt,et}translate(_,et){return this.tx+=_,this.ty+=et,this}scale(_,et){return this.a*=_,this.d*=et,this.c*=_,this.b*=et,this.tx*=_,this.ty*=et,this}rotate(_){const et=Math.cos(_),tt=Math.sin(_),rt=this.a,nt=this.c,it=this.tx;return this.a=rt*et-this.b*tt,this.b=rt*tt+this.b*et,this.c=nt*et-this.d*tt,this.d=nt*tt+this.d*et,this.tx=it*et-this.ty*tt,this.ty=it*tt+this.ty*et,this}append(_){const et=this.a,tt=this.b,rt=this.c,nt=this.d;return this.a=_.a*et+_.b*rt,this.b=_.a*tt+_.b*nt,this.c=_.c*et+_.d*rt,this.d=_.c*tt+_.d*nt,this.tx=_.tx*et+_.ty*rt+this.tx,this.ty=_.tx*tt+_.ty*nt+this.ty,this}setTransform(_,et,tt,rt,nt,it,at,lt,ct){return this.a=Math.cos(at+ct)*nt,this.b=Math.sin(at+ct)*nt,this.c=-Math.sin(at-lt)*it,this.d=Math.cos(at-lt)*it,this.tx=_-(tt*this.a+rt*this.c),this.ty=et-(tt*this.b+rt*this.d),this}prepend(_){const et=this.tx;if(_.a!==1||_.b!==0||_.c!==0||_.d!==1){const tt=this.a,rt=this.c;this.a=tt*_.a+this.b*_.c,this.b=tt*_.b+this.b*_.d,this.c=rt*_.a+this.d*_.c,this.d=rt*_.b+this.d*_.d}return this.tx=et*_.a+this.ty*_.c+_.tx,this.ty=et*_.b+this.ty*_.d+_.ty,this}decompose(_){const et=this.a,tt=this.b,rt=this.c,nt=this.d,it=_.pivot,at=-Math.atan2(-rt,nt),lt=Math.atan2(tt,et),ct=Math.abs(at+lt);return ct<1e-5||Math.abs(PI_2-ct)<1e-5?(_.rotation=lt,_.skew.x=_.skew.y=0):(_.rotation=0,_.skew.x=at,_.skew.y=lt),_.scale.x=Math.sqrt(et*et+tt*tt),_.scale.y=Math.sqrt(rt*rt+nt*nt),_.position.x=this.tx+(it.x*et+it.y*rt),_.position.y=this.ty+(it.x*tt+it.y*nt),_}invert(){const _=this.a,et=this.b,tt=this.c,rt=this.d,nt=this.tx,it=_*rt-et*tt;return this.a=rt/it,this.b=-et/it,this.c=-tt/it,this.d=_/it,this.tx=(tt*this.ty-rt*nt)/it,this.ty=-(_*this.ty-et*nt)/it,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const _=new Matrix;return _.a=this.a,_.b=this.b,_.c=this.c,_.d=this.d,_.tx=this.tx,_.ty=this.ty,_}copyTo(_){return _.a=this.a,_.b=this.b,_.c=this.c,_.d=this.d,_.tx=this.tx,_.ty=this.ty,_}copyFrom(_){return this.a=_.a,this.b=_.b,this.c=_.c,this.d=_.d,this.tx=_.tx,this.ty=_.ty,this}static get IDENTITY(){return new Matrix}static get TEMP_MATRIX(){return new Matrix}}Matrix.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(let _e=0;_e<16;_e++){const _=[];rotationCayley.push(_);for(let et=0;et<16;et++){const tt=signum(ux[_e]*ux[et]+vx[_e]*uy[et]),rt=signum(uy[_e]*ux[et]+vy[_e]*uy[et]),nt=signum(ux[_e]*vx[et]+vx[_e]*vy[et]),it=signum(uy[_e]*vx[et]+vy[_e]*vy[et]);for(let at=0;at<16;at++)if(ux[at]===tt&&uy[at]===rt&&vx[at]===nt&&vy[at]===it){_.push(at);break}}}for(let _e=0;_e<16;_e++){const _=new Matrix;_.set(ux[_e],uy[_e],vx[_e],vy[_e],0,0),rotationMatrices.push(_)}}init();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:_e=>ux[_e],uY:_e=>uy[_e],vX:_e=>vx[_e],vY:_e=>vy[_e],inv:_e=>_e&8?_e&15:-_e&7,add:(_e,_)=>rotationCayley[_e][_],sub:(_e,_)=>rotationCayley[_e][groupD8.inv(_)],rotate180:_e=>_e^4,isVertical:_e=>(_e&3)===2,byDirection:(_e,_)=>Math.abs(_e)*2<=Math.abs(_)?_>=0?groupD8.S:groupD8.N:Math.abs(_)*2<=Math.abs(_e)?_e>0?groupD8.E:groupD8.W:_>0?_e>0?groupD8.SE:groupD8.SW:_e>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(_e,_,et=0,tt=0)=>{const rt=rotationMatrices[groupD8.inv(_)];rt.tx=et,rt.ty=tt,_e.append(rt)}};class ObservablePoint{constructor(_,et,tt=0,rt=0){this._x=tt,this._y=rt,this.cb=_,this.scope=et}clone(_=this.cb,et=this.scope){return new ObservablePoint(_,et,this._x,this._y)}set(_=0,et=_){return(this._x!==_||this._y!==et)&&(this._x=_,this._y=et,this.cb.call(this.scope)),this}copyFrom(_){return(this._x!==_.x||this._y!==_.y)&&(this._x=_.x,this._y=_.y,this.cb.call(this.scope)),this}copyTo(_){return _.set(this._x,this._y),_}equals(_){return _.x===this._x&&_.y===this._y}get x(){return this._x}set x(_){this._x!==_&&(this._x=_,this.cb.call(this.scope))}get y(){return this._y}set y(_){this._y!==_&&(this._y=_,this.cb.call(this.scope))}}ObservablePoint.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const _Transform=class{constructor(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const _e=this.localTransform;this._localID!==this._currentLocalID&&(_e.a=this._cx*this.scale.x,_e.b=this._sx*this.scale.x,_e.c=this._cy*this.scale.y,_e.d=this._sy*this.scale.y,_e.tx=this.position.x-(this.pivot.x*_e.a+this.pivot.y*_e.c),_e.ty=this.position.y-(this.pivot.x*_e.b+this.pivot.y*_e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(_e){const _=this.localTransform;if(this._localID!==this._currentLocalID&&(_.a=this._cx*this.scale.x,_.b=this._sx*this.scale.x,_.c=this._cy*this.scale.y,_.d=this._sy*this.scale.y,_.tx=this.position.x-(this.pivot.x*_.a+this.pivot.y*_.c),_.ty=this.position.y-(this.pivot.x*_.b+this.pivot.y*_.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==_e._worldID){const et=_e.worldTransform,tt=this.worldTransform;tt.a=_.a*et.a+_.b*et.c,tt.b=_.a*et.b+_.b*et.d,tt.c=_.c*et.a+_.d*et.c,tt.d=_.c*et.b+_.d*et.d,tt.tx=_.tx*et.a+_.ty*et.c+et.tx,tt.ty=_.tx*et.b+_.ty*et.d+et.ty,this._parentID=_e._worldID,this._worldID++}}setFromMatrix(_e){_e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(_e){this._rotation!==_e&&(this._rotation=_e,this.updateSkew())}};_Transform.IDENTITY=new _Transform;let Transform=_Transform;Transform.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var defaultFragment$2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function compileShader(_e,_,et){const tt=_e.createShader(_);return _e.shaderSource(tt,et),_e.compileShader(tt),tt}function booleanArray(_e){const _=new Array(_e);for(let et=0;et<_.length;et++)_[et]=!1;return _}function defaultValue(_e,_){switch(_e){case"float":return 0;case"vec2":return new Float32Array(2*_);case"vec3":return new Float32Array(3*_);case"vec4":return new Float32Array(4*_);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*_);case"ivec3":return new Int32Array(3*_);case"ivec4":return new Int32Array(4*_);case"uvec2":return new Uint32Array(2*_);case"uvec3":return new Uint32Array(3*_);case"uvec4":return new Uint32Array(4*_);case"bool":return!1;case"bvec2":return booleanArray(2*_);case"bvec3":return booleanArray(3*_);case"bvec4":return booleanArray(4*_);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const uniformParsers=[{test:_e=>_e.type==="float"&&_e.size===1&&!_e.isArray,code:_e=>`
            if(uv["${_e}"] !== ud["${_e}"].value)
            {
                ud["${_e}"].value = uv["${_e}"]
                gl.uniform1f(ud["${_e}"].location, uv["${_e}"])
            }
            `},{test:(_e,_)=>(_e.type==="sampler2D"||_e.type==="samplerCube"||_e.type==="sampler2DArray")&&_e.size===1&&!_e.isArray&&(_==null||_.castToBaseTexture!==void 0),code:_e=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${_e}"], t);

            if(ud["${_e}"].value !== t)
            {
                ud["${_e}"].value = t;
                gl.uniform1i(ud["${_e}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(_e,_)=>_e.type==="mat3"&&_e.size===1&&!_e.isArray&&_.a!==void 0,code:_e=>`
            gl.uniformMatrix3fv(ud["${_e}"].location, false, uv["${_e}"].toArray(true));
            `,codeUbo:_e=>`
                var ${_e}_matrix = uv.${_e}.toArray(true);

                data[offset] = ${_e}_matrix[0];
                data[offset+1] = ${_e}_matrix[1];
                data[offset+2] = ${_e}_matrix[2];
        
                data[offset + 4] = ${_e}_matrix[3];
                data[offset + 5] = ${_e}_matrix[4];
                data[offset + 6] = ${_e}_matrix[5];
        
                data[offset + 8] = ${_e}_matrix[6];
                data[offset + 9] = ${_e}_matrix[7];
                data[offset + 10] = ${_e}_matrix[8];
            `},{test:(_e,_)=>_e.type==="vec2"&&_e.size===1&&!_e.isArray&&_.x!==void 0,code:_e=>`
                cv = ud["${_e}"].value;
                v = uv["${_e}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${_e}"].location, v.x, v.y);
                }`,codeUbo:_e=>`
                v = uv.${_e};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:_e=>_e.type==="vec2"&&_e.size===1&&!_e.isArray,code:_e=>`
                cv = ud["${_e}"].value;
                v = uv["${_e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${_e}"].location, v[0], v[1]);
                }
            `},{test:(_e,_)=>_e.type==="vec4"&&_e.size===1&&!_e.isArray&&_.width!==void 0,code:_e=>`
                cv = ud["${_e}"].value;
                v = uv["${_e}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${_e}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:_e=>`
                    v = uv.${_e};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(_e,_)=>_e.type==="vec4"&&_e.size===1&&!_e.isArray&&_.red!==void 0,code:_e=>`
                cv = ud["${_e}"].value;
                v = uv["${_e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${_e}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:_e=>`
                    v = uv.${_e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(_e,_)=>_e.type==="vec3"&&_e.size===1&&!_e.isArray&&_.red!==void 0,code:_e=>`
                cv = ud["${_e}"].value;
                v = uv["${_e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${_e}"].location, v.red, v.green, v.blue)
                }`,codeUbo:_e=>`
                    v = uv.${_e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:_e=>_e.type==="vec4"&&_e.size===1&&!_e.isArray,code:_e=>`
                cv = ud["${_e}"].value;
                v = uv["${_e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${_e}"].location, v[0], v[1], v[2], v[3])
                }`}],GLSL_TO_SINGLE_SETTERS_CACHED={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(_e,_){var tt;const et=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const rt in _e.uniforms){const nt=_[rt];if(!nt){((tt=_e.uniforms[rt])==null?void 0:tt.group)===!0&&(_e.uniforms[rt].ubo?et.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${rt}, '${rt}');
                    `):et.push(`
                        renderer.shader.syncUniformGroup(uv.${rt}, syncData);
                    `));continue}const it=_e.uniforms[rt];let at=!1;for(let lt=0;lt<uniformParsers.length;lt++)if(uniformParsers[lt].test(nt,it)){et.push(uniformParsers[lt].code(rt,it)),at=!0;break}if(!at){const lt=(nt.size===1&&!nt.isArray?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS)[nt.type].replace("location",`ud["${rt}"].location`);et.push(`
            cu = ud["${rt}"];
            cv = cu.value;
            v = uv["${rt}"];
            ${lt};`)}}return new Function("ud","uv","renderer","syncData",et.join(`
`))}const unknownContext={};let context=unknownContext;function getTestContext(){if(context===unknownContext||context!=null&&context.isContextLost()){const _e=settings.ADAPTER.createCanvas();let _;settings.PREFER_ENV>=ENV.WEBGL2&&(_=_e.getContext("webgl2",{})),_||(_=_e.getContext("webgl",{})||_e.getContext("experimental-webgl",{}),_?_.getExtension("WEBGL_draw_buffers"):_=null),context=_}return context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION.MEDIUM;const _e=getTestContext();if(_e&&_e.getShaderPrecisionFormat){const _=_e.getShaderPrecisionFormat(_e.FRAGMENT_SHADER,_e.HIGH_FLOAT);_&&(maxFragmentPrecision=_.precision?PRECISION.HIGH:PRECISION.MEDIUM)}}return maxFragmentPrecision}function logPrettyShaderError(_e,_){const et=_e.getShaderSource(_).split(`
`).map((ct,ut)=>`${ut}: ${ct}`),tt=_e.getShaderInfoLog(_),rt=tt.split(`
`),nt={},it=rt.map(ct=>parseFloat(ct.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(ct=>ct&&!nt[ct]?(nt[ct]=!0,!0):!1),at=[""];it.forEach(ct=>{et[ct-1]=`%c${et[ct-1]}%c`,at.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const lt=et.join(`
`);at[0]=lt,console.error(tt),console.groupCollapsed("click to view full shader code"),console.warn(...at),console.groupEnd()}function logProgramError(_e,_,et,tt){_e.getProgramParameter(_,_e.LINK_STATUS)||(_e.getShaderParameter(et,_e.COMPILE_STATUS)||logPrettyShaderError(_e,et),_e.getShaderParameter(tt,_e.COMPILE_STATUS)||logPrettyShaderError(_e,tt),console.error("PixiJS Error: Could not initialize shader."),_e.getProgramInfoLog(_)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",_e.getProgramInfoLog(_)))}const GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(_e){return GLSL_TO_SIZE[_e]}let GL_TABLE=null;const GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(_e,_){if(!GL_TABLE){const et=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(let tt=0;tt<et.length;++tt){const rt=et[tt];GL_TABLE[_e[rt]]=GL_TO_GLSL_TYPES[rt]}}return GL_TABLE[_]}function setPrecision(_e,_,et){if(_e.substring(0,9)!=="precision"){let tt=_;return _===PRECISION.HIGH&&et!==PRECISION.HIGH&&(tt=PRECISION.MEDIUM),`precision ${tt} float;
${_e}`}else if(et!==PRECISION.HIGH&&_e.substring(0,15)==="precision highp")return _e.replace("precision highp","precision mediump");return _e}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}let UID$2=0;const nameCache={},_Program=class _o{constructor(_,et,tt="pixi-shader",rt={}){this.extra={},this.id=UID$2++,this.vertexSrc=_||_o.defaultVertexSrc,this.fragmentSrc=et||_o.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=rt,this.vertexSrc.substring(0,8)!=="#version"&&(tt=tt.replace(/\s+/g,"-"),nameCache[tt]?(nameCache[tt]++,tt+=`-${nameCache[tt]}`):nameCache[tt]=1,this.vertexSrc=`#define SHADER_NAME ${tt}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${tt}
${this.fragmentSrc}`,this.vertexSrc=setPrecision(this.vertexSrc,_o.defaultVertexPrecision,PRECISION.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,_o.defaultFragmentPrecision,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return defaultVertex$3}static get defaultFragmentSrc(){return defaultFragment$2}static from(_,et,tt){const rt=_+et;let nt=ProgramCache[rt];return nt||(ProgramCache[rt]=nt=new _o(_,et,tt)),nt}};_Program.defaultVertexPrecision=PRECISION.HIGH,_Program.defaultFragmentPrecision=isMobile$1.apple.device?PRECISION.HIGH:PRECISION.MEDIUM;let Program=_Program,UID$1=0;class UniformGroup{constructor(_,et,tt){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$1++,this.static=!!et,this.ubo=!!tt,_ instanceof Buffer?(this.buffer=_,this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=_,this.ubo&&(this.buffer=new Buffer(new Float32Array(1)),this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(_,et,tt){if(!this.ubo)this.uniforms[_]=new UniformGroup(et,tt);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(_,et,tt){return new UniformGroup(_,et,tt)}static uboFrom(_,et){return new UniformGroup(_,et??!0,!0)}}class Shader{constructor(_,et){this.uniformBindCount=0,this.program=_,et?et instanceof UniformGroup?this.uniformGroup=et:this.uniformGroup=new UniformGroup(et):this.uniformGroup=new UniformGroup({}),this.disposeRunner=new Runner("disposeShader")}checkUniformExists(_,et){if(et.uniforms[_])return!0;for(const tt in et.uniforms){const rt=et.uniforms[tt];if(rt.group===!0&&this.checkUniformExists(_,rt))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(_,et,tt){const rt=Program.from(_,et);return new Shader(rt,tt)}}class BatchShaderGenerator{constructor(_,et){if(this.vertexSrc=_,this.fragTemplate=et,this.programCache={},this.defaultGroupCache={},!et.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!et.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(_){if(!this.programCache[_]){const tt=new Int32Array(_);for(let nt=0;nt<_;nt++)tt[nt]=nt;this.defaultGroupCache[_]=UniformGroup.from({uSamplers:tt},!0);let rt=this.fragTemplate;rt=rt.replace(/%count%/gi,`${_}`),rt=rt.replace(/%forloop%/gi,this.generateSampleSrc(_)),this.programCache[_]=new Program(this.vertexSrc,rt)}const et={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[_]};return new Shader(this.programCache[_],et)}generateSampleSrc(_){let et="";et+=`
`,et+=`
`;for(let tt=0;tt<_;tt++)tt>0&&(et+=`
else `),tt<_-1&&(et+=`if(vTextureId < ${tt}.5)`),et+=`
{`,et+=`
	color = texture2D(uSamplers[${tt}], vTextureCoord);`,et+=`
}`;return et+=`
`,et+=`
`,et}}class BatchTextureArray{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let _=0;_<this.count;_++)this.elements[_]=null;this.count=0}}function canUploadSameBuffer(){return!isMobile$1.apple.device}function maxRecommendedTextures(_e){let _=!0;const et=settings.ADAPTER.getNavigator();if(isMobile$1.tablet||isMobile$1.phone){if(isMobile$1.apple.device){const tt=et.userAgent.match(/OS (\d+)_(\d+)?/);tt&&parseInt(tt[1],10)<11&&(_=!1)}if(isMobile$1.android.device){const tt=et.userAgent.match(/Android\s([0-9.]*)/);tt&&parseInt(tt[1],10)<7&&(_=!1)}}return _?_e:4}class ObjectRenderer{constructor(_){this.renderer=_}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(_){}}var defaultFragment$1=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,defaultVertex$2=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const _BatchRenderer=class to extends ObjectRenderer{constructor(_){super(_),this.setShaderGenerator(),this.geometryClass=BatchGeometry,this.vertexSize=6,this.state=State.for2d(),this.size=to.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),_.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??maxRecommendedTextures(32),this._defaultMaxTextures}static set defaultMaxTextures(_){this._defaultMaxTextures=_}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??canUploadSameBuffer(),this._canUploadSameBuffer}static set canUploadSameBuffer(_){this._canUploadSameBuffer=_}get MAX_TEXTURES(){return deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return defaultVertex$2}static get defaultFragmentTemplate(){return defaultFragment$1}setShaderGenerator({vertex:_=to.defaultVertexSrc,fragment:et=to.defaultFragmentTemplate}={}){this.shaderGenerator=new BatchShaderGenerator(_,et)}contextChange(){const _=this.renderer.gl;settings.PREFER_ENV===ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(_.getParameter(_.MAX_TEXTURE_IMAGE_UNITS),to.defaultMaxTextures),this.maxTextures=checkMaxIfStatementsInShader(this.maxTextures,_)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let et=0;et<this._packedGeometryPoolSize;et++)this._packedGeometries[et]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:_,_textureArrayPool:et}=to,tt=this.size/4,rt=Math.floor(tt/this.maxTextures)+1;for(;_.length<tt;)_.push(new BatchDrawCall);for(;et.length<rt;)et.push(new BatchTextureArray);for(let nt=0;nt<this.maxTextures;nt++)this._tempBoundTextures[nt]=null}onPrerender(){this._flushId=0}render(_){_._texture.valid&&(this._vertexCount+_.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=_.vertexData.length/2,this._indexCount+=_.indices.length,this._bufferedTextures[this._bufferSize]=_._texture.baseTexture,this._bufferedElements[this._bufferSize++]=_)}buildTexturesAndDrawCalls(){const{_bufferedTextures:_,maxTextures:et}=this,tt=to._textureArrayPool,rt=this.renderer.batch,nt=this._tempBoundTextures,it=this.renderer.textureGC.count;let at=++BaseTexture._globalBatch,lt=0,ct=tt[0],ut=0;rt.copyBoundTextures(nt,et);for(let st=0;st<this._bufferSize;++st){const ot=_[st];_[st]=null,ot._batchEnabled!==at&&(ct.count>=et&&(rt.boundArray(ct,nt,at,et),this.buildDrawCalls(ct,ut,st),ut=st,ct=tt[++lt],++at),ot._batchEnabled=at,ot.touched=it,ct.elements[ct.count++]=ot)}ct.count>0&&(rt.boundArray(ct,nt,at,et),this.buildDrawCalls(ct,ut,this._bufferSize),++lt,++at);for(let st=0;st<nt.length;st++)nt[st]=null;BaseTexture._globalBatch=at}buildDrawCalls(_,et,tt){const{_bufferedElements:rt,_attributeBuffer:nt,_indexBuffer:it,vertexSize:at}=this,lt=to._drawCallPool;let ct=this._dcIndex,ut=this._aIndex,st=this._iIndex,ot=lt[ct];ot.start=this._iIndex,ot.texArray=_;for(let dt=et;dt<tt;++dt){const ft=rt[dt],ht=ft._texture.baseTexture,mt=premultiplyBlendMode[ht.alphaMode?1:0][ft.blendMode];rt[dt]=null,et<dt&&ot.blend!==mt&&(ot.size=st-ot.start,et=dt,ot=lt[++ct],ot.texArray=_,ot.start=st),this.packInterleavedGeometry(ft,nt,it,ut,st),ut+=ft.vertexData.length/2*at,st+=ft.indices.length,ot.blend=mt}et<tt&&(ot.size=st-ot.start,++ct),this._dcIndex=ct,this._aIndex=ut,this._iIndex=st}bindAndClearTexArray(_){const et=this.renderer.texture;for(let tt=0;tt<_.count;tt++)et.bind(_.elements[tt],_.ids[tt]),_.elements[tt]=null;_.count=0}updateGeometry(){const{_packedGeometries:_,_attributeBuffer:et,_indexBuffer:tt}=this;to.canUploadSameBuffer?(_[this._flushId]._buffer.update(et.rawBinaryData),_[this._flushId]._indexBuffer.update(tt),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,_[this._flushId]=new this.geometryClass),_[this._flushId]._buffer.update(et.rawBinaryData),_[this._flushId]._indexBuffer.update(tt),this.renderer.geometry.bind(_[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const _=this._dcIndex,{gl:et,state:tt}=this.renderer,rt=to._drawCallPool;let nt=null;for(let it=0;it<_;it++){const{texArray:at,type:lt,size:ct,start:ut,blend:st}=rt[it];nt!==at&&(nt=at,this.bindAndClearTexArray(at)),this.state.blendMode=st,tt.set(this.state),et.drawElements(lt,ct,et.UNSIGNED_SHORT,ut*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),to.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let _=0;_<this._packedGeometryPoolSize;_++)this._packedGeometries[_]&&this._packedGeometries[_].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(_){const et=nextPow2(Math.ceil(_/8)),tt=log2(et),rt=et*8;this._aBuffers.length<=tt&&(this._iBuffers.length=tt+1);let nt=this._aBuffers[rt];return nt||(this._aBuffers[rt]=nt=new ViewableBuffer(rt*this.vertexSize*4)),nt}getIndexBuffer(_){const et=nextPow2(Math.ceil(_/12)),tt=log2(et),rt=et*12;this._iBuffers.length<=tt&&(this._iBuffers.length=tt+1);let nt=this._iBuffers[tt];return nt||(this._iBuffers[tt]=nt=new Uint16Array(rt)),nt}packInterleavedGeometry(_,et,tt,rt,nt){const{uint32View:it,float32View:at}=et,lt=rt/this.vertexSize,ct=_.uvs,ut=_.indices,st=_.vertexData,ot=_._texture.baseTexture._batchLocation,dt=Math.min(_.worldAlpha,1),ft=Color.shared.setValue(_._tintRGB).toPremultiplied(dt,_._texture.baseTexture.alphaMode>0);for(let ht=0;ht<st.length;ht+=2)at[rt++]=st[ht],at[rt++]=st[ht+1],at[rt++]=ct[ht],at[rt++]=ct[ht+1],it[rt++]=ft,at[rt++]=ot;for(let ht=0;ht<ut.length;ht++)tt[nt++]=lt+ut[ht]}};_BatchRenderer.defaultBatchSize=4096,_BatchRenderer.extension={name:"batch",type:ExtensionType.RendererPlugin},_BatchRenderer._drawCallPool=[],_BatchRenderer._textureArrayPool=[];let BatchRenderer=_BatchRenderer;extensions$1.add(BatchRenderer);var defaultFragment=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,defaultVertex$1=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const _Filter=class To extends Shader{constructor(_,et,tt){const rt=Program.from(_||To.defaultVertexSrc,et||To.defaultFragmentSrc);super(rt,tt),this.padding=0,this.resolution=To.defaultResolution,this.multisample=To.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new State}apply(_,et,tt,rt,nt){_.applyFilter(this,et,tt,rt)}get blendMode(){return this.state.blendMode}set blendMode(_){this.state.blendMode=_}get resolution(){return this._resolution}set resolution(_){this._resolution=_}static get defaultVertexSrc(){return defaultVertex$1}static get defaultFragmentSrc(){return defaultFragment}};_Filter.defaultResolution=1,_Filter.defaultMultisample=MSAA_QUALITY.NONE;let Filter=_Filter;class BackgroundSystem{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Color(0),this.alpha=1}init(_){this.clearBeforeRender=_.clearBeforeRender;const{backgroundColor:et,background:tt,backgroundAlpha:rt}=_,nt=tt??et;nt!==void 0&&(this.color=nt),this.alpha=rt}get color(){return this._backgroundColor.value}set color(_){this._backgroundColor.setValue(_)}get alpha(){return this._backgroundColor.alpha}set alpha(_){this._backgroundColor.setAlpha(_)}get backgroundColor(){return this._backgroundColor}destroy(){}}BackgroundSystem.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},BackgroundSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"background"};extensions$1.add(BackgroundSystem);class BatchSystem{constructor(_){this.renderer=_,this.emptyRenderer=new ObjectRenderer(_),this.currentRenderer=this.emptyRenderer}setObjectRenderer(_){this.currentRenderer!==_&&(this.currentRenderer.stop(),this.currentRenderer=_,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(_,et){const{boundTextures:tt}=this.renderer.texture;for(let rt=et-1;rt>=0;--rt)_[rt]=tt[rt]||null,_[rt]&&(_[rt]._batchLocation=rt)}boundArray(_,et,tt,rt){const{elements:nt,ids:it,count:at}=_;let lt=0;for(let ct=0;ct<at;ct++){const ut=nt[ct],st=ut._batchLocation;if(st>=0&&st<rt&&et[st]===ut){it[ct]=st;continue}for(;lt<rt;){const ot=et[lt];if(ot&&ot._batchEnabled===tt&&ot._batchLocation===lt){lt++;continue}it[ct]=lt,ut._batchLocation=lt,et[lt]=ut;break}}}destroy(){this.renderer=null}}BatchSystem.extension={type:ExtensionType.RendererSystem,name:"batch"};extensions$1.add(BatchSystem);let CONTEXT_UID_COUNTER=0;class ContextSystem{constructor(_){this.renderer=_,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(_){this.gl=_,this.renderer.gl=_,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++}init(_){if(_.context)this.initFromContext(_.context);else{const et=this.renderer.background.alpha<1,tt=_.premultipliedAlpha;this.preserveDrawingBuffer=_.preserveDrawingBuffer,this.useContextAlpha=_.useContextAlpha,this.powerPreference=_.powerPreference,this.initFromOptions({alpha:et,premultipliedAlpha:tt,antialias:_.antialias,stencil:!0,preserveDrawingBuffer:_.preserveDrawingBuffer,powerPreference:_.powerPreference})}}initFromContext(_){this.gl=_,this.validateContext(_),this.renderer.gl=_,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(_);const et=this.renderer.view;et.addEventListener!==void 0&&(et.addEventListener("webglcontextlost",this.handleContextLost,!1),et.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(_){const et=this.createContext(this.renderer.view,_);this.initFromContext(et)}createContext(_,et){let tt;if(settings.PREFER_ENV>=ENV.WEBGL2&&(tt=_.getContext("webgl2",et)),tt)this.webGLVersion=2;else if(this.webGLVersion=1,tt=_.getContext("webgl",et)||_.getContext("experimental-webgl",et),!tt)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=tt,this.getExtensions(),this.gl}getExtensions(){const{gl:_}=this,et={loseContext:_.getExtension("WEBGL_lose_context"),anisotropicFiltering:_.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:_.getExtension("OES_texture_float_linear"),s3tc:_.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:_.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:_.getExtension("WEBGL_compressed_texture_etc"),etc1:_.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:_.getExtension("WEBGL_compressed_texture_pvrtc")||_.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:_.getExtension("WEBGL_compressed_texture_atc"),astc:_.getExtension("WEBGL_compressed_texture_astc"),bptc:_.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,et,{drawBuffers:_.getExtension("WEBGL_draw_buffers"),depthTexture:_.getExtension("WEBGL_depth_texture"),vertexArrayObject:_.getExtension("OES_vertex_array_object")||_.getExtension("MOZ_OES_vertex_array_object")||_.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:_.getExtension("OES_element_index_uint"),floatTexture:_.getExtension("OES_texture_float"),floatTextureLinear:_.getExtension("OES_texture_float_linear"),textureHalfFloat:_.getExtension("OES_texture_half_float"),textureHalfFloatLinear:_.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,et,{colorBufferFloat:_.getExtension("EXT_color_buffer_float")})}handleContextLost(_){_.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const _=this.renderer.view;this.renderer=null,_.removeEventListener!==void 0&&(_.removeEventListener("webglcontextlost",this.handleContextLost),_.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(_){const et=_.getContextAttributes(),tt="WebGL2RenderingContext"in globalThis&&_ instanceof globalThis.WebGL2RenderingContext;tt&&(this.webGLVersion=2),et&&!et.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const rt=tt||!!_.getExtension("OES_element_index_uint");this.supports.uint32Indices=rt,rt||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ContextSystem.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},ContextSystem.extension={type:ExtensionType.RendererSystem,name:"context"};extensions$1.add(ContextSystem);class Framebuffer{constructor(_,et){if(this.width=Math.round(_),this.height=Math.round(et),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(_=0,et){return this.colorTextures[_]=et||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,mipmap:MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(_){return this.depthTexture=_||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES.OFF,format:FORMATS.DEPTH_COMPONENT,type:TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(_,et){if(_=Math.round(_),et=Math.round(et),!_||!et)throw new Error("Framebuffer width and height must not be zero");if(!(_===this.width&&et===this.height)){this.width=_,this.height=et,this.dirtyId++,this.dirtySize++;for(let tt=0;tt<this.colorTextures.length;tt++){const rt=this.colorTextures[tt],nt=rt.resolution;rt.setSize(_/nt,et/nt)}if(this.depthTexture){const tt=this.depthTexture.resolution;this.depthTexture.setSize(_/tt,et/tt)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class BaseRenderTexture extends BaseTexture{constructor(_={}){if(typeof _=="number"){const et=arguments[0],tt=arguments[1],rt=arguments[2],nt=arguments[3];_={width:et,height:tt,scaleMode:rt,resolution:nt}}_.width=_.width??100,_.height=_.height??100,_.multisample??(_.multisample=MSAA_QUALITY.NONE),super(null,_),this.mipmap=MIPMAP_MODES.OFF,this.valid=!0,this._clear=new Color([0,0,0,0]),this.framebuffer=new Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=_.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(_){this._clear.setValue(_)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(_){this.framebuffer.multisample=_}resize(_,et){this.framebuffer.resize(_*this.resolution,et*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class BaseImageResource extends Resource{constructor(_){const et=_,tt=et.naturalWidth||et.videoWidth||et.displayWidth||et.width,rt=et.naturalHeight||et.videoHeight||et.displayHeight||et.height;super(tt,rt),this.source=_,this.noSubImage=!1}static crossOrigin(_,et,tt){tt===void 0&&!et.startsWith("data:")?_.crossOrigin=determineCrossOrigin(et):tt!==!1&&(_.crossOrigin=typeof tt=="string"?tt:"anonymous")}upload(_,et,tt,rt){const nt=_.gl,it=et.realWidth,at=et.realHeight;if(rt=rt||this.source,typeof HTMLImageElement<"u"&&rt instanceof HTMLImageElement){if(!rt.complete||rt.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&rt instanceof HTMLVideoElement&&rt.readyState<=1)return!1;return nt.pixelStorei(nt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.alphaMode===ALPHA_MODES.UNPACK),!this.noSubImage&&et.target===nt.TEXTURE_2D&&tt.width===it&&tt.height===at?nt.texSubImage2D(nt.TEXTURE_2D,0,0,0,et.format,tt.type,rt):(tt.width=it,tt.height=at,nt.texImage2D(et.target,0,tt.internalFormat,et.format,tt.type,rt)),!0}update(){if(this.destroyed)return;const _=this.source,et=_.naturalWidth||_.videoWidth||_.width,tt=_.naturalHeight||_.videoHeight||_.height;this.resize(et,tt),super.update()}dispose(){this.source=null}}class ImageResource extends BaseImageResource{constructor(_,et){if(et=et||{},typeof _=="string"){const tt=new Image;BaseImageResource.crossOrigin(tt,_,et.crossorigin),tt.src=_,_=tt}super(_),!_.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=_.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(et.createBitmap??settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof et.alphaMode=="number"?et.alphaMode:null,this.bitmap=null,this._load=null,et.autoLoad!==!1&&this.load()}load(_){return this._load?this._load:(_!==void 0&&(this.createBitmap=_),this._load=new Promise((et,tt)=>{const rt=this.source;this.url=rt.src;const nt=()=>{this.destroyed||(rt.onload=null,rt.onerror=null,this.update(),this._load=null,this.createBitmap?et(this.process()):et(this))};rt.complete&&rt.src?nt():(rt.onload=nt,rt.onerror=it=>{tt(it),this.onError.emit(it)})}),this._load)}process(){const _=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const et=globalThis.createImageBitmap,tt=!_.crossOrigin||_.crossOrigin==="anonymous";return this._process=fetch(_.src,{mode:tt?"cors":"no-cors"}).then(rt=>rt.blob()).then(rt=>et(rt,0,0,_.width,_.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"})).then(rt=>this.destroyed?Promise.reject():(this.bitmap=rt,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(_,et,tt){if(typeof this.alphaMode=="number"&&(et.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(_,et,tt);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(_,et,tt,this.bitmap),!this.preserveBitmap){let rt=!0;const nt=et._glTextures;for(const it in nt){const at=nt[it];if(at!==tt&&at.dirtyId!==et.dirtyId){rt=!1;break}}rt&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(_){return typeof HTMLImageElement<"u"&&(typeof _=="string"||_ instanceof HTMLImageElement)}}class TextureUvs{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(_,et,tt){const rt=et.width,nt=et.height;if(tt){const it=_.width/2/rt,at=_.height/2/nt,lt=_.x/rt+it,ct=_.y/nt+at;tt=groupD8.add(tt,groupD8.NW),this.x0=lt+it*groupD8.uX(tt),this.y0=ct+at*groupD8.uY(tt),tt=groupD8.add(tt,2),this.x1=lt+it*groupD8.uX(tt),this.y1=ct+at*groupD8.uY(tt),tt=groupD8.add(tt,2),this.x2=lt+it*groupD8.uX(tt),this.y2=ct+at*groupD8.uY(tt),tt=groupD8.add(tt,2),this.x3=lt+it*groupD8.uX(tt),this.y3=ct+at*groupD8.uY(tt)}else this.x0=_.x/rt,this.y0=_.y/nt,this.x1=(_.x+_.width)/rt,this.y1=_.y/nt,this.x2=(_.x+_.width)/rt,this.y2=(_.y+_.height)/nt,this.x3=_.x/rt,this.y3=(_.y+_.height)/nt;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}TextureUvs.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const DEFAULT_UVS=new TextureUvs;function removeAllHandlers(_e){_e.destroy=function(){},_e.on=function(){},_e.once=function(){},_e.emit=function(){}}class Texture extends EventEmitter{constructor(_,et,tt,rt,nt,it,at){if(super(),this.noFrame=!1,et||(this.noFrame=!0,et=new Rectangle(0,0,1,1)),_ instanceof Texture&&(_=_.baseTexture),this.baseTexture=_,this._frame=et,this.trim=rt,this.valid=!1,this.destroyed=!1,this._uvs=DEFAULT_UVS,this.uvMatrix=null,this.orig=tt||et,this._rotate=Number(nt||0),nt===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=it?new Point(it.x,it.y):new Point(0,0),this.defaultBorders=at,this._updateID=0,this.textureCacheIds=[],_.valid?this.noFrame?_.valid&&this.onBaseTextureUpdated(_):this.frame=et:_.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&_.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(_){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=_.width,this._frame.height=_.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(_){if(this.baseTexture){if(_){const{resource:et}=this.baseTexture;et!=null&&et.url&&TextureCache[et.url]&&Texture.removeFromCache(et.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Texture.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var rt;const _=this._frame.clone(),et=this._frame===this.orig?_:this.orig.clone(),tt=new Texture(this.baseTexture,!this.noFrame&&_,et,(rt=this.trim)==null?void 0:rt.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(tt._frame=_),tt}updateUvs(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(_,et={},tt=settings.STRICT_TEXTURE_CACHE){const rt=typeof _=="string";let nt=null;if(rt)nt=_;else if(_ instanceof BaseTexture){if(!_.cacheId){const at=(et==null?void 0:et.pixiIdPrefix)||"pixiid";_.cacheId=`${at}-${uid$1()}`,BaseTexture.addToCache(_,_.cacheId)}nt=_.cacheId}else{if(!_._pixiId){const at=(et==null?void 0:et.pixiIdPrefix)||"pixiid";_._pixiId=`${at}_${uid$1()}`}nt=_._pixiId}let it=TextureCache[nt];if(rt&&tt&&!it)throw new Error(`The cacheId "${nt}" does not exist in TextureCache.`);return!it&&!(_ instanceof BaseTexture)?(et.resolution||(et.resolution=getResolutionOfUrl(_)),it=new Texture(new BaseTexture(_,et)),it.baseTexture.cacheId=nt,BaseTexture.addToCache(it.baseTexture,nt),Texture.addToCache(it,nt)):!it&&_ instanceof BaseTexture&&(it=new Texture(_),Texture.addToCache(it,nt)),it}static fromURL(_,et){const tt=Object.assign({autoLoad:!1},et==null?void 0:et.resourceOptions),rt=Texture.from(_,Object.assign({resourceOptions:tt},et),!1),nt=rt.baseTexture.resource;return rt.baseTexture.valid?Promise.resolve(rt):nt.load().then(()=>Promise.resolve(rt))}static fromBuffer(_,et,tt,rt){return new Texture(BaseTexture.fromBuffer(_,et,tt,rt))}static fromLoader(_,et,tt,rt){const nt=new BaseTexture(_,Object.assign({scaleMode:BaseTexture.defaultOptions.scaleMode,resolution:getResolutionOfUrl(et)},rt)),{resource:it}=nt;it instanceof ImageResource&&(it.url=et);const at=new Texture(nt);return tt||(tt=et),BaseTexture.addToCache(at.baseTexture,tt),Texture.addToCache(at,tt),tt!==et&&(BaseTexture.addToCache(at.baseTexture,et),Texture.addToCache(at,et)),at.baseTexture.valid?Promise.resolve(at):new Promise(lt=>{at.baseTexture.once("loaded",()=>lt(at))})}static addToCache(_,et){et&&(_.textureCacheIds.includes(et)||_.textureCacheIds.push(et),TextureCache[et]&&TextureCache[et]!==_&&console.warn(`Texture added to the cache with an id [${et}] that already had an entry`),TextureCache[et]=_)}static removeFromCache(_){if(typeof _=="string"){const et=TextureCache[_];if(et){const tt=et.textureCacheIds.indexOf(_);return tt>-1&&et.textureCacheIds.splice(tt,1),delete TextureCache[_],et}}else if(_!=null&&_.textureCacheIds){for(let et=0;et<_.textureCacheIds.length;++et)TextureCache[_.textureCacheIds[et]]===_&&delete TextureCache[_.textureCacheIds[et]];return _.textureCacheIds.length=0,_}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(_){this._frame=_,this.noFrame=!1;const{x:et,y:tt,width:rt,height:nt}=_,it=et+rt>this.baseTexture.width,at=tt+nt>this.baseTexture.height;if(it||at){const lt=it&&at?"and":"or",ct=`X: ${et} + ${rt} = ${et+rt} > ${this.baseTexture.width}`,ut=`Y: ${tt} + ${nt} = ${tt+nt} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${ct} ${lt} ${ut}`)}this.valid=rt&&nt&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=_),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(_){this._rotate=_,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Texture._EMPTY||(Texture._EMPTY=new Texture(new BaseTexture),removeAllHandlers(Texture._EMPTY),removeAllHandlers(Texture._EMPTY.baseTexture)),Texture._EMPTY}static get WHITE(){if(!Texture._WHITE){const _=settings.ADAPTER.createCanvas(16,16),et=_.getContext("2d");_.width=16,_.height=16,et.fillStyle="white",et.fillRect(0,0,16,16),Texture._WHITE=new Texture(BaseTexture.from(_)),removeAllHandlers(Texture._WHITE),removeAllHandlers(Texture._WHITE.baseTexture)}return Texture._WHITE}}class RenderTexture extends Texture{constructor(_,et){super(_,et),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(_){this.framebuffer.multisample=_}resize(_,et,tt=!0){const rt=this.baseTexture.resolution,nt=Math.round(_*rt)/rt,it=Math.round(et*rt)/rt;this.valid=nt>0&&it>0,this._frame.width=this.orig.width=nt,this._frame.height=this.orig.height=it,tt&&this.baseTexture.resize(nt,it),this.updateUvs()}setResolution(_){const{baseTexture:et}=this;et.resolution!==_&&(et.setResolution(_),this.resize(et.width,et.height,!1))}static create(_){return new RenderTexture(new BaseRenderTexture(_))}}class RenderTexturePool{constructor(_){this.texturePool={},this.textureOptions=_||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(_,et,tt=MSAA_QUALITY.NONE){const rt=new BaseRenderTexture(Object.assign({width:_,height:et,resolution:1,multisample:tt},this.textureOptions));return new RenderTexture(rt)}getOptimalTexture(_,et,tt=1,rt=MSAA_QUALITY.NONE){let nt;_=Math.max(Math.ceil(_*tt-1e-6),1),et=Math.max(Math.ceil(et*tt-1e-6),1),!this.enableFullScreen||_!==this._pixelsWidth||et!==this._pixelsHeight?(_=nextPow2(_),et=nextPow2(et),nt=((_&65535)<<16|et&65535)>>>0,rt>1&&(nt+=rt*4294967296)):nt=rt>1?-rt:-1,this.texturePool[nt]||(this.texturePool[nt]=[]);let it=this.texturePool[nt].pop();return it||(it=this.createTexture(_,et,rt)),it.filterPoolKey=nt,it.setResolution(tt),it}getFilterTexture(_,et,tt){const rt=this.getOptimalTexture(_.width,_.height,et||_.resolution,tt||MSAA_QUALITY.NONE);return rt.filterFrame=_.filterFrame,rt}returnTexture(_){const et=_.filterPoolKey;_.filterFrame=null,this.texturePool[et].push(_)}returnFilterTexture(_){this.returnTexture(_)}clear(_){if(_=_!==!1,_)for(const et in this.texturePool){const tt=this.texturePool[et];if(tt)for(let rt=0;rt<tt.length;rt++)tt[rt].destroy(!0)}this.texturePool={}}setScreenSize(_){if(!(_.width===this._pixelsWidth&&_.height===this._pixelsHeight)){this.enableFullScreen=_.width>0&&_.height>0;for(const et in this.texturePool){if(!(Number(et)<0))continue;const tt=this.texturePool[et];if(tt)for(let rt=0;rt<tt.length;rt++)tt[rt].destroy(!0);this.texturePool[et]=[]}this._pixelsWidth=_.width,this._pixelsHeight=_.height}}}RenderTexturePool.SCREEN_KEY=-1;class Quad extends Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class QuadUv extends Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Buffer(this.vertices),this.uvBuffer=new Buffer(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(_,et){let tt=0,rt=0;return this.uvs[0]=tt,this.uvs[1]=rt,this.uvs[2]=tt+et.width/_.width,this.uvs[3]=rt,this.uvs[4]=tt+et.width/_.width,this.uvs[5]=rt+et.height/_.height,this.uvs[6]=tt,this.uvs[7]=rt+et.height/_.height,tt=et.x,rt=et.y,this.vertices[0]=tt,this.vertices[1]=rt,this.vertices[2]=tt+et.width,this.vertices[3]=rt,this.vertices[4]=tt+et.width,this.vertices[5]=rt+et.height,this.vertices[6]=tt,this.vertices[7]=rt+et.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class FilterState{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const tempPoints=[new Point,new Point,new Point,new Point],tempMatrix$4=new Matrix;class FilterSystem{constructor(_){this.renderer=_,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(_,et){const tt=this.renderer,rt=this.defaultFilterStack,nt=this.statePool.pop()||new FilterState,it=tt.renderTexture;let at,lt;if(it.current){const mt=it.current;at=mt.resolution,lt=mt.multisample}else at=tt.resolution,lt=tt.multisample;let ct=et[0].resolution||at,ut=et[0].multisample??lt,st=et[0].padding,ot=et[0].autoFit,dt=et[0].legacy??!0;for(let mt=1;mt<et.length;mt++){const gt=et[mt];ct=Math.min(ct,gt.resolution||at),ut=Math.min(ut,gt.multisample??lt),st=this.useMaxPadding?Math.max(st,gt.padding):st+gt.padding,ot=ot&&gt.autoFit,dt=dt||(gt.legacy??!0)}rt.length===1&&(this.defaultFilterStack[0].renderTexture=it.current),rt.push(nt),nt.resolution=ct,nt.multisample=ut,nt.legacy=dt,nt.target=_,nt.sourceFrame.copyFrom(_.filterArea||_.getBounds(!0)),nt.sourceFrame.pad(st);const ft=this.tempRect.copyFrom(it.sourceFrame);tt.projection.transform&&this.transformAABB(tempMatrix$4.copyFrom(tt.projection.transform).invert(),ft),ot?(nt.sourceFrame.fit(ft),(nt.sourceFrame.width<=0||nt.sourceFrame.height<=0)&&(nt.sourceFrame.width=0,nt.sourceFrame.height=0)):nt.sourceFrame.intersects(ft)||(nt.sourceFrame.width=0,nt.sourceFrame.height=0),this.roundFrame(nt.sourceFrame,it.current?it.current.resolution:tt.resolution,it.sourceFrame,it.destinationFrame,tt.projection.transform),nt.renderTexture=this.getOptimalFilterTexture(nt.sourceFrame.width,nt.sourceFrame.height,ct,ut),nt.filters=et,nt.destinationFrame.width=nt.renderTexture.width,nt.destinationFrame.height=nt.renderTexture.height;const ht=this.tempRect;ht.x=0,ht.y=0,ht.width=nt.sourceFrame.width,ht.height=nt.sourceFrame.height,nt.renderTexture.filterFrame=nt.sourceFrame,nt.bindingSourceFrame.copyFrom(it.sourceFrame),nt.bindingDestinationFrame.copyFrom(it.destinationFrame),nt.transform=tt.projection.transform,tt.projection.transform=null,it.bind(nt.renderTexture,nt.sourceFrame,ht),tt.framebuffer.clear(0,0,0,0)}pop(){const _=this.defaultFilterStack,et=_.pop(),tt=et.filters;this.activeState=et;const rt=this.globalUniforms.uniforms;rt.outputFrame=et.sourceFrame,rt.resolution=et.resolution;const nt=rt.inputSize,it=rt.inputPixel,at=rt.inputClamp;if(nt[0]=et.destinationFrame.width,nt[1]=et.destinationFrame.height,nt[2]=1/nt[0],nt[3]=1/nt[1],it[0]=Math.round(nt[0]*et.resolution),it[1]=Math.round(nt[1]*et.resolution),it[2]=1/it[0],it[3]=1/it[1],at[0]=.5*it[2],at[1]=.5*it[3],at[2]=et.sourceFrame.width*nt[2]-.5*it[2],at[3]=et.sourceFrame.height*nt[3]-.5*it[3],et.legacy){const ct=rt.filterArea;ct[0]=et.destinationFrame.width,ct[1]=et.destinationFrame.height,ct[2]=et.sourceFrame.x,ct[3]=et.sourceFrame.y,rt.filterClamp=rt.inputClamp}this.globalUniforms.update();const lt=_[_.length-1];if(this.renderer.framebuffer.blit(),tt.length===1)tt[0].apply(this,et.renderTexture,lt.renderTexture,CLEAR_MODES.BLEND,et),this.returnFilterTexture(et.renderTexture);else{let ct=et.renderTexture,ut=this.getOptimalFilterTexture(ct.width,ct.height,et.resolution);ut.filterFrame=ct.filterFrame;let st=0;for(st=0;st<tt.length-1;++st){st===1&&et.multisample>1&&(ut=this.getOptimalFilterTexture(ct.width,ct.height,et.resolution),ut.filterFrame=ct.filterFrame),tt[st].apply(this,ct,ut,CLEAR_MODES.CLEAR,et);const ot=ct;ct=ut,ut=ot}tt[st].apply(this,ct,lt.renderTexture,CLEAR_MODES.BLEND,et),st>1&&et.multisample>1&&this.returnFilterTexture(et.renderTexture),this.returnFilterTexture(ct),this.returnFilterTexture(ut)}et.clear(),this.statePool.push(et)}bindAndClear(_,et=CLEAR_MODES.CLEAR){const{renderTexture:tt,state:rt}=this.renderer;if(_===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,_==null?void 0:_.filterFrame){const it=this.tempRect;it.x=0,it.y=0,it.width=_.filterFrame.width,it.height=_.filterFrame.height,tt.bind(_,_.filterFrame,it)}else _!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?tt.bind(_):this.renderer.renderTexture.bind(_,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const nt=rt.stateId&1||this.forceClear;(et===CLEAR_MODES.CLEAR||et===CLEAR_MODES.BLIT&&nt)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(_,et,tt,rt){const nt=this.renderer;nt.state.set(_.state),this.bindAndClear(tt,rt),_.uniforms.uSampler=et,_.uniforms.filterGlobals=this.globalUniforms,nt.shader.bind(_),_.legacy=!!_.program.attributeData.aTextureCoord,_.legacy?(this.quadUv.map(et._frame,et.filterFrame),nt.geometry.bind(this.quadUv),nt.geometry.draw(DRAW_MODES.TRIANGLES)):(nt.geometry.bind(this.quad),nt.geometry.draw(DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(_,et){const{sourceFrame:tt,destinationFrame:rt}=this.activeState,{orig:nt}=et._texture,it=_.set(rt.width,0,0,rt.height,tt.x,tt.y),at=et.worldTransform.copyTo(Matrix.TEMP_MATRIX);return at.invert(),it.prepend(at),it.scale(1/nt.width,1/nt.height),it.translate(et.anchor.x,et.anchor.y),it}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(_,et,tt=1,rt=MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(_,et,tt,rt)}getFilterTexture(_,et,tt){if(typeof _=="number"){const nt=_;_=et,et=nt}_=_||this.activeState.renderTexture;const rt=this.texturePool.getOptimalTexture(_.width,_.height,et||_.resolution,tt||MSAA_QUALITY.NONE);return rt.filterFrame=_.filterFrame,rt}returnFilterTexture(_){this.texturePool.returnTexture(_)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(_,et){const tt=tempPoints[0],rt=tempPoints[1],nt=tempPoints[2],it=tempPoints[3];tt.set(et.left,et.top),rt.set(et.left,et.bottom),nt.set(et.right,et.top),it.set(et.right,et.bottom),_.apply(tt,tt),_.apply(rt,rt),_.apply(nt,nt),_.apply(it,it);const at=Math.min(tt.x,rt.x,nt.x,it.x),lt=Math.min(tt.y,rt.y,nt.y,it.y),ct=Math.max(tt.x,rt.x,nt.x,it.x),ut=Math.max(tt.y,rt.y,nt.y,it.y);et.x=at,et.y=lt,et.width=ct-at,et.height=ut-lt}roundFrame(_,et,tt,rt,nt){if(!(_.width<=0||_.height<=0||tt.width<=0||tt.height<=0)){if(nt){const{a:it,b:at,c:lt,d:ct}=nt;if((Math.abs(at)>1e-4||Math.abs(lt)>1e-4)&&(Math.abs(it)>1e-4||Math.abs(ct)>1e-4))return}nt=nt?tempMatrix$4.copyFrom(nt):tempMatrix$4.identity(),nt.translate(-tt.x,-tt.y).scale(rt.width/tt.width,rt.height/tt.height).translate(rt.x,rt.y),this.transformAABB(nt,_),_.ceil(et),this.transformAABB(nt.invert(),_)}}}FilterSystem.extension={type:ExtensionType.RendererSystem,name:"filter"};extensions$1.add(FilterSystem);class GLFramebuffer{constructor(_){this.framebuffer=_,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const tempRectangle=new Rectangle;class FramebufferSystem{constructor(_){this.renderer=_,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const _=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let et=this.renderer.context.extensions.drawBuffers,tt=this.renderer.context.extensions.depthTexture;settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(et=null,tt=null),et?_.drawBuffers=rt=>et.drawBuffersWEBGL(rt):(this.hasMRT=!1,_.drawBuffers=()=>{}),tt||(this.writeDepthTexture=!1)}else this.msaaSamples=_.getInternalformatParameter(_.RENDERBUFFER,_.RGBA8,_.SAMPLES)}bind(_,et,tt=0){const{gl:rt}=this;if(_){const nt=_.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(_);this.current!==_&&(this.current=_,rt.bindFramebuffer(rt.FRAMEBUFFER,nt.framebuffer)),nt.mipLevel!==tt&&(_.dirtyId++,_.dirtyFormat++,nt.mipLevel=tt),nt.dirtyId!==_.dirtyId&&(nt.dirtyId=_.dirtyId,nt.dirtyFormat!==_.dirtyFormat?(nt.dirtyFormat=_.dirtyFormat,nt.dirtySize=_.dirtySize,this.updateFramebuffer(_,tt)):nt.dirtySize!==_.dirtySize&&(nt.dirtySize=_.dirtySize,this.resizeFramebuffer(_)));for(let it=0;it<_.colorTextures.length;it++){const at=_.colorTextures[it];this.renderer.texture.unbind(at.parentTextureArray||at)}if(_.depthTexture&&this.renderer.texture.unbind(_.depthTexture),et){const it=et.width>>tt,at=et.height>>tt,lt=it/et.width;this.setViewport(et.x*lt,et.y*lt,it,at)}else{const it=_.width>>tt,at=_.height>>tt;this.setViewport(0,0,it,at)}}else this.current&&(this.current=null,rt.bindFramebuffer(rt.FRAMEBUFFER,null)),et?this.setViewport(et.x,et.y,et.width,et.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(_,et,tt,rt){const nt=this.viewport;_=Math.round(_),et=Math.round(et),tt=Math.round(tt),rt=Math.round(rt),(nt.width!==tt||nt.height!==rt||nt.x!==_||nt.y!==et)&&(nt.x=_,nt.y=et,nt.width=tt,nt.height=rt,this.gl.viewport(_,et,tt,rt))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(_,et,tt,rt,nt=BUFFER_BITS.COLOR|BUFFER_BITS.DEPTH){const{gl:it}=this;it.clearColor(_,et,tt,rt),it.clear(nt)}initFramebuffer(_){const{gl:et}=this,tt=new GLFramebuffer(et.createFramebuffer());return tt.multisample=this.detectSamples(_.multisample),_.glFramebuffers[this.CONTEXT_UID]=tt,this.managedFramebuffers.push(_),_.disposeRunner.add(this),tt}resizeFramebuffer(_){const{gl:et}=this,tt=_.glFramebuffers[this.CONTEXT_UID];if(tt.stencil){et.bindRenderbuffer(et.RENDERBUFFER,tt.stencil);let it;this.renderer.context.webGLVersion===1?it=et.DEPTH_STENCIL:_.depth&&_.stencil?it=et.DEPTH24_STENCIL8:_.depth?it=et.DEPTH_COMPONENT24:it=et.STENCIL_INDEX8,tt.msaaBuffer?et.renderbufferStorageMultisample(et.RENDERBUFFER,tt.multisample,it,_.width,_.height):et.renderbufferStorage(et.RENDERBUFFER,it,_.width,_.height)}const rt=_.colorTextures;let nt=rt.length;et.drawBuffers||(nt=Math.min(nt,1));for(let it=0;it<nt;it++){const at=rt[it],lt=at.parentTextureArray||at;this.renderer.texture.bind(lt,0),it===0&&tt.msaaBuffer&&(et.bindRenderbuffer(et.RENDERBUFFER,tt.msaaBuffer),et.renderbufferStorageMultisample(et.RENDERBUFFER,tt.multisample,lt._glTextures[this.CONTEXT_UID].internalFormat,_.width,_.height))}_.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(_.depthTexture,0)}updateFramebuffer(_,et){const{gl:tt}=this,rt=_.glFramebuffers[this.CONTEXT_UID],nt=_.colorTextures;let it=nt.length;tt.drawBuffers||(it=Math.min(it,1)),rt.multisample>1&&this.canMultisampleFramebuffer(_)?rt.msaaBuffer=rt.msaaBuffer||tt.createRenderbuffer():rt.msaaBuffer&&(tt.deleteRenderbuffer(rt.msaaBuffer),rt.msaaBuffer=null,rt.blitFramebuffer&&(rt.blitFramebuffer.dispose(),rt.blitFramebuffer=null));const at=[];for(let lt=0;lt<it;lt++){const ct=nt[lt],ut=ct.parentTextureArray||ct;this.renderer.texture.bind(ut,0),lt===0&&rt.msaaBuffer?(tt.bindRenderbuffer(tt.RENDERBUFFER,rt.msaaBuffer),tt.renderbufferStorageMultisample(tt.RENDERBUFFER,rt.multisample,ut._glTextures[this.CONTEXT_UID].internalFormat,_.width,_.height),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.RENDERBUFFER,rt.msaaBuffer)):(tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0+lt,ct.target,ut._glTextures[this.CONTEXT_UID].texture,et),at.push(tt.COLOR_ATTACHMENT0+lt))}if(at.length>1&&tt.drawBuffers(at),_.depthTexture&&this.writeDepthTexture){const lt=_.depthTexture;this.renderer.texture.bind(lt,0),tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.DEPTH_ATTACHMENT,tt.TEXTURE_2D,lt._glTextures[this.CONTEXT_UID].texture,et)}if((_.stencil||_.depth)&&!(_.depthTexture&&this.writeDepthTexture)){rt.stencil=rt.stencil||tt.createRenderbuffer();let lt,ct;this.renderer.context.webGLVersion===1?(lt=tt.DEPTH_STENCIL_ATTACHMENT,ct=tt.DEPTH_STENCIL):_.depth&&_.stencil?(lt=tt.DEPTH_STENCIL_ATTACHMENT,ct=tt.DEPTH24_STENCIL8):_.depth?(lt=tt.DEPTH_ATTACHMENT,ct=tt.DEPTH_COMPONENT24):(lt=tt.STENCIL_ATTACHMENT,ct=tt.STENCIL_INDEX8),tt.bindRenderbuffer(tt.RENDERBUFFER,rt.stencil),rt.msaaBuffer?tt.renderbufferStorageMultisample(tt.RENDERBUFFER,rt.multisample,ct,_.width,_.height):tt.renderbufferStorage(tt.RENDERBUFFER,ct,_.width,_.height),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,lt,tt.RENDERBUFFER,rt.stencil)}else rt.stencil&&(tt.deleteRenderbuffer(rt.stencil),rt.stencil=null)}canMultisampleFramebuffer(_){return this.renderer.context.webGLVersion!==1&&_.colorTextures.length<=1&&!_.depthTexture}detectSamples(_){const{msaaSamples:et}=this;let tt=MSAA_QUALITY.NONE;if(_<=1||et===null)return tt;for(let rt=0;rt<et.length;rt++)if(et[rt]<=_){tt=et[rt];break}return tt===1&&(tt=MSAA_QUALITY.NONE),tt}blit(_,et,tt){const{current:rt,renderer:nt,gl:it,CONTEXT_UID:at}=this;if(nt.context.webGLVersion!==2||!rt)return;const lt=rt.glFramebuffers[at];if(!lt)return;if(!_){if(!lt.msaaBuffer)return;const ut=rt.colorTextures[0];if(!ut)return;lt.blitFramebuffer||(lt.blitFramebuffer=new Framebuffer(rt.width,rt.height),lt.blitFramebuffer.addColorTexture(0,ut)),_=lt.blitFramebuffer,_.colorTextures[0]!==ut&&(_.colorTextures[0]=ut,_.dirtyId++,_.dirtyFormat++),(_.width!==rt.width||_.height!==rt.height)&&(_.width=rt.width,_.height=rt.height,_.dirtyId++,_.dirtySize++)}et||(et=tempRectangle,et.width=rt.width,et.height=rt.height),tt||(tt=et);const ct=et.width===tt.width&&et.height===tt.height;this.bind(_),it.bindFramebuffer(it.READ_FRAMEBUFFER,lt.framebuffer),it.blitFramebuffer(et.left,et.top,et.right,et.bottom,tt.left,tt.top,tt.right,tt.bottom,it.COLOR_BUFFER_BIT,ct?it.NEAREST:it.LINEAR),it.bindFramebuffer(it.READ_FRAMEBUFFER,_.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(_,et){const tt=_.glFramebuffers[this.CONTEXT_UID],rt=this.gl;if(!tt)return;delete _.glFramebuffers[this.CONTEXT_UID];const nt=this.managedFramebuffers.indexOf(_);nt>=0&&this.managedFramebuffers.splice(nt,1),_.disposeRunner.remove(this),et||(rt.deleteFramebuffer(tt.framebuffer),tt.msaaBuffer&&rt.deleteRenderbuffer(tt.msaaBuffer),tt.stencil&&rt.deleteRenderbuffer(tt.stencil)),tt.blitFramebuffer&&this.disposeFramebuffer(tt.blitFramebuffer,et)}disposeAll(_){const et=this.managedFramebuffers;this.managedFramebuffers=[];for(let tt=0;tt<et.length;tt++)this.disposeFramebuffer(et[tt],_)}forceStencil(){const _=this.current;if(!_)return;const et=_.glFramebuffers[this.CONTEXT_UID];if(!et||et.stencil&&_.stencil)return;_.stencil=!0;const tt=_.width,rt=_.height,nt=this.gl,it=et.stencil=nt.createRenderbuffer();nt.bindRenderbuffer(nt.RENDERBUFFER,it);let at,lt;this.renderer.context.webGLVersion===1?(at=nt.DEPTH_STENCIL_ATTACHMENT,lt=nt.DEPTH_STENCIL):_.depth?(at=nt.DEPTH_STENCIL_ATTACHMENT,lt=nt.DEPTH24_STENCIL8):(at=nt.STENCIL_ATTACHMENT,lt=nt.STENCIL_INDEX8),et.msaaBuffer?nt.renderbufferStorageMultisample(nt.RENDERBUFFER,et.multisample,lt,tt,rt):nt.renderbufferStorage(nt.RENDERBUFFER,lt,tt,rt),nt.framebufferRenderbuffer(nt.FRAMEBUFFER,at,nt.RENDERBUFFER,it)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle}destroy(){this.renderer=null}}FramebufferSystem.extension={type:ExtensionType.RendererSystem,name:"framebuffer"};extensions$1.add(FramebufferSystem);const byteSizeMap={5126:4,5123:2,5121:1};class GeometrySystem{constructor(_){this.renderer=_,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const _=this.gl=this.renderer.gl,et=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,et.webGLVersion!==2){let tt=this.renderer.context.extensions.vertexArrayObject;settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(tt=null),tt?(_.createVertexArray=()=>tt.createVertexArrayOES(),_.bindVertexArray=rt=>tt.bindVertexArrayOES(rt),_.deleteVertexArray=rt=>tt.deleteVertexArrayOES(rt)):(this.hasVao=!1,_.createVertexArray=()=>null,_.bindVertexArray=()=>null,_.deleteVertexArray=()=>null)}if(et.webGLVersion!==2){const tt=_.getExtension("ANGLE_instanced_arrays");tt?(_.vertexAttribDivisor=(rt,nt)=>tt.vertexAttribDivisorANGLE(rt,nt),_.drawElementsInstanced=(rt,nt,it,at,lt)=>tt.drawElementsInstancedANGLE(rt,nt,it,at,lt),_.drawArraysInstanced=(rt,nt,it,at)=>tt.drawArraysInstancedANGLE(rt,nt,it,at)):this.hasInstance=!1}this.canUseUInt32ElementIndex=et.webGLVersion===2||!!et.extensions.uint32ElementIndex}bind(_,et){et=et||this.renderer.shader.shader;const{gl:tt}=this;let rt=_.glVertexArrayObjects[this.CONTEXT_UID],nt=!1;rt||(this.managedGeometries[_.id]=_,_.disposeRunner.add(this),_.glVertexArrayObjects[this.CONTEXT_UID]=rt={},nt=!0);const it=rt[et.program.id]||this.initGeometryVao(_,et,nt);this._activeGeometry=_,this._activeVao!==it&&(this._activeVao=it,this.hasVao?tt.bindVertexArray(it):this.activateVao(_,et.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const _=this._activeGeometry,et=this.renderer.buffer;for(let tt=0;tt<_.buffers.length;tt++){const rt=_.buffers[tt];et.update(rt)}}checkCompatibility(_,et){const tt=_.attributes,rt=et.attributeData;for(const nt in rt)if(!tt[nt])throw new Error(`shader and geometry incompatible, geometry missing the "${nt}" attribute`)}getSignature(_,et){const tt=_.attributes,rt=et.attributeData,nt=["g",_.id];for(const it in tt)rt[it]&&nt.push(it,rt[it].location);return nt.join("-")}initGeometryVao(_,et,tt=!0){const rt=this.gl,nt=this.CONTEXT_UID,it=this.renderer.buffer,at=et.program;at.glPrograms[nt]||this.renderer.shader.generateProgram(et),this.checkCompatibility(_,at);const lt=this.getSignature(_,at),ct=_.glVertexArrayObjects[this.CONTEXT_UID];let ut=ct[lt];if(ut)return ct[at.id]=ut,ut;const st=_.buffers,ot=_.attributes,dt={},ft={};for(const ht in st)dt[ht]=0,ft[ht]=0;for(const ht in ot)!ot[ht].size&&at.attributeData[ht]?ot[ht].size=at.attributeData[ht].size:ot[ht].size||console.warn(`PIXI Geometry attribute '${ht}' size cannot be determined (likely the bound shader does not have the attribute)`),dt[ot[ht].buffer]+=ot[ht].size*byteSizeMap[ot[ht].type];for(const ht in ot){const mt=ot[ht],gt=mt.size;mt.stride===void 0&&(dt[mt.buffer]===gt*byteSizeMap[mt.type]?mt.stride=0:mt.stride=dt[mt.buffer]),mt.start===void 0&&(mt.start=ft[mt.buffer],ft[mt.buffer]+=gt*byteSizeMap[mt.type])}ut=rt.createVertexArray(),rt.bindVertexArray(ut);for(let ht=0;ht<st.length;ht++){const mt=st[ht];it.bind(mt),tt&&mt._glBuffers[nt].refCount++}return this.activateVao(_,at),ct[at.id]=ut,ct[lt]=ut,rt.bindVertexArray(null),it.unbind(BUFFER_TYPE.ARRAY_BUFFER),ut}disposeGeometry(_,et){var at;if(!this.managedGeometries[_.id])return;delete this.managedGeometries[_.id];const tt=_.glVertexArrayObjects[this.CONTEXT_UID],rt=this.gl,nt=_.buffers,it=(at=this.renderer)==null?void 0:at.buffer;if(_.disposeRunner.remove(this),!!tt){if(it)for(let lt=0;lt<nt.length;lt++){const ct=nt[lt]._glBuffers[this.CONTEXT_UID];ct&&(ct.refCount--,ct.refCount===0&&!et&&it.dispose(nt[lt],et))}if(!et){for(const lt in tt)if(lt[0]==="g"){const ct=tt[lt];this._activeVao===ct&&this.unbind(),rt.deleteVertexArray(ct)}}delete _.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(_){const et=Object.keys(this.managedGeometries);for(let tt=0;tt<et.length;tt++)this.disposeGeometry(this.managedGeometries[et[tt]],_)}activateVao(_,et){const tt=this.gl,rt=this.CONTEXT_UID,nt=this.renderer.buffer,it=_.buffers,at=_.attributes;_.indexBuffer&&nt.bind(_.indexBuffer);let lt=null;for(const ct in at){const ut=at[ct],st=it[ut.buffer],ot=st._glBuffers[rt];if(et.attributeData[ct]){lt!==ot&&(nt.bind(st),lt=ot);const dt=et.attributeData[ct].location;if(tt.enableVertexAttribArray(dt),tt.vertexAttribPointer(dt,ut.size,ut.type||tt.FLOAT,ut.normalized,ut.stride,ut.start),ut.instance)if(this.hasInstance)tt.vertexAttribDivisor(dt,ut.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(_,et,tt,rt){const{gl:nt}=this,it=this._activeGeometry;if(it.indexBuffer){const at=it.indexBuffer.data.BYTES_PER_ELEMENT,lt=at===2?nt.UNSIGNED_SHORT:nt.UNSIGNED_INT;at===2||at===4&&this.canUseUInt32ElementIndex?it.instanced?nt.drawElementsInstanced(_,et||it.indexBuffer.data.length,lt,(tt||0)*at,rt||1):nt.drawElements(_,et||it.indexBuffer.data.length,lt,(tt||0)*at):console.warn("unsupported index buffer type: uint32")}else it.instanced?nt.drawArraysInstanced(_,tt,et||it.getSize(),rt||1):nt.drawArrays(_,tt,et||it.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}GeometrySystem.extension={type:ExtensionType.RendererSystem,name:"geometry"};extensions$1.add(GeometrySystem);const tempMat$1=new Matrix;class TextureMatrix{constructor(_,et){this._texture=_,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof et>"u"?.5:et,this.isSimple=!1}get texture(){return this._texture}set texture(_){this._texture=_,this._textureID=-1}multiplyUvs(_,et){et===void 0&&(et=_);const tt=this.mapCoord;for(let rt=0;rt<_.length;rt+=2){const nt=_[rt],it=_[rt+1];et[rt]=nt*tt.a+it*tt.c+tt.tx,et[rt+1]=nt*tt.b+it*tt.d+tt.ty}return et}update(_){const et=this._texture;if(!et||!et.valid||!_&&this._textureID===et._updateID)return!1;this._textureID=et._updateID,this._updateID++;const tt=et._uvs;this.mapCoord.set(tt.x1-tt.x0,tt.y1-tt.y0,tt.x3-tt.x0,tt.y3-tt.y0,tt.x0,tt.y0);const rt=et.orig,nt=et.trim;nt&&(tempMat$1.set(rt.width/nt.width,0,0,rt.height/nt.height,-nt.x/nt.width,-nt.y/nt.height),this.mapCoord.append(tempMat$1));const it=et.baseTexture,at=this.uClampFrame,lt=this.clampMargin/it.resolution,ct=this.clampOffset;return at[0]=(et._frame.x+lt+ct)/it.width,at[1]=(et._frame.y+lt+ct)/it.height,at[2]=(et._frame.x+et._frame.width-lt+ct)/it.width,at[3]=(et._frame.y+et._frame.height-lt+ct)/it.height,this.uClampOffset[0]=ct/it.realWidth,this.uClampOffset[1]=ct/it.realHeight,this.isSimple=et._frame.width===it.width&&et._frame.height===it.height&&et.rotate===0,!0}}var fragment$7=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,vertex$4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class SpriteMaskFilter extends Filter{constructor(_,et,tt){let rt=null;typeof _!="string"&&et===void 0&&tt===void 0&&(rt=_,_=void 0,et=void 0,tt=void 0),super(_||vertex$4,et||fragment$7,tt),this.maskSprite=rt,this.maskMatrix=new Matrix}get maskSprite(){return this._maskSprite}set maskSprite(_){this._maskSprite=_,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(_,et,tt,rt){const nt=this._maskSprite,it=nt._texture;it.valid&&(it.uvMatrix||(it.uvMatrix=new TextureMatrix(it,0)),it.uvMatrix.update(),this.uniforms.npmAlpha=it.baseTexture.alphaMode?0:1,this.uniforms.mask=it,this.uniforms.otherMatrix=_.calculateSpriteMatrix(this.maskMatrix,nt).prepend(it.uvMatrix.mapCoord),this.uniforms.alpha=nt.worldAlpha,this.uniforms.maskClamp=it.uvMatrix.uClampFrame,_.applyFilter(this,et,tt,rt))}}class MaskData{constructor(_=null){this.type=MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=_||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(_){_?this._filters?this._filters[0]=_:this._filters=[_]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(_){_?(this._stencilCounter=_._stencilCounter,this._scissorCounter=_._scissorCounter,this._scissorRect=_._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class MaskSystem{constructor(_){this.renderer=_,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(_){this.maskStack=_,this.renderer.scissor.setMaskStack(_),this.renderer.stencil.setMaskStack(_)}push(_,et){let tt=et;if(!tt.isMaskData){const nt=this.maskDataPool.pop()||new MaskData;nt.pooled=!0,nt.maskObject=et,tt=nt}const rt=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(tt.copyCountersOrReset(rt),tt._colorMask=rt?rt._colorMask:15,tt.autoDetect&&this.detect(tt),tt._target=_,tt.type!==MASK_TYPES.SPRITE&&this.maskStack.push(tt),tt.enabled)switch(tt.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.push(tt);break;case MASK_TYPES.STENCIL:this.renderer.stencil.push(tt);break;case MASK_TYPES.SPRITE:tt.copyCountersOrReset(null),this.pushSpriteMask(tt);break;case MASK_TYPES.COLOR:this.pushColorMask(tt);break}tt.type===MASK_TYPES.SPRITE&&this.maskStack.push(tt)}pop(_){const et=this.maskStack.pop();if(!(!et||et._target!==_)){if(et.enabled)switch(et.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.pop(et);break;case MASK_TYPES.STENCIL:this.renderer.stencil.pop(et.maskObject);break;case MASK_TYPES.SPRITE:this.popSpriteMask(et);break;case MASK_TYPES.COLOR:this.popColorMask(et);break}if(et.reset(),et.pooled&&this.maskDataPool.push(et),this.maskStack.length!==0){const tt=this.maskStack[this.maskStack.length-1];tt.type===MASK_TYPES.SPRITE&&tt._filters&&(tt._filters[0].maskSprite=tt.maskObject)}}}detect(_){const et=_.maskObject;et?et.isSprite?_.type=MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(_)?_.type=MASK_TYPES.SCISSOR:_.type=MASK_TYPES.STENCIL:_.type=MASK_TYPES.COLOR}pushSpriteMask(_){const{maskObject:et}=_,tt=_._target;let rt=_._filters;rt||(rt=this.alphaMaskPool[this.alphaMaskIndex],rt||(rt=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter])),rt[0].resolution=_.resolution,rt[0].multisample=_.multisample,rt[0].maskSprite=et;const nt=tt.filterArea;tt.filterArea=et.getBounds(!0),this.renderer.filter.push(tt,rt),tt.filterArea=nt,_._filters||this.alphaMaskIndex++}popSpriteMask(_){this.renderer.filter.pop(),_._filters?_._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(_){const et=_._colorMask,tt=_._colorMask=et&_.colorMask;tt!==et&&this.renderer.gl.colorMask((tt&1)!==0,(tt&2)!==0,(tt&4)!==0,(tt&8)!==0)}popColorMask(_){const et=_._colorMask,tt=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;tt!==et&&this.renderer.gl.colorMask((tt&1)!==0,(tt&2)!==0,(tt&4)!==0,(tt&8)!==0)}destroy(){this.renderer=null}}MaskSystem.extension={type:ExtensionType.RendererSystem,name:"mask"};extensions$1.add(MaskSystem);class AbstractMaskSystem{constructor(_){this.renderer=_,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(_){const{gl:et}=this.renderer,tt=this.getStackLength();this.maskStack=_;const rt=this.getStackLength();rt!==tt&&(rt===0?et.disable(this.glConst):(et.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const tempMatrix$3=new Matrix,rectPool=[],_ScissorSystem=class $o extends AbstractMaskSystem{constructor(_){super(_),this.glConst=settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const _=this.maskStack[this.maskStack.length-1];return _?_._scissorCounter:0}calcScissorRect(_){if(_._scissorRectLocal)return;const et=_._scissorRect,{maskObject:tt}=_,{renderer:rt}=this,nt=rt.renderTexture,it=tt.getBounds(!0,rectPool.pop()??new Rectangle);this.roundFrameToPixels(it,nt.current?nt.current.resolution:rt.resolution,nt.sourceFrame,nt.destinationFrame,rt.projection.transform),et&&it.fit(et),_._scissorRectLocal=it}static isMatrixRotated(_){if(!_)return!1;const{a:et,b:tt,c:rt,d:nt}=_;return(Math.abs(tt)>1e-4||Math.abs(rt)>1e-4)&&(Math.abs(et)>1e-4||Math.abs(nt)>1e-4)}testScissor(_){const{maskObject:et}=_;if(!et.isFastRect||!et.isFastRect()||$o.isMatrixRotated(et.worldTransform)||$o.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(_);const tt=_._scissorRectLocal;return tt.width>0&&tt.height>0}roundFrameToPixels(_,et,tt,rt,nt){$o.isMatrixRotated(nt)||(nt=nt?tempMatrix$3.copyFrom(nt):tempMatrix$3.identity(),nt.translate(-tt.x,-tt.y).scale(rt.width/tt.width,rt.height/tt.height).translate(rt.x,rt.y),this.renderer.filter.transformAABB(nt,_),_.fit(rt),_.x=Math.round(_.x*et),_.y=Math.round(_.y*et),_.width=Math.round(_.width*et),_.height=Math.round(_.height*et))}push(_){_._scissorRectLocal||this.calcScissorRect(_);const{gl:et}=this.renderer;_._scissorRect||et.enable(et.SCISSOR_TEST),_._scissorCounter++,_._scissorRect=_._scissorRectLocal,this._useCurrent()}pop(_){const{gl:et}=this.renderer;_&&rectPool.push(_._scissorRectLocal),this.getStackLength()>0?this._useCurrent():et.disable(et.SCISSOR_TEST)}_useCurrent(){const _=this.maskStack[this.maskStack.length-1]._scissorRect;let et;this.renderer.renderTexture.current?et=_.y:et=this.renderer.height-_.height-_.y,this.renderer.gl.scissor(_.x,et,_.width,_.height)}};_ScissorSystem.extension={type:ExtensionType.RendererSystem,name:"scissor"};let ScissorSystem=_ScissorSystem;extensions$1.add(ScissorSystem);class StencilSystem extends AbstractMaskSystem{constructor(_){super(_),this.glConst=settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const _=this.maskStack[this.maskStack.length-1];return _?_._stencilCounter:0}push(_){const et=_.maskObject,{gl:tt}=this.renderer,rt=_._stencilCounter;rt===0&&(this.renderer.framebuffer.forceStencil(),tt.clearStencil(0),tt.clear(tt.STENCIL_BUFFER_BIT),tt.enable(tt.STENCIL_TEST)),_._stencilCounter++;const nt=_._colorMask;nt!==0&&(_._colorMask=0,tt.colorMask(!1,!1,!1,!1)),tt.stencilFunc(tt.EQUAL,rt,4294967295),tt.stencilOp(tt.KEEP,tt.KEEP,tt.INCR),et.renderable=!0,et.render(this.renderer),this.renderer.batch.flush(),et.renderable=!1,nt!==0&&(_._colorMask=nt,tt.colorMask((nt&1)!==0,(nt&2)!==0,(nt&4)!==0,(nt&8)!==0)),this._useCurrent()}pop(_){const et=this.renderer.gl;if(this.getStackLength()===0)et.disable(et.STENCIL_TEST);else{const tt=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,rt=tt?tt._colorMask:15;rt!==0&&(tt._colorMask=0,et.colorMask(!1,!1,!1,!1)),et.stencilOp(et.KEEP,et.KEEP,et.DECR),_.renderable=!0,_.render(this.renderer),this.renderer.batch.flush(),_.renderable=!1,rt!==0&&(tt._colorMask=rt,et.colorMask((rt&1)!==0,(rt&2)!==0,(rt&4)!==0,(rt&8)!==0)),this._useCurrent()}}_useCurrent(){const _=this.renderer.gl;_.stencilFunc(_.EQUAL,this.getStackLength(),4294967295),_.stencilOp(_.KEEP,_.KEEP,_.KEEP)}}StencilSystem.extension={type:ExtensionType.RendererSystem,name:"stencil"};extensions$1.add(StencilSystem);class PluginSystem{constructor(_){this.renderer=_,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),_.extract}},prepare:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),_.prepare}},interaction:{enumerable:!1,get(){return deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),_.events}}})}init(){const _=this.rendererPlugins;for(const et in _)this.plugins[et]=new _[et](this.renderer)}destroy(){for(const _ in this.plugins)this.plugins[_].destroy(),this.plugins[_]=null}}PluginSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"_plugin"};extensions$1.add(PluginSystem);class ProjectionSystem{constructor(_){this.renderer=_,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}update(_,et,tt,rt){this.destinationFrame=_||this.destinationFrame||this.defaultFrame,this.sourceFrame=et||this.sourceFrame||_,this.calculateProjection(this.destinationFrame,this.sourceFrame,tt,rt),this.transform&&this.projectionMatrix.append(this.transform);const nt=this.renderer;nt.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,nt.globalUniforms.update(),nt.shader.shader&&nt.shader.syncUniformGroup(nt.shader.shader.uniforms.globals)}calculateProjection(_,et,tt,rt){const nt=this.projectionMatrix,it=rt?-1:1;nt.identity(),nt.a=1/et.width*2,nt.d=it*(1/et.height*2),nt.tx=-1-et.x*nt.a,nt.ty=-it-et.y*nt.d}setTransform(_){}destroy(){this.renderer=null}}ProjectionSystem.extension={type:ExtensionType.RendererSystem,name:"projection"};extensions$1.add(ProjectionSystem);const tempTransform=new Transform,tempRect$1=new Rectangle;class GenerateTextureSystem{constructor(_){this.renderer=_,this._tempMatrix=new Matrix}generateTexture(_,et){const{region:tt,...rt}=et||{},nt=(tt==null?void 0:tt.copyTo(tempRect$1))||_.getLocalBounds(tempRect$1,!0),it=rt.resolution||this.renderer.resolution;nt.width=Math.max(nt.width,1/it),nt.height=Math.max(nt.height,1/it),rt.width=nt.width,rt.height=nt.height,rt.resolution=it,rt.multisample??(rt.multisample=this.renderer.multisample);const at=RenderTexture.create(rt);this._tempMatrix.tx=-nt.x,this._tempMatrix.ty=-nt.y;const lt=_.transform;return _.transform=tempTransform,this.renderer.render(_,{renderTexture:at,transform:this._tempMatrix,skipUpdateTransform:!!_.parent,blit:!0}),_.transform=lt,at}destroy(){}}GenerateTextureSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"textureGenerator"};extensions$1.add(GenerateTextureSystem);const tempRect=new Rectangle,tempRect2=new Rectangle;class RenderTextureSystem{constructor(_){this.renderer=_,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}contextChange(){var et;const _=(et=this.renderer)==null?void 0:et.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(_&&_.alpha&&_.premultipliedAlpha)}bind(_=null,et,tt){const rt=this.renderer;this.current=_;let nt,it,at;_?(nt=_.baseTexture,at=nt.resolution,et||(tempRect.width=_.frame.width,tempRect.height=_.frame.height,et=tempRect),tt||(tempRect2.x=_.frame.x,tempRect2.y=_.frame.y,tempRect2.width=et.width,tempRect2.height=et.height,tt=tempRect2),it=nt.framebuffer):(at=rt.resolution,et||(tempRect.width=rt._view.screen.width,tempRect.height=rt._view.screen.height,et=tempRect),tt||(tt=tempRect,tt.width=et.width,tt.height=et.height));const lt=this.viewportFrame;lt.x=tt.x*at,lt.y=tt.y*at,lt.width=tt.width*at,lt.height=tt.height*at,_||(lt.y=rt.view.height-(lt.y+lt.height)),lt.ceil(),this.renderer.framebuffer.bind(it,lt),this.renderer.projection.update(tt,et,at,!it),_?this.renderer.mask.setMaskStack(nt.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(et),this.destinationFrame.copyFrom(tt)}clear(_,et){const tt=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,rt=Color.shared.setValue(_||tt);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&rt.premultiply(rt.alpha);const nt=this.destinationFrame,it=this.current?this.current.baseTexture:this.renderer._view.screen,at=nt.width!==it.width||nt.height!==it.height;if(at){let{x:lt,y:ct,width:ut,height:st}=this.viewportFrame;lt=Math.round(lt),ct=Math.round(ct),ut=Math.round(ut),st=Math.round(st),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(lt,ct,ut,st)}this.renderer.framebuffer.clear(rt.red,rt.green,rt.blue,rt.alpha,et),at&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}RenderTextureSystem.extension={type:ExtensionType.RendererSystem,name:"renderTexture"};extensions$1.add(RenderTextureSystem);class GLProgram{constructor(_,et){this.program=_,this.uniformData=et,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function getAttributeData(_e,_){const et={},tt=_.getProgramParameter(_e,_.ACTIVE_ATTRIBUTES);for(let rt=0;rt<tt;rt++){const nt=_.getActiveAttrib(_e,rt);if(nt.name.startsWith("gl_"))continue;const it=mapType(_,nt.type),at={type:it,name:nt.name,size:mapSize(it),location:_.getAttribLocation(_e,nt.name)};et[nt.name]=at}return et}function getUniformData(_e,_){const et={},tt=_.getProgramParameter(_e,_.ACTIVE_UNIFORMS);for(let rt=0;rt<tt;rt++){const nt=_.getActiveUniform(_e,rt),it=nt.name.replace(/\[.*?\]$/,""),at=!!nt.name.match(/\[.*?\]$/),lt=mapType(_,nt.type);et[it]={name:it,index:rt,type:lt,size:nt.size,isArray:at,value:defaultValue(lt,nt.size)}}return et}function generateProgram(_e,_){var at;const et=compileShader(_e,_e.VERTEX_SHADER,_.vertexSrc),tt=compileShader(_e,_e.FRAGMENT_SHADER,_.fragmentSrc),rt=_e.createProgram();_e.attachShader(rt,et),_e.attachShader(rt,tt);const nt=(at=_.extra)==null?void 0:at.transformFeedbackVaryings;if(nt&&(typeof _e.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):_e.transformFeedbackVaryings(rt,nt.names,nt.bufferMode==="separate"?_e.SEPARATE_ATTRIBS:_e.INTERLEAVED_ATTRIBS)),_e.linkProgram(rt),_e.getProgramParameter(rt,_e.LINK_STATUS)||logProgramError(_e,rt,et,tt),_.attributeData=getAttributeData(rt,_e),_.uniformData=getUniformData(rt,_e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(_.vertexSrc)){const lt=Object.keys(_.attributeData);lt.sort((ct,ut)=>ct>ut?1:-1);for(let ct=0;ct<lt.length;ct++)_.attributeData[lt[ct]].location=ct,_e.bindAttribLocation(rt,ct,lt[ct]);_e.linkProgram(rt)}_e.deleteShader(et),_e.deleteShader(tt);const it={};for(const lt in _.uniformData){const ct=_.uniformData[lt];it[lt]={location:_e.getUniformLocation(rt,lt),value:defaultValue(ct.type,ct.size)}}return new GLProgram(rt,it)}function uboUpdate(_e,_,et,tt,rt){et.buffer.update(rt)}const UBO_TO_SINGLE_SETTERS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements(_e){const _=_e.map(nt=>({data:nt,offset:0,dataLen:0,dirty:0}));let et=0,tt=0,rt=0;for(let nt=0;nt<_.length;nt++){const it=_[nt];if(et=GLSL_TO_STD40_SIZE[it.data.type],it.data.size>1&&(et=Math.max(et,16)*it.data.size),it.dataLen=et,tt%et!==0&&tt<16){const at=tt%et%16;tt+=at,rt+=at}tt+et>16?(rt=Math.ceil(rt/16)*16,it.offset=rt,rt+=et,tt=et):(it.offset=rt,tt+=et,rt+=et)}return rt=Math.ceil(rt/16)*16,{uboElements:_,size:rt}}function getUBOData(_e,_){const et=[];for(const tt in _e)_[tt]&&et.push(_[tt]);return et.sort((tt,rt)=>tt.index-rt.index),et}function generateUniformBufferSync(_e,_){if(!_e.autoManage)return{size:0,syncFunc:uboUpdate};const et=getUBOData(_e.uniforms,_),{uboElements:tt,size:rt}=createUBOElements(et),nt=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let it=0;it<tt.length;it++){const at=tt[it],lt=_e.uniforms[at.data.name],ct=at.data.name;let ut=!1;for(let st=0;st<uniformParsers.length;st++){const ot=uniformParsers[st];if(ot.codeUbo&&ot.test(at.data,lt)){nt.push(`offset = ${at.offset/4};`,uniformParsers[st].codeUbo(at.data.name,lt)),ut=!0;break}}if(!ut)if(at.data.size>1){const st=mapSize(at.data.type),ot=Math.max(GLSL_TO_STD40_SIZE[at.data.type]/16,1),dt=st/ot,ft=(4-dt%4)%4;nt.push(`
                cv = ud.${ct}.value;
                v = uv.${ct};
                offset = ${at.offset/4};

                t = 0;

                for(var i=0; i < ${at.data.size*ot}; i++)
                {
                    for(var j = 0; j < ${dt}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${ft};
                }

                `)}else{const st=UBO_TO_SINGLE_SETTERS[at.data.type];nt.push(`
                cv = ud.${ct}.value;
                v = uv.${ct};
                offset = ${at.offset/4};
                ${st};
                `)}}return nt.push(`
       renderer.buffer.update(buffer);
    `),{size:rt,syncFunc:new Function("ud","uv","renderer","syncData","buffer",nt.join(`
`))}}let UID=0;const defaultSyncData={textureCount:0,uboCount:0};class ShaderSystem{constructor(_){this.destroyed=!1,this.renderer=_,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}systemCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(_){this.gl=_,this.reset()}bind(_,et){_.disposeRunner.add(this),_.uniforms.globals=this.renderer.globalUniforms;const tt=_.program,rt=tt.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(_);return this.shader=_,this.program!==tt&&(this.program=tt,this.gl.useProgram(rt.program)),et||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(_.uniformGroup,defaultSyncData)),rt}setUniforms(_){const et=this.shader.program,tt=et.glPrograms[this.renderer.CONTEXT_UID];et.syncUniforms(tt.uniformData,_,this.renderer)}syncUniformGroup(_,et){const tt=this.getGlProgram();(!_.static||_.dirtyId!==tt.uniformDirtyGroups[_.id])&&(tt.uniformDirtyGroups[_.id]=_.dirtyId,this.syncUniforms(_,tt,et))}syncUniforms(_,et,tt){(_.syncUniforms[this.shader.program.id]||this.createSyncGroups(_))(et.uniformData,_.uniforms,this.renderer,tt)}createSyncGroups(_){const et=this.getSignature(_,this.shader.program.uniformData,"u");return this.cache[et]||(this.cache[et]=generateUniformsSync(_,this.shader.program.uniformData)),_.syncUniforms[this.shader.program.id]=this.cache[et],_.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(_,et){const tt=this.getGlProgram();if(!_.static||_.dirtyId!==0||!tt.uniformGroups[_.id]){_.dirtyId=0;const rt=tt.uniformGroups[_.id]||this.createSyncBufferGroup(_,tt,et);_.buffer.update(),rt(tt.uniformData,_.uniforms,this.renderer,defaultSyncData,_.buffer)}this.renderer.buffer.bindBufferBase(_.buffer,tt.uniformBufferBindings[et])}createSyncBufferGroup(_,et,tt){const{gl:rt}=this.renderer;this.renderer.buffer.bind(_.buffer);const nt=this.gl.getUniformBlockIndex(et.program,tt);et.uniformBufferBindings[tt]=this.shader.uniformBindCount,rt.uniformBlockBinding(et.program,nt,this.shader.uniformBindCount),this.shader.uniformBindCount++;const it=this.getSignature(_,this.shader.program.uniformData,"ubo");let at=this._uboCache[it];if(at||(at=this._uboCache[it]=generateUniformBufferSync(_,this.shader.program.uniformData)),_.autoManage){const lt=new Float32Array(at.size/4);_.buffer.update(lt)}return et.uniformGroups[_.id]=at.syncFunc,et.uniformGroups[_.id]}getSignature(_,et,tt){const rt=_.uniforms,nt=[`${tt}-`];for(const it in rt)nt.push(it),et[it]&&nt.push(et[it].type);return nt.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(_){const et=this.gl,tt=_.program,rt=generateProgram(et,tt);return tt.glPrograms[this.renderer.CONTEXT_UID]=rt,rt}reset(){this.program=null,this.shader=null}disposeShader(_){this.shader===_&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ShaderSystem.extension={type:ExtensionType.RendererSystem,name:"shader"};extensions$1.add(ShaderSystem);class StartupSystem{constructor(_){this.renderer=_}run(_){const{renderer:et}=this;et.runners.init.emit(et.options),_.hello&&console.log(`PixiJS 7.4.2 - ${et.rendererLogId} - https://pixijs.com`),et.resize(et.screen.width,et.screen.height)}destroy(){}}StartupSystem.defaultOptions={hello:!1},StartupSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"startup"};extensions$1.add(StartupSystem);function mapWebGLBlendModesToPixi(_e,_=[]){return _[BLEND_MODES.NORMAL]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.ADD]=[_e.ONE,_e.ONE],_[BLEND_MODES.MULTIPLY]=[_e.DST_COLOR,_e.ONE_MINUS_SRC_ALPHA,_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.SCREEN]=[_e.ONE,_e.ONE_MINUS_SRC_COLOR,_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.OVERLAY]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.DARKEN]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.LIGHTEN]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.COLOR_DODGE]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.COLOR_BURN]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.HARD_LIGHT]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.SOFT_LIGHT]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.DIFFERENCE]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.EXCLUSION]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.HUE]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.SATURATION]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.COLOR]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.LUMINOSITY]=[_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.NONE]=[0,0],_[BLEND_MODES.NORMAL_NPM]=[_e.SRC_ALPHA,_e.ONE_MINUS_SRC_ALPHA,_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.ADD_NPM]=[_e.SRC_ALPHA,_e.ONE,_e.ONE,_e.ONE],_[BLEND_MODES.SCREEN_NPM]=[_e.SRC_ALPHA,_e.ONE_MINUS_SRC_COLOR,_e.ONE,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.SRC_IN]=[_e.DST_ALPHA,_e.ZERO],_[BLEND_MODES.SRC_OUT]=[_e.ONE_MINUS_DST_ALPHA,_e.ZERO],_[BLEND_MODES.SRC_ATOP]=[_e.DST_ALPHA,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.DST_OVER]=[_e.ONE_MINUS_DST_ALPHA,_e.ONE],_[BLEND_MODES.DST_IN]=[_e.ZERO,_e.SRC_ALPHA],_[BLEND_MODES.DST_OUT]=[_e.ZERO,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.DST_ATOP]=[_e.ONE_MINUS_DST_ALPHA,_e.SRC_ALPHA],_[BLEND_MODES.XOR]=[_e.ONE_MINUS_DST_ALPHA,_e.ONE_MINUS_SRC_ALPHA],_[BLEND_MODES.SUBTRACT]=[_e.ONE,_e.ONE,_e.ONE,_e.ONE,_e.FUNC_REVERSE_SUBTRACT,_e.FUNC_ADD],_}const BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,_StateSystem=class Lo{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}contextChange(_){this.gl=_,this.blendModes=mapWebGLBlendModesToPixi(_),this.set(this.defaultState),this.reset()}set(_){if(_=_||this.defaultState,this.stateId!==_.data){let et=this.stateId^_.data,tt=0;for(;et;)et&1&&this.map[tt].call(this,!!(_.data&1<<tt)),et=et>>1,tt++;this.stateId=_.data}for(let et=0;et<this.checks.length;et++)this.checks[et](this,_)}forceState(_){_=_||this.defaultState;for(let et=0;et<this.map.length;et++)this.map[et].call(this,!!(_.data&1<<et));for(let et=0;et<this.checks.length;et++)this.checks[et](this,_);this.stateId=_.data}setBlend(_){this.updateCheck(Lo.checkBlendMode,_),this.gl[_?"enable":"disable"](this.gl.BLEND)}setOffset(_){this.updateCheck(Lo.checkPolygonOffset,_),this.gl[_?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(_){this.gl[_?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(_){this.gl.depthMask(_)}setCullFace(_){this.gl[_?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(_){this.gl.frontFace(this.gl[_?"CW":"CCW"])}setBlendMode(_){if(_===this.blendMode)return;this.blendMode=_;const et=this.blendModes[_],tt=this.gl;et.length===2?tt.blendFunc(et[0],et[1]):tt.blendFuncSeparate(et[0],et[1],et[2],et[3]),et.length===6?(this._blendEq=!0,tt.blendEquationSeparate(et[4],et[5])):this._blendEq&&(this._blendEq=!1,tt.blendEquationSeparate(tt.FUNC_ADD,tt.FUNC_ADD))}setPolygonOffset(_,et){this.gl.polygonOffset(_,et)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(_,et){const tt=this.checks.indexOf(_);et&&tt===-1?this.checks.push(_):!et&&tt!==-1&&this.checks.splice(tt,1)}static checkBlendMode(_,et){_.setBlendMode(et.blendMode)}static checkPolygonOffset(_,et){_.setPolygonOffset(1,et.polygonOffset)}destroy(){this.gl=null}};_StateSystem.extension={type:ExtensionType.RendererSystem,name:"state"};let StateSystem=_StateSystem;extensions$1.add(StateSystem);class SystemManager extends EventEmitter{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(_){this.addRunners(..._.runners);const et=(_.priority??[]).filter(rt=>_.systems[rt]),tt=[...et,...Object.keys(_.systems).filter(rt=>!et.includes(rt))];for(const rt of tt)this.addSystem(_.systems[rt],rt)}addRunners(..._){_.forEach(et=>{this.runners[et]=new Runner(et)})}addSystem(_,et){const tt=new _(this);if(this[et])throw new Error(`Whoops! The name "${et}" is already in use`);this[et]=tt,this._systemsHash[et]=tt;for(const rt in this.runners)this.runners[rt].add(tt);return this}emitWithCustomOptions(_,et){const tt=Object.keys(this._systemsHash);_.items.forEach(rt=>{const nt=tt.find(it=>this._systemsHash[it]===rt);rt[_.name](et[nt])})}destroy(){Object.values(this.runners).forEach(_=>{_.destroy()}),this._systemsHash={}}}const _TextureGCSystem=class Oo{constructor(_){this.renderer=_,this.count=0,this.checkCount=0,this.maxIdle=Oo.defaultMaxIdle,this.checkCountMax=Oo.defaultCheckCountMax,this.mode=Oo.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const _=this.renderer.texture,et=_.managedTextures;let tt=!1;for(let rt=0;rt<et.length;rt++){const nt=et[rt];nt.resource&&this.count-nt.touched>this.maxIdle&&(_.destroyTexture(nt,!0),et[rt]=null,tt=!0)}if(tt){let rt=0;for(let nt=0;nt<et.length;nt++)et[nt]!==null&&(et[rt++]=et[nt]);et.length=rt}}unload(_){const et=this.renderer.texture,tt=_._texture;tt&&!tt.framebuffer&&et.destroyTexture(tt);for(let rt=_.children.length-1;rt>=0;rt--)this.unload(_.children[rt])}destroy(){this.renderer=null}};_TextureGCSystem.defaultMode=GC_MODES.AUTO,_TextureGCSystem.defaultMaxIdle=60*60,_TextureGCSystem.defaultCheckCountMax=60*10,_TextureGCSystem.extension={type:ExtensionType.RendererSystem,name:"textureGC"};let TextureGCSystem=_TextureGCSystem;extensions$1.add(TextureGCSystem);class GLTexture{constructor(_){this.texture=_,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES.UNSIGNED_BYTE,this.internalFormat=FORMATS.RGBA,this.samplerType=0}}function mapInternalFormatToSamplerType(_e){let _;return"WebGL2RenderingContext"in globalThis&&_e instanceof globalThis.WebGL2RenderingContext?_={[_e.RGB]:SAMPLER_TYPES.FLOAT,[_e.RGBA]:SAMPLER_TYPES.FLOAT,[_e.ALPHA]:SAMPLER_TYPES.FLOAT,[_e.LUMINANCE]:SAMPLER_TYPES.FLOAT,[_e.LUMINANCE_ALPHA]:SAMPLER_TYPES.FLOAT,[_e.R8]:SAMPLER_TYPES.FLOAT,[_e.R8_SNORM]:SAMPLER_TYPES.FLOAT,[_e.RG8]:SAMPLER_TYPES.FLOAT,[_e.RG8_SNORM]:SAMPLER_TYPES.FLOAT,[_e.RGB8]:SAMPLER_TYPES.FLOAT,[_e.RGB8_SNORM]:SAMPLER_TYPES.FLOAT,[_e.RGB565]:SAMPLER_TYPES.FLOAT,[_e.RGBA4]:SAMPLER_TYPES.FLOAT,[_e.RGB5_A1]:SAMPLER_TYPES.FLOAT,[_e.RGBA8]:SAMPLER_TYPES.FLOAT,[_e.RGBA8_SNORM]:SAMPLER_TYPES.FLOAT,[_e.RGB10_A2]:SAMPLER_TYPES.FLOAT,[_e.RGB10_A2UI]:SAMPLER_TYPES.FLOAT,[_e.SRGB8]:SAMPLER_TYPES.FLOAT,[_e.SRGB8_ALPHA8]:SAMPLER_TYPES.FLOAT,[_e.R16F]:SAMPLER_TYPES.FLOAT,[_e.RG16F]:SAMPLER_TYPES.FLOAT,[_e.RGB16F]:SAMPLER_TYPES.FLOAT,[_e.RGBA16F]:SAMPLER_TYPES.FLOAT,[_e.R32F]:SAMPLER_TYPES.FLOAT,[_e.RG32F]:SAMPLER_TYPES.FLOAT,[_e.RGB32F]:SAMPLER_TYPES.FLOAT,[_e.RGBA32F]:SAMPLER_TYPES.FLOAT,[_e.R11F_G11F_B10F]:SAMPLER_TYPES.FLOAT,[_e.RGB9_E5]:SAMPLER_TYPES.FLOAT,[_e.R8I]:SAMPLER_TYPES.INT,[_e.R8UI]:SAMPLER_TYPES.UINT,[_e.R16I]:SAMPLER_TYPES.INT,[_e.R16UI]:SAMPLER_TYPES.UINT,[_e.R32I]:SAMPLER_TYPES.INT,[_e.R32UI]:SAMPLER_TYPES.UINT,[_e.RG8I]:SAMPLER_TYPES.INT,[_e.RG8UI]:SAMPLER_TYPES.UINT,[_e.RG16I]:SAMPLER_TYPES.INT,[_e.RG16UI]:SAMPLER_TYPES.UINT,[_e.RG32I]:SAMPLER_TYPES.INT,[_e.RG32UI]:SAMPLER_TYPES.UINT,[_e.RGB8I]:SAMPLER_TYPES.INT,[_e.RGB8UI]:SAMPLER_TYPES.UINT,[_e.RGB16I]:SAMPLER_TYPES.INT,[_e.RGB16UI]:SAMPLER_TYPES.UINT,[_e.RGB32I]:SAMPLER_TYPES.INT,[_e.RGB32UI]:SAMPLER_TYPES.UINT,[_e.RGBA8I]:SAMPLER_TYPES.INT,[_e.RGBA8UI]:SAMPLER_TYPES.UINT,[_e.RGBA16I]:SAMPLER_TYPES.INT,[_e.RGBA16UI]:SAMPLER_TYPES.UINT,[_e.RGBA32I]:SAMPLER_TYPES.INT,[_e.RGBA32UI]:SAMPLER_TYPES.UINT,[_e.DEPTH_COMPONENT16]:SAMPLER_TYPES.FLOAT,[_e.DEPTH_COMPONENT24]:SAMPLER_TYPES.FLOAT,[_e.DEPTH_COMPONENT32F]:SAMPLER_TYPES.FLOAT,[_e.DEPTH_STENCIL]:SAMPLER_TYPES.FLOAT,[_e.DEPTH24_STENCIL8]:SAMPLER_TYPES.FLOAT,[_e.DEPTH32F_STENCIL8]:SAMPLER_TYPES.FLOAT}:_={[_e.RGB]:SAMPLER_TYPES.FLOAT,[_e.RGBA]:SAMPLER_TYPES.FLOAT,[_e.ALPHA]:SAMPLER_TYPES.FLOAT,[_e.LUMINANCE]:SAMPLER_TYPES.FLOAT,[_e.LUMINANCE_ALPHA]:SAMPLER_TYPES.FLOAT,[_e.DEPTH_STENCIL]:SAMPLER_TYPES.FLOAT},_}function mapTypeAndFormatToInternalFormat(_e){let _;return"WebGL2RenderingContext"in globalThis&&_e instanceof globalThis.WebGL2RenderingContext?_={[TYPES.UNSIGNED_BYTE]:{[FORMATS.RGBA]:_e.RGBA8,[FORMATS.RGB]:_e.RGB8,[FORMATS.RG]:_e.RG8,[FORMATS.RED]:_e.R8,[FORMATS.RGBA_INTEGER]:_e.RGBA8UI,[FORMATS.RGB_INTEGER]:_e.RGB8UI,[FORMATS.RG_INTEGER]:_e.RG8UI,[FORMATS.RED_INTEGER]:_e.R8UI,[FORMATS.ALPHA]:_e.ALPHA,[FORMATS.LUMINANCE]:_e.LUMINANCE,[FORMATS.LUMINANCE_ALPHA]:_e.LUMINANCE_ALPHA},[TYPES.BYTE]:{[FORMATS.RGBA]:_e.RGBA8_SNORM,[FORMATS.RGB]:_e.RGB8_SNORM,[FORMATS.RG]:_e.RG8_SNORM,[FORMATS.RED]:_e.R8_SNORM,[FORMATS.RGBA_INTEGER]:_e.RGBA8I,[FORMATS.RGB_INTEGER]:_e.RGB8I,[FORMATS.RG_INTEGER]:_e.RG8I,[FORMATS.RED_INTEGER]:_e.R8I},[TYPES.UNSIGNED_SHORT]:{[FORMATS.RGBA_INTEGER]:_e.RGBA16UI,[FORMATS.RGB_INTEGER]:_e.RGB16UI,[FORMATS.RG_INTEGER]:_e.RG16UI,[FORMATS.RED_INTEGER]:_e.R16UI,[FORMATS.DEPTH_COMPONENT]:_e.DEPTH_COMPONENT16},[TYPES.SHORT]:{[FORMATS.RGBA_INTEGER]:_e.RGBA16I,[FORMATS.RGB_INTEGER]:_e.RGB16I,[FORMATS.RG_INTEGER]:_e.RG16I,[FORMATS.RED_INTEGER]:_e.R16I},[TYPES.UNSIGNED_INT]:{[FORMATS.RGBA_INTEGER]:_e.RGBA32UI,[FORMATS.RGB_INTEGER]:_e.RGB32UI,[FORMATS.RG_INTEGER]:_e.RG32UI,[FORMATS.RED_INTEGER]:_e.R32UI,[FORMATS.DEPTH_COMPONENT]:_e.DEPTH_COMPONENT24},[TYPES.INT]:{[FORMATS.RGBA_INTEGER]:_e.RGBA32I,[FORMATS.RGB_INTEGER]:_e.RGB32I,[FORMATS.RG_INTEGER]:_e.RG32I,[FORMATS.RED_INTEGER]:_e.R32I},[TYPES.FLOAT]:{[FORMATS.RGBA]:_e.RGBA32F,[FORMATS.RGB]:_e.RGB32F,[FORMATS.RG]:_e.RG32F,[FORMATS.RED]:_e.R32F,[FORMATS.DEPTH_COMPONENT]:_e.DEPTH_COMPONENT32F},[TYPES.HALF_FLOAT]:{[FORMATS.RGBA]:_e.RGBA16F,[FORMATS.RGB]:_e.RGB16F,[FORMATS.RG]:_e.RG16F,[FORMATS.RED]:_e.R16F},[TYPES.UNSIGNED_SHORT_5_6_5]:{[FORMATS.RGB]:_e.RGB565},[TYPES.UNSIGNED_SHORT_4_4_4_4]:{[FORMATS.RGBA]:_e.RGBA4},[TYPES.UNSIGNED_SHORT_5_5_5_1]:{[FORMATS.RGBA]:_e.RGB5_A1},[TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[FORMATS.RGBA]:_e.RGB10_A2,[FORMATS.RGBA_INTEGER]:_e.RGB10_A2UI},[TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[FORMATS.RGB]:_e.R11F_G11F_B10F},[TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[FORMATS.RGB]:_e.RGB9_E5},[TYPES.UNSIGNED_INT_24_8]:{[FORMATS.DEPTH_STENCIL]:_e.DEPTH24_STENCIL8},[TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[FORMATS.DEPTH_STENCIL]:_e.DEPTH32F_STENCIL8}}:_={[TYPES.UNSIGNED_BYTE]:{[FORMATS.RGBA]:_e.RGBA,[FORMATS.RGB]:_e.RGB,[FORMATS.ALPHA]:_e.ALPHA,[FORMATS.LUMINANCE]:_e.LUMINANCE,[FORMATS.LUMINANCE_ALPHA]:_e.LUMINANCE_ALPHA},[TYPES.UNSIGNED_SHORT_5_6_5]:{[FORMATS.RGB]:_e.RGB},[TYPES.UNSIGNED_SHORT_4_4_4_4]:{[FORMATS.RGBA]:_e.RGBA},[TYPES.UNSIGNED_SHORT_5_5_5_1]:{[FORMATS.RGBA]:_e.RGBA}},_}class TextureSystem{constructor(_){this.renderer=_,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}contextChange(){const _=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(_),this.samplerTypes=mapInternalFormatToSamplerType(_);const et=_.getParameter(_.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=et;for(let rt=0;rt<et;rt++)this.boundTextures[rt]=null;this.emptyTextures={};const tt=new GLTexture(_.createTexture());_.bindTexture(_.TEXTURE_2D,tt.texture),_.texImage2D(_.TEXTURE_2D,0,_.RGBA,1,1,0,_.RGBA,_.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[_.TEXTURE_2D]=tt,this.emptyTextures[_.TEXTURE_CUBE_MAP]=new GLTexture(_.createTexture()),_.bindTexture(_.TEXTURE_CUBE_MAP,this.emptyTextures[_.TEXTURE_CUBE_MAP].texture);for(let rt=0;rt<6;rt++)_.texImage2D(_.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,_.RGBA,1,1,0,_.RGBA,_.UNSIGNED_BYTE,null);_.texParameteri(_.TEXTURE_CUBE_MAP,_.TEXTURE_MAG_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_CUBE_MAP,_.TEXTURE_MIN_FILTER,_.LINEAR);for(let rt=0;rt<this.boundTextures.length;rt++)this.bind(null,rt)}bind(_,et=0){const{gl:tt}=this;if(_=_==null?void 0:_.castToBaseTexture(),(_==null?void 0:_.valid)&&!_.parentTextureArray){_.touched=this.renderer.textureGC.count;const rt=_._glTextures[this.CONTEXT_UID]||this.initTexture(_);this.boundTextures[et]!==_&&(this.currentLocation!==et&&(this.currentLocation=et,tt.activeTexture(tt.TEXTURE0+et)),tt.bindTexture(_.target,rt.texture)),rt.dirtyId!==_.dirtyId?(this.currentLocation!==et&&(this.currentLocation=et,tt.activeTexture(tt.TEXTURE0+et)),this.updateTexture(_)):rt.dirtyStyleId!==_.dirtyStyleId&&this.updateTextureStyle(_),this.boundTextures[et]=_}else this.currentLocation!==et&&(this.currentLocation=et,tt.activeTexture(tt.TEXTURE0+et)),tt.bindTexture(tt.TEXTURE_2D,this.emptyTextures[tt.TEXTURE_2D].texture),this.boundTextures[et]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let _=0;_<this.boundTextures.length;_++)this.boundTextures[_]=this.unknownTexture}unbind(_){const{gl:et,boundTextures:tt}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let rt=0;rt<tt.length;rt++)tt[rt]===this.unknownTexture&&this.bind(null,rt)}for(let rt=0;rt<tt.length;rt++)tt[rt]===_&&(this.currentLocation!==rt&&(et.activeTexture(et.TEXTURE0+rt),this.currentLocation=rt),et.bindTexture(_.target,this.emptyTextures[_.target].texture),tt[rt]=null)}ensureSamplerType(_){const{boundTextures:et,hasIntegerTextures:tt,CONTEXT_UID:rt}=this;if(tt)for(let nt=_-1;nt>=0;--nt){const it=et[nt];it&&it._glTextures[rt].samplerType!==SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(it)}}initTexture(_){const et=new GLTexture(this.gl.createTexture());return et.dirtyId=-1,_._glTextures[this.CONTEXT_UID]=et,this.managedTextures.push(_),_.on("dispose",this.destroyTexture,this),et}initTextureType(_,et){var tt;et.internalFormat=((tt=this.internalFormats[_.type])==null?void 0:tt[_.format])??_.format,et.samplerType=this.samplerTypes[et.internalFormat]??SAMPLER_TYPES.FLOAT,this.webGLVersion===2&&_.type===TYPES.HALF_FLOAT?et.type=this.gl.HALF_FLOAT:et.type=_.type}updateTexture(_){var rt;const et=_._glTextures[this.CONTEXT_UID];if(!et)return;const tt=this.renderer;if(this.initTextureType(_,et),(rt=_.resource)==null?void 0:rt.upload(tt,_,et))et.samplerType!==SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const nt=_.realWidth,it=_.realHeight,at=tt.gl;(et.width!==nt||et.height!==it||et.dirtyId<0)&&(et.width=nt,et.height=it,at.texImage2D(_.target,0,et.internalFormat,nt,it,0,_.format,et.type,null))}_.dirtyStyleId!==et.dirtyStyleId&&this.updateTextureStyle(_),et.dirtyId=_.dirtyId}destroyTexture(_,et){const{gl:tt}=this;if(_=_.castToBaseTexture(),_._glTextures[this.CONTEXT_UID]&&(this.unbind(_),tt.deleteTexture(_._glTextures[this.CONTEXT_UID].texture),_.off("dispose",this.destroyTexture,this),delete _._glTextures[this.CONTEXT_UID],!et)){const rt=this.managedTextures.indexOf(_);rt!==-1&&removeItems(this.managedTextures,rt,1)}}updateTextureStyle(_){var tt;const et=_._glTextures[this.CONTEXT_UID];et&&((_.mipmap===MIPMAP_MODES.POW2||this.webGLVersion!==2)&&!_.isPowerOfTwo?et.mipmap=!1:et.mipmap=_.mipmap>=1,this.webGLVersion!==2&&!_.isPowerOfTwo?et.wrapMode=WRAP_MODES.CLAMP:et.wrapMode=_.wrapMode,(tt=_.resource)!=null&&tt.style(this.renderer,_,et)||this.setStyle(_,et),et.dirtyStyleId=_.dirtyStyleId)}setStyle(_,et){const tt=this.gl;if(et.mipmap&&_.mipmap!==MIPMAP_MODES.ON_MANUAL&&tt.generateMipmap(_.target),tt.texParameteri(_.target,tt.TEXTURE_WRAP_S,et.wrapMode),tt.texParameteri(_.target,tt.TEXTURE_WRAP_T,et.wrapMode),et.mipmap){tt.texParameteri(_.target,tt.TEXTURE_MIN_FILTER,_.scaleMode===SCALE_MODES.LINEAR?tt.LINEAR_MIPMAP_LINEAR:tt.NEAREST_MIPMAP_NEAREST);const rt=this.renderer.context.extensions.anisotropicFiltering;if(rt&&_.anisotropicLevel>0&&_.scaleMode===SCALE_MODES.LINEAR){const nt=Math.min(_.anisotropicLevel,tt.getParameter(rt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));tt.texParameterf(_.target,rt.TEXTURE_MAX_ANISOTROPY_EXT,nt)}}else tt.texParameteri(_.target,tt.TEXTURE_MIN_FILTER,_.scaleMode===SCALE_MODES.LINEAR?tt.LINEAR:tt.NEAREST);tt.texParameteri(_.target,tt.TEXTURE_MAG_FILTER,_.scaleMode===SCALE_MODES.LINEAR?tt.LINEAR:tt.NEAREST)}destroy(){this.renderer=null}}TextureSystem.extension={type:ExtensionType.RendererSystem,name:"texture"};extensions$1.add(TextureSystem);class TransformFeedbackSystem{constructor(_){this.renderer=_}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(_){const{gl:et,CONTEXT_UID:tt}=this,rt=_._glTransformFeedbacks[tt]||this.createGLTransformFeedback(_);et.bindTransformFeedback(et.TRANSFORM_FEEDBACK,rt)}unbind(){const{gl:_}=this;_.bindTransformFeedback(_.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(_,et){const{gl:tt,renderer:rt}=this;et&&rt.shader.bind(et),tt.beginTransformFeedback(_)}endTransformFeedback(){const{gl:_}=this;_.endTransformFeedback()}createGLTransformFeedback(_){const{gl:et,renderer:tt,CONTEXT_UID:rt}=this,nt=et.createTransformFeedback();_._glTransformFeedbacks[rt]=nt,et.bindTransformFeedback(et.TRANSFORM_FEEDBACK,nt);for(let it=0;it<_.buffers.length;it++){const at=_.buffers[it];at&&(tt.buffer.update(at),at._glBuffers[rt].refCount++,et.bindBufferBase(et.TRANSFORM_FEEDBACK_BUFFER,it,at._glBuffers[rt].buffer||null))}return et.bindTransformFeedback(et.TRANSFORM_FEEDBACK,null),_.disposeRunner.add(this),nt}disposeTransformFeedback(_,et){const tt=_._glTransformFeedbacks[this.CONTEXT_UID],rt=this.gl;_.disposeRunner.remove(this);const nt=this.renderer.buffer;if(nt)for(let it=0;it<_.buffers.length;it++){const at=_.buffers[it];if(!at)continue;const lt=at._glBuffers[this.CONTEXT_UID];lt&&(lt.refCount--,lt.refCount===0&&!et&&nt.dispose(at,et))}tt&&(et||rt.deleteTransformFeedback(tt),delete _._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}TransformFeedbackSystem.extension={type:ExtensionType.RendererSystem,name:"transformFeedback"};extensions$1.add(TransformFeedbackSystem);class ViewSystem{constructor(_){this.renderer=_}init(_){this.screen=new Rectangle(0,0,_.width,_.height),this.element=_.view||settings.ADAPTER.createCanvas(),this.resolution=_.resolution||settings.RESOLUTION,this.autoDensity=!!_.autoDensity}resizeView(_,et){this.element.width=Math.round(_*this.resolution),this.element.height=Math.round(et*this.resolution);const tt=this.element.width/this.resolution,rt=this.element.height/this.resolution;this.screen.width=tt,this.screen.height=rt,this.autoDensity&&(this.element.style.width=`${tt}px`,this.element.style.height=`${rt}px`),this.renderer.emit("resize",tt,rt),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(_){var et;_&&((et=this.element.parentNode)==null||et.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ViewSystem.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},ViewSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"_view"};extensions$1.add(ViewSystem);settings.PREFER_ENV=ENV.WEBGL2;settings.STRICT_TEXTURE_CACHE=!1;settings.RENDER_OPTIONS={...ContextSystem.defaultOptions,...BackgroundSystem.defaultOptions,...ViewSystem.defaultOptions,...StartupSystem.defaultOptions};Object.defineProperties(settings,{WRAP_MODE:{get(){return BaseTexture.defaultOptions.wrapMode},set(_e){deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),BaseTexture.defaultOptions.wrapMode=_e}},SCALE_MODE:{get(){return BaseTexture.defaultOptions.scaleMode},set(_e){deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),BaseTexture.defaultOptions.scaleMode=_e}},MIPMAP_TEXTURES:{get(){return BaseTexture.defaultOptions.mipmap},set(_e){deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),BaseTexture.defaultOptions.mipmap=_e}},ANISOTROPIC_LEVEL:{get(){return BaseTexture.defaultOptions.anisotropicLevel},set(_e){deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),BaseTexture.defaultOptions.anisotropicLevel=_e}},FILTER_RESOLUTION:{get(){return deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Filter.defaultResolution},set(_e){Filter.defaultResolution=_e}},FILTER_MULTISAMPLE:{get(){return deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Filter.defaultMultisample},set(_e){Filter.defaultMultisample=_e}},SPRITE_MAX_TEXTURES:{get(){return BatchRenderer.defaultMaxTextures},set(_e){deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),BatchRenderer.defaultMaxTextures=_e}},SPRITE_BATCH_SIZE:{get(){return BatchRenderer.defaultBatchSize},set(_e){deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),BatchRenderer.defaultBatchSize=_e}},CAN_UPLOAD_SAME_BUFFER:{get(){return BatchRenderer.canUploadSameBuffer},set(_e){deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),BatchRenderer.canUploadSameBuffer=_e}},GC_MODE:{get(){return TextureGCSystem.defaultMode},set(_e){deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),TextureGCSystem.defaultMode=_e}},GC_MAX_IDLE:{get(){return TextureGCSystem.defaultMaxIdle},set(_e){deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),TextureGCSystem.defaultMaxIdle=_e}},GC_MAX_CHECK_COUNT:{get(){return TextureGCSystem.defaultCheckCountMax},set(_e){deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),TextureGCSystem.defaultCheckCountMax=_e}},PRECISION_VERTEX:{get(){return Program.defaultVertexPrecision},set(_e){deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Program.defaultVertexPrecision=_e}},PRECISION_FRAGMENT:{get(){return Program.defaultFragmentPrecision},set(_e){deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Program.defaultFragmentPrecision=_e}}});var UPDATE_PRIORITY=(_e=>(_e[_e.INTERACTION=50]="INTERACTION",_e[_e.HIGH=25]="HIGH",_e[_e.NORMAL=0]="NORMAL",_e[_e.LOW=-25]="LOW",_e[_e.UTILITY=-50]="UTILITY",_e))(UPDATE_PRIORITY||{});class TickerListener{constructor(_,et=null,tt=0,rt=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=_,this.context=et,this.priority=tt,this.once=rt}match(_,et=null){return this.fn===_&&this.context===et}emit(_){this.fn&&(this.context?this.fn.call(this.context,_):this.fn(_));const et=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),et}connect(_){this.previous=_,_.next&&(_.next.previous=this),this.next=_.next,_.next=this}destroy(_=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const et=this.next;return this.next=_?null:et,this.previous=null,et}}const _Ticker=class Gn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/Gn.targetFPMS,this.elapsedMS=1/Gn.targetFPMS,this._tick=_=>{this._requestId=null,this.started&&(this.update(_),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(_,et,tt=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(_,et,tt))}addOnce(_,et,tt=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(_,et,tt,!0))}_addListener(_){let et=this._head.next,tt=this._head;if(!et)_.connect(tt);else{for(;et;){if(_.priority>et.priority){_.connect(tt);break}tt=et,et=et.next}_.previous||_.connect(tt)}return this._startIfPossible(),this}remove(_,et){let tt=this._head.next;for(;tt;)tt.match(_,et)?tt=tt.destroy():tt=tt.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let _=0,et=this._head;for(;et=et.next;)_++;return _}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let _=this._head.next;for(;_;)_=_.destroy(!0);this._head.destroy(),this._head=null}}update(_=performance.now()){let et;if(_>this.lastTime){if(et=this.elapsedMS=_-this.lastTime,et>this._maxElapsedMS&&(et=this._maxElapsedMS),et*=this.speed,this._minElapsedMS){const nt=_-this._lastFrame|0;if(nt<this._minElapsedMS)return;this._lastFrame=_-nt%this._minElapsedMS}this.deltaMS=et,this.deltaTime=this.deltaMS*Gn.targetFPMS;const tt=this._head;let rt=tt.next;for(;rt;)rt=rt.emit(this.deltaTime);tt.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=_}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(_){const et=Math.min(this.maxFPS,_),tt=Math.min(Math.max(0,et)/1e3,Gn.targetFPMS);this._maxElapsedMS=1/tt}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(_){if(_===0)this._minElapsedMS=0;else{const et=Math.max(this.minFPS,_);this._minElapsedMS=1/(et/1e3)}}static get shared(){if(!Gn._shared){const _=Gn._shared=new Gn;_.autoStart=!0,_._protected=!0}return Gn._shared}static get system(){if(!Gn._system){const _=Gn._system=new Gn;_.autoStart=!0,_._protected=!0}return Gn._system}};_Ticker.targetFPMS=.06;let Ticker=_Ticker;Object.defineProperties(settings,{TARGET_FPMS:{get(){return Ticker.targetFPMS},set(_e){deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ticker.targetFPMS=_e}}});class TickerPlugin{static init(_){_=Object.assign({autoStart:!0,sharedTicker:!1},_),Object.defineProperty(this,"ticker",{set(et){this._ticker&&this._ticker.remove(this.render,this),this._ticker=et,et&&et.add(this.render,this,UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=_.sharedTicker?Ticker.shared:new Ticker,_.autoStart&&this.start()}static destroy(){if(this._ticker){const _=this._ticker;this.ticker=null,_.destroy()}}}TickerPlugin.extension=ExtensionType.Application;extensions$1.add(TickerPlugin);const renderers=[];extensions$1.handleByList(ExtensionType.Renderer,renderers);function autoDetectRenderer(_e){for(const _ of renderers)if(_.test(_e))return new _(_e);throw new Error("Unable to auto-detect a suitable renderer.")}var $defaultVertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$defaultFilterVertex=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const defaultVertex=$defaultVertex,defaultFilterVertex=$defaultFilterVertex;class MultisampleSystem{constructor(_){this.renderer=_}contextChange(_){let et;if(this.renderer.context.webGLVersion===1){const tt=_.getParameter(_.FRAMEBUFFER_BINDING);_.bindFramebuffer(_.FRAMEBUFFER,null),et=_.getParameter(_.SAMPLES),_.bindFramebuffer(_.FRAMEBUFFER,tt)}else{const tt=_.getParameter(_.DRAW_FRAMEBUFFER_BINDING);_.bindFramebuffer(_.DRAW_FRAMEBUFFER,null),et=_.getParameter(_.SAMPLES),_.bindFramebuffer(_.DRAW_FRAMEBUFFER,tt)}et>=MSAA_QUALITY.HIGH?this.multisample=MSAA_QUALITY.HIGH:et>=MSAA_QUALITY.MEDIUM?this.multisample=MSAA_QUALITY.MEDIUM:et>=MSAA_QUALITY.LOW?this.multisample=MSAA_QUALITY.LOW:this.multisample=MSAA_QUALITY.NONE}destroy(){}}MultisampleSystem.extension={type:ExtensionType.RendererSystem,name:"_multisample"};extensions$1.add(MultisampleSystem);class GLBuffer{constructor(_){this.buffer=_||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class BufferSystem{constructor(_){this.renderer=_,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(_){const{gl:et,CONTEXT_UID:tt}=this,rt=_._glBuffers[tt]||this.createGLBuffer(_);et.bindBuffer(_.type,rt.buffer)}unbind(_){const{gl:et}=this;et.bindBuffer(_,null)}bindBufferBase(_,et){const{gl:tt,CONTEXT_UID:rt}=this;if(this.boundBufferBases[et]!==_){const nt=_._glBuffers[rt]||this.createGLBuffer(_);this.boundBufferBases[et]=_,tt.bindBufferBase(tt.UNIFORM_BUFFER,et,nt.buffer)}}bindBufferRange(_,et,tt){const{gl:rt,CONTEXT_UID:nt}=this;tt=tt||0;const it=_._glBuffers[nt]||this.createGLBuffer(_);rt.bindBufferRange(rt.UNIFORM_BUFFER,et||0,it.buffer,tt*256,256)}update(_){const{gl:et,CONTEXT_UID:tt}=this,rt=_._glBuffers[tt]||this.createGLBuffer(_);if(_._updateID!==rt.updateID)if(rt.updateID=_._updateID,et.bindBuffer(_.type,rt.buffer),rt.byteLength>=_.data.byteLength)et.bufferSubData(_.type,0,_.data);else{const nt=_.static?et.STATIC_DRAW:et.DYNAMIC_DRAW;rt.byteLength=_.data.byteLength,et.bufferData(_.type,_.data,nt)}}dispose(_,et){if(!this.managedBuffers[_.id])return;delete this.managedBuffers[_.id];const tt=_._glBuffers[this.CONTEXT_UID],rt=this.gl;_.disposeRunner.remove(this),tt&&(et||rt.deleteBuffer(tt.buffer),delete _._glBuffers[this.CONTEXT_UID])}disposeAll(_){const et=Object.keys(this.managedBuffers);for(let tt=0;tt<et.length;tt++)this.dispose(this.managedBuffers[et[tt]],_)}createGLBuffer(_){const{CONTEXT_UID:et,gl:tt}=this;return _._glBuffers[et]=new GLBuffer(tt.createBuffer()),this.managedBuffers[_.id]=_,_.disposeRunner.add(this),_._glBuffers[et]}}BufferSystem.extension={type:ExtensionType.RendererSystem,name:"buffer"};extensions$1.add(BufferSystem);class ObjectRendererSystem{constructor(_){this.renderer=_}render(_,et){const tt=this.renderer;let rt,nt,it,at;if(et&&(rt=et.renderTexture,nt=et.clear,it=et.transform,at=et.skipUpdateTransform),this.renderingToScreen=!rt,tt.runners.prerender.emit(),tt.emit("prerender"),tt.projection.transform=it,!tt.context.isLost){if(rt||(this.lastObjectRendered=_),!at){const lt=_.enableTempParent();_.updateTransform(),_.disableTempParent(lt)}tt.renderTexture.bind(rt),tt.batch.currentRenderer.start(),(nt??tt.background.clearBeforeRender)&&tt.renderTexture.clear(),_.render(tt),tt.batch.currentRenderer.flush(),rt&&(et.blit&&tt.framebuffer.blit(),rt.baseTexture.update()),tt.runners.postrender.emit(),tt.projection.transform=null,tt.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ObjectRendererSystem.extension={type:ExtensionType.RendererSystem,name:"objectRenderer"};extensions$1.add(ObjectRendererSystem);const _Renderer=class Fo extends SystemManager{constructor(_){super(),this.type=RENDERER_TYPE.WEBGL,_=Object.assign({},settings.RENDER_OPTIONS,_),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0);const et={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Fo.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(et),"useContextAlpha"in _&&(deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),_.premultipliedAlpha=_.useContextAlpha&&_.useContextAlpha!=="notMultiplied",_.backgroundAlpha=_.useContextAlpha===!1?1:_.backgroundAlpha),this._plugin.rendererPlugins=Fo.__plugins,this.options=_,this.startup.run(this.options)}static test(_){return _!=null&&_.forceCanvas?!1:isWebGLSupported()}render(_,et){this.objectRenderer.render(_,et)}resize(_,et){this._view.resizeView(_,et)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(_=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:_}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(_){this._view.resolution=_,this.runners.resolutionChange.emit(_)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(_){deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=_}get backgroundAlpha(){return deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(_){deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=_}get powerPreference(){return deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(_,et){return this.textureGenerator.generateTexture(_,et)}};_Renderer.extension={type:ExtensionType.Renderer,priority:1},_Renderer.__plugins={},_Renderer.__systems={};let Renderer=_Renderer;extensions$1.handleByMap(ExtensionType.RendererPlugin,Renderer.__plugins);extensions$1.handleByMap(ExtensionType.RendererSystem,Renderer.__systems);extensions$1.add(Renderer);class AbstractMultiResource extends Resource{constructor(_,et){const{width:tt,height:rt}=et||{};super(tt,rt),this.items=[],this.itemDirtyIds=[];for(let nt=0;nt<_;nt++){const it=new BaseTexture;this.items.push(it),this.itemDirtyIds.push(-2)}this.length=_,this._load=null,this.baseTexture=null}initFromArray(_,et){for(let tt=0;tt<this.length;tt++)_[tt]&&(_[tt].castToBaseTexture?this.addBaseTextureAt(_[tt].castToBaseTexture(),tt):_[tt]instanceof Resource?this.addResourceAt(_[tt],tt):this.addResourceAt(autoDetectResource(_[tt],et),tt))}dispose(){for(let _=0,et=this.length;_<et;_++)this.items[_].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(_,et){if(!this.items[et])throw new Error(`Index ${et} is out of bounds`);return _.valid&&!this.valid&&this.resize(_.width,_.height),this.items[et].setResource(_),this}bind(_){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(_);for(let et=0;et<this.length;et++)this.items[et].parentTextureArray=_,this.items[et].on("update",_.update,_)}unbind(_){super.unbind(_);for(let et=0;et<this.length;et++)this.items[et].parentTextureArray=null,this.items[et].off("update",_.update,_)}load(){if(this._load)return this._load;const _=this.items.map(et=>et.resource).filter(et=>et).map(et=>et.load());return this._load=Promise.all(_).then(()=>{const{realWidth:et,realHeight:tt}=this.items[0];return this.resize(et,tt),this.update(),Promise.resolve(this)}),this._load}}class ArrayResource extends AbstractMultiResource{constructor(_,et){const{width:tt,height:rt}=et||{};let nt,it;Array.isArray(_)?(nt=_,it=_.length):it=_,super(it,{width:tt,height:rt}),nt&&this.initFromArray(nt,et)}addBaseTextureAt(_,et){if(_.resource)this.addResourceAt(_.resource,et);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(_){super.bind(_),_.target=TARGETS.TEXTURE_2D_ARRAY}upload(_,et,tt){const{length:rt,itemDirtyIds:nt,items:it}=this,{gl:at}=_;tt.dirtyId<0&&at.texImage3D(at.TEXTURE_2D_ARRAY,0,tt.internalFormat,this._width,this._height,rt,0,et.format,tt.type,null);for(let lt=0;lt<rt;lt++){const ct=it[lt];nt[lt]<ct.dirtyId&&(nt[lt]=ct.dirtyId,ct.valid&&at.texSubImage3D(at.TEXTURE_2D_ARRAY,0,0,0,lt,ct.resource.width,ct.resource.height,1,et.format,tt.type,ct.resource.source))}return!0}}class CanvasResource extends BaseImageResource{constructor(_){super(_)}static test(_){const{OffscreenCanvas:et}=globalThis;return et&&_ instanceof et?!0:globalThis.HTMLCanvasElement&&_ instanceof HTMLCanvasElement}}const _CubeResource=class Co extends AbstractMultiResource{constructor(_,et){const{width:tt,height:rt,autoLoad:nt,linkBaseTexture:it}=et||{};if(_&&_.length!==Co.SIDES)throw new Error(`Invalid length. Got ${_.length}, expected 6`);super(6,{width:tt,height:rt});for(let at=0;at<Co.SIDES;at++)this.items[at].target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+at;this.linkBaseTexture=it!==!1,_&&this.initFromArray(_,et),nt!==!1&&this.load()}bind(_){super.bind(_),_.target=TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(_,et,tt){if(tt===void 0&&(tt=this.linkBaseTexture),!this.items[et])throw new Error(`Index ${et} is out of bounds`);if(!this.linkBaseTexture||_.parentTextureArray||Object.keys(_._glTextures).length>0)if(_.resource)this.addResourceAt(_.resource,et);else throw new Error("CubeResource does not support copying of renderTexture.");else _.target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+et,_.parentTextureArray=this.baseTexture,this.items[et]=_;return _.valid&&!this.valid&&this.resize(_.realWidth,_.realHeight),this.items[et]=_,this}upload(_,et,tt){const rt=this.itemDirtyIds;for(let nt=0;nt<Co.SIDES;nt++){const it=this.items[nt];(rt[nt]<it.dirtyId||tt.dirtyId<et.dirtyId)&&(it.valid&&it.resource?(it.resource.upload(_,it,tt),rt[nt]=it.dirtyId):rt[nt]<-1&&(_.gl.texImage2D(it.target,0,tt.internalFormat,et.realWidth,et.realHeight,0,et.format,tt.type,null),rt[nt]=-1))}return!0}static test(_){return Array.isArray(_)&&_.length===Co.SIDES}};_CubeResource.SIDES=6;let CubeResource=_CubeResource;class ImageBitmapResource extends BaseImageResource{constructor(_,et){et=et||{};let tt,rt,nt;typeof _=="string"?(tt=ImageBitmapResource.EMPTY,rt=_,nt=!0):(tt=_,rt=null,nt=!1),super(tt),this.url=rt,this.crossOrigin=et.crossOrigin??!0,this.alphaMode=typeof et.alphaMode=="number"?et.alphaMode:null,this.ownsImageBitmap=et.ownsImageBitmap??nt,this._load=null,et.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(_,et)=>{if(this.url===null){_(this);return}try{const tt=await settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const rt=await tt.blob();if(this.destroyed)return;const nt=await createImageBitmap(rt,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed){nt.close();return}this.source=nt,this.update(),_(this)}catch(tt){if(this.destroyed)return;et(tt),this.onError.emit(tt)}}),this._load)}upload(_,et,tt){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(et.alphaMode=this.alphaMode),super.upload(_,et,tt)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(_){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof _=="string"||_ instanceof ImageBitmap)}static get EMPTY(){return ImageBitmapResource._EMPTY=ImageBitmapResource._EMPTY??settings.ADAPTER.createCanvas(0,0),ImageBitmapResource._EMPTY}}const _SVGResource=class Mo extends BaseImageResource{constructor(_,et){et=et||{},super(settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=_,this.scale=et.scale||1,this._overrideWidth=et.width,this._overrideHeight=et.height,this._resolve=null,this._crossorigin=et.crossorigin,this._load=null,et.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(_=>{if(this._resolve=()=>{this.update(),_(this)},Mo.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const _=new Image;BaseImageResource.crossOrigin(_,this.svg,this._crossorigin),_.src=this.svg,_.onerror=et=>{this._resolve&&(_.onerror=null,this.onError.emit(et))},_.onload=()=>{if(!this._resolve)return;const et=_.width,tt=_.height;if(!et||!tt)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let rt=et*this.scale,nt=tt*this.scale;(this._overrideWidth||this._overrideHeight)&&(rt=this._overrideWidth||this._overrideHeight/tt*et,nt=this._overrideHeight||this._overrideWidth/et*tt),rt=Math.round(rt),nt=Math.round(nt);const it=this.source;it.width=rt,it.height=nt,it._pixiId=`canvas_${uid$1()}`,it.getContext("2d").drawImage(_,0,0,et,tt,0,0,rt,nt),this._resolve(),this._resolve=null}}static getSize(_){const et=Mo.SVG_SIZE.exec(_),tt={};return et&&(tt[et[1]]=Math.round(parseFloat(et[3])),tt[et[5]]=Math.round(parseFloat(et[7]))),tt}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(_,et){return et==="svg"||typeof _=="string"&&_.startsWith("data:image/svg+xml")||typeof _=="string"&&Mo.SVG_XML.test(_)}};_SVGResource.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,_SVGResource.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let SVGResource=_SVGResource;class VideoFrameResource extends BaseImageResource{constructor(_){super(_)}static test(_){return!!globalThis.VideoFrame&&_ instanceof globalThis.VideoFrame}}const _VideoResource=class jo extends BaseImageResource{constructor(_,et){if(et=et||{},!(_ instanceof HTMLVideoElement)){const tt=document.createElement("video");et.autoLoad!==!1&&tt.setAttribute("preload","auto"),et.playsinline!==!1&&(tt.setAttribute("webkit-playsinline",""),tt.setAttribute("playsinline","")),et.muted===!0&&(tt.setAttribute("muted",""),tt.muted=!0),et.loop===!0&&tt.setAttribute("loop",""),et.autoPlay!==!1&&tt.setAttribute("autoplay",""),typeof _=="string"&&(_=[_]);const rt=_[0].src||_[0];BaseImageResource.crossOrigin(tt,rt,et.crossorigin);for(let nt=0;nt<_.length;++nt){const it=document.createElement("source");let{src:at,mime:lt}=_[nt];if(at=at||_[nt],at.startsWith("data:"))lt=at.slice(5,at.indexOf(";"));else if(!at.startsWith("blob:")){const ct=at.split("?").shift().toLowerCase(),ut=ct.slice(ct.lastIndexOf(".")+1);lt=lt||jo.MIME_TYPES[ut]||`video/${ut}`}it.src=at,lt&&(it.type=lt),tt.appendChild(it)}_=tt}super(_),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=et.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=et.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),et.autoLoad!==!1&&this.load()}update(_=0){if(!this.destroyed){if(this._updateFPS){const et=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-et)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const _=this.source;return(_.readyState===_.HAVE_ENOUGH_DATA||_.readyState===_.HAVE_FUTURE_DATA)&&_.width&&_.height&&(_.complete=!0),_.addEventListener("play",this._onPlayStart),_.addEventListener("pause",this._onPlayStop),_.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(_.addEventListener("canplay",this._onCanPlay),_.addEventListener("canplaythrough",this._onCanPlay),_.addEventListener("error",this._onError,!0)),this._load=new Promise((et,tt)=>{this.valid?et(this):(this._resolve=et,this._reject=tt,_.load())}),this._load}_onError(_){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(_),this._reject&&(this._reject(_),this._reject=null,this._resolve=null)}_isSourcePlaying(){const _=this.source;return!_.paused&&!_.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const _=this.source;_.removeEventListener("canplay",this._onCanPlay),_.removeEventListener("canplaythrough",this._onCanPlay);const et=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!et&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&_.play()}dispose(){this._configureAutoUpdate();const _=this.source;_&&(_.removeEventListener("play",this._onPlayStart),_.removeEventListener("pause",this._onPlayStop),_.removeEventListener("seeked",this._onSeeked),_.removeEventListener("canplay",this._onCanPlay),_.removeEventListener("canplaythrough",this._onCanPlay),_.removeEventListener("error",this._onError,!0),_.pause(),_.src="",_.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(_){_!==this._autoUpdate&&(this._autoUpdate=_,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(_){_!==this._updateFPS&&(this._updateFPS=_,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(_,et){return globalThis.HTMLVideoElement&&_ instanceof HTMLVideoElement||jo.TYPES.includes(et)}};_VideoResource.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],_VideoResource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VideoResource=_VideoResource;INSTALLED.push(ImageBitmapResource,ImageResource,CanvasResource,VideoResource,VideoFrameResource,SVGResource,BufferResource,CubeResource,ArrayResource);class Bounds{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(_){return this.minX>this.maxX||this.minY>this.maxY?Rectangle.EMPTY:(_=_||new Rectangle(0,0,1,1),_.x=this.minX,_.y=this.minY,_.width=this.maxX-this.minX,_.height=this.maxY-this.minY,_)}addPoint(_){this.minX=Math.min(this.minX,_.x),this.maxX=Math.max(this.maxX,_.x),this.minY=Math.min(this.minY,_.y),this.maxY=Math.max(this.maxY,_.y)}addPointMatrix(_,et){const{a:tt,b:rt,c:nt,d:it,tx:at,ty:lt}=_,ct=tt*et.x+nt*et.y+at,ut=rt*et.x+it*et.y+lt;this.minX=Math.min(this.minX,ct),this.maxX=Math.max(this.maxX,ct),this.minY=Math.min(this.minY,ut),this.maxY=Math.max(this.maxY,ut)}addQuad(_){let et=this.minX,tt=this.minY,rt=this.maxX,nt=this.maxY,it=_[0],at=_[1];et=it<et?it:et,tt=at<tt?at:tt,rt=it>rt?it:rt,nt=at>nt?at:nt,it=_[2],at=_[3],et=it<et?it:et,tt=at<tt?at:tt,rt=it>rt?it:rt,nt=at>nt?at:nt,it=_[4],at=_[5],et=it<et?it:et,tt=at<tt?at:tt,rt=it>rt?it:rt,nt=at>nt?at:nt,it=_[6],at=_[7],et=it<et?it:et,tt=at<tt?at:tt,rt=it>rt?it:rt,nt=at>nt?at:nt,this.minX=et,this.minY=tt,this.maxX=rt,this.maxY=nt}addFrame(_,et,tt,rt,nt){this.addFrameMatrix(_.worldTransform,et,tt,rt,nt)}addFrameMatrix(_,et,tt,rt,nt){const it=_.a,at=_.b,lt=_.c,ct=_.d,ut=_.tx,st=_.ty;let ot=this.minX,dt=this.minY,ft=this.maxX,ht=this.maxY,mt=it*et+lt*tt+ut,gt=at*et+ct*tt+st;ot=mt<ot?mt:ot,dt=gt<dt?gt:dt,ft=mt>ft?mt:ft,ht=gt>ht?gt:ht,mt=it*rt+lt*tt+ut,gt=at*rt+ct*tt+st,ot=mt<ot?mt:ot,dt=gt<dt?gt:dt,ft=mt>ft?mt:ft,ht=gt>ht?gt:ht,mt=it*et+lt*nt+ut,gt=at*et+ct*nt+st,ot=mt<ot?mt:ot,dt=gt<dt?gt:dt,ft=mt>ft?mt:ft,ht=gt>ht?gt:ht,mt=it*rt+lt*nt+ut,gt=at*rt+ct*nt+st,ot=mt<ot?mt:ot,dt=gt<dt?gt:dt,ft=mt>ft?mt:ft,ht=gt>ht?gt:ht,this.minX=ot,this.minY=dt,this.maxX=ft,this.maxY=ht}addVertexData(_,et,tt){let rt=this.minX,nt=this.minY,it=this.maxX,at=this.maxY;for(let lt=et;lt<tt;lt+=2){const ct=_[lt],ut=_[lt+1];rt=ct<rt?ct:rt,nt=ut<nt?ut:nt,it=ct>it?ct:it,at=ut>at?ut:at}this.minX=rt,this.minY=nt,this.maxX=it,this.maxY=at}addVertices(_,et,tt,rt){this.addVerticesMatrix(_.worldTransform,et,tt,rt)}addVerticesMatrix(_,et,tt,rt,nt=0,it=nt){const at=_.a,lt=_.b,ct=_.c,ut=_.d,st=_.tx,ot=_.ty;let dt=this.minX,ft=this.minY,ht=this.maxX,mt=this.maxY;for(let gt=tt;gt<rt;gt+=2){const yt=et[gt],vt=et[gt+1],bt=at*yt+ct*vt+st,xt=ut*vt+lt*yt+ot;dt=Math.min(dt,bt-nt),ht=Math.max(ht,bt+nt),ft=Math.min(ft,xt-it),mt=Math.max(mt,xt+it)}this.minX=dt,this.minY=ft,this.maxX=ht,this.maxY=mt}addBounds(_){const et=this.minX,tt=this.minY,rt=this.maxX,nt=this.maxY;this.minX=_.minX<et?_.minX:et,this.minY=_.minY<tt?_.minY:tt,this.maxX=_.maxX>rt?_.maxX:rt,this.maxY=_.maxY>nt?_.maxY:nt}addBoundsMask(_,et){const tt=_.minX>et.minX?_.minX:et.minX,rt=_.minY>et.minY?_.minY:et.minY,nt=_.maxX<et.maxX?_.maxX:et.maxX,it=_.maxY<et.maxY?_.maxY:et.maxY;if(tt<=nt&&rt<=it){const at=this.minX,lt=this.minY,ct=this.maxX,ut=this.maxY;this.minX=tt<at?tt:at,this.minY=rt<lt?rt:lt,this.maxX=nt>ct?nt:ct,this.maxY=it>ut?it:ut}}addBoundsMatrix(_,et){this.addFrameMatrix(et,_.minX,_.minY,_.maxX,_.maxY)}addBoundsArea(_,et){const tt=_.minX>et.x?_.minX:et.x,rt=_.minY>et.y?_.minY:et.y,nt=_.maxX<et.x+et.width?_.maxX:et.x+et.width,it=_.maxY<et.y+et.height?_.maxY:et.y+et.height;if(tt<=nt&&rt<=it){const at=this.minX,lt=this.minY,ct=this.maxX,ut=this.maxY;this.minX=tt<at?tt:at,this.minY=rt<lt?rt:lt,this.maxX=nt>ct?nt:ct,this.maxY=it>ut?it:ut}}pad(_=0,et=_){this.isEmpty()||(this.minX-=_,this.maxX+=_,this.minY-=et,this.maxY+=et)}addFramePad(_,et,tt,rt,nt,it){_-=nt,et-=it,tt+=nt,rt+=it,this.minX=this.minX<_?this.minX:_,this.maxX=this.maxX>tt?this.maxX:tt,this.minY=this.minY<et?this.minY:et,this.maxY=this.maxY>rt?this.maxY:rt}}class DisplayObject extends EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(_){const et=Object.keys(_);for(let tt=0;tt<et.length;++tt){const rt=et[tt];Object.defineProperty(DisplayObject.prototype,rt,Object.getOwnPropertyDescriptor(_,rt))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(_,et){return _||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),et||(this._boundsRect||(this._boundsRect=new Rectangle),et=this._boundsRect),this._bounds.getRectangle(et)}getLocalBounds(_){_||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),_=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);const et=this.transform,tt=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(tt==null?void 0:tt.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const rt=this._bounds,nt=this._boundsID;this._bounds=this._localBounds;const it=this.getBounds(!1,_);return this.parent=tt,this.transform=et,this._bounds=rt,this._bounds.updateID+=this._boundsID-nt,it}toGlobal(_,et,tt=!1){return tt||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(_,et)}toLocal(_,et,tt,rt){return et&&(_=et.toGlobal(_,tt,rt)),rt||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(_,tt)}setParent(_){if(!_||!_.addChild)throw new Error("setParent: Argument must be a Container");return _.addChild(this),_}removeFromParent(){var _;(_=this.parent)==null||_.removeChild(this)}setTransform(_=0,et=0,tt=1,rt=1,nt=0,it=0,at=0,lt=0,ct=0){return this.position.x=_,this.position.y=et,this.scale.x=tt||1,this.scale.y=rt||1,this.rotation=nt,this.skew.x=it,this.skew.y=at,this.pivot.x=lt,this.pivot.y=ct,this}destroy(_){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent}enableTempParent(){const _=this.parent;return this.parent=this._tempDisplayObjectParent,_}disableTempParent(_){this.parent=_}get x(){return this.position.x}set x(_){this.transform.position.x=_}get y(){return this.position.y}set y(_){this.transform.position.y=_}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(_){this.transform.position.copyFrom(_)}get scale(){return this.transform.scale}set scale(_){this.transform.scale.copyFrom(_)}get pivot(){return this.transform.pivot}set pivot(_){this.transform.pivot.copyFrom(_)}get skew(){return this.transform.skew}set skew(_){this.transform.skew.copyFrom(_)}get rotation(){return this.transform.rotation}set rotation(_){this.transform.rotation=_}get angle(){return this.transform.rotation*RAD_TO_DEG}set angle(_){this.transform.rotation=_*DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(_){this._zIndex!==_&&(this._zIndex=_,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let _=this;do{if(!_.visible)return!1;_=_.parent}while(_);return!0}get mask(){return this._mask}set mask(_){if(this._mask!==_){if(this._mask){const et=this._mask.isMaskData?this._mask.maskObject:this._mask;et&&(et._maskRefCount--,et._maskRefCount===0&&(et.renderable=!0,et.isMask=!1))}if(this._mask=_,this._mask){const et=this._mask.isMaskData?this._mask.maskObject:this._mask;et&&(et._maskRefCount===0&&(et.renderable=!1,et.isMask=!0),et._maskRefCount++)}}}}class TemporaryDisplayObject extends DisplayObject{constructor(){super(...arguments),this.sortDirty=null}}DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;const tempMatrix$2=new Matrix;function sortChildren(_e,_){return _e.zIndex===_.zIndex?_e._lastSortedIndex-_._lastSortedIndex:_e.zIndex-_.zIndex}const _Container=class Bo extends DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=Bo.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(_){}addChild(..._){if(_.length>1)for(let et=0;et<_.length;et++)this.addChild(_[et]);else{const et=_[0];et.parent&&et.parent.removeChild(et),et.parent=this,this.sortDirty=!0,et.transform._parentID=-1,this.children.push(et),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",et,this,this.children.length-1),et.emit("added",this)}return _[0]}addChildAt(_,et){if(et<0||et>this.children.length)throw new Error(`${_}addChildAt: The index ${et} supplied is out of bounds ${this.children.length}`);return _.parent&&_.parent.removeChild(_),_.parent=this,this.sortDirty=!0,_.transform._parentID=-1,this.children.splice(et,0,_),this._boundsID++,this.onChildrenChange(et),_.emit("added",this),this.emit("childAdded",_,this,et),_}swapChildren(_,et){if(_===et)return;const tt=this.getChildIndex(_),rt=this.getChildIndex(et);this.children[tt]=et,this.children[rt]=_,this.onChildrenChange(tt<rt?tt:rt)}getChildIndex(_){const et=this.children.indexOf(_);if(et===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return et}setChildIndex(_,et){if(et<0||et>=this.children.length)throw new Error(`The index ${et} supplied is out of bounds ${this.children.length}`);const tt=this.getChildIndex(_);removeItems(this.children,tt,1),this.children.splice(et,0,_),this.onChildrenChange(et)}getChildAt(_){if(_<0||_>=this.children.length)throw new Error(`getChildAt: Index (${_}) does not exist.`);return this.children[_]}removeChild(..._){if(_.length>1)for(let et=0;et<_.length;et++)this.removeChild(_[et]);else{const et=_[0],tt=this.children.indexOf(et);if(tt===-1)return null;et.parent=null,et.transform._parentID=-1,removeItems(this.children,tt,1),this._boundsID++,this.onChildrenChange(tt),et.emit("removed",this),this.emit("childRemoved",et,this,tt)}return _[0]}removeChildAt(_){const et=this.getChildAt(_);return et.parent=null,et.transform._parentID=-1,removeItems(this.children,_,1),this._boundsID++,this.onChildrenChange(_),et.emit("removed",this),this.emit("childRemoved",et,this,_),et}removeChildren(_=0,et=this.children.length){const tt=_,rt=et,nt=rt-tt;let it;if(nt>0&&nt<=rt){it=this.children.splice(tt,nt);for(let at=0;at<it.length;++at)it[at].parent=null,it[at].transform&&(it[at].transform._parentID=-1);this._boundsID++,this.onChildrenChange(_);for(let at=0;at<it.length;++at)it[at].emit("removed",this),this.emit("childRemoved",it[at],this,at);return it}else if(nt===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let _=!1;for(let et=0,tt=this.children.length;et<tt;++et){const rt=this.children[et];rt._lastSortedIndex=et,!_&&rt.zIndex!==0&&(_=!0)}_&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let _=0,et=this.children.length;_<et;++_){const tt=this.children[_];tt.visible&&tt.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let _=0;_<this.children.length;_++){const et=this.children[_];if(!(!et.visible||!et.renderable))if(et.calculateBounds(),et._mask){const tt=et._mask.isMaskData?et._mask.maskObject:et._mask;tt?(tt.calculateBounds(),this._bounds.addBoundsMask(et._bounds,tt._bounds)):this._bounds.addBounds(et._bounds)}else et.filterArea?this._bounds.addBoundsArea(et._bounds,et.filterArea):this._bounds.addBounds(et._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(_,et=!1){const tt=super.getLocalBounds(_);if(!et)for(let rt=0,nt=this.children.length;rt<nt;++rt){const it=this.children[rt];it.visible&&it.updateTransform()}return tt}_calculateBounds(){}_renderWithCulling(_){const et=_.renderTexture.sourceFrame;if(!(et.width>0&&et.height>0))return;let tt,rt;this.cullArea?(tt=this.cullArea,rt=this.worldTransform):this._render!==Bo.prototype._render&&(tt=this.getBounds(!0));const nt=_.projection.transform;if(nt&&(rt?(rt=tempMatrix$2.copyFrom(rt),rt.prepend(nt)):rt=nt),tt&&et.intersects(tt,rt))this._render(_);else if(this.cullArea)return;for(let it=0,at=this.children.length;it<at;++it){const lt=this.children[it],ct=lt.cullable;lt.cullable=ct||!this.cullArea,lt.render(_),lt.cullable=ct}}render(_){var et;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(et=this.filters)!=null&&et.length)this.renderAdvanced(_);else if(this.cullable)this._renderWithCulling(_);else{this._render(_);for(let tt=0,rt=this.children.length;tt<rt;++tt)this.children[tt].render(_)}}renderAdvanced(_){var nt,it,at;const et=this.filters,tt=this._mask;if(et){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let lt=0;lt<et.length;lt++)et[lt].enabled&&this._enabledFilters.push(et[lt])}const rt=et&&((nt=this._enabledFilters)==null?void 0:nt.length)||tt&&(!tt.isMaskData||tt.enabled&&(tt.autoDetect||tt.type!==MASK_TYPES.NONE));if(rt&&_.batch.flush(),et&&((it=this._enabledFilters)!=null&&it.length)&&_.filter.push(this,this._enabledFilters),tt&&_.mask.push(this,this._mask),this.cullable)this._renderWithCulling(_);else{this._render(_);for(let lt=0,ct=this.children.length;lt<ct;++lt)this.children[lt].render(_)}rt&&_.batch.flush(),tt&&_.mask.pop(this),et&&((at=this._enabledFilters)!=null&&at.length)&&_.filter.pop()}_render(_){}destroy(_){super.destroy(),this.sortDirty=!1;const et=typeof _=="boolean"?_:_==null?void 0:_.children,tt=this.removeChildren(0,this.children.length);if(et)for(let rt=0;rt<tt.length;++rt)tt[rt].destroy(_)}get width(){return this.scale.x*this.getLocalBounds().width}set width(_){const et=this.getLocalBounds().width;et!==0?this.scale.x=_/et:this.scale.x=1,this._width=_}get height(){return this.scale.y*this.getLocalBounds().height}set height(_){const et=this.getLocalBounds().height;et!==0?this.scale.y=_/et:this.scale.y=1,this._height=_}};_Container.defaultSortableChildren=!1;let Container=_Container;Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;Object.defineProperties(settings,{SORTABLE_CHILDREN:{get(){return Container.defaultSortableChildren},set(_e){deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Container.defaultSortableChildren=_e}}});const tempPoint$2=new Point,indices=new Uint16Array([0,1,2,0,2,3]);class Sprite extends Container{constructor(_){super(),this._anchor=new ObservablePoint(this._onAnchorUpdate,this,_?_.defaultAnchor.x:0,_?_.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Color(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=_||Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=indices,this.pluginName="batch",this.isSprite=!0,this._roundPixels=settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const _=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===_._updateID)return;this._textureID!==_._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=_._updateID;const et=this.transform.worldTransform,tt=et.a,rt=et.b,nt=et.c,it=et.d,at=et.tx,lt=et.ty,ct=this.vertexData,ut=_.trim,st=_.orig,ot=this._anchor;let dt=0,ft=0,ht=0,mt=0;if(ut?(ft=ut.x-ot._x*st.width,dt=ft+ut.width,mt=ut.y-ot._y*st.height,ht=mt+ut.height):(ft=-ot._x*st.width,dt=ft+st.width,mt=-ot._y*st.height,ht=mt+st.height),ct[0]=tt*ft+nt*mt+at,ct[1]=it*mt+rt*ft+lt,ct[2]=tt*dt+nt*mt+at,ct[3]=it*mt+rt*dt+lt,ct[4]=tt*dt+nt*ht+at,ct[5]=it*ht+rt*dt+lt,ct[6]=tt*ft+nt*ht+at,ct[7]=it*ht+rt*ft+lt,this._roundPixels){const gt=settings.RESOLUTION;for(let yt=0;yt<ct.length;++yt)ct[yt]=Math.round(ct[yt]*gt)/gt}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const _=this._texture,et=this.vertexTrimmedData,tt=_.orig,rt=this._anchor,nt=this.transform.worldTransform,it=nt.a,at=nt.b,lt=nt.c,ct=nt.d,ut=nt.tx,st=nt.ty,ot=-rt._x*tt.width,dt=ot+tt.width,ft=-rt._y*tt.height,ht=ft+tt.height;if(et[0]=it*ot+lt*ft+ut,et[1]=ct*ft+at*ot+st,et[2]=it*dt+lt*ft+ut,et[3]=ct*ft+at*dt+st,et[4]=it*dt+lt*ht+ut,et[5]=ct*ht+at*dt+st,et[6]=it*ot+lt*ht+ut,et[7]=ct*ht+at*ot+st,this._roundPixels){const mt=settings.RESOLUTION;for(let gt=0;gt<et.length;++gt)et[gt]=Math.round(et[gt]*mt)/mt}}_render(_){this.calculateVertices(),_.batch.setObjectRenderer(_.plugins[this.pluginName]),_.plugins[this.pluginName].render(this)}_calculateBounds(){const _=this._texture.trim,et=this._texture.orig;!_||_.width===et.width&&_.height===et.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(_){return this.children.length===0?(this._localBounds||(this._localBounds=new Bounds),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),_||(this._localBoundsRect||(this._localBoundsRect=new Rectangle),_=this._localBoundsRect),this._localBounds.getRectangle(_)):super.getLocalBounds.call(this,_)}containsPoint(_){this.worldTransform.applyInverse(_,tempPoint$2);const et=this._texture.orig.width,tt=this._texture.orig.height,rt=-et*this.anchor.x;let nt=0;return tempPoint$2.x>=rt&&tempPoint$2.x<rt+et&&(nt=-tt*this.anchor.y,tempPoint$2.y>=nt&&tempPoint$2.y<nt+tt)}destroy(_){if(super.destroy(_),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof _=="boolean"?_:_==null?void 0:_.texture){const et=typeof _=="boolean"?_:_==null?void 0:_.baseTexture;this._texture.destroy(!!et)}this._texture=null}static from(_,et){const tt=_ instanceof Texture?_:Texture.from(_,et);return new Sprite(tt)}set roundPixels(_){this._roundPixels!==_&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=_}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(_){const et=sign(this.scale.x)||1;this.scale.x=et*_/this._texture.orig.width,this._width=_}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(_){const et=sign(this.scale.y)||1;this.scale.y=et*_/this._texture.orig.height,this._height=_}get anchor(){return this._anchor}set anchor(_){this._anchor.copyFrom(_)}get tint(){return this._tintColor.value}set tint(_){this._tintColor.setValue(_),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(_){this._texture!==_&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=_||Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,_&&(_.baseTexture.valid?this._onTextureUpdate():_.once("update",this._onTextureUpdate,this)))}}const _tempMatrix=new Matrix;DisplayObject.prototype._cacheAsBitmap=!1;DisplayObject.prototype._cacheData=null;DisplayObject.prototype._cacheAsBitmapResolution=null;DisplayObject.prototype._cacheAsBitmapMultisample=null;class CacheData{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(_e){_e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=_e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(_e){_e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=_e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(_e){if(this._cacheAsBitmap===_e)return;this._cacheAsBitmap=_e;let _;_e?(this._cacheData||(this._cacheData=new CacheData),_=this._cacheData,_.originalRender=this.render,_.originalRenderCanvas=this.renderCanvas,_.originalUpdateTransform=this.updateTransform,_.originalCalculateBounds=this.calculateBounds,_.originalGetLocalBounds=this.getLocalBounds,_.originalDestroy=this.destroy,_.originalContainsPoint=this.containsPoint,_.originalMask=this._mask,_.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(_=this._cacheData,_.sprite&&this._destroyCachedDisplayObject(),this.render=_.originalRender,this.renderCanvas=_.originalRenderCanvas,this.calculateBounds=_.originalCalculateBounds,this.getLocalBounds=_.originalGetLocalBounds,this.destroy=_.originalDestroy,this.updateTransform=_.originalUpdateTransform,this.containsPoint=_.originalContainsPoint,this._mask=_.originalMask,this.filterArea=_.originalFilterArea)}}});DisplayObject.prototype._renderCached=function(_e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(_e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(_e))};DisplayObject.prototype._initCachedDisplayObject=function(_e){var ot,dt;if((ot=this._cacheData)!=null&&ot.sprite)return;const _=this.alpha;this.alpha=1,_e.batch.flush();const et=this.getLocalBounds(new Rectangle,!0);if((dt=this.filters)!=null&&dt.length){const ft=this.filters[0].padding;et.pad(ft)}const tt=this.cacheAsBitmapResolution||_e.resolution;et.ceil(tt),et.width=Math.max(et.width,1/tt),et.height=Math.max(et.height,1/tt);const rt=_e.renderTexture.current,nt=_e.renderTexture.sourceFrame.clone(),it=_e.renderTexture.destinationFrame.clone(),at=_e.projection.transform,lt=RenderTexture.create({width:et.width,height:et.height,resolution:tt,multisample:this.cacheAsBitmapMultisample??_e.multisample}),ct=`cacheAsBitmap_${uid$1()}`;this._cacheData.textureCacheId=ct,BaseTexture.addToCache(lt.baseTexture,ct),Texture.addToCache(lt,ct);const ut=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-et.x,-et.y);this.render=this._cacheData.originalRender,_e.render(this,{renderTexture:lt,clear:!0,transform:ut,skipUpdateTransform:!1}),_e.framebuffer.blit(),_e.projection.transform=at,_e.renderTexture.bind(rt,nt,it),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=_;const st=new Sprite(lt);st.transform.worldTransform=this.transform.worldTransform,st.anchor.x=-(et.x/et.width),st.anchor.y=-(et.y/et.height),st.alpha=_,st._bounds=this._bounds,this._cacheData.sprite=st,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=st.containsPoint.bind(st)};DisplayObject.prototype._renderCachedCanvas=function(_e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(_e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(_e))};DisplayObject.prototype._initCachedDisplayObjectCanvas=function(_e){var ut;if((ut=this._cacheData)!=null&&ut.sprite)return;const _=this.getLocalBounds(new Rectangle,!0),et=this.alpha;this.alpha=1;const tt=_e.canvasContext.activeContext,rt=_e._projTransform,nt=this.cacheAsBitmapResolution||_e.resolution;_.ceil(nt),_.width=Math.max(_.width,1/nt),_.height=Math.max(_.height,1/nt);const it=RenderTexture.create({width:_.width,height:_.height,resolution:nt}),at=`cacheAsBitmap_${uid$1()}`;this._cacheData.textureCacheId=at,BaseTexture.addToCache(it.baseTexture,at),Texture.addToCache(it,at);const lt=_tempMatrix;this.transform.localTransform.copyTo(lt),lt.invert(),lt.tx-=_.x,lt.ty-=_.y,this.renderCanvas=this._cacheData.originalRenderCanvas,_e.render(this,{renderTexture:it,clear:!0,transform:lt,skipUpdateTransform:!1}),_e.canvasContext.activeContext=tt,_e._projTransform=rt,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=et;const ct=new Sprite(it);ct.transform.worldTransform=this.transform.worldTransform,ct.anchor.x=-(_.x/_.width),ct.anchor.y=-(_.y/_.height),ct.alpha=et,ct._bounds=this._bounds,this._cacheData.sprite=ct,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=_e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=ct.containsPoint.bind(ct)};DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};DisplayObject.prototype._cacheAsBitmapDestroy=function(_e){this.cacheAsBitmap=!1,this.destroy(_e)};DisplayObject.prototype.name=null;Container.prototype.getChildByName=function(_e,_){for(let et=0,tt=this.children.length;et<tt;et++)if(this.children[et].name===_e)return this.children[et];if(_)for(let et=0,tt=this.children.length;et<tt;et++){const rt=this.children[et];if(!rt.getChildByName)continue;const nt=rt.getChildByName(_e,!0);if(nt)return nt}return null};DisplayObject.prototype.getGlobalPosition=function(_e=new Point,_=!1){return this.parent?this.parent.toGlobal(this.position,_e,_):(_e.x=this.position.x,_e.y=this.position.y),_e};var fragment$6=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class AlphaFilter extends Filter{constructor(_=1){super(defaultVertex,fragment$6,{uAlpha:1}),this.alpha=_}get alpha(){return this.uniforms.uAlpha}set alpha(_){this.uniforms.uAlpha=_}}const GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function generateBlurFragSource(_e){const _=GAUSSIAN_VALUES[_e],et=_.length;let tt=fragTemplate,rt="";const nt="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let it;for(let at=0;at<_e;at++){let lt=nt.replace("%index%",at.toString());it=at,at>=et&&(it=_e-at-1),lt=lt.replace("%value%",_[it].toString()),rt+=lt,rt+=`
`}return tt=tt.replace("%blur%",rt),tt=tt.replace("%size%",_e.toString()),tt}const vertTemplate=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function generateBlurVertSource(_e,_){const et=Math.ceil(_e/2);let tt=vertTemplate,rt="",nt;_?nt="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":nt="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let it=0;it<_e;it++){let at=nt.replace("%index%",it.toString());at=at.replace("%sampleIndex%",`${it-(et-1)}.0`),rt+=at,rt+=`
`}return tt=tt.replace("%blur%",rt),tt=tt.replace("%size%",_e.toString()),tt}class BlurFilterPass extends Filter{constructor(_,et=8,tt=4,rt=Filter.defaultResolution,nt=5){const it=generateBlurVertSource(nt,_),at=generateBlurFragSource(nt);super(it,at),this.horizontal=_,this.resolution=rt,this._quality=0,this.quality=tt,this.blur=et}apply(_,et,tt,rt){if(tt?this.horizontal?this.uniforms.strength=1/tt.width*(tt.width/et.width):this.uniforms.strength=1/tt.height*(tt.height/et.height):this.horizontal?this.uniforms.strength=1/_.renderer.width*(_.renderer.width/et.width):this.uniforms.strength=1/_.renderer.height*(_.renderer.height/et.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)_.applyFilter(this,et,tt,rt);else{const nt=_.getFilterTexture(),it=_.renderer;let at=et,lt=nt;this.state.blend=!1,_.applyFilter(this,at,lt,CLEAR_MODES.CLEAR);for(let ct=1;ct<this.passes-1;ct++){_.bindAndClear(at,CLEAR_MODES.BLIT),this.uniforms.uSampler=lt;const ut=lt;lt=at,at=ut,it.shader.bind(this),it.geometry.draw(5)}this.state.blend=!0,_.applyFilter(this,lt,tt,rt),_.returnFilterTexture(nt)}}get blur(){return this.strength}set blur(_){this.padding=1+Math.abs(_)*2,this.strength=_}get quality(){return this._quality}set quality(_){this._quality=_,this.passes=_}}class BlurFilter extends Filter{constructor(_=8,et=4,tt=Filter.defaultResolution,rt=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new BlurFilterPass(!0,_,et,tt,rt),this.blurYFilter=new BlurFilterPass(!1,_,et,tt,rt),this.resolution=tt,this.quality=et,this.blur=_,this.repeatEdgePixels=!1}apply(_,et,tt,rt){const nt=Math.abs(this.blurXFilter.strength),it=Math.abs(this.blurYFilter.strength);if(nt&&it){const at=_.getFilterTexture();this.blurXFilter.apply(_,et,at,CLEAR_MODES.CLEAR),this.blurYFilter.apply(_,at,tt,rt),_.returnFilterTexture(at)}else it?this.blurYFilter.apply(_,et,tt,rt):this.blurXFilter.apply(_,et,tt,rt)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(_){this.blurXFilter.blur=this.blurYFilter.blur=_,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(_){this.blurXFilter.quality=this.blurYFilter.quality=_}get blurX(){return this.blurXFilter.blur}set blurX(_){this.blurXFilter.blur=_,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(_){this.blurYFilter.blur=_,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(_){this.blurYFilter.blendMode=_}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(_){this._repeatEdgePixels=_,this.updatePadding()}}var fragment$5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class ColorMatrixFilter extends Filter{constructor(){const _={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(defaultFilterVertex,fragment$5,_),this.alpha=1}_loadMatrix(_,et=!1){let tt=_;et&&(this._multiply(tt,this.uniforms.m,_),tt=this._colorMatrix(tt)),this.uniforms.m=tt}_multiply(_,et,tt){return _[0]=et[0]*tt[0]+et[1]*tt[5]+et[2]*tt[10]+et[3]*tt[15],_[1]=et[0]*tt[1]+et[1]*tt[6]+et[2]*tt[11]+et[3]*tt[16],_[2]=et[0]*tt[2]+et[1]*tt[7]+et[2]*tt[12]+et[3]*tt[17],_[3]=et[0]*tt[3]+et[1]*tt[8]+et[2]*tt[13]+et[3]*tt[18],_[4]=et[0]*tt[4]+et[1]*tt[9]+et[2]*tt[14]+et[3]*tt[19]+et[4],_[5]=et[5]*tt[0]+et[6]*tt[5]+et[7]*tt[10]+et[8]*tt[15],_[6]=et[5]*tt[1]+et[6]*tt[6]+et[7]*tt[11]+et[8]*tt[16],_[7]=et[5]*tt[2]+et[6]*tt[7]+et[7]*tt[12]+et[8]*tt[17],_[8]=et[5]*tt[3]+et[6]*tt[8]+et[7]*tt[13]+et[8]*tt[18],_[9]=et[5]*tt[4]+et[6]*tt[9]+et[7]*tt[14]+et[8]*tt[19]+et[9],_[10]=et[10]*tt[0]+et[11]*tt[5]+et[12]*tt[10]+et[13]*tt[15],_[11]=et[10]*tt[1]+et[11]*tt[6]+et[12]*tt[11]+et[13]*tt[16],_[12]=et[10]*tt[2]+et[11]*tt[7]+et[12]*tt[12]+et[13]*tt[17],_[13]=et[10]*tt[3]+et[11]*tt[8]+et[12]*tt[13]+et[13]*tt[18],_[14]=et[10]*tt[4]+et[11]*tt[9]+et[12]*tt[14]+et[13]*tt[19]+et[14],_[15]=et[15]*tt[0]+et[16]*tt[5]+et[17]*tt[10]+et[18]*tt[15],_[16]=et[15]*tt[1]+et[16]*tt[6]+et[17]*tt[11]+et[18]*tt[16],_[17]=et[15]*tt[2]+et[16]*tt[7]+et[17]*tt[12]+et[18]*tt[17],_[18]=et[15]*tt[3]+et[16]*tt[8]+et[17]*tt[13]+et[18]*tt[18],_[19]=et[15]*tt[4]+et[16]*tt[9]+et[17]*tt[14]+et[18]*tt[19]+et[19],_}_colorMatrix(_){const et=new Float32Array(_);return et[4]/=255,et[9]/=255,et[14]/=255,et[19]/=255,et}brightness(_,et){const tt=[_,0,0,0,0,0,_,0,0,0,0,0,_,0,0,0,0,0,1,0];this._loadMatrix(tt,et)}tint(_,et){const[tt,rt,nt]=Color.shared.setValue(_).toArray(),it=[tt,0,0,0,0,0,rt,0,0,0,0,0,nt,0,0,0,0,0,1,0];this._loadMatrix(it,et)}greyscale(_,et){const tt=[_,_,_,0,0,_,_,_,0,0,_,_,_,0,0,0,0,0,1,0];this._loadMatrix(tt,et)}blackAndWhite(_){const et=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(et,_)}hue(_,et){_=(_||0)/180*Math.PI;const tt=Math.cos(_),rt=Math.sin(_),nt=Math.sqrt,it=1/3,at=nt(it),lt=tt+(1-tt)*it,ct=it*(1-tt)-at*rt,ut=it*(1-tt)+at*rt,st=it*(1-tt)+at*rt,ot=tt+it*(1-tt),dt=it*(1-tt)-at*rt,ft=it*(1-tt)-at*rt,ht=it*(1-tt)+at*rt,mt=tt+it*(1-tt),gt=[lt,ct,ut,0,0,st,ot,dt,0,0,ft,ht,mt,0,0,0,0,0,1,0];this._loadMatrix(gt,et)}contrast(_,et){const tt=(_||0)+1,rt=-.5*(tt-1),nt=[tt,0,0,0,rt,0,tt,0,0,rt,0,0,tt,0,rt,0,0,0,1,0];this._loadMatrix(nt,et)}saturate(_=0,et){const tt=_*2/3+1,rt=(tt-1)*-.5,nt=[tt,rt,rt,0,0,rt,tt,rt,0,0,rt,rt,tt,0,0,0,0,0,1,0];this._loadMatrix(nt,et)}desaturate(){this.saturate(-1)}negative(_){const et=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(et,_)}sepia(_){const et=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(et,_)}technicolor(_){const et=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(et,_)}polaroid(_){const et=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(et,_)}toBGR(_){const et=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(et,_)}kodachrome(_){const et=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(et,_)}browni(_){const et=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(et,_)}vintage(_){const et=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(et,_)}colorTone(_,et,tt,rt,nt){_=_||.2,et=et||.15,tt=tt||16770432,rt=rt||3375104;const it=Color.shared,[at,lt,ct]=it.setValue(tt).toArray(),[ut,st,ot]=it.setValue(rt).toArray(),dt=[.3,.59,.11,0,0,at,lt,ct,_,0,ut,st,ot,et,0,at-ut,lt-st,ct-ot,0,0];this._loadMatrix(dt,nt)}night(_,et){_=_||.1;const tt=[_*-2,-_,0,0,0,-_,0,_,0,0,0,_,_*2,0,0,0,0,0,1,0];this._loadMatrix(tt,et)}predator(_,et){const tt=[11.224130630493164*_,-4.794486999511719*_,-2.8746118545532227*_,0*_,.40342438220977783*_,-3.6330697536468506*_,9.193157196044922*_,-2.951810836791992*_,0*_,-1.316135048866272*_,-3.2184197902679443*_,-4.2375030517578125*_,7.476448059082031*_,0*_,.8044459223747253*_,0,0,0,1,0];this._loadMatrix(tt,et)}lsd(_){const et=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(et,_)}reset(){const _=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(_,!1)}get matrix(){return this.uniforms.m}set matrix(_){this.uniforms.m=_}get alpha(){return this.uniforms.uAlpha}set alpha(_){this.uniforms.uAlpha=_}}ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;var fragment$4=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vertex$3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class DisplacementFilter extends Filter{constructor(_,et){const tt=new Matrix;_.renderable=!1,super(vertex$3,fragment$4,{mapSampler:_._texture,filterMatrix:tt,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=_,this.maskMatrix=tt,et==null&&(et=20),this.scale=new Point(et,et)}apply(_,et,tt,rt){this.uniforms.filterMatrix=_.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const nt=this.maskSprite.worldTransform,it=Math.sqrt(nt.a*nt.a+nt.b*nt.b),at=Math.sqrt(nt.c*nt.c+nt.d*nt.d);it!==0&&at!==0&&(this.uniforms.rotation[0]=nt.a/it,this.uniforms.rotation[1]=nt.b/it,this.uniforms.rotation[2]=nt.c/at,this.uniforms.rotation[3]=nt.d/at),_.applyFilter(this,et,tt,rt)}get map(){return this.uniforms.mapSampler}set map(_){this.uniforms.mapSampler=_}}var fragment$3=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,vertex$2=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class FXAAFilter extends Filter{constructor(){super(vertex$2,fragment$3)}}var fragment$2=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class NoiseFilter extends Filter{constructor(_=.5,et=Math.random()){super(defaultFilterVertex,fragment$2,{uNoise:0,uSeed:0}),this.noise=_,this.seed=et}get noise(){return this.uniforms.uNoise}set noise(_){this.uniforms.uNoise=_}get seed(){return this.uniforms.uSeed}set seed(_){this.uniforms.uSeed=_}}const filters={AlphaFilter,BlurFilter,BlurFilterPass,ColorMatrixFilter,DisplacementFilter,FXAAFilter,NoiseFilter};Object.entries(filters).forEach(([_e,_])=>{Object.defineProperty(filters,_e,{get(){return deprecation("7.1.0",`filters.${_e} has moved to ${_e}`),_}})});class EventsTickerClass{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(_){this.removeTickerListener(),this.events=_,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(_){this._pauseUpdate=_}addTickerListener(){this.tickerAdded||!this.domElement||(Ticker.system.add(this.tickerUpdate,this,UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const _=this.events.rootPointerEvent;this.events.supportsTouchEvents&&_.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:_.clientX,clientY:_.clientY}))}tickerUpdate(_){this._deltaTime+=_,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const EventsTicker=new EventsTickerClass;class FederatedEvent{constructor(_){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=FederatedEvent.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Point,this.page=new Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=_}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(_,et,tt){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(_,et,tt,rt,nt){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class FederatedMouseEvent extends FederatedEvent{constructor(){super(...arguments),this.client=new Point,this.movement=new Point,this.offset=new Point,this.global=new Point,this.screen=new Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(_,et,tt){return _.worldTransform.applyInverse(tt||this.global,et)}getModifierState(_){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(_)}initMouseEvent(_,et,tt,rt,nt,it,at,lt,ct,ut,st,ot,dt,ft,ht){throw new Error("Method not implemented.")}}class FederatedPointerEvent extends FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class FederatedWheelEvent extends FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}FederatedWheelEvent.DOM_DELTA_PIXEL=0,FederatedWheelEvent.DOM_DELTA_LINE=1,FederatedWheelEvent.DOM_DELTA_PAGE=2;const PROPAGATION_LIMIT=2048,tempHitLocation=new Point,tempLocalMapping=new Point;class EventBoundary{constructor(_){this.dispatch=new EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=_,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(_,et){this.mappingTable[_]||(this.mappingTable[_]=[]),this.mappingTable[_].push({fn:et,priority:0}),this.mappingTable[_].sort((tt,rt)=>tt.priority-rt.priority)}dispatchEvent(_,et){_.propagationStopped=!1,_.propagationImmediatelyStopped=!1,this.propagate(_,et),this.dispatch.emit(et||_.type,_)}mapEvent(_){if(!this.rootTarget)return;const et=this.mappingTable[_.type];if(et)for(let tt=0,rt=et.length;tt<rt;tt++)et[tt].fn(_);else console.warn(`[EventBoundary]: Event mapping not defined for ${_.type}`)}hitTest(_,et){EventsTicker.pauseUpdate=!0;const tt=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",rt=this[tt](this.rootTarget,this.rootTarget.eventMode,tempHitLocation.set(_,et),this.hitTestFn,this.hitPruneFn);return rt&&rt[0]}propagate(_,et){if(!_.target)return;const tt=_.composedPath();_.eventPhase=_.CAPTURING_PHASE;for(let rt=0,nt=tt.length-1;rt<nt;rt++)if(_.currentTarget=tt[rt],this.notifyTarget(_,et),_.propagationStopped||_.propagationImmediatelyStopped)return;if(_.eventPhase=_.AT_TARGET,_.currentTarget=_.target,this.notifyTarget(_,et),!(_.propagationStopped||_.propagationImmediatelyStopped)){_.eventPhase=_.BUBBLING_PHASE;for(let rt=tt.length-2;rt>=0;rt--)if(_.currentTarget=tt[rt],this.notifyTarget(_,et),_.propagationStopped||_.propagationImmediatelyStopped)return}}all(_,et,tt=this._allInteractiveElements){if(tt.length===0)return;_.eventPhase=_.BUBBLING_PHASE;const rt=Array.isArray(et)?et:[et];for(let nt=tt.length-1;nt>=0;nt--)rt.forEach(it=>{_.currentTarget=tt[nt],this.notifyTarget(_,it)})}propagationPath(_){const et=[_];for(let tt=0;tt<PROPAGATION_LIMIT&&_!==this.rootTarget;tt++){if(!_.parent)throw new Error("Cannot find propagation path to disconnected target");et.push(_.parent),_=_.parent}return et.reverse(),et}hitTestMoveRecursive(_,et,tt,rt,nt,it=!1){let at=!1;if(this._interactivePrune(_))return null;if((_.eventMode==="dynamic"||et==="dynamic")&&(EventsTicker.pauseUpdate=!1),_.interactiveChildren&&_.children){const ut=_.children;for(let st=ut.length-1;st>=0;st--){const ot=ut[st],dt=this.hitTestMoveRecursive(ot,this._isInteractive(et)?et:ot.eventMode,tt,rt,nt,it||nt(_,tt));if(dt){if(dt.length>0&&!dt[dt.length-1].parent)continue;const ft=_.isInteractive();(dt.length>0||ft)&&(ft&&this._allInteractiveElements.push(_),dt.push(_)),this._hitElements.length===0&&(this._hitElements=dt),at=!0}}}const lt=this._isInteractive(et),ct=_.isInteractive();return lt&&ct&&this._allInteractiveElements.push(_),it||this._hitElements.length>0?null:at?this._hitElements:lt&&!nt(_,tt)&&rt(_,tt)?ct?[_]:[]:null}hitTestRecursive(_,et,tt,rt,nt){if(this._interactivePrune(_)||nt(_,tt))return null;if((_.eventMode==="dynamic"||et==="dynamic")&&(EventsTicker.pauseUpdate=!1),_.interactiveChildren&&_.children){const lt=_.children;for(let ct=lt.length-1;ct>=0;ct--){const ut=lt[ct],st=this.hitTestRecursive(ut,this._isInteractive(et)?et:ut.eventMode,tt,rt,nt);if(st){if(st.length>0&&!st[st.length-1].parent)continue;const ot=_.isInteractive();return(st.length>0||ot)&&st.push(_),st}}}const it=this._isInteractive(et),at=_.isInteractive();return it&&rt(_,tt)?at?[_]:[]:null}_isInteractive(_){return _==="static"||_==="dynamic"}_interactivePrune(_){return!!(!_||_.isMask||!_.visible||!_.renderable||_.eventMode==="none"||_.eventMode==="passive"&&!_.interactiveChildren||_.isMask)}hitPruneFn(_,et){var tt;if(_.hitArea&&(_.worldTransform.applyInverse(et,tempLocalMapping),!_.hitArea.contains(tempLocalMapping.x,tempLocalMapping.y)))return!0;if(_._mask){const rt=_._mask.isMaskData?_._mask.maskObject:_._mask;if(rt&&!((tt=rt.containsPoint)!=null&&tt.call(rt,et)))return!0}return!1}hitTestFn(_,et){return _.eventMode==="passive"?!1:_.hitArea?!0:_.containsPoint?_.containsPoint(et):!1}notifyTarget(_,et){var nt,it;et=et??_.type;const tt=`on${et}`;(it=(nt=_.currentTarget)[tt])==null||it.call(nt,_);const rt=_.eventPhase===_.CAPTURING_PHASE||_.eventPhase===_.AT_TARGET?`${et}capture`:et;this.notifyListeners(_,rt),_.eventPhase===_.AT_TARGET&&this.notifyListeners(_,et)}mapPointerDown(_){if(!(_ instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const et=this.createPointerEvent(_);if(this.dispatchEvent(et,"pointerdown"),et.pointerType==="touch")this.dispatchEvent(et,"touchstart");else if(et.pointerType==="mouse"||et.pointerType==="pen"){const rt=et.button===2;this.dispatchEvent(et,rt?"rightdown":"mousedown")}const tt=this.trackingData(_.pointerId);tt.pressTargetsByButton[_.button]=et.composedPath(),this.freeEvent(et)}mapPointerMove(_){var lt,ct;if(!(_ instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const et=this.createPointerEvent(_);this._isPointerMoveEvent=!1;const tt=et.pointerType==="mouse"||et.pointerType==="pen",rt=this.trackingData(_.pointerId),nt=this.findMountedTarget(rt.overTargets);if(((lt=rt.overTargets)==null?void 0:lt.length)>0&&nt!==et.target){const ut=_.type==="mousemove"?"mouseout":"pointerout",st=this.createPointerEvent(_,ut,nt);if(this.dispatchEvent(st,"pointerout"),tt&&this.dispatchEvent(st,"mouseout"),!et.composedPath().includes(nt)){const ot=this.createPointerEvent(_,"pointerleave",nt);for(ot.eventPhase=ot.AT_TARGET;ot.target&&!et.composedPath().includes(ot.target);)ot.currentTarget=ot.target,this.notifyTarget(ot),tt&&this.notifyTarget(ot,"mouseleave"),ot.target=ot.target.parent;this.freeEvent(ot)}this.freeEvent(st)}if(nt!==et.target){const ut=_.type==="mousemove"?"mouseover":"pointerover",st=this.clonePointerEvent(et,ut);this.dispatchEvent(st,"pointerover"),tt&&this.dispatchEvent(st,"mouseover");let ot=nt==null?void 0:nt.parent;for(;ot&&ot!==this.rootTarget.parent&&ot!==et.target;)ot=ot.parent;if(!ot||ot===this.rootTarget.parent){const dt=this.clonePointerEvent(et,"pointerenter");for(dt.eventPhase=dt.AT_TARGET;dt.target&&dt.target!==nt&&dt.target!==this.rootTarget.parent;)dt.currentTarget=dt.target,this.notifyTarget(dt),tt&&this.notifyTarget(dt,"mouseenter"),dt.target=dt.target.parent;this.freeEvent(dt)}this.freeEvent(st)}const it=[],at=this.enableGlobalMoveEvents??!0;this.moveOnAll?it.push("pointermove"):this.dispatchEvent(et,"pointermove"),at&&it.push("globalpointermove"),et.pointerType==="touch"&&(this.moveOnAll?it.splice(1,0,"touchmove"):this.dispatchEvent(et,"touchmove"),at&&it.push("globaltouchmove")),tt&&(this.moveOnAll?it.splice(1,0,"mousemove"):this.dispatchEvent(et,"mousemove"),at&&it.push("globalmousemove"),this.cursor=(ct=et.target)==null?void 0:ct.cursor),it.length>0&&this.all(et,it),this._allInteractiveElements.length=0,this._hitElements.length=0,rt.overTargets=et.composedPath(),this.freeEvent(et)}mapPointerOver(_){var it;if(!(_ instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const et=this.trackingData(_.pointerId),tt=this.createPointerEvent(_),rt=tt.pointerType==="mouse"||tt.pointerType==="pen";this.dispatchEvent(tt,"pointerover"),rt&&this.dispatchEvent(tt,"mouseover"),tt.pointerType==="mouse"&&(this.cursor=(it=tt.target)==null?void 0:it.cursor);const nt=this.clonePointerEvent(tt,"pointerenter");for(nt.eventPhase=nt.AT_TARGET;nt.target&&nt.target!==this.rootTarget.parent;)nt.currentTarget=nt.target,this.notifyTarget(nt),rt&&this.notifyTarget(nt,"mouseenter"),nt.target=nt.target.parent;et.overTargets=tt.composedPath(),this.freeEvent(tt),this.freeEvent(nt)}mapPointerOut(_){if(!(_ instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const et=this.trackingData(_.pointerId);if(et.overTargets){const tt=_.pointerType==="mouse"||_.pointerType==="pen",rt=this.findMountedTarget(et.overTargets),nt=this.createPointerEvent(_,"pointerout",rt);this.dispatchEvent(nt),tt&&this.dispatchEvent(nt,"mouseout");const it=this.createPointerEvent(_,"pointerleave",rt);for(it.eventPhase=it.AT_TARGET;it.target&&it.target!==this.rootTarget.parent;)it.currentTarget=it.target,this.notifyTarget(it),tt&&this.notifyTarget(it,"mouseleave"),it.target=it.target.parent;et.overTargets=null,this.freeEvent(nt),this.freeEvent(it)}this.cursor=null}mapPointerUp(_){if(!(_ instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const et=performance.now(),tt=this.createPointerEvent(_);if(this.dispatchEvent(tt,"pointerup"),tt.pointerType==="touch")this.dispatchEvent(tt,"touchend");else if(tt.pointerType==="mouse"||tt.pointerType==="pen"){const at=tt.button===2;this.dispatchEvent(tt,at?"rightup":"mouseup")}const rt=this.trackingData(_.pointerId),nt=this.findMountedTarget(rt.pressTargetsByButton[_.button]);let it=nt;if(nt&&!tt.composedPath().includes(nt)){let at=nt;for(;at&&!tt.composedPath().includes(at);){if(tt.currentTarget=at,this.notifyTarget(tt,"pointerupoutside"),tt.pointerType==="touch")this.notifyTarget(tt,"touchendoutside");else if(tt.pointerType==="mouse"||tt.pointerType==="pen"){const lt=tt.button===2;this.notifyTarget(tt,lt?"rightupoutside":"mouseupoutside")}at=at.parent}delete rt.pressTargetsByButton[_.button],it=at}if(it){const at=this.clonePointerEvent(tt,"click");at.target=it,at.path=null,rt.clicksByButton[_.button]||(rt.clicksByButton[_.button]={clickCount:0,target:at.target,timeStamp:et});const lt=rt.clicksByButton[_.button];if(lt.target===at.target&&et-lt.timeStamp<200?++lt.clickCount:lt.clickCount=1,lt.target=at.target,lt.timeStamp=et,at.detail=lt.clickCount,at.pointerType==="mouse"){const ct=at.button===2;this.dispatchEvent(at,ct?"rightclick":"click")}else at.pointerType==="touch"&&this.dispatchEvent(at,"tap");this.dispatchEvent(at,"pointertap"),this.freeEvent(at)}this.freeEvent(tt)}mapPointerUpOutside(_){if(!(_ instanceof FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const et=this.trackingData(_.pointerId),tt=this.findMountedTarget(et.pressTargetsByButton[_.button]),rt=this.createPointerEvent(_);if(tt){let nt=tt;for(;nt;)rt.currentTarget=nt,this.notifyTarget(rt,"pointerupoutside"),rt.pointerType==="touch"?this.notifyTarget(rt,"touchendoutside"):(rt.pointerType==="mouse"||rt.pointerType==="pen")&&this.notifyTarget(rt,rt.button===2?"rightupoutside":"mouseupoutside"),nt=nt.parent;delete et.pressTargetsByButton[_.button]}this.freeEvent(rt)}mapWheel(_){if(!(_ instanceof FederatedWheelEvent)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const et=this.createWheelEvent(_);this.dispatchEvent(et),this.freeEvent(et)}findMountedTarget(_){if(!_)return null;let et=_[0];for(let tt=1;tt<_.length&&_[tt].parent===et;tt++)et=_[tt];return et}createPointerEvent(_,et,tt){const rt=this.allocateEvent(FederatedPointerEvent);return this.copyPointerData(_,rt),this.copyMouseData(_,rt),this.copyData(_,rt),rt.nativeEvent=_.nativeEvent,rt.originalEvent=_,rt.target=tt??this.hitTest(rt.global.x,rt.global.y)??this._hitElements[0],typeof et=="string"&&(rt.type=et),rt}createWheelEvent(_){const et=this.allocateEvent(FederatedWheelEvent);return this.copyWheelData(_,et),this.copyMouseData(_,et),this.copyData(_,et),et.nativeEvent=_.nativeEvent,et.originalEvent=_,et.target=this.hitTest(et.global.x,et.global.y),et}clonePointerEvent(_,et){const tt=this.allocateEvent(FederatedPointerEvent);return tt.nativeEvent=_.nativeEvent,tt.originalEvent=_.originalEvent,this.copyPointerData(_,tt),this.copyMouseData(_,tt),this.copyData(_,tt),tt.target=_.target,tt.path=_.composedPath().slice(),tt.type=et??tt.type,tt}copyWheelData(_,et){et.deltaMode=_.deltaMode,et.deltaX=_.deltaX,et.deltaY=_.deltaY,et.deltaZ=_.deltaZ}copyPointerData(_,et){_ instanceof FederatedPointerEvent&&et instanceof FederatedPointerEvent&&(et.pointerId=_.pointerId,et.width=_.width,et.height=_.height,et.isPrimary=_.isPrimary,et.pointerType=_.pointerType,et.pressure=_.pressure,et.tangentialPressure=_.tangentialPressure,et.tiltX=_.tiltX,et.tiltY=_.tiltY,et.twist=_.twist)}copyMouseData(_,et){_ instanceof FederatedMouseEvent&&et instanceof FederatedMouseEvent&&(et.altKey=_.altKey,et.button=_.button,et.buttons=_.buttons,et.client.copyFrom(_.client),et.ctrlKey=_.ctrlKey,et.metaKey=_.metaKey,et.movement.copyFrom(_.movement),et.screen.copyFrom(_.screen),et.shiftKey=_.shiftKey,et.global.copyFrom(_.global))}copyData(_,et){et.isTrusted=_.isTrusted,et.srcElement=_.srcElement,et.timeStamp=performance.now(),et.type=_.type,et.detail=_.detail,et.view=_.view,et.which=_.which,et.layer.copyFrom(_.layer),et.page.copyFrom(_.page)}trackingData(_){return this.mappingState.trackingData[_]||(this.mappingState.trackingData[_]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[_]}allocateEvent(_){this.eventPool.has(_)||this.eventPool.set(_,[]);const et=this.eventPool.get(_).pop()||new _(this);return et.eventPhase=et.NONE,et.currentTarget=null,et.path=null,et.target=null,et}freeEvent(_){if(_.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const et=_.constructor;this.eventPool.has(et)||this.eventPool.set(et,[]),this.eventPool.get(et).push(_)}notifyListeners(_,et){const tt=_.currentTarget._events[et];if(tt&&_.currentTarget.isInteractive())if("fn"in tt)tt.once&&_.currentTarget.removeListener(et,tt.fn,void 0,!0),tt.fn.call(tt.context,_);else for(let rt=0,nt=tt.length;rt<nt&&!_.propagationImmediatelyStopped;rt++)tt[rt].once&&_.currentTarget.removeListener(et,tt[rt].fn,void 0,!0),tt[rt].fn.call(tt[rt].context,_)}}const MOUSE_POINTER_ID=1,TOUCH_TO_POINTER={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},_EventSystem=class Uo{constructor(_){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=_,this.rootBoundary=new EventBoundary(null),EventsTicker.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new FederatedPointerEvent(null),this.rootWheelEvent=new FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Uo.defaultEventFeatures},{set:(et,tt,rt)=>(tt==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=rt),et[tt]=rt,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(_){const{view:et,resolution:tt}=this.renderer;this.setTargetElement(et),this.resolution=tt,Uo._defaultEventMode=_.eventMode??"auto",Object.assign(this.features,_.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(_){this.resolution=_}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(_){_=_||"default";let et=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(et=!1),this.currentCursor===_)return;this.currentCursor=_;const tt=this.cursorStyles[_];if(tt)switch(typeof tt){case"string":et&&(this.domElement.style.cursor=tt);break;case"function":tt(_);break;case"object":et&&Object.assign(this.domElement.style,tt);break}else et&&typeof _=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,_)&&(this.domElement.style.cursor=_)}get pointer(){return this.rootPointerEvent}onPointerDown(_){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const et=this.normalizeToPointerData(_);this.autoPreventDefault&&et[0].isNormalized&&(_.cancelable||!("cancelable"in _))&&_.preventDefault();for(let tt=0,rt=et.length;tt<rt;tt++){const nt=et[tt],it=this.bootstrapEvent(this.rootPointerEvent,nt);this.rootBoundary.mapEvent(it)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(_){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,EventsTicker.pointerMoved();const et=this.normalizeToPointerData(_);for(let tt=0,rt=et.length;tt<rt;tt++){const nt=this.bootstrapEvent(this.rootPointerEvent,et[tt]);this.rootBoundary.mapEvent(nt)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(_){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let et=_.target;_.composedPath&&_.composedPath().length>0&&(et=_.composedPath()[0]);const tt=et!==this.domElement?"outside":"",rt=this.normalizeToPointerData(_);for(let nt=0,it=rt.length;nt<it;nt++){const at=this.bootstrapEvent(this.rootPointerEvent,rt[nt]);at.type+=tt,this.rootBoundary.mapEvent(at)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(_){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const et=this.normalizeToPointerData(_);for(let tt=0,rt=et.length;tt<rt;tt++){const nt=this.bootstrapEvent(this.rootPointerEvent,et[tt]);this.rootBoundary.mapEvent(nt)}this.setCursor(this.rootBoundary.cursor)}onWheel(_){if(!this.features.wheel)return;const et=this.normalizeWheelEvent(_);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(et)}setTargetElement(_){this.removeEvents(),this.domElement=_,EventsTicker.domElement=_,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;EventsTicker.addTickerListener();const _=this.domElement.style;_&&(globalThis.navigator.msPointerEnabled?(_.msContentZooming="none",_.msTouchAction="none"):this.supportsPointerEvents&&(_.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;EventsTicker.removeTickerListener();const _=this.domElement.style;globalThis.navigator.msPointerEnabled?(_.msContentZooming="",_.msTouchAction=""):this.supportsPointerEvents&&(_.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(_,et,tt){const rt=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},nt=1/this.resolution;_.x=(et-rt.left)*(this.domElement.width/rt.width)*nt,_.y=(tt-rt.top)*(this.domElement.height/rt.height)*nt}normalizeToPointerData(_){const et=[];if(this.supportsTouchEvents&&_ instanceof TouchEvent)for(let tt=0,rt=_.changedTouches.length;tt<rt;tt++){const nt=_.changedTouches[tt];typeof nt.button>"u"&&(nt.button=0),typeof nt.buttons>"u"&&(nt.buttons=1),typeof nt.isPrimary>"u"&&(nt.isPrimary=_.touches.length===1&&_.type==="touchstart"),typeof nt.width>"u"&&(nt.width=nt.radiusX||1),typeof nt.height>"u"&&(nt.height=nt.radiusY||1),typeof nt.tiltX>"u"&&(nt.tiltX=0),typeof nt.tiltY>"u"&&(nt.tiltY=0),typeof nt.pointerType>"u"&&(nt.pointerType="touch"),typeof nt.pointerId>"u"&&(nt.pointerId=nt.identifier||0),typeof nt.pressure>"u"&&(nt.pressure=nt.force||.5),typeof nt.twist>"u"&&(nt.twist=0),typeof nt.tangentialPressure>"u"&&(nt.tangentialPressure=0),typeof nt.layerX>"u"&&(nt.layerX=nt.offsetX=nt.clientX),typeof nt.layerY>"u"&&(nt.layerY=nt.offsetY=nt.clientY),nt.isNormalized=!0,nt.type=_.type,et.push(nt)}else if(!globalThis.MouseEvent||_ instanceof MouseEvent&&(!this.supportsPointerEvents||!(_ instanceof globalThis.PointerEvent))){const tt=_;typeof tt.isPrimary>"u"&&(tt.isPrimary=!0),typeof tt.width>"u"&&(tt.width=1),typeof tt.height>"u"&&(tt.height=1),typeof tt.tiltX>"u"&&(tt.tiltX=0),typeof tt.tiltY>"u"&&(tt.tiltY=0),typeof tt.pointerType>"u"&&(tt.pointerType="mouse"),typeof tt.pointerId>"u"&&(tt.pointerId=MOUSE_POINTER_ID),typeof tt.pressure>"u"&&(tt.pressure=.5),typeof tt.twist>"u"&&(tt.twist=0),typeof tt.tangentialPressure>"u"&&(tt.tangentialPressure=0),tt.isNormalized=!0,et.push(tt)}else et.push(_);return et}normalizeWheelEvent(_){const et=this.rootWheelEvent;return this.transferMouseData(et,_),et.deltaX=_.deltaX,et.deltaY=_.deltaY,et.deltaZ=_.deltaZ,et.deltaMode=_.deltaMode,this.mapPositionToPoint(et.screen,_.clientX,_.clientY),et.global.copyFrom(et.screen),et.offset.copyFrom(et.screen),et.nativeEvent=_,et.type=_.type,et}bootstrapEvent(_,et){return _.originalEvent=null,_.nativeEvent=et,_.pointerId=et.pointerId,_.width=et.width,_.height=et.height,_.isPrimary=et.isPrimary,_.pointerType=et.pointerType,_.pressure=et.pressure,_.tangentialPressure=et.tangentialPressure,_.tiltX=et.tiltX,_.tiltY=et.tiltY,_.twist=et.twist,this.transferMouseData(_,et),this.mapPositionToPoint(_.screen,et.clientX,et.clientY),_.global.copyFrom(_.screen),_.offset.copyFrom(_.screen),_.isTrusted=et.isTrusted,_.type==="pointerleave"&&(_.type="pointerout"),_.type.startsWith("mouse")&&(_.type=_.type.replace("mouse","pointer")),_.type.startsWith("touch")&&(_.type=TOUCH_TO_POINTER[_.type]||_.type),_}transferMouseData(_,et){_.isTrusted=et.isTrusted,_.srcElement=et.srcElement,_.timeStamp=performance.now(),_.type=et.type,_.altKey=et.altKey,_.button=et.button,_.buttons=et.buttons,_.client.x=et.clientX,_.client.y=et.clientY,_.ctrlKey=et.ctrlKey,_.metaKey=et.metaKey,_.movement.x=et.movementX,_.movement.y=et.movementY,_.page.x=et.pageX,_.page.y=et.pageY,_.relatedTarget=null,_.shiftKey=et.shiftKey}};_EventSystem.extension={name:"events",type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem]},_EventSystem.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let EventSystem=_EventSystem;extensions$1.add(EventSystem);function convertEventModeToInteractiveMode(_e){return _e==="dynamic"||_e==="static"}const FederatedDisplayObject={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??convertEventModeToInteractiveMode(EventSystem.defaultEventMode)},set interactive(_e){deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=_e,this.eventMode=_e?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??EventSystem.defaultEventMode},set eventMode(_e){this._internalInteractive=convertEventModeToInteractiveMode(_e),this._internalEventMode=_e},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(_e,_,et){const tt=typeof et=="boolean"&&et||typeof et=="object"&&et.capture,rt=typeof et=="object"?et.signal:void 0,nt=typeof et=="object"?et.once===!0:!1,it=typeof _=="function"?void 0:_;_e=tt?`${_e}capture`:_e;const at=typeof _=="function"?_:_.handleEvent,lt=this;rt&&rt.addEventListener("abort",()=>{lt.off(_e,at,it)}),nt?lt.once(_e,at,it):lt.on(_e,at,it)},removeEventListener(_e,_,et){const tt=typeof et=="boolean"&&et||typeof et=="object"&&et.capture,rt=typeof _=="function"?void 0:_;_e=tt?`${_e}capture`:_e,_=typeof _=="function"?_:_.handleEvent,this.off(_e,_,rt)},dispatchEvent(_e){if(!(_e instanceof FederatedEvent))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return _e.defaultPrevented=!1,_e.path=null,_e.target=this,_e.manager.dispatchEvent(_e),!_e.defaultPrevented}};DisplayObject.mixin(FederatedDisplayObject);const accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject.mixin(accessibleTarget);const KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2;class AccessibilityManager{constructor(_){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile$1.tablet||isMobile$1.phone)&&this.createTouchHook();const et=document.createElement("div");et.style.width=`${DIV_TOUCH_SIZE}px`,et.style.height=`${DIV_TOUCH_SIZE}px`,et.style.position="absolute",et.style.top=`${DIV_TOUCH_POS_X}px`,et.style.left=`${DIV_TOUCH_POS_Y}px`,et.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=et,this.renderer=_,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const _=document.createElement("button");_.style.width=`${DIV_HOOK_SIZE}px`,_.style.height=`${DIV_HOOK_SIZE}px`,_.style.position="absolute",_.style.top=`${DIV_HOOK_POS_X}px`,_.style.left=`${DIV_HOOK_POS_Y}px`,_.style.zIndex=DIV_HOOK_ZINDEX.toString(),_.style.backgroundColor="#FF0000",_.title="select to enable accessibility for this content",_.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(_),this._hookDiv=_}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var _;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(_=this.renderer.view.parentNode)==null||_.appendChild(this.div))}deactivate(){var _;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(_=this.div.parentNode)==null||_.removeChild(this.div))}updateAccessibleObjects(_){if(!_.visible||!_.accessibleChildren)return;_.accessible&&_.isInteractive()&&(_._accessibleActive||this.addChild(_),_.renderId=this.renderId);const et=_.children;if(et)for(let tt=0;tt<et.length;tt++)this.updateAccessibleObjects(et[tt])}update(){const _=performance.now();if(isMobile$1.android.device&&_<this.androidUpdateCount||(this.androidUpdateCount=_+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:et,y:tt,width:rt,height:nt}=this.renderer.view.getBoundingClientRect(),{width:it,height:at,resolution:lt}=this.renderer,ct=rt/it*lt,ut=nt/at*lt;let st=this.div;st.style.left=`${et}px`,st.style.top=`${tt}px`,st.style.width=`${it}px`,st.style.height=`${at}px`;for(let ot=0;ot<this.children.length;ot++){const dt=this.children[ot];if(dt.renderId!==this.renderId)dt._accessibleActive=!1,removeItems(this.children,ot,1),this.div.removeChild(dt._accessibleDiv),this.pool.push(dt._accessibleDiv),dt._accessibleDiv=null,ot--;else{st=dt._accessibleDiv;let ft=dt.hitArea;const ht=dt.worldTransform;dt.hitArea?(st.style.left=`${(ht.tx+ft.x*ht.a)*ct}px`,st.style.top=`${(ht.ty+ft.y*ht.d)*ut}px`,st.style.width=`${ft.width*ht.a*ct}px`,st.style.height=`${ft.height*ht.d*ut}px`):(ft=dt.getBounds(),this.capHitArea(ft),st.style.left=`${ft.x*ct}px`,st.style.top=`${ft.y*ut}px`,st.style.width=`${ft.width*ct}px`,st.style.height=`${ft.height*ut}px`,st.title!==dt.accessibleTitle&&dt.accessibleTitle!==null&&(st.title=dt.accessibleTitle),st.getAttribute("aria-label")!==dt.accessibleHint&&dt.accessibleHint!==null&&st.setAttribute("aria-label",dt.accessibleHint)),(dt.accessibleTitle!==st.title||dt.tabIndex!==st.tabIndex)&&(st.title=dt.accessibleTitle,st.tabIndex=dt.tabIndex,this.debug&&this.updateDebugHTML(st))}}this.renderId++}updateDebugHTML(_){_.innerHTML=`type: ${_.type}</br> title : ${_.title}</br> tabIndex: ${_.tabIndex}`}capHitArea(_){_.x<0&&(_.width+=_.x,_.x=0),_.y<0&&(_.height+=_.y,_.y=0);const{width:et,height:tt}=this.renderer;_.x+_.width>et&&(_.width=et-_.x),_.y+_.height>tt&&(_.height=tt-_.y)}addChild(_){let et=this.pool.pop();et||(et=document.createElement("button"),et.style.width=`${DIV_TOUCH_SIZE}px`,et.style.height=`${DIV_TOUCH_SIZE}px`,et.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",et.style.position="absolute",et.style.zIndex=DIV_TOUCH_ZINDEX.toString(),et.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?et.setAttribute("aria-live","off"):et.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?et.setAttribute("aria-relevant","additions"):et.setAttribute("aria-relevant","text"),et.addEventListener("click",this._onClick.bind(this)),et.addEventListener("focus",this._onFocus.bind(this)),et.addEventListener("focusout",this._onFocusOut.bind(this))),et.style.pointerEvents=_.accessiblePointerEvents,et.type=_.accessibleType,_.accessibleTitle&&_.accessibleTitle!==null?et.title=_.accessibleTitle:(!_.accessibleHint||_.accessibleHint===null)&&(et.title=`displayObject ${_.tabIndex}`),_.accessibleHint&&_.accessibleHint!==null&&et.setAttribute("aria-label",_.accessibleHint),this.debug&&this.updateDebugHTML(et),_._accessibleActive=!0,_._accessibleDiv=et,et.displayObject=_,this.children.push(_),this.div.appendChild(_._accessibleDiv),_._accessibleDiv.tabIndex=_.tabIndex}_dispatchEvent(_,et){const{displayObject:tt}=_.target,rt=this.renderer.events.rootBoundary,nt=Object.assign(new FederatedEvent(rt),{target:tt});rt.rootTarget=this.renderer.lastObjectRendered,et.forEach(it=>rt.dispatchEvent(nt,it))}_onClick(_){this._dispatchEvent(_,["click","pointertap","tap"])}_onFocus(_){_.target.getAttribute("aria-live")||_.target.setAttribute("aria-live","assertive"),this._dispatchEvent(_,["mouseover"])}_onFocusOut(_){_.target.getAttribute("aria-live")||_.target.setAttribute("aria-live","polite"),this._dispatchEvent(_,["mouseout"])}_onKeyDown(_){_.keyCode===KEY_CODE_TAB&&this.activate()}_onMouseMove(_){_.movementX===0&&_.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}AccessibilityManager.extension={name:"accessibility",type:[ExtensionType.RendererPlugin,ExtensionType.CanvasRendererPlugin]};extensions$1.add(AccessibilityManager);const _Application=class zo{constructor(_){this.stage=new Container,_=Object.assign({forceCanvas:!1},_),this.renderer=autoDetectRenderer(_),zo._plugins.forEach(et=>{et.init.call(this,_)})}render(){this.renderer.render(this.stage)}get view(){var _;return(_=this.renderer)==null?void 0:_.view}get screen(){var _;return(_=this.renderer)==null?void 0:_.screen}destroy(_,et){const tt=zo._plugins.slice(0);tt.reverse(),tt.forEach(rt=>{rt.destroy.call(this)}),this.stage.destroy(et),this.stage=null,this.renderer.destroy(_),this.renderer=null}};_Application._plugins=[];let Application=_Application;extensions$1.handleByList(ExtensionType.Application,Application._plugins);class ResizePlugin{static init(_){Object.defineProperty(this,"resizeTo",{set(et){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=et,et&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let et,tt;if(this._resizeTo===globalThis.window)et=globalThis.innerWidth,tt=globalThis.innerHeight;else{const{clientWidth:rt,clientHeight:nt}=this._resizeTo;et=rt,tt=nt}this.renderer.resize(et,tt),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=_.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ResizePlugin.extension=ExtensionType.Application;extensions$1.add(ResizePlugin);const assetKeyMap={loader:ExtensionType.LoadParser,resolver:ExtensionType.ResolveParser,cache:ExtensionType.CacheParser,detection:ExtensionType.DetectionParser};extensions$1.handle(ExtensionType.Asset,_e=>{const _=_e.ref;Object.entries(assetKeyMap).filter(([et])=>!!_[et]).forEach(([et,tt])=>extensions$1.add(Object.assign(_[et],{extension:_[et].extension??tt})))},_e=>{const _=_e.ref;Object.keys(assetKeyMap).filter(et=>!!_[et]).forEach(et=>extensions$1.remove(_[et]))});class BackgroundLoader{constructor(_,et=!1){this._loader=_,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=et}add(_){_.forEach(et=>{this._assetList.push(et)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const _=[],et=Math.min(this._assetList.length,this._maxConcurrent);for(let tt=0;tt<et;tt++)_.push(this._assetList.pop());await this._loader.load(_),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(_){this._isActive!==_&&(this._isActive=_,_&&!this._isLoading&&this._next())}}function checkDataUrl(_e,_){if(Array.isArray(_)){for(const et of _)if(_e.startsWith(`data:${et}`))return!0;return!1}return _e.startsWith(`data:${_}`)}function checkExtension(_e,_){const et=_e.split("?")[0],tt=path$1.extname(et).toLowerCase();return Array.isArray(_)?_.includes(tt):tt===_}const convertToList=(_e,_,et=!1)=>(Array.isArray(_e)||(_e=[_e]),_?_e.map(tt=>typeof tt=="string"||et?_(tt):tt):_e),copySearchParams=(_e,_)=>{const et=_.split("?")[1];return et&&(_e+=`?${et}`),_e};function processX(_e,_,et,tt,rt){const nt=_[et];for(let it=0;it<nt.length;it++){const at=nt[it];et<_.length-1?processX(_e.replace(tt[et],at),_,et+1,tt,rt):rt.push(_e.replace(tt[et],at))}}function createStringVariations(_e){const _=/\{(.*?)\}/g,et=_e.match(_),tt=[];if(et){const rt=[];et.forEach(nt=>{const it=nt.substring(1,nt.length-1).split(",");rt.push(it)}),processX(_e,rt,0,et,tt)}else tt.push(_e);return tt}const isSingleItem=_e=>!Array.isArray(_e);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(_){return this._cache.has(_)}get(_){const et=this._cache.get(_);return et||console.warn(`[Assets] Asset id ${_} was not found in the Cache`),et}set(_,et){const tt=convertToList(_);let rt;for(let at=0;at<this.parsers.length;at++){const lt=this.parsers[at];if(lt.test(et)){rt=lt.getCacheableAssets(tt,et);break}}rt||(rt={},tt.forEach(at=>{rt[at]=et}));const nt=Object.keys(rt),it={cacheKeys:nt,keys:tt};if(tt.forEach(at=>{this._cacheMap.set(at,it)}),nt.forEach(at=>{this._cache.has(at)&&this._cache.get(at)!==et&&console.warn("[Cache] already has key:",at),this._cache.set(at,rt[at])}),et instanceof Texture){const at=et;tt.forEach(lt=>{at.baseTexture!==Texture.EMPTY.baseTexture&&BaseTexture.addToCache(at.baseTexture,lt),Texture.addToCache(at,lt)})}}remove(_){if(!this._cacheMap.has(_)){console.warn(`[Assets] Asset id ${_} was not found in the Cache`);return}const et=this._cacheMap.get(_);et.cacheKeys.forEach(tt=>{this._cache.delete(tt)}),et.keys.forEach(tt=>{this._cacheMap.delete(tt)})}get parsers(){return this._parsers}}const Cache=new CacheClass;let Loader$1=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(_,et,tt)=>(this._parsersValidated=!1,_[et]=tt,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(_,et){const tt={promise:null,parser:null};return tt.promise=(async()=>{var it,at;let rt=null,nt=null;if(et.loadParser&&(nt=this._parserHash[et.loadParser],nt||console.warn(`[Assets] specified load parser "${et.loadParser}" not found while loading ${_}`)),!nt){for(let lt=0;lt<this.parsers.length;lt++){const ct=this.parsers[lt];if(ct.load&&((it=ct.test)!=null&&it.call(ct,_,et,this))){nt=ct;break}}if(!nt)return console.warn(`[Assets] ${_} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}rt=await nt.load(_,et,this),tt.parser=nt;for(let lt=0;lt<this.parsers.length;lt++){const ct=this.parsers[lt];ct.parse&&ct.parse&&await((at=ct.testParse)==null?void 0:at.call(ct,rt,et,this))&&(rt=await ct.parse(rt,et,this)||rt,tt.parser=ct)}return rt})(),tt}async load(_,et){this._parsersValidated||this._validateParsers();let tt=0;const rt={},nt=isSingleItem(_),it=convertToList(_,ct=>({alias:[ct],src:ct})),at=it.length,lt=it.map(async ct=>{const ut=path$1.toAbsolute(ct.src);if(!rt[ct.src])try{this.promiseCache[ut]||(this.promiseCache[ut]=this._getLoadPromiseAndParser(ut,ct)),rt[ct.src]=await this.promiseCache[ut].promise,et&&et(++tt/at)}catch(st){throw delete this.promiseCache[ut],delete rt[ct.src],new Error(`[Loader.load] Failed to load ${ut}.
${st}`)}});return await Promise.all(lt),nt?rt[it[0].src]:rt}async unload(_){const et=convertToList(_,tt=>({alias:[tt],src:tt})).map(async tt=>{var it,at;const rt=path$1.toAbsolute(tt.src),nt=this.promiseCache[rt];if(nt){const lt=await nt.promise;delete this.promiseCache[rt],(at=(it=nt.parser)==null?void 0:it.unload)==null||at.call(it,lt,tt,this)}});await Promise.all(et)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(_=>_.name).reduce((_,et)=>(_[et.name]&&console.warn(`[Assets] loadParser name conflict "${et.name}"`),{..._,[et.name]:et}),{})}};var LoaderParserPriority=(_e=>(_e[_e.Low=0]="Low",_e[_e.Normal=1]="Normal",_e[_e.High=2]="High",_e))(LoaderParserPriority||{});const validJSONExtension=".json",validJSONMIME="application/json",loadJson={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},name:"loadJson",test(_e){return checkDataUrl(_e,validJSONMIME)||checkExtension(_e,validJSONExtension)},async load(_e){return await(await settings.ADAPTER.fetch(_e)).json()}};extensions$1.add(loadJson);const validTXTExtension=".txt",validTXTMIME="text/plain",loadTxt={name:"loadTxt",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},test(_e){return checkDataUrl(_e,validTXTMIME)||checkExtension(_e,validTXTExtension)},async load(_e){return await(await settings.ADAPTER.fetch(_e)).text()}};extensions$1.add(loadTxt);const validWeights=["normal","bold","100","200","300","400","500","600","700","800","900"],validFontExtensions=[".ttf",".otf",".woff",".woff2"],validFontMIMEs=["font/ttf","font/otf","font/woff","font/woff2"],CSS_IDENT_TOKEN_REGEX=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function getFontFamilyName(_e){const _=path$1.extname(_e),et=path$1.basename(_e,_).replace(/(-|_)/g," ").toLowerCase().split(" ").map(nt=>nt.charAt(0).toUpperCase()+nt.slice(1));let tt=et.length>0;for(const nt of et)if(!nt.match(CSS_IDENT_TOKEN_REGEX)){tt=!1;break}let rt=et.join(" ");return tt||(rt=`"${rt.replace(/[\\"]/g,"\\$&")}"`),rt}const validURICharactersRegex=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function encodeURIWhenNeeded(_e){return validURICharactersRegex.test(_e)?_e:encodeURI(_e)}const loadWebFont={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Low},name:"loadWebFont",test(_e){return checkDataUrl(_e,validFontMIMEs)||checkExtension(_e,validFontExtensions)},async load(_e,_){var tt,rt,nt;const et=settings.ADAPTER.getFontFaceSet();if(et){const it=[],at=((tt=_.data)==null?void 0:tt.family)??getFontFamilyName(_e),lt=((nt=(rt=_.data)==null?void 0:rt.weights)==null?void 0:nt.filter(ut=>validWeights.includes(ut)))??["normal"],ct=_.data??{};for(let ut=0;ut<lt.length;ut++){const st=lt[ut],ot=new FontFace(at,`url(${encodeURIWhenNeeded(_e)})`,{...ct,weight:st});await ot.load(),et.add(ot),it.push(ot)}return it.length===1?it[0]:it}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(_e){(Array.isArray(_e)?_e:[_e]).forEach(_=>settings.ADAPTER.getFontFaceSet().delete(_))}};extensions$1.add(loadWebFont);const WORKER_CODE$1=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let WORKER_URL$1=null,WorkerInstance$1=class{constructor(){WORKER_URL$1||(WORKER_URL$1=URL.createObjectURL(new Blob([WORKER_CODE$1],{type:"application/javascript"}))),this.worker=new Worker(WORKER_URL$1)}};WorkerInstance$1.revokeObjectURL=function(){WORKER_URL$1&&(URL.revokeObjectURL(WORKER_URL$1),WORKER_URL$1=null)};const WORKER_CODE=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let WORKER_URL=null;class WorkerInstance{constructor(){WORKER_URL||(WORKER_URL=URL.createObjectURL(new Blob([WORKER_CODE],{type:"application/javascript"}))),this.worker=new Worker(WORKER_URL)}}WorkerInstance.revokeObjectURL=function(){WORKER_URL&&(URL.revokeObjectURL(WORKER_URL),WORKER_URL=null)};let UUID=0,MAX_WORKERS;class WorkerManagerClass{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(_=>{const{worker:et}=new WorkerInstance$1;et.addEventListener("message",tt=>{et.terminate(),WorkerInstance$1.revokeObjectURL(),_(tt.data)})}),this._isImageBitmapSupported)}loadImageBitmap(_){return this._run("loadImageBitmap",[_])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){MAX_WORKERS===void 0&&(MAX_WORKERS=navigator.hardwareConcurrency||4);let _=this.workerPool.pop();return!_&&this._createdWorkers<MAX_WORKERS&&(this._createdWorkers++,_=new WorkerInstance().worker,_.addEventListener("message",et=>{this.complete(et.data),this.returnWorker(et.target),this.next()})),_}returnWorker(_){this.workerPool.push(_)}complete(_){_.error!==void 0?this.resolveHash[_.uuid].reject(_.error):this.resolveHash[_.uuid].resolve(_.data),this.resolveHash[_.uuid]=null}async _run(_,et){await this._initWorkers();const tt=new Promise((rt,nt)=>{this.queue.push({id:_,arguments:et,resolve:rt,reject:nt})});return this.next(),tt}next(){if(!this.queue.length)return;const _=this.getWorker();if(!_)return;const et=this.queue.pop(),tt=et.id;this.resolveHash[UUID]={resolve:et.resolve,reject:et.reject},_.postMessage({data:et.arguments,uuid:UUID++,id:tt})}}const WorkerManager=new WorkerManagerClass;function createTexture$1(_e,_,et){_e.resource.internal=!0;const tt=new Texture(_e),rt=()=>{delete _.promiseCache[et],Cache.has(et)&&Cache.remove(et)};return tt.baseTexture.once("destroyed",()=>{et in _.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),rt())}),tt.once("destroyed",()=>{_e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),rt())}),tt}const validImageExtensions=[".jpeg",".jpg",".png",".webp",".avif"],validImageMIMEs=["image/jpeg","image/png","image/webp","image/avif"];async function loadImageBitmap(_e){const _=await settings.ADAPTER.fetch(_e);if(!_.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${_e}: ${_.status} ${_.statusText}`);const et=await _.blob();return await createImageBitmap(et)}const loadTextures={name:"loadTextures",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(_e){return checkDataUrl(_e,validImageMIMEs)||checkExtension(_e,validImageExtensions)},async load(_e,_,et){var at;const tt=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let rt;tt?this.config.preferWorkers&&await WorkerManager.isImageBitmapSupported()?rt=await WorkerManager.loadImageBitmap(_e):rt=await loadImageBitmap(_e):rt=await new Promise((lt,ct)=>{const ut=new Image;ut.crossOrigin=this.config.crossOrigin,ut.src=_e,ut.complete?lt(ut):(ut.onload=()=>lt(ut),ut.onerror=st=>ct(st))});const nt={..._.data};nt.resolution??(nt.resolution=getResolutionOfUrl(_e)),tt&&((at=nt.resourceOptions)==null?void 0:at.ownsImageBitmap)===void 0&&(nt.resourceOptions={...nt.resourceOptions},nt.resourceOptions.ownsImageBitmap=!0);const it=new BaseTexture(rt,nt);return it.resource.src=_e,createTexture$1(it,et,_e)},unload(_e){_e.destroy(!0)}};extensions$1.add(loadTextures);const validSVGExtension=".svg",validSVGMIME="image/svg+xml",loadSVG={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},name:"loadSVG",test(_e){return checkDataUrl(_e,validSVGMIME)||checkExtension(_e,validSVGExtension)},async testParse(_e){return SVGResource.test(_e)},async parse(_e,_,et){var nt;const tt=new SVGResource(_e,(nt=_==null?void 0:_.data)==null?void 0:nt.resourceOptions);await tt.load();const rt=new BaseTexture(tt,{resolution:getResolutionOfUrl(_e),..._==null?void 0:_.data});return rt.resource.src=_.src,createTexture$1(rt,et,_.src)},async load(_e,_){return(await settings.ADAPTER.fetch(_e)).text()},unload:loadTextures.unload};extensions$1.add(loadSVG);const validVideoExtensions=[".mp4",".m4v",".webm",".ogv"],validVideoMIMEs=["video/mp4","video/webm","video/ogg"],loadVideo={name:"loadVideo",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(_e){return checkDataUrl(_e,validVideoMIMEs)||checkExtension(_e,validVideoExtensions)},async load(_e,_,et){var it;let tt;const rt=await(await settings.ADAPTER.fetch(_e)).blob(),nt=URL.createObjectURL(rt);try{const at={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(it=_==null?void 0:_.data)==null?void 0:it.resourceOptions,autoLoad:!0},lt=new VideoResource(nt,at);await lt.load();const ct=new BaseTexture(lt,{alphaMode:await detectVideoAlphaMode(),resolution:getResolutionOfUrl(_e),..._==null?void 0:_.data});ct.resource.src=_e,tt=createTexture$1(ct,et,_e),tt.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(nt)})}catch(at){throw URL.revokeObjectURL(nt),at}return tt},unload(_e){_e.destroy(!0)}};extensions$1.add(loadVideo);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(_,et)=>`${_}${this._bundleIdConnector}${et}`,extractAssetIdFromBundle:(_,et)=>et.replace(`${_}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(_){if(this._bundleIdConnector=_.connector??this._bundleIdConnector,this._createBundleAssetId=_.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=_.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(..._){_.forEach(et=>{this._preferredOrder.push(et),et.priority||(et.priority=Object.keys(et.params))}),this._resolverHash={}}set basePath(_){this._basePath=_}get basePath(){return this._basePath}set rootPath(_){this._rootPath=_}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(_){if(typeof _=="string")this._defaultSearchParams=_;else{const et=_;this._defaultSearchParams=Object.keys(et).map(tt=>`${encodeURIComponent(tt)}=${encodeURIComponent(et[tt])}`).join("&")}}getAlias(_){const{alias:et,name:tt,src:rt,srcs:nt}=_;return convertToList(et||tt||rt||nt,it=>typeof it=="string"?it:Array.isArray(it)?it.map(at=>(at==null?void 0:at.src)??(at==null?void 0:at.srcs)??at):it!=null&&it.src||it!=null&&it.srcs?it.src??it.srcs:it,!0)}addManifest(_){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=_,_.bundles.forEach(et=>{this.addBundle(et.name,et.assets)})}addBundle(_,et){const tt=[];Array.isArray(et)?et.forEach(rt=>{const nt=rt.src??rt.srcs,it=rt.alias??rt.name;let at;if(typeof it=="string"){const lt=this._createBundleAssetId(_,it);tt.push(lt),at=[it,lt]}else{const lt=it.map(ct=>this._createBundleAssetId(_,ct));tt.push(...lt),at=[...it,...lt]}this.add({...rt,alias:at,src:nt})}):Object.keys(et).forEach(rt=>{const nt=[rt,this._createBundleAssetId(_,rt)];if(typeof et[rt]=="string")this.add({alias:nt,src:et[rt]});else if(Array.isArray(et[rt]))this.add({alias:nt,src:et[rt]});else{const it=et[rt],at=it.src??it.srcs;this.add({...it,alias:nt,src:Array.isArray(at)?at:[at]})}tt.push(...nt)}),this._bundles[_]=tt}add(_,et,tt,rt,nt){const it=[];typeof _=="string"||Array.isArray(_)&&typeof _[0]=="string"?(deprecation("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),it.push({alias:_,src:et,data:tt,format:rt,loadParser:nt})):Array.isArray(_)?it.push(..._):it.push(_);let at;at=lt=>{this.hasKey(lt)&&console.warn(`[Resolver] already has key: ${lt} overwriting`)},convertToList(it).forEach(lt=>{const{src:ct,srcs:ut}=lt;let{data:st,format:ot,loadParser:dt}=lt;const ft=convertToList(ct||ut).map(gt=>typeof gt=="string"?createStringVariations(gt):Array.isArray(gt)?gt:[gt]),ht=this.getAlias(lt);Array.isArray(ht)?ht.forEach(at):at(ht);const mt=[];ft.forEach(gt=>{gt.forEach(yt=>{let vt={};if(typeof yt!="object"){vt.src=yt;for(let bt=0;bt<this._parsers.length;bt++){const xt=this._parsers[bt];if(xt.test(yt)){vt=xt.parse(yt);break}}}else st=yt.data??st,ot=yt.format??ot,dt=yt.loadParser??dt,vt={...vt,...yt};if(!ht)throw new Error(`[Resolver] alias is undefined for this asset: ${vt.src}`);vt=this.buildResolvedAsset(vt,{aliases:ht,data:st,format:ot,loadParser:dt}),mt.push(vt)})}),ht.forEach(gt=>{this._assetMap[gt]=mt})})}resolveBundle(_){const et=isSingleItem(_);_=convertToList(_);const tt={};return _.forEach(rt=>{const nt=this._bundles[rt];if(nt){const it=this.resolve(nt),at={};for(const lt in it){const ct=it[lt];at[this._extractAssetIdFromBundle(rt,lt)]=ct}tt[rt]=at}}),et?tt[_[0]]:tt}resolveUrl(_){const et=this.resolve(_);if(typeof _!="string"){const tt={};for(const rt in et)tt[rt]=et[rt].src;return tt}return et.src}resolve(_){const et=isSingleItem(_);_=convertToList(_);const tt={};return _.forEach(rt=>{if(!this._resolverHash[rt])if(this._assetMap[rt]){let nt=this._assetMap[rt];const it=nt[0],at=this._getPreferredOrder(nt);at==null||at.priority.forEach(lt=>{at.params[lt].forEach(ct=>{const ut=nt.filter(st=>st[lt]?st[lt]===ct:!1);ut.length&&(nt=ut)})}),this._resolverHash[rt]=nt[0]??it}else this._resolverHash[rt]=this.buildResolvedAsset({alias:[rt],src:rt},{});tt[rt]=this._resolverHash[rt]}),et?tt[_[0]]:tt}hasKey(_){return!!this._assetMap[_]}hasBundle(_){return!!this._bundles[_]}_getPreferredOrder(_){for(let et=0;et<_.length;et++){const tt=_[0],rt=this._preferredOrder.find(nt=>nt.params.format.includes(tt.format));if(rt)return rt}return this._preferredOrder[0]}_appendDefaultSearchParams(_){if(!this._defaultSearchParams)return _;const et=/\?/.test(_)?"&":"?";return`${_}${et}${this._defaultSearchParams}`}buildResolvedAsset(_,et){const{aliases:tt,data:rt,loadParser:nt,format:it}=et;return(this._basePath||this._rootPath)&&(_.src=path$1.toAbsolute(_.src,this._basePath,this._rootPath)),_.alias=tt??_.alias??[_.src],_.src=this._appendDefaultSearchParams(_.src),_.data={...rt||{},..._.data},_.loadParser=nt??_.loadParser,_.format=it??_.format??path$1.extname(_.src).slice(1),_.srcs=_.src,_.name=_.alias,_}}class AssetsClass{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Resolver,this.loader=new Loader$1,this.cache=Cache,this._backgroundLoader=new BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(_={}){var nt,it;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,_.defaultSearchParams&&this.resolver.setDefaultSearchParams(_.defaultSearchParams),_.basePath&&(this.resolver.basePath=_.basePath),_.bundleIdentifier&&this.resolver.setBundleIdentifier(_.bundleIdentifier),_.manifest){let at=_.manifest;typeof at=="string"&&(at=await this.load(at)),this.resolver.addManifest(at)}const et=((nt=_.texturePreference)==null?void 0:nt.resolution)??1,tt=typeof et=="number"?[et]:et,rt=await this._detectFormats({preferredFormats:(it=_.texturePreference)==null?void 0:it.format,skipDetections:_.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:rt,resolution:tt}}),_.preferences&&this.setPreferences(_.preferences)}add(_,et,tt,rt,nt){this.resolver.add(_,et,tt,rt,nt)}async load(_,et){this._initialized||await this.init();const tt=isSingleItem(_),rt=convertToList(_).map(at=>{if(typeof at!="string"){const lt=this.resolver.getAlias(at);return lt.some(ct=>!this.resolver.hasKey(ct))&&this.add(at),Array.isArray(lt)?lt[0]:lt}return this.resolver.hasKey(at)||this.add({alias:at,src:at}),at}),nt=this.resolver.resolve(rt),it=await this._mapLoadToResolve(nt,et);return tt?it[rt[0]]:it}addBundle(_,et){this.resolver.addBundle(_,et)}async loadBundle(_,et){this._initialized||await this.init();let tt=!1;typeof _=="string"&&(tt=!0,_=[_]);const rt=this.resolver.resolveBundle(_),nt={},it=Object.keys(rt);let at=0,lt=0;const ct=()=>{et==null||et(++at/lt)},ut=it.map(st=>{const ot=rt[st];return lt+=Object.keys(ot).length,this._mapLoadToResolve(ot,ct).then(dt=>{nt[st]=dt})});return await Promise.all(ut),tt?nt[_[0]]:nt}async backgroundLoad(_){this._initialized||await this.init(),typeof _=="string"&&(_=[_]);const et=this.resolver.resolve(_);this._backgroundLoader.add(Object.values(et))}async backgroundLoadBundle(_){this._initialized||await this.init(),typeof _=="string"&&(_=[_]);const et=this.resolver.resolveBundle(_);Object.values(et).forEach(tt=>{this._backgroundLoader.add(Object.values(tt))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(_){if(typeof _=="string")return Cache.get(_);const et={};for(let tt=0;tt<_.length;tt++)et[tt]=Cache.get(_[tt]);return et}async _mapLoadToResolve(_,et){const tt=Object.values(_),rt=Object.keys(_);this._backgroundLoader.active=!1;const nt=await this.loader.load(tt,et);this._backgroundLoader.active=!0;const it={};return tt.forEach((at,lt)=>{const ct=nt[at.src],ut=[at.src];at.alias&&ut.push(...at.alias),it[rt[lt]]=ct,Cache.set(ut,ct)}),it}async unload(_){this._initialized||await this.init();const et=convertToList(_).map(rt=>typeof rt!="string"?rt.src:rt),tt=this.resolver.resolve(et);await this._unloadFromResolved(tt)}async unloadBundle(_){this._initialized||await this.init(),_=convertToList(_);const et=this.resolver.resolveBundle(_),tt=Object.keys(et).map(rt=>this._unloadFromResolved(et[rt]));await Promise.all(tt)}async _unloadFromResolved(_){const et=Object.values(_);et.forEach(tt=>{Cache.remove(tt.src)}),await this.loader.unload(et)}async _detectFormats(_){let et=[];_.preferredFormats&&(et=Array.isArray(_.preferredFormats)?_.preferredFormats:[_.preferredFormats]);for(const tt of _.detections)_.skipDetections||await tt.test()?et=await tt.add(et):_.skipDetections||(et=await tt.remove(et));return et=et.filter((tt,rt)=>et.indexOf(tt)===rt),et}get detections(){return this._detections}get preferWorkers(){return loadTextures.config.preferWorkers}set preferWorkers(_){deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:_})}setPreferences(_){this.loader.parsers.forEach(et=>{et.config&&Object.keys(et.config).filter(tt=>tt in _).forEach(tt=>{et.config[tt]=_[tt]})})}}const Assets=new AssetsClass;extensions$1.handleByList(ExtensionType.LoadParser,Assets.loader.parsers).handleByList(ExtensionType.ResolveParser,Assets.resolver.parsers).handleByList(ExtensionType.CacheParser,Assets.cache.parsers).handleByList(ExtensionType.DetectionParser,Assets.detections);const cacheTextureArray={extension:ExtensionType.CacheParser,test:_e=>Array.isArray(_e)&&_e.every(_=>_ instanceof Texture),getCacheableAssets:(_e,_)=>{const et={};return _e.forEach(tt=>{_.forEach((rt,nt)=>{et[tt+(nt===0?"":nt+1)]=rt})}),et}};extensions$1.add(cacheTextureArray);async function testImageFormat(_e){if("Image"in globalThis)return new Promise(_=>{const et=new Image;et.onload=()=>{_(!0)},et.onerror=()=>{_(!1)},et.src=_e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const _=await(await fetch(_e)).blob();await createImageBitmap(_)}catch{return!1}return!0}return!1}const detectAvif={extension:{type:ExtensionType.DetectionParser,priority:1},test:async()=>testImageFormat("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async _e=>[..._e,"avif"],remove:async _e=>_e.filter(_=>_!=="avif")};extensions$1.add(detectAvif);const detectWebp={extension:{type:ExtensionType.DetectionParser,priority:0},test:async()=>testImageFormat("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async _e=>[..._e,"webp"],remove:async _e=>_e.filter(_=>_!=="webp")};extensions$1.add(detectWebp);const imageFormats=["png","jpg","jpeg"],detectDefaults={extension:{type:ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async _e=>[..._e,...imageFormats],remove:async _e=>_e.filter(_=>!imageFormats.includes(_))};extensions$1.add(detectDefaults);const inWorker="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function testVideoFormat(_e){return inWorker?!1:document.createElement("video").canPlayType(_e)!==""}const detectWebm={extension:{type:ExtensionType.DetectionParser,priority:0},test:async()=>testVideoFormat("video/webm"),add:async _e=>[..._e,"webm"],remove:async _e=>_e.filter(_=>_!=="webm")};extensions$1.add(detectWebm);const detectMp4={extension:{type:ExtensionType.DetectionParser,priority:0},test:async()=>testVideoFormat("video/mp4"),add:async _e=>[..._e,"mp4","m4v"],remove:async _e=>_e.filter(_=>_!=="mp4"&&_!=="m4v")};extensions$1.add(detectMp4);const detectOgv={extension:{type:ExtensionType.DetectionParser,priority:0},test:async()=>testVideoFormat("video/ogg"),add:async _e=>[..._e,"ogv"],remove:async _e=>_e.filter(_=>_!=="ogv")};extensions$1.add(detectOgv);const resolveTextureUrl={extension:ExtensionType.ResolveParser,test:loadTextures.test,parse:_e=>{var _;return{resolution:parseFloat(((_=settings.RETINA_PREFIX.exec(_e))==null?void 0:_[1])??"1"),format:path$1.extname(_e).slice(1),src:_e}}};extensions$1.add(resolveTextureUrl);var INTERNAL_FORMATS=(_e=>(_e[_e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",_e[_e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",_e[_e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",_e[_e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",_e[_e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",_e[_e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",_e[_e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",_e[_e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",_e[_e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",_e[_e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",_e[_e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",_e[_e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",_e[_e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",_e[_e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",_e[_e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",_e[_e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",_e[_e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",_e[_e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",_e[_e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",_e[_e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",_e[_e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",_e[_e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",_e[_e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",_e[_e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",_e[_e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",_e[_e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",_e[_e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",_e[_e.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",_e[_e.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",_e[_e.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",_e[_e.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",_e))(INTERNAL_FORMATS||{});const INTERNAL_FORMAT_TO_BYTES_PER_PIXEL={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let storedGl,extensions;function getCompressedTextureExtensions(){extensions={bptc:storedGl.getExtension("EXT_texture_compression_bptc"),astc:storedGl.getExtension("WEBGL_compressed_texture_astc"),etc:storedGl.getExtension("WEBGL_compressed_texture_etc"),s3tc:storedGl.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:storedGl.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:storedGl.getExtension("WEBGL_compressed_texture_pvrtc")||storedGl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:storedGl.getExtension("WEBGL_compressed_texture_etc1"),atc:storedGl.getExtension("WEBGL_compressed_texture_atc")}}const detectCompressedTextures={extension:{type:ExtensionType.DetectionParser,priority:2},test:async()=>{const _e=settings.ADAPTER.createCanvas().getContext("webgl");return _e?(storedGl=_e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async _e=>{extensions||getCompressedTextureExtensions();const _=[];for(const et in extensions)extensions[et]&&_.push(et);return[..._,..._e]},remove:async _e=>(extensions||getCompressedTextureExtensions(),_e.filter(_=>!(_ in extensions)))};extensions$1.add(detectCompressedTextures);class BlobResource extends BufferResource{constructor(_,et={width:1,height:1,autoLoad:!0}){let tt,rt;typeof _=="string"?(tt=_,rt=new Uint8Array):(tt=null,rt=_),super(rt,et),this.origin=tt,this.buffer=rt?new ViewableBuffer(rt):null,this._load=null,this.loaded=!1,this.origin!==null&&et.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(_){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(_=>_.blob()).then(_=>_.arrayBuffer()).then(_=>(this.data=new Uint32Array(_),this.buffer=new ViewableBuffer(_),this.loaded=!0,this.onBlobLoaded(_),this.update(),this)),this._load)}}class CompressedTextureResource extends BlobResource{constructor(_,et){super(_,et),this.format=et.format,this.levels=et.levels||1,this._width=et.width,this._height=et.height,this._extension=CompressedTextureResource._formatToExtension(this.format),(et.levelBuffers||this.buffer)&&(this._levelBuffers=et.levelBuffers||CompressedTextureResource._createLevelBuffers(_ instanceof Uint8Array?_:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(_,et,tt){const rt=_.gl;if(!_.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;rt.pixelStorei(rt.UNPACK_ALIGNMENT,4);for(let nt=0,it=this.levels;nt<it;nt++){const{levelID:at,levelWidth:lt,levelHeight:ct,levelBuffer:ut}=this._levelBuffers[nt];rt.compressedTexImage2D(rt.TEXTURE_2D,at,this.format,lt,ct,0,ut)}return!0}onBlobLoaded(){this._levelBuffers=CompressedTextureResource._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(_){if(_>=33776&&_<=33779)return"s3tc";if(_>=35916&&_<=35919)return"s3tc_sRGB";if(_>=37488&&_<=37497)return"etc";if(_>=35840&&_<=35843)return"pvrtc";if(_===36196)return"etc1";if(_===35986||_===35987||_===34798)return"atc";if(_>=36492&&_<=36495)return"bptc";if(_===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${_}`)}static _createLevelBuffers(_,et,tt,rt,nt,it,at){const lt=new Array(tt);let ct=_.byteOffset,ut=it,st=at,ot=ut+rt-1&~(rt-1),dt=st+nt-1&~(nt-1),ft=ot*dt*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[et];for(let ht=0;ht<tt;ht++)lt[ht]={levelID:ht,levelWidth:tt>1?ut:ot,levelHeight:tt>1?st:dt,levelBuffer:new Uint8Array(_.buffer,ct,ft)},ct+=ft,ut=ut>>1||1,st=st>>1||1,ot=ut+rt-1&~(rt-1),dt=st+nt-1&~(nt-1),ft=ot*dt*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[et];return lt}}const DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT={[FOURCC_DXT1]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,[FOURCC_DXT3]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,[FOURCC_DXT5]:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},DXGI_TO_FORMAT={70:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:INTERNAL_FORMATS.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:INTERNAL_FORMATS.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:INTERNAL_FORMATS.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function parseDDS(_e){const _=new Uint32Array(_e);if(_[0]!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");const et=new Uint32Array(_e,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),tt=et[DDS_FIELDS.HEIGHT],rt=et[DDS_FIELDS.WIDTH],nt=et[DDS_FIELDS.MIPMAP_COUNT],it=new Uint32Array(_e,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),at=it[PF_FLAGS];if(at&DDPF_FOURCC){const lt=it[DDS_PF_FIELDS.FOURCC];if(lt!==FOURCC_DX10){const yt=FOURCC_TO_FORMAT[lt],vt=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,bt=new Uint8Array(_e,vt);return[new CompressedTextureResource(bt,{format:yt,width:rt,height:tt,levels:nt})]}const ct=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,ut=new Uint32Array(_.buffer,ct,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),st=ut[DDS_DX10_FIELDS.DXGI_FORMAT],ot=ut[DDS_DX10_FIELDS.RESOURCE_DIMENSION],dt=ut[DDS_DX10_FIELDS.MISC_FLAG],ft=ut[DDS_DX10_FIELDS.ARRAY_SIZE],ht=DXGI_TO_FORMAT[st];if(ht===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${st}`);if(dt===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(ot===6)throw new Error("DDSParser does not supported 3D texture data");const mt=new Array,gt=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(ft===1)mt.push(new Uint8Array(_e,gt));else{const yt=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[ht];let vt=0,bt=rt,xt=tt;for(let St=0;St<nt;St++){const wt=Math.max(1,bt+3&-4),Et=Math.max(1,xt+3&-4),Tt=wt*Et*yt;vt+=Tt,bt=bt>>>1,xt=xt>>>1}let _t=gt;for(let St=0;St<ft;St++)mt.push(new Uint8Array(_e,_t,vt)),_t+=vt}return mt.map(yt=>new CompressedTextureResource(yt,{format:ht,width:rt,height:tt,levels:nt}))}throw at&DDPF_RGB?new Error("DDSParser does not support uncompressed texture data."):at&DDPF_YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):at&DDPF_LUMINANCE?new Error("DDSParser does not support single-channel (lumninance) texture data!"):at&DDPF_ALPHA?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT={[TYPES.UNSIGNED_BYTE]:1,[TYPES.UNSIGNED_SHORT]:2,[TYPES.INT]:4,[TYPES.UNSIGNED_INT]:4,[TYPES.FLOAT]:4,[TYPES.HALF_FLOAT]:8},FORMATS_TO_COMPONENTS={[FORMATS.RGBA]:4,[FORMATS.RGB]:3,[FORMATS.RG]:2,[FORMATS.RED]:1,[FORMATS.LUMINANCE]:1,[FORMATS.LUMINANCE_ALPHA]:2,[FORMATS.ALPHA]:1},TYPES_TO_BYTES_PER_PIXEL={[TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[TYPES.UNSIGNED_SHORT_5_6_5]:2};function parseKTX(_e,_,et=!1){const tt=new DataView(_);if(!validate(_e,tt))return null;const rt=tt.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,nt=tt.getUint32(KTX_FIELDS.GL_TYPE,rt),it=tt.getUint32(KTX_FIELDS.GL_FORMAT,rt),at=tt.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,rt),lt=tt.getUint32(KTX_FIELDS.PIXEL_WIDTH,rt),ct=tt.getUint32(KTX_FIELDS.PIXEL_HEIGHT,rt)||1,ut=tt.getUint32(KTX_FIELDS.PIXEL_DEPTH,rt)||1,st=tt.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,rt)||1,ot=tt.getUint32(KTX_FIELDS.NUMBER_OF_FACES,rt),dt=tt.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,rt),ft=tt.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,rt);if(ct===0||ut!==1)throw new Error("Only 2D textures are supported");if(ot!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(st!==1)throw new Error("WebGL does not support array textures");const ht=4,mt=4,gt=lt+3&-4,yt=ct+3&-4,vt=new Array(st);let bt=lt*ct;nt===0&&(bt=gt*yt);let xt;if(nt!==0?TYPES_TO_BYTES_PER_COMPONENT[nt]?xt=TYPES_TO_BYTES_PER_COMPONENT[nt]*FORMATS_TO_COMPONENTS[it]:xt=TYPES_TO_BYTES_PER_PIXEL[nt]:xt=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[at],xt===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const _t=et?parseKvData(tt,ft,rt):null;let St=bt*xt,wt=lt,Et=ct,Tt=gt,Ct=yt,It=FILE_HEADER_SIZE+ft;for(let Pt=0;Pt<dt;Pt++){const At=tt.getUint32(It,rt);let kt=It+4;for(let Rt=0;Rt<st;Rt++){let $t=vt[Rt];$t||($t=vt[Rt]=new Array(dt)),$t[Pt]={levelID:Pt,levelWidth:dt>1||nt!==0?wt:Tt,levelHeight:dt>1||nt!==0?Et:Ct,levelBuffer:new Uint8Array(_,kt,St)},kt+=St}It+=At+4,It=It%4!==0?It+4-It%4:It,wt=wt>>1||1,Et=Et>>1||1,Tt=wt+ht-1&-4,Ct=Et+mt-1&-4,St=Tt*Ct*xt}return nt!==0?{uncompressed:vt.map(Pt=>{let At=Pt[0].levelBuffer,kt=!1;return nt===TYPES.FLOAT?At=new Float32Array(Pt[0].levelBuffer.buffer,Pt[0].levelBuffer.byteOffset,Pt[0].levelBuffer.byteLength/4):nt===TYPES.UNSIGNED_INT?(kt=!0,At=new Uint32Array(Pt[0].levelBuffer.buffer,Pt[0].levelBuffer.byteOffset,Pt[0].levelBuffer.byteLength/4)):nt===TYPES.INT&&(kt=!0,At=new Int32Array(Pt[0].levelBuffer.buffer,Pt[0].levelBuffer.byteOffset,Pt[0].levelBuffer.byteLength/4)),{resource:new BufferResource(At,{width:Pt[0].levelWidth,height:Pt[0].levelHeight}),type:nt,format:kt?convertFormatToInteger(it):it}}),kvData:_t}:{compressed:vt.map(Pt=>new CompressedTextureResource(null,{format:at,width:lt,height:ct,levels:dt,levelBuffers:Pt})),kvData:_t}}function validate(_e,_){for(let et=0;et<FILE_IDENTIFIER.length;et++)if(_.getUint8(et)!==FILE_IDENTIFIER[et])return console.error(`${_e} is not a valid *.ktx file!`),!1;return!0}function convertFormatToInteger(_e){switch(_e){case FORMATS.RGBA:return FORMATS.RGBA_INTEGER;case FORMATS.RGB:return FORMATS.RGB_INTEGER;case FORMATS.RG:return FORMATS.RG_INTEGER;case FORMATS.RED:return FORMATS.RED_INTEGER;default:return _e}}function parseKvData(_e,_,et){const tt=new Map;let rt=0;for(;rt<_;){const nt=_e.getUint32(FILE_HEADER_SIZE+rt,et),it=FILE_HEADER_SIZE+rt+4,at=3-(nt+3)%4;if(nt===0||nt>_-rt){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let lt=0;for(;lt<nt&&_e.getUint8(it+lt)!==0;lt++);if(lt===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const ct=new TextDecoder().decode(new Uint8Array(_e.buffer,it,lt)),ut=new DataView(_e.buffer,it+lt+1,nt-lt-1);tt.set(ct,ut),rt+=4+nt+at}return tt}const loadDDS={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},name:"loadDDS",test(_e){return checkExtension(_e,".dds")},async load(_e,_,et){const tt=await(await settings.ADAPTER.fetch(_e)).arrayBuffer(),rt=parseDDS(tt).map(nt=>{const it=new BaseTexture(nt,{mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:getResolutionOfUrl(_e),..._.data});return createTexture$1(it,et,_e)});return rt.length===1?rt[0]:rt},unload(_e){Array.isArray(_e)?_e.forEach(_=>_.destroy(!0)):_e.destroy(!0)}};extensions$1.add(loadDDS);const loadKTX={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.High},name:"loadKTX",test(_e){return checkExtension(_e,".ktx")},async load(_e,_,et){const tt=await(await settings.ADAPTER.fetch(_e)).arrayBuffer(),{compressed:rt,uncompressed:nt,kvData:it}=parseKTX(_e,tt),at=rt??nt,lt={mipmap:MIPMAP_MODES.OFF,alphaMode:ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:getResolutionOfUrl(_e),..._.data},ct=at.map(ut=>{at===nt&&Object.assign(lt,{type:ut.type,format:ut.format});const st=ut.resource??ut,ot=new BaseTexture(st,lt);return ot.ktxKeyValueData=it,createTexture$1(ot,et,_e)});return ct.length===1?ct[0]:ct},unload(_e){Array.isArray(_e)?_e.forEach(_=>_.destroy(!0)):_e.destroy(!0)}};extensions$1.add(loadKTX);const knownFormats=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],resolveCompressedTextureUrl={extension:ExtensionType.ResolveParser,test:_e=>{const _=path$1.extname(_e).slice(1);return["basis","ktx","dds"].includes(_)},parse:_e=>{var tt,rt;const _=_e.split("."),et=_.pop();if(["ktx","dds"].includes(et)){const nt=_.pop();if(knownFormats.includes(nt))return{resolution:parseFloat(((tt=settings.RETINA_PREFIX.exec(_e))==null?void 0:tt[1])??"1"),format:nt,src:_e}}return{resolution:parseFloat(((rt=settings.RETINA_PREFIX.exec(_e))==null?void 0:rt[1])??"1"),format:et,src:_e}}};extensions$1.add(resolveCompressedTextureUrl);const TEMP_RECT=new Rectangle,BYTES_PER_PIXEL=4,_Extract=class Po{constructor(_){this.renderer=_,this._rendererPremultipliedAlpha=!1}contextChange(){var et;const _=(et=this.renderer)==null?void 0:et.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(_&&_.alpha&&_.premultipliedAlpha)}async image(_,et,tt,rt){const nt=new Image;return nt.src=await this.base64(_,et,tt,rt),nt}async base64(_,et,tt,rt){const nt=this.canvas(_,rt);if(nt.toBlob!==void 0)return new Promise((it,at)=>{nt.toBlob(lt=>{if(!lt){at(new Error("ICanvas.toBlob failed!"));return}const ct=new FileReader;ct.onload=()=>it(ct.result),ct.onerror=at,ct.readAsDataURL(lt)},et,tt)});if(nt.toDataURL!==void 0)return nt.toDataURL(et,tt);if(nt.convertToBlob!==void 0){const it=await nt.convertToBlob({type:et,quality:tt});return new Promise((at,lt)=>{const ct=new FileReader;ct.onload=()=>at(ct.result),ct.onerror=lt,ct.readAsDataURL(it)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(_,et){const{pixels:tt,width:rt,height:nt,flipY:it,premultipliedAlpha:at}=this._rawPixels(_,et);it&&Po._flipY(tt,rt,nt),at&&Po._unpremultiplyAlpha(tt);const lt=new CanvasRenderTarget(rt,nt,1),ct=new ImageData(new Uint8ClampedArray(tt.buffer),rt,nt);return lt.context.putImageData(ct,0,0),lt.canvas}pixels(_,et){const{pixels:tt,width:rt,height:nt,flipY:it,premultipliedAlpha:at}=this._rawPixels(_,et);return it&&Po._flipY(tt,rt,nt),at&&Po._unpremultiplyAlpha(tt),tt}_rawPixels(_,et){const tt=this.renderer;if(!tt)throw new Error("The Extract has already been destroyed");let rt,nt=!1,it=!1,at,lt=!1;_&&(_ instanceof RenderTexture?at=_:(at=tt.generateTexture(_,{region:et,resolution:tt.resolution,multisample:tt.multisample}),lt=!0,et&&(TEMP_RECT.width=et.width,TEMP_RECT.height=et.height,et=TEMP_RECT)));const ct=tt.gl;if(at){if(rt=at.baseTexture.resolution,et=et??at.frame,nt=!1,it=at.baseTexture.alphaMode>0&&at.baseTexture.format===FORMATS.RGBA,!lt){tt.renderTexture.bind(at);const dt=at.framebuffer.glFramebuffers[tt.CONTEXT_UID];dt.blitFramebuffer&&tt.framebuffer.bind(dt.blitFramebuffer)}}else rt=tt.resolution,et||(et=TEMP_RECT,et.width=tt.width/rt,et.height=tt.height/rt),nt=!0,it=this._rendererPremultipliedAlpha,tt.renderTexture.bind();const ut=Math.max(Math.round(et.width*rt),1),st=Math.max(Math.round(et.height*rt),1),ot=new Uint8Array(BYTES_PER_PIXEL*ut*st);return ct.readPixels(Math.round(et.x*rt),Math.round(et.y*rt),ut,st,ct.RGBA,ct.UNSIGNED_BYTE,ot),lt&&(at==null||at.destroy(!0)),{pixels:ot,width:ut,height:st,flipY:nt,premultipliedAlpha:it}}destroy(){this.renderer=null}static _flipY(_,et,tt){const rt=et<<2,nt=tt>>1,it=new Uint8Array(rt);for(let at=0;at<nt;at++){const lt=at*rt,ct=(tt-at-1)*rt;it.set(_.subarray(lt,lt+rt)),_.copyWithin(lt,ct,ct+rt),_.set(it,ct)}}static _unpremultiplyAlpha(_){_ instanceof Uint8ClampedArray&&(_=new Uint8Array(_.buffer));const et=_.length;for(let tt=0;tt<et;tt+=4){const rt=_[tt+3];if(rt!==0){const nt=255.001/rt;_[tt]=_[tt]*nt+.5,_[tt+1]=_[tt+1]*nt+.5,_[tt+2]=_[tt+2]*nt+.5}}}};_Extract.extension={name:"extract",type:ExtensionType.RendererSystem};let Extract=_Extract;extensions$1.add(Extract);const buildCircle={build(_e){const _=_e.points;let et,tt,rt,nt,it,at;if(_e.type===SHAPES.CIRC){const ft=_e.shape;et=ft.x,tt=ft.y,it=at=ft.radius,rt=nt=0}else if(_e.type===SHAPES.ELIP){const ft=_e.shape;et=ft.x,tt=ft.y,it=ft.width,at=ft.height,rt=nt=0}else{const ft=_e.shape,ht=ft.width/2,mt=ft.height/2;et=ft.x+ht,tt=ft.y+mt,it=at=Math.max(0,Math.min(ft.radius,Math.min(ht,mt))),rt=ht-it,nt=mt-at}if(!(it>=0&&at>=0&&rt>=0&&nt>=0)){_.length=0;return}const lt=Math.ceil(2.3*Math.sqrt(it+at)),ct=lt*8+(rt?4:0)+(nt?4:0);if(_.length=ct,ct===0)return;if(lt===0){_.length=8,_[0]=_[6]=et+rt,_[1]=_[3]=tt+nt,_[2]=_[4]=et-rt,_[5]=_[7]=tt-nt;return}let ut=0,st=lt*4+(rt?2:0)+2,ot=st,dt=ct;{const ft=rt+it,ht=nt,mt=et+ft,gt=et-ft,yt=tt+ht;if(_[ut++]=mt,_[ut++]=yt,_[--st]=yt,_[--st]=gt,nt){const vt=tt-ht;_[ot++]=gt,_[ot++]=vt,_[--dt]=vt,_[--dt]=mt}}for(let ft=1;ft<lt;ft++){const ht=Math.PI/2*(ft/lt),mt=rt+Math.cos(ht)*it,gt=nt+Math.sin(ht)*at,yt=et+mt,vt=et-mt,bt=tt+gt,xt=tt-gt;_[ut++]=yt,_[ut++]=bt,_[--st]=bt,_[--st]=vt,_[ot++]=vt,_[ot++]=xt,_[--dt]=xt,_[--dt]=yt}{const ft=rt,ht=nt+at,mt=et+ft,gt=et-ft,yt=tt+ht,vt=tt-ht;_[ut++]=mt,_[ut++]=yt,_[--dt]=vt,_[--dt]=mt,rt&&(_[ut++]=gt,_[ut++]=yt,_[--dt]=vt,_[--dt]=gt)}},triangulate(_e,_){const et=_e.points,tt=_.points,rt=_.indices;if(et.length===0)return;let nt=tt.length/2;const it=nt;let at,lt;if(_e.type!==SHAPES.RREC){const ut=_e.shape;at=ut.x,lt=ut.y}else{const ut=_e.shape;at=ut.x+ut.width/2,lt=ut.y+ut.height/2}const ct=_e.matrix;tt.push(_e.matrix?ct.a*at+ct.c*lt+ct.tx:at,_e.matrix?ct.b*at+ct.d*lt+ct.ty:lt),nt++,tt.push(et[0],et[1]);for(let ut=2;ut<et.length;ut+=2)tt.push(et[ut],et[ut+1]),rt.push(nt++,it,nt);rt.push(it+1,it,nt)}};function fixOrientation(_e,_=!1){const et=_e.length;if(et<6)return;let tt=0;for(let rt=0,nt=_e[et-2],it=_e[et-1];rt<et;rt+=2){const at=_e[rt],lt=_e[rt+1];tt+=(at-nt)*(lt+it),nt=at,it=lt}if(!_&&tt>0||_&&tt<=0){const rt=et/2;for(let nt=rt+rt%2;nt<et;nt+=2){const it=et-nt-2,at=et-nt-1,lt=nt,ct=nt+1;[_e[it],_e[lt]]=[_e[lt],_e[it]],[_e[at],_e[ct]]=[_e[ct],_e[at]]}}}const buildPoly={build(_e){_e.points=_e.shape.points.slice()},triangulate(_e,_){let et=_e.points;const tt=_e.holes,rt=_.points,nt=_.indices;if(et.length>=6){fixOrientation(et,!1);const it=[];for(let ct=0;ct<tt.length;ct++){const ut=tt[ct];fixOrientation(ut.points,!0),it.push(et.length/2),et=et.concat(ut.points)}const at=earcut$1(et,it,2);if(!at)return;const lt=rt.length/2;for(let ct=0;ct<at.length;ct+=3)nt.push(at[ct]+lt),nt.push(at[ct+1]+lt),nt.push(at[ct+2]+lt);for(let ct=0;ct<et.length;ct++)rt.push(et[ct])}}},buildRectangle={build(_e){const _=_e.shape,et=_.x,tt=_.y,rt=_.width,nt=_.height,it=_e.points;it.length=0,rt>=0&&nt>=0&&it.push(et,tt,et+rt,tt,et+rt,tt+nt,et,tt+nt)},triangulate(_e,_){const et=_e.points,tt=_.points;if(et.length===0)return;const rt=tt.length/2;tt.push(et[0],et[1],et[2],et[3],et[6],et[7],et[4],et[5]),_.indices.push(rt,rt+1,rt+2,rt+1,rt+2,rt+3)}},buildRoundedRectangle={build(_e){buildCircle.build(_e)},triangulate(_e,_){buildCircle.triangulate(_e,_)}};var LINE_JOIN=(_e=>(_e.MITER="miter",_e.BEVEL="bevel",_e.ROUND="round",_e))(LINE_JOIN||{}),LINE_CAP=(_e=>(_e.BUTT="butt",_e.ROUND="round",_e.SQUARE="square",_e))(LINE_CAP||{});const curves={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(_e,_=20){if(!this.adaptive||!_e||isNaN(_e))return _;let et=Math.ceil(_e/this.maxLength);return et<this.minSegments?et=this.minSegments:et>this.maxSegments&&(et=this.maxSegments),et}};class ArcUtils{static curveTo(_,et,tt,rt,nt,it){const at=it[it.length-2],lt=it[it.length-1]-et,ct=at-_,ut=rt-et,st=tt-_,ot=Math.abs(lt*st-ct*ut);if(ot<1e-8||nt===0)return(it[it.length-2]!==_||it[it.length-1]!==et)&&it.push(_,et),null;const dt=lt*lt+ct*ct,ft=ut*ut+st*st,ht=lt*ut+ct*st,mt=nt*Math.sqrt(dt)/ot,gt=nt*Math.sqrt(ft)/ot,yt=mt*ht/dt,vt=gt*ht/ft,bt=mt*st+gt*ct,xt=mt*ut+gt*lt,_t=ct*(gt+yt),St=lt*(gt+yt),wt=st*(mt+vt),Et=ut*(mt+vt),Tt=Math.atan2(St-xt,_t-bt),Ct=Math.atan2(Et-xt,wt-bt);return{cx:bt+_,cy:xt+et,radius:nt,startAngle:Tt,endAngle:Ct,anticlockwise:ct*ut>st*lt}}static arc(_,et,tt,rt,nt,it,at,lt,ct){const ut=at-it,st=curves._segmentsCount(Math.abs(ut)*nt,Math.ceil(Math.abs(ut)/PI_2)*40),ot=ut/(st*2),dt=ot*2,ft=Math.cos(ot),ht=Math.sin(ot),mt=st-1,gt=mt%1/mt;for(let yt=0;yt<=mt;++yt){const vt=yt+gt*yt,bt=ot+it+dt*vt,xt=Math.cos(bt),_t=-Math.sin(bt);ct.push((ft*xt+ht*_t)*nt+tt,(ft*-_t+ht*xt)*nt+rt)}}}class BatchPart{constructor(){this.reset()}begin(_,et,tt){this.reset(),this.style=_,this.start=et,this.attribStart=tt}end(_,et){this.attribSize=et-this.attribStart,this.size=_-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class BezierUtils{static curveLength(_,et,tt,rt,nt,it,at,lt){let ct=0,ut=0,st=0,ot=0,dt=0,ft=0,ht=0,mt=0,gt=0,yt=0,vt=0,bt=_,xt=et;for(let _t=1;_t<=10;++_t)ut=_t/10,st=ut*ut,ot=st*ut,dt=1-ut,ft=dt*dt,ht=ft*dt,mt=ht*_+3*ft*ut*tt+3*dt*st*nt+ot*at,gt=ht*et+3*ft*ut*rt+3*dt*st*it+ot*lt,yt=bt-mt,vt=xt-gt,bt=mt,xt=gt,ct+=Math.sqrt(yt*yt+vt*vt);return ct}static curveTo(_,et,tt,rt,nt,it,at){const lt=at[at.length-2],ct=at[at.length-1];at.length-=2;const ut=curves._segmentsCount(BezierUtils.curveLength(lt,ct,_,et,tt,rt,nt,it));let st=0,ot=0,dt=0,ft=0,ht=0;at.push(lt,ct);for(let mt=1,gt=0;mt<=ut;++mt)gt=mt/ut,st=1-gt,ot=st*st,dt=ot*st,ft=gt*gt,ht=ft*gt,at.push(dt*lt+3*ot*gt*_+3*st*ft*tt+ht*nt,dt*ct+3*ot*gt*et+3*st*ft*rt+ht*it)}}function square(_e,_,et,tt,rt,nt,it,at){const lt=_e-et*rt,ct=_-tt*rt,ut=_e+et*nt,st=_+tt*nt;let ot,dt;it?(ot=tt,dt=-et):(ot=-tt,dt=et);const ft=lt+ot,ht=ct+dt,mt=ut+ot,gt=st+dt;return at.push(ft,ht,mt,gt),2}function round$1(_e,_,et,tt,rt,nt,it,at){const lt=et-_e,ct=tt-_;let ut=Math.atan2(lt,ct),st=Math.atan2(rt-_e,nt-_);at&&ut<st?ut+=Math.PI*2:!at&&ut>st&&(st+=Math.PI*2);let ot=ut;const dt=st-ut,ft=Math.abs(dt),ht=Math.sqrt(lt*lt+ct*ct),mt=(15*ft*Math.sqrt(ht)/Math.PI>>0)+1,gt=dt/mt;if(ot+=gt,at){it.push(_e,_,et,tt);for(let yt=1,vt=ot;yt<mt;yt++,vt+=gt)it.push(_e,_,_e+Math.sin(vt)*ht,_+Math.cos(vt)*ht);it.push(_e,_,rt,nt)}else{it.push(et,tt,_e,_);for(let yt=1,vt=ot;yt<mt;yt++,vt+=gt)it.push(_e+Math.sin(vt)*ht,_+Math.cos(vt)*ht,_e,_);it.push(rt,nt,_e,_)}return mt*2}function buildNonNativeLine(_e,_){const et=_e.shape;let tt=_e.points||et.points.slice();const rt=_.closePointEps;if(tt.length===0)return;const nt=_e.lineStyle,it=new Point(tt[0],tt[1]),at=new Point(tt[tt.length-2],tt[tt.length-1]),lt=et.type!==SHAPES.POLY||et.closeStroke,ct=Math.abs(it.x-at.x)<rt&&Math.abs(it.y-at.y)<rt;if(lt){tt=tt.slice(),ct&&(tt.pop(),tt.pop(),at.set(tt[tt.length-2],tt[tt.length-1]));const $t=(it.x+at.x)*.5,Mt=(at.y+it.y)*.5;tt.unshift($t,Mt),tt.push($t,Mt)}const ut=_.points,st=tt.length/2;let ot=tt.length;const dt=ut.length/2,ft=nt.width/2,ht=ft*ft,mt=nt.miterLimit*nt.miterLimit;let gt=tt[0],yt=tt[1],vt=tt[2],bt=tt[3],xt=0,_t=0,St=-(yt-bt),wt=gt-vt,Et=0,Tt=0,Ct=Math.sqrt(St*St+wt*wt);St/=Ct,wt/=Ct,St*=ft,wt*=ft;const It=nt.alignment,Pt=(1-It)*2,At=It*2;lt||(nt.cap===LINE_CAP.ROUND?ot+=round$1(gt-St*(Pt-At)*.5,yt-wt*(Pt-At)*.5,gt-St*Pt,yt-wt*Pt,gt+St*At,yt+wt*At,ut,!0)+2:nt.cap===LINE_CAP.SQUARE&&(ot+=square(gt,yt,St,wt,Pt,At,!0,ut))),ut.push(gt-St*Pt,yt-wt*Pt,gt+St*At,yt+wt*At);for(let $t=1;$t<st-1;++$t){gt=tt[($t-1)*2],yt=tt[($t-1)*2+1],vt=tt[$t*2],bt=tt[$t*2+1],xt=tt[($t+1)*2],_t=tt[($t+1)*2+1],St=-(yt-bt),wt=gt-vt,Ct=Math.sqrt(St*St+wt*wt),St/=Ct,wt/=Ct,St*=ft,wt*=ft,Et=-(bt-_t),Tt=vt-xt,Ct=Math.sqrt(Et*Et+Tt*Tt),Et/=Ct,Tt/=Ct,Et*=ft,Tt*=ft;const Mt=vt-gt,Nt=yt-bt,Dt=vt-xt,jt=_t-bt,Ut=Mt*Dt+Nt*jt,Xt=Nt*Dt-jt*Mt,Wt=Xt<0;if(Math.abs(Xt)<.001*Math.abs(Ut)){ut.push(vt-St*Pt,bt-wt*Pt,vt+St*At,bt+wt*At),Ut>=0&&(nt.join===LINE_JOIN.ROUND?ot+=round$1(vt,bt,vt-St*Pt,bt-wt*Pt,vt-Et*Pt,bt-Tt*Pt,ut,!1)+4:ot+=2,ut.push(vt-Et*At,bt-Tt*At,vt+Et*Pt,bt+Tt*Pt));continue}const Vt=(-St+gt)*(-wt+bt)-(-St+vt)*(-wt+yt),qt=(-Et+xt)*(-Tt+bt)-(-Et+vt)*(-Tt+_t),tr=(Mt*qt-Dt*Vt)/Xt,Kt=(jt*Vt-Nt*qt)/Xt,Yt=(tr-vt)*(tr-vt)+(Kt-bt)*(Kt-bt),rr=vt+(tr-vt)*Pt,ir=bt+(Kt-bt)*Pt,lr=vt-(tr-vt)*At,ar=bt-(Kt-bt)*At,ur=Math.min(Mt*Mt+Nt*Nt,Dt*Dt+jt*jt),fr=Wt?Pt:At,yr=ur+fr*fr*ht,Tr=Yt<=yr;let Sr=nt.join;if(Sr===LINE_JOIN.MITER&&Yt/ht>mt&&(Sr=LINE_JOIN.BEVEL),Tr)switch(Sr){case LINE_JOIN.MITER:{ut.push(rr,ir,lr,ar);break}case LINE_JOIN.BEVEL:{Wt?ut.push(rr,ir,vt+St*At,bt+wt*At,rr,ir,vt+Et*At,bt+Tt*At):ut.push(vt-St*Pt,bt-wt*Pt,lr,ar,vt-Et*Pt,bt-Tt*Pt,lr,ar),ot+=2;break}case LINE_JOIN.ROUND:{Wt?(ut.push(rr,ir,vt+St*At,bt+wt*At),ot+=round$1(vt,bt,vt+St*At,bt+wt*At,vt+Et*At,bt+Tt*At,ut,!0)+4,ut.push(rr,ir,vt+Et*At,bt+Tt*At)):(ut.push(vt-St*Pt,bt-wt*Pt,lr,ar),ot+=round$1(vt,bt,vt-St*Pt,bt-wt*Pt,vt-Et*Pt,bt-Tt*Pt,ut,!1)+4,ut.push(vt-Et*Pt,bt-Tt*Pt,lr,ar));break}}else{switch(ut.push(vt-St*Pt,bt-wt*Pt,vt+St*At,bt+wt*At),Sr){case LINE_JOIN.MITER:{Wt?ut.push(lr,ar,lr,ar):ut.push(rr,ir,rr,ir),ot+=2;break}case LINE_JOIN.ROUND:{Wt?ot+=round$1(vt,bt,vt+St*At,bt+wt*At,vt+Et*At,bt+Tt*At,ut,!0)+2:ot+=round$1(vt,bt,vt-St*Pt,bt-wt*Pt,vt-Et*Pt,bt-Tt*Pt,ut,!1)+2;break}}ut.push(vt-Et*Pt,bt-Tt*Pt,vt+Et*At,bt+Tt*At),ot+=2}}gt=tt[(st-2)*2],yt=tt[(st-2)*2+1],vt=tt[(st-1)*2],bt=tt[(st-1)*2+1],St=-(yt-bt),wt=gt-vt,Ct=Math.sqrt(St*St+wt*wt),St/=Ct,wt/=Ct,St*=ft,wt*=ft,ut.push(vt-St*Pt,bt-wt*Pt,vt+St*At,bt+wt*At),lt||(nt.cap===LINE_CAP.ROUND?ot+=round$1(vt-St*(Pt-At)*.5,bt-wt*(Pt-At)*.5,vt-St*Pt,bt-wt*Pt,vt+St*At,bt+wt*At,ut,!1)+2:nt.cap===LINE_CAP.SQUARE&&(ot+=square(vt,bt,St,wt,Pt,At,!1,ut)));const kt=_.indices,Rt=curves.epsilon*curves.epsilon;for(let $t=dt;$t<ot+dt-2;++$t)gt=ut[$t*2],yt=ut[$t*2+1],vt=ut[($t+1)*2],bt=ut[($t+1)*2+1],xt=ut[($t+2)*2],_t=ut[($t+2)*2+1],!(Math.abs(gt*(bt-_t)+vt*(_t-yt)+xt*(yt-bt))<Rt)&&kt.push($t,$t+1,$t+2)}function buildNativeLine(_e,_){let et=0;const tt=_e.shape,rt=_e.points||tt.points,nt=tt.type!==SHAPES.POLY||tt.closeStroke;if(rt.length===0)return;const it=_.points,at=_.indices,lt=rt.length/2,ct=it.length/2;let ut=ct;for(it.push(rt[0],rt[1]),et=1;et<lt;et++)it.push(rt[et*2],rt[et*2+1]),at.push(ut,ut+1),ut++;nt&&at.push(ut,ct)}function buildLine(_e,_){_e.lineStyle.native?buildNativeLine(_e,_):buildNonNativeLine(_e,_)}class QuadraticUtils{static curveLength(_,et,tt,rt,nt,it){const at=_-2*tt+nt,lt=et-2*rt+it,ct=2*tt-2*_,ut=2*rt-2*et,st=4*(at*at+lt*lt),ot=4*(at*ct+lt*ut),dt=ct*ct+ut*ut,ft=2*Math.sqrt(st+ot+dt),ht=Math.sqrt(st),mt=2*st*ht,gt=2*Math.sqrt(dt),yt=ot/ht;return(mt*ft+ht*ot*(ft-gt)+(4*dt*st-ot*ot)*Math.log((2*ht+yt+ft)/(yt+gt)))/(4*mt)}static curveTo(_,et,tt,rt,nt){const it=nt[nt.length-2],at=nt[nt.length-1],lt=curves._segmentsCount(QuadraticUtils.curveLength(it,at,_,et,tt,rt));let ct=0,ut=0;for(let st=1;st<=lt;++st){const ot=st/lt;ct=it+(_-it)*ot,ut=at+(et-at)*ot,nt.push(ct+(_+(tt-_)*ot-ct)*ot,ut+(et+(rt-et)*ot-ut)*ot)}}}const FILL_COMMANDS={[SHAPES.POLY]:buildPoly,[SHAPES.CIRC]:buildCircle,[SHAPES.ELIP]:buildCircle,[SHAPES.RECT]:buildRectangle,[SHAPES.RREC]:buildRoundedRectangle},BATCH_POOL=[],DRAW_CALL_POOL=[];class GraphicsData{constructor(_,et=null,tt=null,rt=null){this.points=[],this.holes=[],this.shape=_,this.lineStyle=tt,this.fillStyle=et,this.matrix=rt,this.type=_.type}clone(){return new GraphicsData(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const tmpPoint=new Point,_GraphicsGeometry=class Zs extends BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let _=0;_<this.drawCalls.length;_++)this.drawCalls[_].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[_]);this.drawCalls.length=0;for(let _=0;_<this.batches.length;_++){const et=this.batches[_];et.reset(),BATCH_POOL.push(et)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(_,et=null,tt=null,rt=null){const nt=new GraphicsData(_,et,tt,rt);return this.graphicsData.push(nt),this.dirty++,this}drawHole(_,et=null){if(!this.graphicsData.length)return null;const tt=new GraphicsData(_,null,null,et),rt=this.graphicsData[this.graphicsData.length-1];return tt.lineStyle=rt.lineStyle,rt.holes.push(tt),this.dirty++,this}destroy(){super.destroy();for(let _=0;_<this.graphicsData.length;++_)this.graphicsData[_].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(_){const et=this.graphicsData;for(let tt=0;tt<et.length;++tt){const rt=et[tt];if(rt.fillStyle.visible&&rt.shape&&(rt.matrix?rt.matrix.applyInverse(_,tmpPoint):tmpPoint.copyFrom(_),rt.shape.contains(tmpPoint.x,tmpPoint.y))){let nt=!1;if(rt.holes){for(let it=0;it<rt.holes.length;it++)if(rt.holes[it].shape.contains(tmpPoint.x,tmpPoint.y)){nt=!0;break}}if(!nt)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const _=this.uvs,et=this.graphicsData;let tt=null,rt=null;this.batches.length>0&&(tt=this.batches[this.batches.length-1],rt=tt.style);for(let lt=this.shapeIndex;lt<et.length;lt++){this.shapeIndex++;const ct=et[lt],ut=ct.fillStyle,st=ct.lineStyle;FILL_COMMANDS[ct.type].build(ct),ct.matrix&&this.transformPoints(ct.points,ct.matrix),(ut.visible||st.visible)&&this.processHoles(ct.holes);for(let ot=0;ot<2;ot++){const dt=ot===0?ut:st;if(!dt.visible)continue;const ft=dt.texture.baseTexture,ht=this.indices.length,mt=this.points.length/2;ft.wrapMode=WRAP_MODES.REPEAT,ot===0?this.processFill(ct):this.processLine(ct);const gt=this.points.length/2-mt;gt!==0&&(tt&&!this._compareStyles(rt,dt)&&(tt.end(ht,mt),tt=null),tt||(tt=BATCH_POOL.pop()||new BatchPart,tt.begin(dt,ht,mt),this.batches.push(tt),rt=dt),this.addUvs(this.points,_,dt.texture,mt,gt,dt.matrix))}}const nt=this.indices.length,it=this.points.length/2;if(tt&&tt.end(nt,it),this.batches.length===0){this.batchable=!0;return}const at=it>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&at===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=at?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(_,et){return!(!_||!et||_.texture.baseTexture!==et.texture.baseTexture||_.color+_.alpha!==et.color+et.alpha||!!_.native!=!!et.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let _=0,et=this.graphicsData.length;_<et;_++){const tt=this.graphicsData[_],rt=tt.fillStyle,nt=tt.lineStyle;if(rt&&!rt.texture.baseTexture.valid||nt&&!nt.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const _=this.batches;for(let et=0,tt=_.length;et<tt;et++){const rt=_[et];for(let nt=0;nt<rt.size;nt++){const it=rt.start+nt;this.indicesUint16[it]=this.indicesUint16[it]-rt.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const _=this.batches;for(let et=0;et<_.length;et++)if(_[et].style.native)return!1;return this.points.length<Zs.BATCHABLE_SIZE*2}buildDrawCalls(){let _=++BaseTexture._globalBatch;for(let st=0;st<this.drawCalls.length;st++)this.drawCalls[st].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[st]);this.drawCalls.length=0;const et=this.colors,tt=this.textureIds;let rt=DRAW_CALL_POOL.pop();rt||(rt=new BatchDrawCall,rt.texArray=new BatchTextureArray),rt.texArray.count=0,rt.start=0,rt.size=0,rt.type=DRAW_MODES.TRIANGLES;let nt=0,it=null,at=0,lt=!1,ct=DRAW_MODES.TRIANGLES,ut=0;this.drawCalls.push(rt);for(let st=0;st<this.batches.length;st++){const ot=this.batches[st],dt=8,ft=ot.style,ht=ft.texture.baseTexture;lt!==!!ft.native&&(lt=!!ft.native,ct=lt?DRAW_MODES.LINES:DRAW_MODES.TRIANGLES,it=null,nt=dt,_++),it!==ht&&(it=ht,ht._batchEnabled!==_&&(nt===dt&&(_++,nt=0,rt.size>0&&(rt=DRAW_CALL_POOL.pop(),rt||(rt=new BatchDrawCall,rt.texArray=new BatchTextureArray),this.drawCalls.push(rt)),rt.start=ut,rt.size=0,rt.texArray.count=0,rt.type=ct),ht.touched=1,ht._batchEnabled=_,ht._batchLocation=nt,ht.wrapMode=WRAP_MODES.REPEAT,rt.texArray.elements[rt.texArray.count++]=ht,nt++)),rt.size+=ot.size,ut+=ot.size,at=ht._batchLocation,this.addColors(et,ft.color,ft.alpha,ot.attribSize,ot.attribStart),this.addTextureIds(tt,at,ot.attribSize,ot.attribStart)}BaseTexture._globalBatch=_,this.packAttributes()}packAttributes(){const _=this.points,et=this.uvs,tt=this.colors,rt=this.textureIds,nt=new ArrayBuffer(_.length*3*4),it=new Float32Array(nt),at=new Uint32Array(nt);let lt=0;for(let ct=0;ct<_.length/2;ct++)it[lt++]=_[ct*2],it[lt++]=_[ct*2+1],it[lt++]=et[ct*2],it[lt++]=et[ct*2+1],at[lt++]=tt[ct],it[lt++]=rt[ct];this._buffer.update(nt),this._indexBuffer.update(this.indicesUint16)}processFill(_){_.holes.length?buildPoly.triangulate(_,this):FILL_COMMANDS[_.type].triangulate(_,this)}processLine(_){buildLine(_,this);for(let et=0;et<_.holes.length;et++)buildLine(_.holes[et],this)}processHoles(_){for(let et=0;et<_.length;et++){const tt=_[et];FILL_COMMANDS[tt.type].build(tt),tt.matrix&&this.transformPoints(tt.points,tt.matrix)}}calculateBounds(){const _=this._bounds;_.clear(),_.addVertexData(this.points,0,this.points.length),_.pad(this.boundsPadding,this.boundsPadding)}transformPoints(_,et){for(let tt=0;tt<_.length/2;tt++){const rt=_[tt*2],nt=_[tt*2+1];_[tt*2]=et.a*rt+et.c*nt+et.tx,_[tt*2+1]=et.b*rt+et.d*nt+et.ty}}addColors(_,et,tt,rt,nt=0){const it=Color.shared.setValue(et).toLittleEndianNumber(),at=Color.shared.setValue(it).toPremultiplied(tt);_.length=Math.max(_.length,nt+rt);for(let lt=0;lt<rt;lt++)_[nt+lt]=at}addTextureIds(_,et,tt,rt=0){_.length=Math.max(_.length,rt+tt);for(let nt=0;nt<tt;nt++)_[rt+nt]=et}addUvs(_,et,tt,rt,nt,it=null){let at=0;const lt=et.length,ct=tt.frame;for(;at<nt;){let st=_[(rt+at)*2],ot=_[(rt+at)*2+1];if(it){const dt=it.a*st+it.c*ot+it.tx;ot=it.b*st+it.d*ot+it.ty,st=dt}at++,et.push(st/ct.width,ot/ct.height)}const ut=tt.baseTexture;(ct.width<ut.width||ct.height<ut.height)&&this.adjustUvs(et,tt,lt,nt)}adjustUvs(_,et,tt,rt){const nt=et.baseTexture,it=1e-6,at=tt+rt*2,lt=et.frame,ct=lt.width/nt.width,ut=lt.height/nt.height;let st=lt.x/lt.width,ot=lt.y/lt.height,dt=Math.floor(_[tt]+it),ft=Math.floor(_[tt+1]+it);for(let ht=tt+2;ht<at;ht+=2)dt=Math.min(dt,Math.floor(_[ht]+it)),ft=Math.min(ft,Math.floor(_[ht+1]+it));st-=dt,ot-=ft;for(let ht=tt;ht<at;ht+=2)_[ht]=(_[ht]+st)*ct,_[ht+1]=(_[ht+1]+ot)*ut}};_GraphicsGeometry.BATCHABLE_SIZE=100;let GraphicsGeometry=_GraphicsGeometry;class FillStyle{constructor(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const _=new FillStyle;return _.color=this.color,_.alpha=this.alpha,_.texture=this.texture,_.matrix=this.matrix,_.visible=this.visible,_}reset(){this.color=16777215,this.alpha=1,this.texture=Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class LineStyle extends FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=LINE_CAP.BUTT,this.join=LINE_JOIN.MITER,this.miterLimit=10}clone(){const _=new LineStyle;return _.color=this.color,_.alpha=this.alpha,_.texture=this.texture,_.matrix=this.matrix,_.visible=this.visible,_.width=this.width,_.alignment=this.alignment,_.native=this.native,_.cap=this.cap,_.join=this.join,_.miterLimit=this.miterLimit,_}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=LINE_CAP.BUTT,this.join=LINE_JOIN.MITER,this.miterLimit=10}}const DEFAULT_SHADERS={},_Graphics=class ko extends Container{constructor(_=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new FillStyle,this._lineStyle=new LineStyle,this._matrix=null,this._holeMode=!1,this.state=State.for2d(),this._geometry=_||new GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Color(16777215),this.blendMode=BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new ko(this._geometry)}set blendMode(_){this.state.blendMode=_}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(_){this._tintColor.setValue(_)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(_=null,et=0,tt,rt=.5,nt=!1){return typeof _=="number"&&(_={width:_,color:et,alpha:tt,alignment:rt,native:nt}),this.lineTextureStyle(_)}lineTextureStyle(_){const et={width:0,texture:Texture.WHITE,color:_!=null&&_.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10};_=Object.assign(et,_),this.normalizeColor(_),this.currentPath&&this.startPoly();const tt=_.width>0&&_.alpha>0;return tt?(_.matrix&&(_.matrix=_.matrix.clone(),_.matrix.invert()),Object.assign(this._lineStyle,{visible:tt},_)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const _=this.currentPath.points,et=this.currentPath.points.length;et>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(_[et-2],_[et-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(_,et){return this.startPoly(),this.currentPath.points[0]=_,this.currentPath.points[1]=et,this}lineTo(_,et){this.currentPath||this.moveTo(0,0);const tt=this.currentPath.points,rt=tt[tt.length-2],nt=tt[tt.length-1];return(rt!==_||nt!==et)&&tt.push(_,et),this}_initCurve(_=0,et=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[_,et]):this.moveTo(_,et)}quadraticCurveTo(_,et,tt,rt){this._initCurve();const nt=this.currentPath.points;return nt.length===0&&this.moveTo(0,0),QuadraticUtils.curveTo(_,et,tt,rt,nt),this}bezierCurveTo(_,et,tt,rt,nt,it){return this._initCurve(),BezierUtils.curveTo(_,et,tt,rt,nt,it,this.currentPath.points),this}arcTo(_,et,tt,rt,nt){this._initCurve(_,et);const it=this.currentPath.points,at=ArcUtils.curveTo(_,et,tt,rt,nt,it);if(at){const{cx:lt,cy:ct,radius:ut,startAngle:st,endAngle:ot,anticlockwise:dt}=at;this.arc(lt,ct,ut,st,ot,dt)}return this}arc(_,et,tt,rt,nt,it=!1){if(rt===nt)return this;if(!it&&nt<=rt?nt+=PI_2:it&&rt<=nt&&(rt+=PI_2),nt-rt===0)return this;const at=_+Math.cos(rt)*tt,lt=et+Math.sin(rt)*tt,ct=this._geometry.closePointEps;let ut=this.currentPath?this.currentPath.points:null;if(ut){const st=Math.abs(ut[ut.length-2]-at),ot=Math.abs(ut[ut.length-1]-lt);st<ct&&ot<ct||ut.push(at,lt)}else this.moveTo(at,lt),ut=this.currentPath.points;return ArcUtils.arc(at,lt,_,et,tt,rt,nt,it,ut),this}beginFill(_=0,et){return this.beginTextureFill({texture:Texture.WHITE,color:_,alpha:et})}normalizeColor(_){const et=Color.shared.setValue(_.color??0);_.color=et.toNumber(),_.alpha??(_.alpha=et.alpha)}beginTextureFill(_){const et={texture:Texture.WHITE,color:16777215,matrix:null};_=Object.assign(et,_),this.normalizeColor(_),this.currentPath&&this.startPoly();const tt=_.alpha>0;return tt?(_.matrix&&(_.matrix=_.matrix.clone(),_.matrix.invert()),Object.assign(this._fillStyle,{visible:tt},_)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(_,et,tt,rt){return this.drawShape(new Rectangle(_,et,tt,rt))}drawRoundedRect(_,et,tt,rt,nt){return this.drawShape(new RoundedRectangle(_,et,tt,rt,nt))}drawCircle(_,et,tt){return this.drawShape(new Circle(_,et,tt))}drawEllipse(_,et,tt,rt){return this.drawShape(new Ellipse(_,et,tt,rt))}drawPolygon(..._){let et,tt=!0;const rt=_[0];rt.points?(tt=rt.closeStroke,et=rt.points):Array.isArray(_[0])?et=_[0]:et=_;const nt=new Polygon(et);return nt.closeStroke=tt,this.drawShape(nt),this}drawShape(_){return this._holeMode?this._geometry.drawHole(_,this._matrix):this._geometry.drawShape(_,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const _=this._geometry.graphicsData;return _.length===1&&_[0].shape.type===SHAPES.RECT&&!_[0].matrix&&!_[0].holes.length&&!(_[0].lineStyle.visible&&_[0].lineStyle.width)}_render(_){this.finishPoly();const et=this._geometry;et.updateBatches(),et.batchable?(this.batchDirty!==et.batchDirty&&this._populateBatches(),this._renderBatched(_)):(_.batch.flush(),this._renderDirect(_))}_populateBatches(){const _=this._geometry,et=this.blendMode,tt=_.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=_.batchDirty,this.batches.length=tt,this.vertexData=new Float32Array(_.points);for(let rt=0;rt<tt;rt++){const nt=_.batches[rt],it=nt.style.color,at=new Float32Array(this.vertexData.buffer,nt.attribStart*4*2,nt.attribSize*2),lt=new Float32Array(_.uvsFloat32.buffer,nt.attribStart*4*2,nt.attribSize*2),ct=new Uint16Array(_.indicesUint16.buffer,nt.start*2,nt.size),ut={vertexData:at,blendMode:et,indices:ct,uvs:lt,_batchRGB:Color.shared.setValue(it).toRgbArray(),_tintRGB:it,_texture:nt.style.texture,alpha:nt.style.alpha,worldAlpha:1};this.batches[rt]=ut}}_renderBatched(_){if(this.batches.length){_.batch.setObjectRenderer(_.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let et=0,tt=this.batches.length;et<tt;et++){const rt=this.batches[et];rt.worldAlpha=this.worldAlpha*rt.alpha,_.plugins[this.pluginName].render(rt)}}}_renderDirect(_){const et=this._resolveDirectShader(_),tt=this._geometry,rt=this.worldAlpha,nt=et.uniforms,it=tt.drawCalls;nt.translationMatrix=this.transform.worldTransform,Color.shared.setValue(this._tintColor).premultiply(rt).toArray(nt.tint),_.shader.bind(et),_.geometry.bind(tt,et),_.state.set(this.state);for(let at=0,lt=it.length;at<lt;at++)this._renderDrawCallDirect(_,tt.drawCalls[at])}_renderDrawCallDirect(_,et){const{texArray:tt,type:rt,size:nt,start:it}=et,at=tt.count;for(let lt=0;lt<at;lt++)_.texture.bind(tt.elements[lt],lt);_.geometry.draw(rt,nt,it)}_resolveDirectShader(_){let et=this.shader;const tt=this.pluginName;if(!et){if(!DEFAULT_SHADERS[tt]){const{maxTextures:rt}=_.plugins[tt],nt=new Int32Array(rt);for(let lt=0;lt<rt;lt++)nt[lt]=lt;const it={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:UniformGroup.from({uSamplers:nt},!0)},at=_.plugins[tt]._shader.program;DEFAULT_SHADERS[tt]=new Shader(at,it)}et=DEFAULT_SHADERS[tt]}return et}_calculateBounds(){this.finishPoly();const _=this._geometry;if(!_.graphicsData.length)return;const{minX:et,minY:tt,maxX:rt,maxY:nt}=_.bounds;this._bounds.addFrame(this.transform,et,tt,rt,nt)}containsPoint(_){return this.worldTransform.applyInverse(_,ko._TEMP_POINT),this._geometry.containsPoint(ko._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let _=0;_<this.batches.length;_++){const et=this.batches[_];et._tintRGB=Color.shared.setValue(this._tintColor).multiply(et._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const _=this.transform._worldID;if(this._transformID===_)return;this._transformID=_;const et=this.transform.worldTransform,tt=et.a,rt=et.b,nt=et.c,it=et.d,at=et.tx,lt=et.ty,ct=this._geometry.points,ut=this.vertexData;let st=0;for(let ot=0;ot<ct.length;ot+=2){const dt=ct[ot],ft=ct[ot+1];ut[st++]=tt*dt+nt*ft+at,ut[st++]=it*ft+rt*dt+lt}}closePath(){const _=this.currentPath;return _&&(_.closeStroke=!0,this.finishPoly()),this}setMatrix(_){return this._matrix=_,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(_){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(_)}};_Graphics.curves=curves,_Graphics._TEMP_POINT=new Point;let Graphics=_Graphics;class MeshBatchUvs{constructor(_,et){this.uvBuffer=_,this.uvMatrix=et,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(_){if(!_&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const et=this.uvBuffer.data;(!this.data||this.data.length!==et.length)&&(this.data=new Float32Array(et.length)),this.uvMatrix.multiplyUvs(et,this.data),this._updateID++}}const tempPoint$1=new Point,tempPolygon=new Polygon,_Mesh=class Qs extends Container{constructor(_,et,tt,rt=DRAW_MODES.TRIANGLES){super(),this.geometry=_,this.shader=et,this.state=tt||State.for2d(),this.drawMode=rt,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(_){this._geometry!==_&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=_,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(_){this.shader=_}get material(){return this.shader}set blendMode(_){this.state.blendMode=_}get blendMode(){return this.state.blendMode}set roundPixels(_){this._roundPixels!==_&&(this._transformID=-1),this._roundPixels=_}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(_){this.shader.tint=_}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(_){this.shader.texture=_}_render(_){const et=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===DRAW_MODES.TRIANGLES&&et.length<Qs.BATCHABLE_SIZE*2?this._renderToBatch(_):this._renderDefault(_)}_renderDefault(_){const et=this.shader;et.alpha=this.worldAlpha,et.update&&et.update(),_.batch.flush(),et.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),_.shader.bind(et),_.state.set(this.state),_.geometry.bind(this.geometry,et),_.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(_){const et=this.geometry,tt=this.shader;tt.uvMatrix&&(tt.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=et.indexBuffer.data,this._tintRGB=tt._tintRGB,this._texture=tt.texture;const rt=this.material.pluginName;_.batch.setObjectRenderer(_.plugins[rt]),_.plugins[rt].render(this)}calculateVertices(){const _=this.geometry.buffers[0],et=_.data,tt=_._updateID;if(tt===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==et.length&&(this.vertexData=new Float32Array(et.length));const rt=this.transform.worldTransform,nt=rt.a,it=rt.b,at=rt.c,lt=rt.d,ct=rt.tx,ut=rt.ty,st=this.vertexData;for(let ot=0;ot<st.length/2;ot++){const dt=et[ot*2],ft=et[ot*2+1];st[ot*2]=nt*dt+at*ft+ct,st[ot*2+1]=it*dt+lt*ft+ut}if(this._roundPixels){const ot=settings.RESOLUTION;for(let dt=0;dt<st.length;++dt)st[dt]=Math.round(st[dt]*ot)/ot}this.vertexDirty=tt}calculateUvs(){const _=this.geometry.buffers[1],et=this.shader;et.uvMatrix.isSimple?this.uvs=_.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(_,et.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(_){if(!this.getBounds().contains(_.x,_.y))return!1;this.worldTransform.applyInverse(_,tempPoint$1);const et=this.geometry.getBuffer("aVertexPosition").data,tt=tempPolygon.points,rt=this.geometry.getIndex().data,nt=rt.length,it=this.drawMode===4?3:1;for(let at=0;at+2<nt;at+=it){const lt=rt[at]*2,ct=rt[at+1]*2,ut=rt[at+2]*2;if(tt[0]=et[lt],tt[1]=et[lt+1],tt[2]=et[ct],tt[3]=et[ct+1],tt[4]=et[ut],tt[5]=et[ut+1],tempPolygon.contains(tempPoint$1.x,tempPoint$1.y))return!0}return!1}destroy(_){super.destroy(_),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};_Mesh.BATCHABLE_SIZE=100;let Mesh=_Mesh;class MeshGeometry extends Geometry{constructor(_,et,tt){super();const rt=new Buffer(_),nt=new Buffer(et,!0),it=new Buffer(tt,!0,!0);this.addAttribute("aVertexPosition",rt,2,!1,TYPES.FLOAT).addAttribute("aTextureCoord",nt,2,!1,TYPES.FLOAT).addIndex(it),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var fragment$1=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vertex$1=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class MeshMaterial extends Shader{constructor(_,et){const tt={uSampler:_,alpha:1,uTextureMatrix:Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};et=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},et),et.uniforms&&Object.assign(tt,et.uniforms),super(et.program||Program.from(vertex$1,fragment$1),tt),this._colorDirty=!1,this.uvMatrix=new TextureMatrix(_),this.batchable=et.program===void 0,this.pluginName=et.pluginName,this._tintColor=new Color(et.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=et.alpha}get texture(){return this.uniforms.uSampler}set texture(_){this.uniforms.uSampler!==_&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!_.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=_,this.uvMatrix.texture=_)}set alpha(_){_!==this._alpha&&(this._alpha=_,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(_){_!==this.tint&&(this._tintColor.setValue(_),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const _=this.texture.baseTexture.alphaMode;Color.shared.setValue(this._tintColor).premultiply(this._alpha,_).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class ParticleBuffer{constructor(_,et,tt){this.geometry=new Geometry,this.indexBuffer=null,this.size=tt,this.dynamicProperties=[],this.staticProperties=[];for(let rt=0;rt<_.length;++rt){let nt=_[rt];nt={attributeName:nt.attributeName,size:nt.size,uploadFunction:nt.uploadFunction,type:nt.type||TYPES.FLOAT,offset:nt.offset},et[rt]?this.dynamicProperties.push(nt):this.staticProperties.push(nt)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const _=this.geometry;let et=0;this.indexBuffer=new Buffer(createIndicesForQuads(this.size),!0,!0),_.addIndex(this.indexBuffer),this.dynamicStride=0;for(let it=0;it<this.dynamicProperties.length;++it){const at=this.dynamicProperties[it];at.offset=et,et+=at.size,this.dynamicStride+=at.size}const tt=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(tt),this.dynamicDataUint32=new Uint32Array(tt),this.dynamicBuffer=new Buffer(this.dynamicData,!1,!1);let rt=0;this.staticStride=0;for(let it=0;it<this.staticProperties.length;++it){const at=this.staticProperties[it];at.offset=rt,rt+=at.size,this.staticStride+=at.size}const nt=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(nt),this.staticDataUint32=new Uint32Array(nt),this.staticBuffer=new Buffer(this.staticData,!0,!1);for(let it=0;it<this.dynamicProperties.length;++it){const at=this.dynamicProperties[it];_.addAttribute(at.attributeName,this.dynamicBuffer,0,at.type===TYPES.UNSIGNED_BYTE,at.type,this.dynamicStride*4,at.offset*4)}for(let it=0;it<this.staticProperties.length;++it){const at=this.staticProperties[it];_.addAttribute(at.attributeName,this.staticBuffer,0,at.type===TYPES.UNSIGNED_BYTE,at.type,this.staticStride*4,at.offset*4)}}uploadDynamic(_,et,tt){for(let rt=0;rt<this.dynamicProperties.length;rt++){const nt=this.dynamicProperties[rt];nt.uploadFunction(_,et,tt,nt.type===TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,nt.offset)}this.dynamicBuffer._updateID++}uploadStatic(_,et,tt){for(let rt=0;rt<this.staticProperties.length;rt++){const nt=this.staticProperties[rt];nt.uploadFunction(_,et,tt,nt.type===TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,nt.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var fragment=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class ParticleRenderer extends ObjectRenderer{constructor(_){super(_),this.shader=null,this.properties=null,this.tempMatrix=new Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Shader.from(vertex,fragment,{}),this.state=State.for2d()}render(_){const et=_.children,tt=_._maxSize,rt=_._batchSize,nt=this.renderer;let it=et.length;if(it===0)return;it>tt&&!_.autoResize&&(it=tt);let at=_._buffers;at||(at=_._buffers=this.generateBuffers(_));const lt=et[0]._texture.baseTexture,ct=lt.alphaMode>0;this.state.blendMode=correctBlendMode(_.blendMode,ct),nt.state.set(this.state);const ut=nt.gl,st=_.worldTransform.copyTo(this.tempMatrix);st.prepend(nt.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=st.toArray(!0),this.shader.uniforms.uColor=Color.shared.setValue(_.tintRgb).premultiply(_.worldAlpha,ct).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=lt,this.renderer.shader.bind(this.shader);let ot=!1;for(let dt=0,ft=0;dt<it;dt+=rt,ft+=1){let ht=it-dt;ht>rt&&(ht=rt),ft>=at.length&&at.push(this._generateOneMoreBuffer(_));const mt=at[ft];mt.uploadDynamic(et,dt,ht);const gt=_._bufferUpdateIDs[ft]||0;ot=ot||mt._updateID<gt,ot&&(mt._updateID=_._updateID,mt.uploadStatic(et,dt,ht)),nt.geometry.bind(mt.geometry),ut.drawElements(ut.TRIANGLES,ht*6,ut.UNSIGNED_SHORT,0)}}generateBuffers(_){const et=[],tt=_._maxSize,rt=_._batchSize,nt=_._properties;for(let it=0;it<tt;it+=rt)et.push(new ParticleBuffer(this.properties,nt,rt));return et}_generateOneMoreBuffer(_){const et=_._batchSize,tt=_._properties;return new ParticleBuffer(this.properties,tt,et)}uploadVertices(_,et,tt,rt,nt,it){let at=0,lt=0,ct=0,ut=0;for(let st=0;st<tt;++st){const ot=_[et+st],dt=ot._texture,ft=ot.scale.x,ht=ot.scale.y,mt=dt.trim,gt=dt.orig;mt?(lt=mt.x-ot.anchor.x*gt.width,at=lt+mt.width,ut=mt.y-ot.anchor.y*gt.height,ct=ut+mt.height):(at=gt.width*(1-ot.anchor.x),lt=gt.width*-ot.anchor.x,ct=gt.height*(1-ot.anchor.y),ut=gt.height*-ot.anchor.y),rt[it]=lt*ft,rt[it+1]=ut*ht,rt[it+nt]=at*ft,rt[it+nt+1]=ut*ht,rt[it+nt*2]=at*ft,rt[it+nt*2+1]=ct*ht,rt[it+nt*3]=lt*ft,rt[it+nt*3+1]=ct*ht,it+=nt*4}}uploadPosition(_,et,tt,rt,nt,it){for(let at=0;at<tt;at++){const lt=_[et+at].position;rt[it]=lt.x,rt[it+1]=lt.y,rt[it+nt]=lt.x,rt[it+nt+1]=lt.y,rt[it+nt*2]=lt.x,rt[it+nt*2+1]=lt.y,rt[it+nt*3]=lt.x,rt[it+nt*3+1]=lt.y,it+=nt*4}}uploadRotation(_,et,tt,rt,nt,it){for(let at=0;at<tt;at++){const lt=_[et+at].rotation;rt[it]=lt,rt[it+nt]=lt,rt[it+nt*2]=lt,rt[it+nt*3]=lt,it+=nt*4}}uploadUvs(_,et,tt,rt,nt,it){for(let at=0;at<tt;++at){const lt=_[et+at]._texture._uvs;lt?(rt[it]=lt.x0,rt[it+1]=lt.y0,rt[it+nt]=lt.x1,rt[it+nt+1]=lt.y1,rt[it+nt*2]=lt.x2,rt[it+nt*2+1]=lt.y2,rt[it+nt*3]=lt.x3,rt[it+nt*3+1]=lt.y3,it+=nt*4):(rt[it]=0,rt[it+1]=0,rt[it+nt]=0,rt[it+nt+1]=0,rt[it+nt*2]=0,rt[it+nt*2+1]=0,rt[it+nt*3]=0,rt[it+nt*3+1]=0,it+=nt*4)}}uploadTint(_,et,tt,rt,nt,it){for(let at=0;at<tt;++at){const lt=_[et+at],ct=Color.shared.setValue(lt._tintRGB).toPremultiplied(lt.alpha,lt.texture.baseTexture.alphaMode>0);rt[it]=ct,rt[it+nt]=ct,rt[it+nt*2]=ct,rt[it+nt*3]=ct,it+=nt*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}ParticleRenderer.extension={name:"particle",type:ExtensionType.RendererPlugin};extensions$1.add(ParticleRenderer);var TEXT_GRADIENT=(_e=>(_e[_e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",_e[_e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",_e))(TEXT_GRADIENT||{});const contextSettings={willReadFrequently:!0},_TextMetrics=class Dr{static get experimentalLetterSpacingSupported(){let _=Dr._experimentalLetterSpacingSupported;if(_!==void 0){const et=settings.ADAPTER.getCanvasRenderingContext2D().prototype;_=Dr._experimentalLetterSpacingSupported="letterSpacing"in et||"textLetterSpacing"in et}return _}constructor(_,et,tt,rt,nt,it,at,lt,ct){this.text=_,this.style=et,this.width=tt,this.height=rt,this.lines=nt,this.lineWidths=it,this.lineHeight=at,this.maxLineWidth=lt,this.fontProperties=ct}static measureText(_,et,tt,rt=Dr._canvas){tt=tt??et.wordWrap;const nt=et.toFontString(),it=Dr.measureFont(nt);it.fontSize===0&&(it.fontSize=et.fontSize,it.ascent=et.fontSize);const at=rt.getContext("2d",contextSettings);at.font=nt;const lt=(tt?Dr.wordWrap(_,et,rt):_).split(/(?:\r\n|\r|\n)/),ct=new Array(lt.length);let ut=0;for(let ft=0;ft<lt.length;ft++){const ht=Dr._measureText(lt[ft],et.letterSpacing,at);ct[ft]=ht,ut=Math.max(ut,ht)}let st=ut+et.strokeThickness;et.dropShadow&&(st+=et.dropShadowDistance);const ot=et.lineHeight||it.fontSize+et.strokeThickness;let dt=Math.max(ot,it.fontSize+et.strokeThickness*2)+et.leading+(lt.length-1)*(ot+et.leading);return et.dropShadow&&(dt+=et.dropShadowDistance),new Dr(_,et,st,dt,lt,ct,ot+et.leading,ut,it)}static _measureText(_,et,tt){let rt=!1;Dr.experimentalLetterSpacingSupported&&(Dr.experimentalLetterSpacing?(tt.letterSpacing=`${et}px`,tt.textLetterSpacing=`${et}px`,rt=!0):(tt.letterSpacing="0px",tt.textLetterSpacing="0px"));let nt=tt.measureText(_).width;return nt>0&&(rt?nt-=et:nt+=(Dr.graphemeSegmenter(_).length-1)*et),nt}static wordWrap(_,et,tt=Dr._canvas){const rt=tt.getContext("2d",contextSettings);let nt=0,it="",at="";const lt=Object.create(null),{letterSpacing:ct,whiteSpace:ut}=et,st=Dr.collapseSpaces(ut),ot=Dr.collapseNewlines(ut);let dt=!st;const ft=et.wordWrapWidth+ct,ht=Dr.tokenize(_);for(let mt=0;mt<ht.length;mt++){let gt=ht[mt];if(Dr.isNewline(gt)){if(!ot){at+=Dr.addLine(it),dt=!st,it="",nt=0;continue}gt=" "}if(st){const vt=Dr.isBreakingSpace(gt),bt=Dr.isBreakingSpace(it[it.length-1]);if(vt&&bt)continue}const yt=Dr.getFromCache(gt,ct,lt,rt);if(yt>ft)if(it!==""&&(at+=Dr.addLine(it),it="",nt=0),Dr.canBreakWords(gt,et.breakWords)){const vt=Dr.wordWrapSplit(gt);for(let bt=0;bt<vt.length;bt++){let xt=vt[bt],_t=xt,St=1;for(;vt[bt+St];){const Et=vt[bt+St];if(!Dr.canBreakChars(_t,Et,gt,bt,et.breakWords))xt+=Et;else break;_t=Et,St++}bt+=St-1;const wt=Dr.getFromCache(xt,ct,lt,rt);wt+nt>ft&&(at+=Dr.addLine(it),dt=!1,it="",nt=0),it+=xt,nt+=wt}}else{it.length>0&&(at+=Dr.addLine(it),it="",nt=0);const vt=mt===ht.length-1;at+=Dr.addLine(gt,!vt),dt=!1,it="",nt=0}else yt+nt>ft&&(dt=!1,at+=Dr.addLine(it),it="",nt=0),(it.length>0||!Dr.isBreakingSpace(gt)||dt)&&(it+=gt,nt+=yt)}return at+=Dr.addLine(it,!1),at}static addLine(_,et=!0){return _=Dr.trimRight(_),_=et?`${_}
`:_,_}static getFromCache(_,et,tt,rt){let nt=tt[_];return typeof nt!="number"&&(nt=Dr._measureText(_,et,rt)+et,tt[_]=nt),nt}static collapseSpaces(_){return _==="normal"||_==="pre-line"}static collapseNewlines(_){return _==="normal"}static trimRight(_){if(typeof _!="string")return"";for(let et=_.length-1;et>=0;et--){const tt=_[et];if(!Dr.isBreakingSpace(tt))break;_=_.slice(0,-1)}return _}static isNewline(_){return typeof _!="string"?!1:Dr._newlines.includes(_.charCodeAt(0))}static isBreakingSpace(_,et){return typeof _!="string"?!1:Dr._breakingSpaces.includes(_.charCodeAt(0))}static tokenize(_){const et=[];let tt="";if(typeof _!="string")return et;for(let rt=0;rt<_.length;rt++){const nt=_[rt],it=_[rt+1];if(Dr.isBreakingSpace(nt,it)||Dr.isNewline(nt)){tt!==""&&(et.push(tt),tt=""),et.push(nt);continue}tt+=nt}return tt!==""&&et.push(tt),et}static canBreakWords(_,et){return et}static canBreakChars(_,et,tt,rt,nt){return!0}static wordWrapSplit(_){return Dr.graphemeSegmenter(_)}static measureFont(_){if(Dr._fonts[_])return Dr._fonts[_];const et={ascent:0,descent:0,fontSize:0},tt=Dr._canvas,rt=Dr._context;rt.font=_;const nt=Dr.METRICS_STRING+Dr.BASELINE_SYMBOL,it=Math.ceil(rt.measureText(nt).width);let at=Math.ceil(rt.measureText(Dr.BASELINE_SYMBOL).width);const lt=Math.ceil(Dr.HEIGHT_MULTIPLIER*at);if(at=at*Dr.BASELINE_MULTIPLIER|0,it===0||lt===0)return Dr._fonts[_]=et,et;tt.width=it,tt.height=lt,rt.fillStyle="#f00",rt.fillRect(0,0,it,lt),rt.font=_,rt.textBaseline="alphabetic",rt.fillStyle="#000",rt.fillText(nt,0,at);const ct=rt.getImageData(0,0,it,lt).data,ut=ct.length,st=it*4;let ot=0,dt=0,ft=!1;for(ot=0;ot<at;++ot){for(let ht=0;ht<st;ht+=4)if(ct[dt+ht]!==255){ft=!0;break}if(!ft)dt+=st;else break}for(et.ascent=at-ot,dt=ut-st,ft=!1,ot=lt;ot>at;--ot){for(let ht=0;ht<st;ht+=4)if(ct[dt+ht]!==255){ft=!0;break}if(!ft)dt-=st;else break}return et.descent=ot-at,et.fontSize=et.ascent+et.descent,Dr._fonts[_]=et,et}static clearMetrics(_=""){_?delete Dr._fonts[_]:Dr._fonts={}}static get _canvas(){var _;if(!Dr.__canvas){let et;try{const tt=new OffscreenCanvas(0,0);if((_=tt.getContext("2d",contextSettings))!=null&&_.measureText)return Dr.__canvas=tt,tt;et=settings.ADAPTER.createCanvas()}catch{et=settings.ADAPTER.createCanvas()}et.width=et.height=10,Dr.__canvas=et}return Dr.__canvas}static get _context(){return Dr.__context||(Dr.__context=Dr._canvas.getContext("2d",contextSettings)),Dr.__context}};_TextMetrics.METRICS_STRING="|ÉqÅ",_TextMetrics.BASELINE_SYMBOL="M",_TextMetrics.BASELINE_MULTIPLIER=1.4,_TextMetrics.HEIGHT_MULTIPLIER=2,_TextMetrics.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const _e=new Intl.Segmenter;return _=>[..._e.segment(_)].map(et=>et.segment)}return _e=>[..._e]})(),_TextMetrics.experimentalLetterSpacing=!1,_TextMetrics._fonts={},_TextMetrics._newlines=[10,13],_TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let TextMetrics=_TextMetrics;const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],_TextStyle=class Ao{constructor(_){this.styleID=0,this.reset(),deepCopyProperties(this,_,_)}clone(){const _={};return deepCopyProperties(_,this,Ao.defaultStyle),new Ao(_)}reset(){deepCopyProperties(this,Ao.defaultStyle,Ao.defaultStyle)}get align(){return this._align}set align(_){this._align!==_&&(this._align=_,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(_){this._breakWords!==_&&(this._breakWords=_,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(_){this._dropShadow!==_&&(this._dropShadow=_,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(_){this._dropShadowAlpha!==_&&(this._dropShadowAlpha=_,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(_){this._dropShadowAngle!==_&&(this._dropShadowAngle=_,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(_){this._dropShadowBlur!==_&&(this._dropShadowBlur=_,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(_){const et=getColor(_);this._dropShadowColor!==et&&(this._dropShadowColor=et,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(_){this._dropShadowDistance!==_&&(this._dropShadowDistance=_,this.styleID++)}get fill(){return this._fill}set fill(_){const et=getColor(_);this._fill!==et&&(this._fill=et,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(_){this._fillGradientType!==_&&(this._fillGradientType=_,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(_){areArraysEqual(this._fillGradientStops,_)||(this._fillGradientStops=_,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(_){this.fontFamily!==_&&(this._fontFamily=_,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(_){this._fontSize!==_&&(this._fontSize=_,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(_){this._fontStyle!==_&&(this._fontStyle=_,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(_){this._fontVariant!==_&&(this._fontVariant=_,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(_){this._fontWeight!==_&&(this._fontWeight=_,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(_){this._letterSpacing!==_&&(this._letterSpacing=_,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(_){this._lineHeight!==_&&(this._lineHeight=_,this.styleID++)}get leading(){return this._leading}set leading(_){this._leading!==_&&(this._leading=_,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(_){this._lineJoin!==_&&(this._lineJoin=_,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(_){this._miterLimit!==_&&(this._miterLimit=_,this.styleID++)}get padding(){return this._padding}set padding(_){this._padding!==_&&(this._padding=_,this.styleID++)}get stroke(){return this._stroke}set stroke(_){const et=getColor(_);this._stroke!==et&&(this._stroke=et,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(_){this._strokeThickness!==_&&(this._strokeThickness=_,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(_){this._textBaseline!==_&&(this._textBaseline=_,this.styleID++)}get trim(){return this._trim}set trim(_){this._trim!==_&&(this._trim=_,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(_){this._whiteSpace!==_&&(this._whiteSpace=_,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(_){this._wordWrap!==_&&(this._wordWrap=_,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(_){this._wordWrapWidth!==_&&(this._wordWrapWidth=_,this.styleID++)}toFontString(){const _=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let et=this.fontFamily;Array.isArray(this.fontFamily)||(et=this.fontFamily.split(","));for(let tt=et.length-1;tt>=0;tt--){let rt=et[tt].trim();!/([\"\'])[^\'\"]+\1/.test(rt)&&!genericFontFamilies.includes(rt)&&(rt=`"${rt}"`),et[tt]=rt}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${_} ${et.join(",")}`}};_TextStyle.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let TextStyle=_TextStyle;function getColor(_e){const _=Color.shared,et=tt=>{const rt=_.setValue(tt);return rt.alpha===1?rt.toHex():rt.toRgbaString()};return Array.isArray(_e)?_e.map(et):et(_e)}function areArraysEqual(_e,_){if(!Array.isArray(_e)||!Array.isArray(_)||_e.length!==_.length)return!1;for(let et=0;et<_e.length;++et)if(_e[et]!==_[et])return!1;return!0}function deepCopyProperties(_e,_,et){for(const tt in et)Array.isArray(_[tt])?_e[tt]=_[tt].slice():_e[tt]=_[tt]}const defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},_Text=class Vo extends Sprite{constructor(_,et,tt){let rt=!1;tt||(tt=settings.ADAPTER.createCanvas(),rt=!0),tt.width=3,tt.height=3;const nt=Texture.from(tt);nt.orig=new Rectangle,nt.trim=new Rectangle,super(nt),this._ownCanvas=rt,this.canvas=tt,this.context=tt.getContext("2d",{willReadFrequently:!0}),this._resolution=Vo.defaultResolution??settings.RESOLUTION,this._autoResolution=Vo.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=_,this.style=et,this.localStyleID=-1}static get experimentalLetterSpacing(){return TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(_){deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),TextMetrics.experimentalLetterSpacing=_}updateText(_){const et=this._style;if(this.localStyleID!==et.styleID&&(this.dirty=!0,this.localStyleID=et.styleID),!this.dirty&&_)return;this._font=this._style.toFontString();const tt=this.context,rt=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),nt=rt.width,it=rt.height,at=rt.lines,lt=rt.lineHeight,ct=rt.lineWidths,ut=rt.maxLineWidth,st=rt.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,nt)+et.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,it)+et.padding*2)*this._resolution),tt.scale(this._resolution,this._resolution),tt.clearRect(0,0,this.canvas.width,this.canvas.height),tt.font=this._font,tt.lineWidth=et.strokeThickness,tt.textBaseline=et.textBaseline,tt.lineJoin=et.lineJoin,tt.miterLimit=et.miterLimit;let ot,dt;const ft=et.dropShadow?2:1;for(let ht=0;ht<ft;++ht){const mt=et.dropShadow&&ht===0,gt=mt?Math.ceil(Math.max(1,it)+et.padding*2):0,yt=gt*this._resolution;if(mt){tt.fillStyle="black",tt.strokeStyle="black";const bt=et.dropShadowColor,xt=et.dropShadowBlur*this._resolution,_t=et.dropShadowDistance*this._resolution;tt.shadowColor=Color.shared.setValue(bt).setAlpha(et.dropShadowAlpha).toRgbaString(),tt.shadowBlur=xt,tt.shadowOffsetX=Math.cos(et.dropShadowAngle)*_t,tt.shadowOffsetY=Math.sin(et.dropShadowAngle)*_t+yt}else tt.fillStyle=this._generateFillStyle(et,at,rt),tt.strokeStyle=et.stroke,tt.shadowColor="black",tt.shadowBlur=0,tt.shadowOffsetX=0,tt.shadowOffsetY=0;let vt=(lt-st.fontSize)/2;lt-st.fontSize<0&&(vt=0);for(let bt=0;bt<at.length;bt++)ot=et.strokeThickness/2,dt=et.strokeThickness/2+bt*lt+st.ascent+vt,et.align==="right"?ot+=ut-ct[bt]:et.align==="center"&&(ot+=(ut-ct[bt])/2),et.stroke&&et.strokeThickness&&this.drawLetterSpacing(at[bt],ot+et.padding,dt+et.padding-gt,!0),et.fill&&this.drawLetterSpacing(at[bt],ot+et.padding,dt+et.padding-gt)}this.updateTexture()}drawLetterSpacing(_,et,tt,rt=!1){const nt=this._style.letterSpacing;let it=!1;if(TextMetrics.experimentalLetterSpacingSupported&&(TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${nt}px`,this.context.textLetterSpacing=`${nt}px`,it=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),nt===0||it){rt?this.context.strokeText(_,et,tt):this.context.fillText(_,et,tt);return}let at=et;const lt=TextMetrics.graphemeSegmenter(_);let ct=this.context.measureText(_).width,ut=0;for(let st=0;st<lt.length;++st){const ot=lt[st];rt?this.context.strokeText(ot,at,tt):this.context.fillText(ot,at,tt);let dt="";for(let ft=st+1;ft<lt.length;++ft)dt+=lt[ft];ut=this.context.measureText(dt).width,at+=ct-ut+nt,ct=ut}}updateTexture(){const _=this.canvas;if(this._style.trim){const it=trimCanvas(_);it.data&&(_.width=it.width,_.height=it.height,this.context.putImageData(it.data,0,0))}const et=this._texture,tt=this._style,rt=tt.trim?0:tt.padding,nt=et.baseTexture;et.trim.width=et._frame.width=_.width/this._resolution,et.trim.height=et._frame.height=_.height/this._resolution,et.trim.x=-rt,et.trim.y=-rt,et.orig.width=et._frame.width-rt*2,et.orig.height=et._frame.height-rt*2,this._onTextureUpdate(),nt.setRealSize(_.width,_.height,this._resolution),et.updateUvs(),this.dirty=!1}_render(_){this._autoResolution&&this._resolution!==_.resolution&&(this._resolution=_.resolution,this.dirty=!0),this.updateText(!0),super._render(_)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(_,et){return this.updateText(!0),this._textureID===-1&&(_=!1),super.getBounds(_,et)}getLocalBounds(_){return this.updateText(!0),super.getLocalBounds.call(this,_)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(_,et,tt){const rt=_.fill;if(Array.isArray(rt)){if(rt.length===1)return rt[0]}else return rt;let nt;const it=_.dropShadow?_.dropShadowDistance:0,at=_.padding||0,lt=this.canvas.width/this._resolution-it-at*2,ct=this.canvas.height/this._resolution-it-at*2,ut=rt.slice(),st=_.fillGradientStops.slice();if(!st.length){const ot=ut.length+1;for(let dt=1;dt<ot;++dt)st.push(dt/ot)}if(ut.unshift(rt[0]),st.unshift(0),ut.push(rt[rt.length-1]),st.push(1),_.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){nt=this.context.createLinearGradient(lt/2,at,lt/2,ct+at);const ot=tt.fontProperties.fontSize+_.strokeThickness;for(let dt=0;dt<et.length;dt++){const ft=tt.lineHeight*(dt-1)+ot,ht=tt.lineHeight*dt;let mt=ht;dt>0&&ft>ht&&(mt=(ht+ft)/2);const gt=ht+ot,yt=tt.lineHeight*(dt+1);let vt=gt;dt+1<et.length&&yt<gt&&(vt=(gt+yt)/2);const bt=(vt-mt)/ct;for(let xt=0;xt<ut.length;xt++){let _t=0;typeof st[xt]=="number"?_t=st[xt]:_t=xt/ut.length;let St=Math.min(1,Math.max(0,mt/ct+_t*bt));St=Number(St.toFixed(5)),nt.addColorStop(St,ut[xt])}}}else{nt=this.context.createLinearGradient(at,ct/2,lt+at,ct/2);const ot=ut.length+1;let dt=1;for(let ft=0;ft<ut.length;ft++){let ht;typeof st[ft]=="number"?ht=st[ft]:ht=dt/ot,nt.addColorStop(ht,ut[ft]),dt++}}return nt}destroy(_){typeof _=="boolean"&&(_={children:_}),_=Object.assign({},defaultDestroyOptions,_),super.destroy(_),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(_){this.updateText(!0);const et=sign(this.scale.x)||1;this.scale.x=et*_/this._texture.orig.width,this._width=_}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(_){this.updateText(!0);const et=sign(this.scale.y)||1;this.scale.y=et*_/this._texture.orig.height,this._height=_}get style(){return this._style}set style(_){_=_||{},_ instanceof TextStyle?this._style=_:this._style=new TextStyle(_),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(_){_=String(_??""),this._text!==_&&(this._text=_,this.dirty=!0)}get resolution(){return this._resolution}set resolution(_){this._autoResolution=!1,this._resolution!==_&&(this._resolution=_,this.dirty=!0)}};_Text.defaultAutoResolution=!0;let Text=_Text;class CountLimiter{constructor(_){this.maxItemsPerFrame=_,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function findMultipleBaseTextures(_e,_){var tt;let et=!1;if((tt=_e==null?void 0:_e._textures)!=null&&tt.length){for(let rt=0;rt<_e._textures.length;rt++)if(_e._textures[rt]instanceof Texture){const nt=_e._textures[rt].baseTexture;_.includes(nt)||(_.push(nt),et=!0)}}return et}function findBaseTexture(_e,_){if(_e.baseTexture instanceof BaseTexture){const et=_e.baseTexture;return _.includes(et)||_.push(et),!0}return!1}function findTexture(_e,_){if(_e._texture&&_e._texture instanceof Texture){const et=_e._texture.baseTexture;return _.includes(et)||_.push(et),!0}return!1}function drawText(_e,_){return _ instanceof Text?(_.updateText(!0),!0):!1}function calculateTextStyle(_e,_){if(_ instanceof TextStyle){const et=_.toFontString();return TextMetrics.measureFont(et),!0}return!1}function findText(_e,_){if(_e instanceof Text){_.includes(_e.style)||_.push(_e.style),_.includes(_e)||_.push(_e);const et=_e._texture.baseTexture;return _.includes(et)||_.push(et),!0}return!1}function findTextStyle(_e,_){return _e instanceof TextStyle?(_.includes(_e)||_.push(_e),!0):!1}const _BasePrepare=class Js{constructor(_){this.limiter=new CountLimiter(Js.uploadsPerFrame),this.renderer=_,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}upload(_){return new Promise(et=>{_&&this.add(_),this.queue.length?(this.completes.push(et),this.ticking||(this.ticking=!0,Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY))):et()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const _=this.queue[0];let et=!1;if(_&&!_._destroyed){for(let tt=0,rt=this.uploadHooks.length;tt<rt;tt++)if(this.uploadHooks[tt](this.uploadHookHelper,_)){this.queue.shift(),et=!0;break}}et||this.queue.shift()}if(this.queue.length)Ticker.system.addOnce(this.tick,this,UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;const _=this.completes.slice(0);this.completes.length=0;for(let et=0,tt=_.length;et<tt;et++)_[et]()}}registerFindHook(_){return _&&this.addHooks.push(_),this}registerUploadHook(_){return _&&this.uploadHooks.push(_),this}add(_){for(let et=0,tt=this.addHooks.length;et<tt&&!this.addHooks[et](_,this.queue);et++);if(_ instanceof Container)for(let et=_.children.length-1;et>=0;et--)this.add(_.children[et]);return this}destroy(){this.ticking&&Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};_BasePrepare.uploadsPerFrame=4;let BasePrepare=_BasePrepare;Object.defineProperties(settings,{UPLOADS_PER_FRAME:{get(){return BasePrepare.uploadsPerFrame},set(_e){deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),BasePrepare.uploadsPerFrame=_e}}});function uploadBaseTextures(_e,_){return _ instanceof BaseTexture?(_._glTextures[_e.CONTEXT_UID]||_e.texture.bind(_),!0):!1}function uploadGraphics(_e,_){if(!(_ instanceof Graphics))return!1;const{geometry:et}=_;_.finishPoly(),et.updateBatches();const{batches:tt}=et;for(let rt=0;rt<tt.length;rt++){const{texture:nt}=tt[rt].style;nt&&uploadBaseTextures(_e,nt.baseTexture)}return et.batchable||_e.geometry.bind(et,_._resolveDirectShader(_e)),!0}function findGraphics(_e,_){return _e instanceof Graphics?(_.push(_e),!0):!1}class Prepare extends BasePrepare{constructor(_){super(_),this.uploadHookHelper=this.renderer,this.registerFindHook(findGraphics),this.registerUploadHook(uploadBaseTextures),this.registerUploadHook(uploadGraphics)}}Prepare.extension={name:"prepare",type:ExtensionType.RendererSystem};extensions$1.add(Prepare);var gl2FragmentSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,gl2VertexSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl1FragmentSrc=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gl1VertexSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,fragmentSimpleSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const tempMat=new Matrix;class TilingSpriteRenderer extends ObjectRenderer{constructor(_){super(_),_.runners.contextChange.add(this),this.quad=new QuadUv,this.state=State.for2d()}contextChange(){const _=this.renderer,et={globals:_.globalUniforms};this.simpleShader=Shader.from(gl1VertexSrc,fragmentSimpleSrc,et),this.shader=_.context.webGLVersion>1?Shader.from(gl2VertexSrc,gl2FragmentSrc,et):Shader.from(gl1VertexSrc,gl1FragmentSrc,et)}render(_){const et=this.renderer,tt=this.quad;let rt=tt.vertices;rt[0]=rt[6]=_._width*-_.anchor.x,rt[1]=rt[3]=_._height*-_.anchor.y,rt[2]=rt[4]=_._width*(1-_.anchor.x),rt[5]=rt[7]=_._height*(1-_.anchor.y);const nt=_.uvRespectAnchor?_.anchor.x:0,it=_.uvRespectAnchor?_.anchor.y:0;rt=tt.uvs,rt[0]=rt[6]=-nt,rt[1]=rt[3]=-it,rt[2]=rt[4]=1-nt,rt[5]=rt[7]=1-it,tt.invalidate();const at=_._texture,lt=at.baseTexture,ct=lt.alphaMode>0,ut=_.tileTransform.localTransform,st=_.uvMatrix;let ot=lt.isPowerOfTwo&&at.frame.width===lt.width&&at.frame.height===lt.height;ot&&(lt._glTextures[et.CONTEXT_UID]?ot=lt.wrapMode!==WRAP_MODES.CLAMP:lt.wrapMode===WRAP_MODES.CLAMP&&(lt.wrapMode=WRAP_MODES.REPEAT));const dt=ot?this.simpleShader:this.shader,ft=at.width,ht=at.height,mt=_._width,gt=_._height;tempMat.set(ut.a*ft/mt,ut.b*ft/gt,ut.c*ht/mt,ut.d*ht/gt,ut.tx/mt,ut.ty/gt),tempMat.invert(),ot?tempMat.prepend(st.mapCoord):(dt.uniforms.uMapCoord=st.mapCoord.toArray(!0),dt.uniforms.uClampFrame=st.uClampFrame,dt.uniforms.uClampOffset=st.uClampOffset),dt.uniforms.uTransform=tempMat.toArray(!0),dt.uniforms.uColor=Color.shared.setValue(_.tint).premultiply(_.worldAlpha,ct).toArray(dt.uniforms.uColor),dt.uniforms.translationMatrix=_.transform.worldTransform.toArray(!0),dt.uniforms.uSampler=at,et.shader.bind(dt),et.geometry.bind(tt),this.state.blendMode=correctBlendMode(_.blendMode,ct),et.state.set(this.state),et.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}TilingSpriteRenderer.extension={name:"tilingSprite",type:ExtensionType.RendererPlugin};extensions$1.add(TilingSpriteRenderer);const _Spritesheet=class Ro{constructor(_,et,tt){this.linkedSheets=[],(_ instanceof BaseTexture||_ instanceof Texture)&&(_={texture:_,data:et,resolutionFilename:tt});const{texture:rt,data:nt,resolutionFilename:it=null,cachePrefix:at=""}=_;this.cachePrefix=at,this._texture=rt instanceof Texture?rt:null,this.baseTexture=rt instanceof BaseTexture?rt:this._texture.baseTexture,this.textures={},this.animations={},this.data=nt;const lt=this.baseTexture.resource;this.resolution=this._updateResolution(it||(lt?lt.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(_=null){const{scale:et}=this.data.meta;let tt=getResolutionOfUrl(_,null);return tt===null&&(tt=typeof et=="number"?et:parseFloat(et??"1")),tt!==1&&this.baseTexture.setResolution(tt),tt}parse(){return new Promise(_=>{this._callback=_,this._batchIndex=0,this._frameKeys.length<=Ro.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(_){let et=_;const tt=Ro.BATCH_SIZE;for(;et-_<tt&&et<this._frameKeys.length;){const rt=this._frameKeys[et],nt=this._frames[rt],it=nt.frame;if(it){let at=null,lt=null;const ct=nt.trimmed!==!1&&nt.sourceSize?nt.sourceSize:nt.frame,ut=new Rectangle(0,0,Math.floor(ct.w)/this.resolution,Math.floor(ct.h)/this.resolution);nt.rotated?at=new Rectangle(Math.floor(it.x)/this.resolution,Math.floor(it.y)/this.resolution,Math.floor(it.h)/this.resolution,Math.floor(it.w)/this.resolution):at=new Rectangle(Math.floor(it.x)/this.resolution,Math.floor(it.y)/this.resolution,Math.floor(it.w)/this.resolution,Math.floor(it.h)/this.resolution),nt.trimmed!==!1&&nt.spriteSourceSize&&(lt=new Rectangle(Math.floor(nt.spriteSourceSize.x)/this.resolution,Math.floor(nt.spriteSourceSize.y)/this.resolution,Math.floor(it.w)/this.resolution,Math.floor(it.h)/this.resolution)),this.textures[rt]=new Texture(this.baseTexture,at,ut,lt,nt.rotated?2:0,nt.anchor,nt.borders),Texture.addToCache(this.textures[rt],this.cachePrefix+rt.toString())}et++}}_processAnimations(){const _=this.data.animations||{};for(const et in _){this.animations[et]=[];for(let tt=0;tt<_[et].length;tt++){const rt=_[et][tt];this.animations[et].push(this.textures[rt])}}}_parseComplete(){const _=this._callback;this._callback=null,this._batchIndex=0,_.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ro.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ro.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(_=!1){var et;for(const tt in this.textures)this.textures[tt].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,_&&((et=this._texture)==null||et.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};_Spritesheet.BATCH_SIZE=1e3;let Spritesheet=_Spritesheet;const validImages=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function getCacheableAssets(_e,_,et){const tt={};if(_e.forEach(rt=>{tt[rt]=_}),Object.keys(_.textures).forEach(rt=>{tt[`${_.cachePrefix}${rt}`]=_.textures[rt]}),!et){const rt=path$1.dirname(_e[0]);_.linkedSheets.forEach((nt,it)=>{Object.assign(tt,getCacheableAssets([`${rt}/${_.data.meta.related_multi_packs[it]}`],nt,!0))})}return tt}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:_e=>_e instanceof Spritesheet,getCacheableAssets:(_e,_)=>getCacheableAssets(_e,_,!1)},resolver:{test:_e=>{const _=_e.split("?")[0].split("."),et=_.pop(),tt=_.pop();return et==="json"&&validImages.includes(tt)},parse:_e=>{var et;const _=_e.split(".");return{resolution:parseFloat(((et=settings.RETINA_PREFIX.exec(_e))==null?void 0:et[1])??"1"),format:_[_.length-2],src:_e}}},loader:{name:"spritesheetLoader",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal},async testParse(_e,_){return path$1.extname(_.src).toLowerCase()===".json"&&!!_e.frames},async parse(_e,_,et){var ut,st;const{texture:tt,imageFilename:rt,cachePrefix:nt}=(_==null?void 0:_.data)??{};let it=path$1.dirname(_.src);it&&it.lastIndexOf("/")!==it.length-1&&(it+="/");let at;if(tt&&tt.baseTexture)at=tt;else{const ot=copySearchParams(it+(rt??_e.meta.image),_.src);at=(await et.load([ot]))[ot]}const lt=new Spritesheet({texture:at.baseTexture,data:_e,resolutionFilename:_.src,cachePrefix:nt});await lt.parse();const ct=(ut=_e==null?void 0:_e.meta)==null?void 0:ut.related_multi_packs;if(Array.isArray(ct)){const ot=[];for(const ft of ct){if(typeof ft!="string")continue;let ht=it+ft;(st=_.data)!=null&&st.ignoreMultiPack||(ht=copySearchParams(ht,_.src),ot.push(et.load({src:ht,data:{ignoreMultiPack:!0}})))}const dt=await Promise.all(ot);lt.linkedSheets=dt,dt.forEach(ft=>{ft.linkedSheets=[lt].concat(lt.linkedSheets.filter(ht=>ht!==ft))})}return lt},unload(_e){_e.destroy(!0)}}};extensions$1.add(spritesheetAsset);class BitmapFontData{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class TextFormat{static test(_){return typeof _=="string"&&_.startsWith("info face=")}static parse(_){const et=_.match(/^[a-z]+\s+.+$/gm),tt={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const nt in et){const it=et[nt].match(/^[a-z]+/gm)[0],at=et[nt].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),lt={};for(const ct in at){const ut=at[ct].split("="),st=ut[0],ot=ut[1].replace(/"/gm,""),dt=parseFloat(ot),ft=isNaN(dt)?ot:dt;lt[st]=ft}tt[it].push(lt)}const rt=new BitmapFontData;return tt.info.forEach(nt=>rt.info.push({face:nt.face,size:parseInt(nt.size,10)})),tt.common.forEach(nt=>rt.common.push({lineHeight:parseInt(nt.lineHeight,10)})),tt.page.forEach(nt=>rt.page.push({id:parseInt(nt.id,10),file:nt.file})),tt.char.forEach(nt=>rt.char.push({id:parseInt(nt.id,10),page:parseInt(nt.page,10),x:parseInt(nt.x,10),y:parseInt(nt.y,10),width:parseInt(nt.width,10),height:parseInt(nt.height,10),xoffset:parseInt(nt.xoffset,10),yoffset:parseInt(nt.yoffset,10),xadvance:parseInt(nt.xadvance,10)})),tt.kerning.forEach(nt=>rt.kerning.push({first:parseInt(nt.first,10),second:parseInt(nt.second,10),amount:parseInt(nt.amount,10)})),tt.distanceField.forEach(nt=>rt.distanceField.push({distanceRange:parseInt(nt.distanceRange,10),fieldType:nt.fieldType})),rt}}class XMLFormat{static test(_){const et=_;return typeof _!="string"&&"getElementsByTagName"in _&&et.getElementsByTagName("page").length&&et.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(_){const et=new BitmapFontData,tt=_.getElementsByTagName("info"),rt=_.getElementsByTagName("common"),nt=_.getElementsByTagName("page"),it=_.getElementsByTagName("char"),at=_.getElementsByTagName("kerning"),lt=_.getElementsByTagName("distanceField");for(let ct=0;ct<tt.length;ct++)et.info.push({face:tt[ct].getAttribute("face"),size:parseInt(tt[ct].getAttribute("size"),10)});for(let ct=0;ct<rt.length;ct++)et.common.push({lineHeight:parseInt(rt[ct].getAttribute("lineHeight"),10)});for(let ct=0;ct<nt.length;ct++)et.page.push({id:parseInt(nt[ct].getAttribute("id"),10)||0,file:nt[ct].getAttribute("file")});for(let ct=0;ct<it.length;ct++){const ut=it[ct];et.char.push({id:parseInt(ut.getAttribute("id"),10),page:parseInt(ut.getAttribute("page"),10)||0,x:parseInt(ut.getAttribute("x"),10),y:parseInt(ut.getAttribute("y"),10),width:parseInt(ut.getAttribute("width"),10),height:parseInt(ut.getAttribute("height"),10),xoffset:parseInt(ut.getAttribute("xoffset"),10),yoffset:parseInt(ut.getAttribute("yoffset"),10),xadvance:parseInt(ut.getAttribute("xadvance"),10)})}for(let ct=0;ct<at.length;ct++)et.kerning.push({first:parseInt(at[ct].getAttribute("first"),10),second:parseInt(at[ct].getAttribute("second"),10),amount:parseInt(at[ct].getAttribute("amount"),10)});for(let ct=0;ct<lt.length;ct++)et.distanceField.push({fieldType:lt[ct].getAttribute("fieldType"),distanceRange:parseInt(lt[ct].getAttribute("distanceRange"),10)});return et}}class XMLStringFormat{static test(_){return typeof _=="string"&&_.includes("<font>")?XMLFormat.test(settings.ADAPTER.parseXML(_)):!1}static parse(_){return XMLFormat.parse(settings.ADAPTER.parseXML(_))}}const formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(_e){for(let _=0;_<formats.length;_++)if(formats[_].test(_e))return formats[_];return null}function generateFillStyle(_e,_,et,tt,rt,nt){const it=et.fill;if(Array.isArray(it)){if(it.length===1)return it[0]}else return it;let at;const lt=et.dropShadow?et.dropShadowDistance:0,ct=et.padding||0,ut=_e.width/tt-lt-ct*2,st=_e.height/tt-lt-ct*2,ot=it.slice(),dt=et.fillGradientStops.slice();if(!dt.length){const ft=ot.length+1;for(let ht=1;ht<ft;++ht)dt.push(ht/ft)}if(ot.unshift(it[0]),dt.unshift(0),ot.push(it[it.length-1]),dt.push(1),et.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){at=_.createLinearGradient(ut/2,ct,ut/2,st+ct);let ft=0;const ht=(nt.fontProperties.fontSize+et.strokeThickness)/st;for(let mt=0;mt<rt.length;mt++){const gt=nt.lineHeight*mt;for(let yt=0;yt<ot.length;yt++){let vt=0;typeof dt[yt]=="number"?vt=dt[yt]:vt=yt/ot.length;const bt=gt/st+vt*ht;let xt=Math.max(ft,bt);xt=Math.min(xt,1),at.addColorStop(xt,ot[yt]),ft=xt}}}else{at=_.createLinearGradient(ct,st/2,ut+ct,st/2);const ft=ot.length+1;let ht=1;for(let mt=0;mt<ot.length;mt++){let gt;typeof dt[mt]=="number"?gt=dt[mt]:gt=ht/ft,at.addColorStop(gt,ot[mt]),ht++}}return at}function drawGlyph(_e,_,et,tt,rt,nt,it){const at=et.text,lt=et.fontProperties;_.translate(tt,rt),_.scale(nt,nt);const ct=it.strokeThickness/2,ut=-(it.strokeThickness/2);if(_.font=it.toFontString(),_.lineWidth=it.strokeThickness,_.textBaseline=it.textBaseline,_.lineJoin=it.lineJoin,_.miterLimit=it.miterLimit,_.fillStyle=generateFillStyle(_e,_,it,nt,[at],et),_.strokeStyle=it.stroke,it.dropShadow){const st=it.dropShadowColor,ot=it.dropShadowBlur*nt,dt=it.dropShadowDistance*nt;_.shadowColor=Color.shared.setValue(st).setAlpha(it.dropShadowAlpha).toRgbaString(),_.shadowBlur=ot,_.shadowOffsetX=Math.cos(it.dropShadowAngle)*dt,_.shadowOffsetY=Math.sin(it.dropShadowAngle)*dt}else _.shadowColor="black",_.shadowBlur=0,_.shadowOffsetX=0,_.shadowOffsetY=0;it.stroke&&it.strokeThickness&&_.strokeText(at,ct,ut+et.lineHeight-lt.descent),it.fill&&_.fillText(at,ct,ut+et.lineHeight-lt.descent),_.setTransform(1,0,0,1,0,0),_.fillStyle="rgba(0, 0, 0, 0)"}function extractCharCode(_e){return _e.codePointAt?_e.codePointAt(0):_e.charCodeAt(0)}function splitTextToCharacters(_e){return Array.from?Array.from(_e):_e.split("")}function resolveCharacters(_e){typeof _e=="string"&&(_e=[_e]);const _=[];for(let et=0,tt=_e.length;et<tt;et++){const rt=_e[et];if(Array.isArray(rt)){if(rt.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${rt.length}.`);const nt=rt[0].charCodeAt(0),it=rt[1].charCodeAt(0);if(it<nt)throw new Error("[BitmapFont]: Invalid character range.");for(let at=nt,lt=it;at<=lt;at++)_.push(String.fromCharCode(at))}else _.push(...splitTextToCharacters(rt))}if(_.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return _}const _BitmapFont=class io{constructor(_,et,tt){var ut;const[rt]=_.info,[nt]=_.common,[it]=_.page,[at]=_.distanceField,lt=getResolutionOfUrl(it.file),ct={};this._ownsTextures=tt,this.font=rt.face,this.size=rt.size,this.lineHeight=nt.lineHeight/lt,this.chars={},this.pageTextures=ct;for(let st=0;st<_.page.length;st++){const{id:ot,file:dt}=_.page[st];ct[ot]=et instanceof Array?et[st]:et[dt],at!=null&&at.fieldType&&at.fieldType!=="none"&&(ct[ot].baseTexture.alphaMode=ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,ct[ot].baseTexture.mipmap=MIPMAP_MODES.OFF)}for(let st=0;st<_.char.length;st++){const{id:ot,page:dt}=_.char[st];let{x:ft,y:ht,width:mt,height:gt,xoffset:yt,yoffset:vt,xadvance:bt}=_.char[st];ft/=lt,ht/=lt,mt/=lt,gt/=lt,yt/=lt,vt/=lt,bt/=lt;const xt=new Rectangle(ft+ct[dt].frame.x/lt,ht+ct[dt].frame.y/lt,mt,gt);this.chars[ot]={xOffset:yt,yOffset:vt,xAdvance:bt,kerning:{},texture:new Texture(ct[dt].baseTexture,xt),page:dt}}for(let st=0;st<_.kerning.length;st++){let{first:ot,second:dt,amount:ft}=_.kerning[st];ot/=lt,dt/=lt,ft/=lt,this.chars[dt]&&(this.chars[dt].kerning[ot]=ft)}this.distanceFieldRange=at==null?void 0:at.distanceRange,this.distanceFieldType=((ut=at==null?void 0:at.fieldType)==null?void 0:ut.toLowerCase())??"none"}destroy(){for(const _ in this.chars)this.chars[_].texture.destroy(),this.chars[_].texture=null;for(const _ in this.pageTextures)this._ownsTextures&&this.pageTextures[_].destroy(!0),this.pageTextures[_]=null;this.chars=null,this.pageTextures=null}static install(_,et,tt){let rt;if(_ instanceof BitmapFontData)rt=_;else{const it=autoDetectFormat(_);if(!it)throw new Error("Unrecognized data format for font.");rt=it.parse(_)}et instanceof Texture&&(et=[et]);const nt=new io(rt,et,tt);return io.available[nt.font]=nt,nt}static uninstall(_){const et=io.available[_];if(!et)throw new Error(`No font found named '${_}'`);et.destroy(),delete io.available[_]}static from(_,et,tt){if(!_)throw new Error("[BitmapFont] Property `name` is required.");const{chars:rt,padding:nt,resolution:it,textureWidth:at,textureHeight:lt,...ct}=Object.assign({},io.defaultOptions,tt),ut=resolveCharacters(rt),st=et instanceof TextStyle?et:new TextStyle(et),ot=at,dt=new BitmapFontData;dt.info[0]={face:st.fontFamily,size:st.fontSize},dt.common[0]={lineHeight:st.fontSize};let ft=0,ht=0,mt,gt,yt,vt=0;const bt=[];for(let _t=0;_t<ut.length;_t++){mt||(mt=settings.ADAPTER.createCanvas(),mt.width=at,mt.height=lt,gt=mt.getContext("2d"),yt=new BaseTexture(mt,{resolution:it,...ct}),bt.push(new Texture(yt)),dt.page.push({id:bt.length-1,file:""}));const St=ut[_t],wt=TextMetrics.measureText(St,st,!1,mt),Et=wt.width,Tt=Math.ceil(wt.height),Ct=Math.ceil((st.fontStyle==="italic"?2:1)*Et);if(ht>=lt-Tt*it){if(ht===0)throw new Error(`[BitmapFont] textureHeight ${lt}px is too small (fontFamily: '${st.fontFamily}', fontSize: ${st.fontSize}px, char: '${St}')`);--_t,mt=null,gt=null,yt=null,ht=0,ft=0,vt=0;continue}if(vt=Math.max(Tt+wt.fontProperties.descent,vt),Ct*it+ft>=ot){if(ft===0)throw new Error(`[BitmapFont] textureWidth ${at}px is too small (fontFamily: '${st.fontFamily}', fontSize: ${st.fontSize}px, char: '${St}')`);--_t,ht+=vt*it,ht=Math.ceil(ht),ft=0,vt=0;continue}drawGlyph(mt,gt,wt,ft,ht,it,st);const It=extractCharCode(wt.text);dt.char.push({id:It,page:bt.length-1,x:ft/it,y:ht/it,width:Ct,height:Tt,xoffset:0,yoffset:0,xadvance:Et-(st.dropShadow?st.dropShadowDistance:0)-(st.stroke?st.strokeThickness:0)}),ft+=(Ct+2*nt)*it,ft=Math.ceil(ft)}if(!(tt!=null&&tt.skipKerning))for(let _t=0,St=ut.length;_t<St;_t++){const wt=ut[_t];for(let Et=0;Et<St;Et++){const Tt=ut[Et],Ct=gt.measureText(wt).width,It=gt.measureText(Tt).width,Pt=gt.measureText(wt+Tt).width-(Ct+It);Pt&&dt.kerning.push({first:extractCharCode(wt),second:extractCharCode(Tt),amount:Pt})}}const xt=new io(dt,bt,!0);return io.available[_]!==void 0&&io.uninstall(_),io.available[_]=xt,xt}};_BitmapFont.ALPHA=[["a","z"],["A","Z"]," "],_BitmapFont.NUMERIC=[["0","9"]],_BitmapFont.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],_BitmapFont.ASCII=[[" ","~"]],_BitmapFont.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:_BitmapFont.ALPHANUMERIC},_BitmapFont.available={};let BitmapFont=_BitmapFont;var msdfFrag=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,msdfVert=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[],_BitmapText=class yl extends Container{constructor(_,et={}){super();const{align:tt,tint:rt,maxWidth:nt,letterSpacing:it,fontName:at,fontSize:lt}=Object.assign({},yl.styleDefaults,et);if(!BitmapFont.available[at])throw new Error(`Missing BitmapFont "${at}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=tt,this._tintColor=new Color(rt),this._font=void 0,this._fontName=at,this._fontSize=lt,this.text=_,this._maxWidth=nt,this._maxLineHeight=0,this._letterSpacing=it,this._anchor=new ObservablePoint(()=>{this.dirty=!0},this,0,0),this._roundPixels=settings.ROUND_PIXELS,this.dirty=!0,this._resolution=settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Ct;const _=BitmapFont.available[this._fontName],et=this.fontSize,tt=et/_.size,rt=new Point,nt=[],it=[],at=[],lt=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",ct=splitTextToCharacters(lt),ut=this._maxWidth*_.size/et,st=_.distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData;let ot=null,dt=0,ft=0,ht=0,mt=-1,gt=0,yt=0,vt=0,bt=0;for(let It=0;It<ct.length;It++){const Pt=ct[It],At=extractCharCode(Pt);if(/(?:\s)/.test(Pt)&&(mt=It,gt=dt,bt++),Pt==="\r"||Pt===`
`){it.push(dt),at.push(-1),ft=Math.max(ft,dt),++ht,++yt,rt.x=0,rt.y+=_.lineHeight,ot=null,bt=0;continue}const kt=_.chars[At];if(!kt)continue;ot&&kt.kerning[ot]&&(rt.x+=kt.kerning[ot]);const Rt=charRenderDataPool.pop()||{texture:Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point};Rt.texture=kt.texture,Rt.line=ht,Rt.charCode=At,Rt.position.x=Math.round(rt.x+kt.xOffset+this._letterSpacing/2),Rt.position.y=Math.round(rt.y+kt.yOffset),Rt.prevSpaces=bt,nt.push(Rt),dt=Rt.position.x+Math.max(kt.xAdvance-kt.xOffset,kt.texture.orig.width),rt.x+=kt.xAdvance+this._letterSpacing,vt=Math.max(vt,kt.yOffset+kt.texture.height),ot=At,mt!==-1&&ut>0&&rt.x>ut&&(++yt,removeItems(nt,1+mt-yt,1+It-mt),It=mt,mt=-1,it.push(gt),at.push(nt.length>0?nt[nt.length-1].prevSpaces:0),ft=Math.max(ft,gt),ht++,rt.x=0,rt.y+=_.lineHeight,ot=null,bt=0)}const xt=ct[ct.length-1];xt!=="\r"&&xt!==`
`&&(/(?:\s)/.test(xt)&&(dt=gt),it.push(dt),ft=Math.max(ft,dt),at.push(-1));const _t=[];for(let It=0;It<=ht;It++){let Pt=0;this._align==="right"?Pt=ft-it[It]:this._align==="center"?Pt=(ft-it[It])/2:this._align==="justify"&&(Pt=at[It]<0?0:(ft-it[It])/at[It]),_t.push(Pt)}const St=nt.length,wt={},Et=[],Tt=this._activePagesMeshData;st.push(...Tt);for(let It=0;It<St;It++){const Pt=nt[It].texture,At=Pt.baseTexture.uid;if(!wt[At]){let kt=st.pop();if(!kt){const $t=new MeshGeometry;let Mt,Nt;_.distanceFieldType==="none"?(Mt=new MeshMaterial(Texture.EMPTY),Nt=BLEND_MODES.NORMAL):(Mt=new MeshMaterial(Texture.EMPTY,{program:Program.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),Nt=BLEND_MODES.NORMAL_NPM);const Dt=new Mesh($t,Mt);Dt.blendMode=Nt,kt={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Dt,vertices:null,uvs:null,indices:null}}kt.index=0,kt.indexCount=0,kt.vertexCount=0,kt.uvsCount=0,kt.total=0;const{_textureCache:Rt}=this;Rt[At]=Rt[At]||new Texture(Pt.baseTexture),kt.mesh.texture=Rt[At],kt.mesh.tint=this._tintColor.value,Et.push(kt),wt[At]=kt}wt[At].total++}for(let It=0;It<Tt.length;It++)Et.includes(Tt[It])||this.removeChild(Tt[It].mesh);for(let It=0;It<Et.length;It++)Et[It].mesh.parent!==this&&this.addChild(Et[It].mesh);this._activePagesMeshData=Et;for(const It in wt){const Pt=wt[It],At=Pt.total;if(!(((Ct=Pt.indices)==null?void 0:Ct.length)>6*At)||Pt.vertices.length<Mesh.BATCHABLE_SIZE*2)Pt.vertices=new Float32Array(4*2*At),Pt.uvs=new Float32Array(4*2*At),Pt.indices=new Uint16Array(6*At);else{const kt=Pt.total,Rt=Pt.vertices;for(let $t=kt*4*2;$t<Rt.length;$t++)Rt[$t]=0}Pt.mesh.size=6*At}for(let It=0;It<St;It++){const Pt=nt[It];let At=Pt.position.x+_t[Pt.line]*(this._align==="justify"?Pt.prevSpaces:1);this._roundPixels&&(At=Math.round(At));const kt=At*tt,Rt=Pt.position.y*tt,$t=Pt.texture,Mt=wt[$t.baseTexture.uid],Nt=$t.frame,Dt=$t._uvs,jt=Mt.index++;Mt.indices[jt*6+0]=0+jt*4,Mt.indices[jt*6+1]=1+jt*4,Mt.indices[jt*6+2]=2+jt*4,Mt.indices[jt*6+3]=0+jt*4,Mt.indices[jt*6+4]=2+jt*4,Mt.indices[jt*6+5]=3+jt*4,Mt.vertices[jt*8+0]=kt,Mt.vertices[jt*8+1]=Rt,Mt.vertices[jt*8+2]=kt+Nt.width*tt,Mt.vertices[jt*8+3]=Rt,Mt.vertices[jt*8+4]=kt+Nt.width*tt,Mt.vertices[jt*8+5]=Rt+Nt.height*tt,Mt.vertices[jt*8+6]=kt,Mt.vertices[jt*8+7]=Rt+Nt.height*tt,Mt.uvs[jt*8+0]=Dt.x0,Mt.uvs[jt*8+1]=Dt.y0,Mt.uvs[jt*8+2]=Dt.x1,Mt.uvs[jt*8+3]=Dt.y1,Mt.uvs[jt*8+4]=Dt.x2,Mt.uvs[jt*8+5]=Dt.y2,Mt.uvs[jt*8+6]=Dt.x3,Mt.uvs[jt*8+7]=Dt.y3}this._textWidth=ft*tt,this._textHeight=(rt.y+_.lineHeight)*tt;for(const It in wt){const Pt=wt[It];if(this.anchor.x!==0||this.anchor.y!==0){let $t=0;const Mt=this._textWidth*this.anchor.x,Nt=this._textHeight*this.anchor.y;for(let Dt=0;Dt<Pt.total;Dt++)Pt.vertices[$t++]-=Mt,Pt.vertices[$t++]-=Nt,Pt.vertices[$t++]-=Mt,Pt.vertices[$t++]-=Nt,Pt.vertices[$t++]-=Mt,Pt.vertices[$t++]-=Nt,Pt.vertices[$t++]-=Mt,Pt.vertices[$t++]-=Nt}this._maxLineHeight=vt*tt;const At=Pt.mesh.geometry.getBuffer("aVertexPosition"),kt=Pt.mesh.geometry.getBuffer("aTextureCoord"),Rt=Pt.mesh.geometry.getIndex();At.data=Pt.vertices,kt.data=Pt.uvs,Rt.data=Pt.indices,At.update(),kt.update(),Rt.update()}for(let It=0;It<nt.length;It++)charRenderDataPool.push(nt[It]);this._font=_,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(_){this._autoResolution&&this._resolution!==_.resolution&&(this._resolution=_.resolution,this.dirty=!0);const{distanceFieldRange:et,distanceFieldType:tt,size:rt}=BitmapFont.available[this._fontName];if(tt!=="none"){const{a:nt,b:it,c:at,d:lt}=this.worldTransform,ct=Math.sqrt(nt*nt+it*it),ut=Math.sqrt(at*at+lt*lt),st=(Math.abs(ct)+Math.abs(ut))/2,ot=this.fontSize/rt,dt=_._view.resolution;for(const ft of this._activePagesMeshData)ft.mesh.shader.uniforms.uFWidth=st*et*ot*dt}super._render(_)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const _=BitmapFont.available[this._fontName];if(!_)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==_&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(_){if(this.tint!==_){this._tintColor.setValue(_);for(let et=0;et<this._activePagesMeshData.length;et++)this._activePagesMeshData[et].mesh.tint=_}}get align(){return this._align}set align(_){this._align!==_&&(this._align=_,this.dirty=!0)}get fontName(){return this._fontName}set fontName(_){if(!BitmapFont.available[_])throw new Error(`Missing BitmapFont "${_}"`);this._fontName!==_&&(this._fontName=_,this.dirty=!0)}get fontSize(){return this._fontSize??BitmapFont.available[this._fontName].size}set fontSize(_){this._fontSize!==_&&(this._fontSize=_,this.dirty=!0)}get anchor(){return this._anchor}set anchor(_){typeof _=="number"?this._anchor.set(_):this._anchor.copyFrom(_)}get text(){return this._text}set text(_){_=String(_??""),this._text!==_&&(this._text=_,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(_){this._maxWidth!==_&&(this._maxWidth=_,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(_){this._letterSpacing!==_&&(this._letterSpacing=_,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(_){_!==this._roundPixels&&(this._roundPixels=_,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(_){this._autoResolution=!1,this._resolution!==_&&(this._resolution=_,this.dirty=!0)}destroy(_){const{_textureCache:et}=this,tt=BitmapFont.available[this._fontName].distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData;tt.push(...this._activePagesMeshData);for(const rt of this._activePagesMeshData)this.removeChild(rt.mesh);this._activePagesMeshData=[],tt.filter(rt=>et[rt.mesh.texture.baseTexture.uid]).forEach(rt=>{rt.mesh.texture=Texture.EMPTY});for(const rt in et)et[rt].destroy(),delete et[rt];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(_)}};_BitmapText.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const validExtensions=[".xml",".fnt"],loadBitmapFont={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal},name:"loadBitmapFont",test(_e){return validExtensions.includes(path$1.extname(_e).toLowerCase())},async testParse(_e){return TextFormat.test(_e)||XMLStringFormat.test(_e)},async parse(_e,_,et){const tt=TextFormat.test(_e)?TextFormat.parse(_e):XMLStringFormat.parse(_e),{src:rt}=_,{page:nt}=tt,it=[];for(let ct=0;ct<nt.length;++ct){const ut=nt[ct].file;let st=path$1.join(path$1.dirname(rt),ut);st=copySearchParams(st,rt),it.push(st)}const at=await et.load(it),lt=it.map(ct=>at[ct]);return BitmapFont.install(tt,lt,!0)},async load(_e,_){return(await settings.ADAPTER.fetch(_e)).text()},unload(_e){_e.destroy()}};extensions$1.add(loadBitmapFont);const _HTMLTextStyle=class So extends TextStyle{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(_){return new So(Object.keys(So.defaultOptions).reduce((et,tt)=>({...et,[tt]:_[tt]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(_=>{URL.revokeObjectURL(_.src),_.refs--,_.refs===0&&(_.fontFace&&document.fonts.delete(_.fontFace),delete So.availableFonts[_.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(_,et={}){const{availableFonts:tt}=So;if(tt[_]){const rt=tt[_];return this._fonts.push(rt),rt.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return settings.ADAPTER.fetch(_).then(rt=>rt.blob()).then(async rt=>new Promise((nt,it)=>{const at=URL.createObjectURL(rt),lt=new FileReader;lt.onload=()=>nt([at,lt.result]),lt.onerror=it,lt.readAsDataURL(rt)})).then(async([rt,nt])=>{const it=Object.assign({family:path$1.basename(_,path$1.extname(_)),weight:"normal",style:"normal",display:"auto",src:rt,dataSrc:nt,refs:1,originalUrl:_,fontFace:null},et);tt[_]=it,this._fonts.push(it),this.styleID++;const at=new FontFace(it.family,`url(${it.src})`,{weight:it.weight,style:it.style,display:it.display});it.fontFace=at,await at.load(),document.fonts.add(at),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(..._){const et=_.filter(tt=>!this._overrides.includes(tt));et.length>0&&(this._overrides.push(...et),this.styleID++)}removeOverride(..._){const et=_.filter(tt=>this._overrides.includes(tt));et.length>0&&(this._overrides=this._overrides.filter(tt=>!et.includes(tt)),this.styleID++)}toCSS(_){return[`transform: scale(${_})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((_,et)=>`${_}
            @font-face {
                font-family: "${et.family}";
                src: url('${et.dataSrc}');
                font-weight: ${et.weight};
                font-style: ${et.style};
                font-display: ${et.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(_){this._stylesheet!==_&&(this._stylesheet=_,this.styleID++)}normalizeColor(_){return Array.isArray(_)&&(_=rgb2hex(_)),typeof _=="number"?hex2string(_):_}dropShadowToCSS(){let _=this.normalizeColor(this.dropShadowColor);const et=this.dropShadowAlpha,tt=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),rt=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);_.startsWith("#")&&et<1&&(_+=(et*255|0).toString(16).padStart(2,"0"));const nt=`${tt}px ${rt}px`;return this.dropShadowBlur>0?`text-shadow: ${nt} ${this.dropShadowBlur}px ${_}`:`text-shadow: ${nt} ${_}`}reset(){Object.assign(this,So.defaultOptions)}onBeforeDraw(){const{fontsDirty:_}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&_?new Promise(et=>setTimeout(et,100)):Promise.resolve()}get isSafari(){const{userAgent:_}=settings.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(_)}set fillGradientStops(_){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(_){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(_){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(_){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(_){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(_){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(_){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};_HTMLTextStyle.availableFonts={},_HTMLTextStyle.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let HTMLTextStyle=_HTMLTextStyle;const _HTMLText=class Eo extends Sprite{constructor(_="",et={}){super(Texture.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const tt=new Image,rt=Texture.from(tt,{scaleMode:settings.SCALE_MODE,resourceOptions:{autoLoad:!1}});rt.orig=new Rectangle,rt.trim=new Rectangle,this.texture=rt;const nt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",at=document.createElementNS(nt,"svg"),lt=document.createElementNS(nt,"foreignObject"),ct=document.createElementNS(it,"div"),ut=document.createElementNS(it,"style");lt.setAttribute("width","10000"),lt.setAttribute("height","10000"),lt.style.overflow="hidden",at.appendChild(lt),this.maxWidth=Eo.defaultMaxWidth,this.maxHeight=Eo.defaultMaxHeight,this._domElement=ct,this._styleElement=ut,this._svgRoot=at,this._foreignObject=lt,this._foreignObject.appendChild(ut),this._foreignObject.appendChild(ct),this._image=tt,this._loadImage=new Image,this._autoResolution=Eo.defaultAutoResolution,this._resolution=Eo.defaultResolution??settings.RESOLUTION,this.text=_,this.style=et}measureText(_){var ut,st;const{text:et,style:tt,resolution:rt}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},_);Object.assign(this._domElement,{innerHTML:et,style:tt.toCSS(rt)}),this._styleElement.textContent=tt.toGlobalCSS(),document.body.appendChild(this._svgRoot);const nt=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:it,height:at}=nt;(it>this.maxWidth||at>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const lt=Math.min(this.maxWidth,Math.ceil(it)),ct=Math.min(this.maxHeight,Math.ceil(at));return this._svgRoot.setAttribute("width",lt.toString()),this._svgRoot.setAttribute("height",ct.toString()),et!==this._text&&(this._domElement.innerHTML=this._text),tt!==this._style&&(Object.assign(this._domElement,{style:(ut=this._style)==null?void 0:ut.toCSS(rt)}),this._styleElement.textContent=(st=this._style)==null?void 0:st.toGlobalCSS()),{width:lt+tt.padding*2,height:ct+tt.padding*2}}async updateText(_=!0){const{style:et,_image:tt,_loadImage:rt}=this;if(this.localStyleID!==et.styleID&&(this.dirty=!0,this.localStyleID=et.styleID),!this.dirty&&_)return;const{width:nt,height:it}=this.measureText();tt.width=rt.width=Math.ceil(Math.max(1,nt)),tt.height=rt.height=Math.ceil(Math.max(1,it)),this._updateID++;const at=this._updateID;await new Promise(lt=>{rt.onload=async()=>{if(at<this._updateID){lt();return}await et.onBeforeDraw(),tt.src=rt.src,rt.onload=null,rt.src="",this.updateTexture(),lt()};const ct=new XMLSerializer().serializeToString(this._svgRoot);rt.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(ct)}`})}get source(){return this._image}updateTexture(){const{style:_,texture:et,_image:tt,resolution:rt}=this,{padding:nt}=_,{baseTexture:it}=et;et.trim.width=et._frame.width=tt.width/rt,et.trim.height=et._frame.height=tt.height/rt,et.trim.x=-nt,et.trim.y=-nt,et.orig.width=et._frame.width-nt*2,et.orig.height=et._frame.height-nt*2,this._onTextureUpdate(),it.setRealSize(tt.width,tt.height,rt),this.dirty=!1}_render(_){this._autoResolution&&this._resolution!==_.resolution&&(this._resolution=_.resolution,this.dirty=!0),this.updateText(!0),super._render(_)}_renderCanvas(_){this._autoResolution&&this._resolution!==_.resolution&&(this._resolution=_.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(_)}getLocalBounds(_){return this.updateText(!0),super.getLocalBounds(_)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(_){var tt,rt,nt,it,at;typeof _=="boolean"&&(_={children:_}),_=Object.assign({},Eo.defaultDestroyOptions,_),super.destroy(_);const et=null;this.ownsStyle&&((tt=this._style)==null||tt.cleanFonts()),this._style=et,(rt=this._svgRoot)==null||rt.remove(),this._svgRoot=et,(nt=this._domElement)==null||nt.remove(),this._domElement=et,(it=this._foreignObject)==null||it.remove(),this._foreignObject=et,(at=this._styleElement)==null||at.remove(),this._styleElement=et,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=et,this._image.src="",this._image=et}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(_){this.updateText(!0);const et=sign(this.scale.x)||1;this.scale.x=et*_/this._image.width/this.resolution,this._width=_}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(_){this.updateText(!0);const et=sign(this.scale.y)||1;this.scale.y=et*_/this._image.height/this.resolution,this._height=_}get style(){return this._style}set style(_){this._style!==_&&(_=_||{},_ instanceof HTMLTextStyle?(this.ownsStyle=!1,this._style=_):_ instanceof TextStyle?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=HTMLTextStyle.from(_)):(this.ownsStyle=!0,this._style=new HTMLTextStyle(_)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(_){_=String(_===""||_===null||_===void 0?" ":_),_=this.sanitiseText(_),this._text!==_&&(this._text=_,this.dirty=!0)}get resolution(){return this._resolution}set resolution(_){this._autoResolution=!1,this._resolution!==_&&(this._resolution=_,this.dirty=!0)}sanitiseText(_){return _.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};_HTMLText.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},_HTMLText.defaultMaxWidth=2024,_HTMLText.defaultMaxHeight=2024,_HTMLText.defaultAutoResolution=!0;var __defProp=Object.defineProperty,__pow=Math.pow,__defNormalProp=(_e,_,et)=>_ in _e?__defProp(_e,_,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[_]=et,__publicField=(_e,_,et)=>(__defNormalProp(_e,typeof _!="symbol"?_+"":_,et),et),__async=(_e,_,et)=>new Promise((tt,rt)=>{var nt=lt=>{try{at(et.next(lt))}catch(ct){rt(ct)}},it=lt=>{try{at(et.throw(lt))}catch(ct){rt(ct)}},at=lt=>lt.done?tt(lt.value):Promise.resolve(lt.value).then(nt,it);at((et=et.apply(_e,_)).next())});const LOGICAL_WIDTH=2,LOGICAL_HEIGHT=2;var CubismConfig;(_e=>{_e.supportMoreMaskDivisions=!0,_e.setOpacityFromMotion=!1})(CubismConfig||(CubismConfig={}));const LOG_LEVEL_VERBOSE=0,LOG_LEVEL_WARNING=1,LOG_LEVEL_ERROR=2,LOG_LEVEL_NONE=999,config$1={LOG_LEVEL_VERBOSE,LOG_LEVEL_WARNING,LOG_LEVEL_ERROR,LOG_LEVEL_NONE,logLevel:LOG_LEVEL_WARNING,sound:!0,motionSync:!0,motionFadingDuration:500,idleMotionFadingDuration:2e3,expressionFadingDuration:500,preserveExpressionOnMotion:!0,cubism4:CubismConfig},logger={log(_e,..._){},warn(_e,..._){console.warn(`[${_e}]`,..._)},error(_e,..._){console.error(`[${_e}]`,..._)}};function clamp(_e,_,et){return _e<_?_:_e>et?et:_e}function rand(_e,_){return Math.random()*(_-_e)+_e}function copyProperty(_e,_,et,tt,rt){const nt=_[tt];nt!==null&&typeof nt===_e&&(et[rt]=nt)}function copyArray(_e,_,et,tt,rt){const nt=_[tt];Array.isArray(nt)&&(et[rt]=nt.filter(it=>it!==null&&typeof it===_e))}function applyMixins(_e,_){_.forEach(et=>{Object.getOwnPropertyNames(et.prototype).forEach(tt=>{tt!=="constructor"&&Object.defineProperty(_e.prototype,tt,Object.getOwnPropertyDescriptor(et.prototype,tt))})})}function folderName(_e){let _=_e.lastIndexOf("/");return _!=-1&&(_e=_e.slice(0,_)),_=_e.lastIndexOf("/"),_!==-1&&(_e=_e.slice(_+1)),_e}function remove$1(_e,_){const et=_e.indexOf(_);et!==-1&&_e.splice(et,1)}class ExpressionManager extends EventEmitter{constructor(_,et){super(),__publicField(this,"tag"),__publicField(this,"settings"),__publicField(this,"expressions",[]),__publicField(this,"defaultExpression"),__publicField(this,"currentExpression"),__publicField(this,"reserveExpressionIndex",-1),__publicField(this,"destroyed",!1),this.settings=_,this.tag=`ExpressionManager(${_.name})`}init(){this.defaultExpression=this.createExpression({},void 0),this.currentExpression=this.defaultExpression,this.stopAllExpressions()}loadExpression(_){return __async(this,null,function*(){if(!this.definitions[_]){logger.warn(this.tag,`Undefined expression at [${_}]`);return}if(this.expressions[_]===null){logger.warn(this.tag,`Cannot set expression at [${_}] because it's already failed in loading.`);return}if(this.expressions[_])return this.expressions[_];const et=yield this._loadExpression(_);return this.expressions[_]=et,et})}_loadExpression(_){throw new Error("Not implemented.")}setRandomExpression(){return __async(this,null,function*(){if(this.definitions.length){const _=[];for(let et=0;et<this.definitions.length;et++)this.expressions[et]!==null&&this.expressions[et]!==this.currentExpression&&et!==this.reserveExpressionIndex&&_.push(et);if(_.length){const et=Math.floor(Math.random()*_.length);return this.setExpression(et)}}return!1})}resetExpression(){this._setExpression(this.defaultExpression)}restoreExpression(){this._setExpression(this.currentExpression)}setExpression(_){return __async(this,null,function*(){if(typeof _!="number"&&(_=this.getExpressionIndex(_)),!(_>-1&&_<this.definitions.length)||_===this.expressions.indexOf(this.currentExpression))return!1;this.reserveExpressionIndex=_;const et=yield this.loadExpression(_);return!et||this.reserveExpressionIndex!==_?!1:(this.reserveExpressionIndex=-1,this.currentExpression=et,this._setExpression(et),!0)})}update(_,et){return this.isFinished()?!1:this.updateParameters(_,et)}destroy(){this.destroyed=!0,this.emit("destroy");const _=this;_.definitions=void 0,_.expressions=void 0}}const EPSILON=.01,MAX_SPEED=40/7.5,ACCELERATION_TIME=1/(.15*1e3);class FocusController{constructor(){__publicField(this,"targetX",0),__publicField(this,"targetY",0),__publicField(this,"x",0),__publicField(this,"y",0),__publicField(this,"vx",0),__publicField(this,"vy",0)}focus(_,et,tt=!1){this.targetX=clamp(_,-1,1),this.targetY=clamp(et,-1,1),tt&&(this.x=this.targetX,this.y=this.targetY)}update(_){const et=this.targetX-this.x,tt=this.targetY-this.y;if(Math.abs(et)<EPSILON&&Math.abs(tt)<EPSILON)return;const rt=Math.sqrt(__pow(et,2)+__pow(tt,2)),nt=MAX_SPEED/(1e3/_);let it=nt*(et/rt)-this.vx,at=nt*(tt/rt)-this.vy;const lt=Math.sqrt(__pow(it,2)+__pow(at,2)),ct=nt*ACCELERATION_TIME*_;lt>ct&&(it*=ct/lt,at*=ct/lt),this.vx+=it,this.vy+=at;const ut=Math.sqrt(__pow(this.vx,2)+__pow(this.vy,2)),st=.5*(Math.sqrt(__pow(ct,2)+8*ct*rt)-ct);ut>st&&(this.vx*=st/ut,this.vy*=st/ut),this.x+=this.vx,this.y+=this.vy}}class ModelSettings{constructor(_){__publicField(this,"json"),__publicField(this,"name"),__publicField(this,"url"),__publicField(this,"pose"),__publicField(this,"physics"),this.json=_;const et=_.url;if(typeof et!="string")throw new TypeError("The `url` field in settings JSON must be defined as a string.");this.url=et,this.name=folderName(this.url)}resolveURL(_){return url.resolve(this.url,_)}replaceFiles(_){this.moc=_(this.moc,"moc"),this.pose!==void 0&&(this.pose=_(this.pose,"pose")),this.physics!==void 0&&(this.physics=_(this.physics,"physics"));for(let et=0;et<this.textures.length;et++)this.textures[et]=_(this.textures[et],`textures[${et}]`)}getDefinedFiles(){const _=[];return this.replaceFiles(et=>(_.push(et),et)),_}validateFiles(_){const et=(nt,it)=>{const at=this.resolveURL(nt);if(!_.includes(at)){if(it)throw new Error(`File "${nt}" is defined in settings, but doesn't exist in given files`);return!1}return!0};return[this.moc,...this.textures].forEach(nt=>et(nt,!0)),this.getDefinedFiles().filter(nt=>et(nt,!1))}}var MotionPriority=(_e=>(_e[_e.NONE=0]="NONE",_e[_e.IDLE=1]="IDLE",_e[_e.NORMAL=2]="NORMAL",_e[_e.FORCE=3]="FORCE",_e))(MotionPriority||{});class MotionState{constructor(){__publicField(this,"tag"),__publicField(this,"debug",!1),__publicField(this,"currentPriority",0),__publicField(this,"reservePriority",0),__publicField(this,"currentGroup"),__publicField(this,"currentIndex"),__publicField(this,"reservedGroup"),__publicField(this,"reservedIndex"),__publicField(this,"reservedIdleGroup"),__publicField(this,"reservedIdleIndex")}reserve(_,et,tt){if(tt<=0)return logger.log(this.tag,"Cannot start a motion with MotionPriority.NONE."),!1;if(_===this.currentGroup&&et===this.currentIndex)return logger.log(this.tag,"Motion is already playing.",this.dump(_,et)),!1;if(_===this.reservedGroup&&et===this.reservedIndex||_===this.reservedIdleGroup&&et===this.reservedIdleIndex)return logger.log(this.tag,"Motion is already reserved.",this.dump(_,et)),!1;if(tt===1){if(this.currentPriority!==0)return logger.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(_,et)),!1;if(this.reservedIdleGroup!==void 0)return logger.log(this.tag,"Cannot start idle motion because another idle motion has reserved.",this.dump(_,et)),!1;this.setReservedIdle(_,et)}else{if(tt<3){if(tt<=this.currentPriority)return logger.log(this.tag,"Cannot start motion because another motion is playing as an equivalent or higher priority.",this.dump(_,et)),!1;if(tt<=this.reservePriority)return logger.log(this.tag,"Cannot start motion because another motion has reserved as an equivalent or higher priority.",this.dump(_,et)),!1}this.setReserved(_,et,tt)}return!0}start(_,et,tt,rt){if(rt===1){if(this.setReservedIdle(void 0,void 0),this.currentPriority!==0)return logger.log(this.tag,"Cannot start idle motion because another motion is playing.",this.dump(et,tt)),!1}else{if(et!==this.reservedGroup||tt!==this.reservedIndex)return logger.log(this.tag,"Cannot start motion because another motion has taken the place.",this.dump(et,tt)),!1;this.setReserved(void 0,void 0,0)}return _?(this.setCurrent(et,tt,rt),!0):!1}complete(){this.setCurrent(void 0,void 0,0)}setCurrent(_,et,tt){this.currentPriority=tt,this.currentGroup=_,this.currentIndex=et}setReserved(_,et,tt){this.reservePriority=tt,this.reservedGroup=_,this.reservedIndex=et}setReservedIdle(_,et){this.reservedIdleGroup=_,this.reservedIdleIndex=et}isActive(_,et){return _===this.currentGroup&&et===this.currentIndex||_===this.reservedGroup&&et===this.reservedIndex||_===this.reservedIdleGroup&&et===this.reservedIdleIndex}reset(){this.setCurrent(void 0,void 0,0),this.setReserved(void 0,void 0,0),this.setReservedIdle(void 0,void 0)}shouldRequestIdleMotion(){return this.currentGroup===void 0&&this.reservedIdleGroup===void 0}shouldOverrideExpression(){return!1}dump(_,et){if(this.debug){const tt=["currentPriority","reservePriority","currentGroup","currentIndex","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex"];return`
<Requested> group = "${_}", index = ${et}
`+tt.map(rt=>"["+rt+"] "+this[rt]).join(`
`)}return""}}const TAG$2="SoundManager",VOLUME=.5;class SoundManager{static get volume(){return this._volume}static set volume(_){this._volume=(_>1?1:_<0?0:_)||0,this.audios.forEach(et=>et.volume=this._volume)}static add(_,et,tt,rt){const nt=new Audio(_);return nt.volume=this._volume,nt.preload="auto",nt.crossOrigin=rt,nt.addEventListener("ended",()=>{this.dispose(nt),et==null||et()}),nt.addEventListener("error",it=>{this.dispose(nt),logger.warn(TAG$2,`Error occurred on "${_}"`,it.error),tt==null||tt(it.error)}),this.audios.push(nt),nt}static play(_){return new Promise((et,tt)=>{var rt;(rt=_.play())==null||rt.catch(nt=>{_.dispatchEvent(new ErrorEvent("error",{error:nt})),tt(nt)}),_.readyState===_.HAVE_ENOUGH_DATA?et():_.addEventListener("canplaythrough",et)})}static addContext(_){const et=new AudioContext;return this.contexts.push(et),et}static addAnalyzer(_,et){const tt=et.createMediaElementSource(_),rt=et.createAnalyser();return rt.fftSize=256,rt.minDecibels=-90,rt.maxDecibels=-10,rt.smoothingTimeConstant=.85,tt.connect(rt),rt.connect(et.destination),this.analysers.push(rt),rt}static analyze(_){if(_!=null){const et=new Float32Array(_.fftSize);let tt=0;_.getFloatTimeDomainData(et);for(const rt of et)tt+=rt*rt;return parseFloat(Math.sqrt(tt/et.length*20).toFixed(1))}else return parseFloat(Math.random().toFixed(1))}static dispose(_){_.pause(),_.removeAttribute("src"),remove$1(this.audios,_)}static destroy(){for(let _=this.contexts.length-1;_>=0;_--)this.contexts[_].close();for(let _=this.audios.length-1;_>=0;_--)this.dispose(this.audios[_])}}__publicField(SoundManager,"audios",[]);__publicField(SoundManager,"analysers",[]);__publicField(SoundManager,"contexts",[]);__publicField(SoundManager,"_volume",VOLUME);var MotionPreloadStrategy=(_e=>(_e.ALL="ALL",_e.IDLE="IDLE",_e.NONE="NONE",_e))(MotionPreloadStrategy||{});class MotionManager extends EventEmitter{constructor(_,et){super(),__publicField(this,"tag"),__publicField(this,"settings"),__publicField(this,"motionGroups",{}),__publicField(this,"state",new MotionState),__publicField(this,"currentAudio"),__publicField(this,"currentAnalyzer"),__publicField(this,"currentContext"),__publicField(this,"playing",!1),__publicField(this,"destroyed",!1),this.settings=_,this.tag=`MotionManager(${_.name})`,this.state.tag=this.tag}init(_){_!=null&&_.idleMotionGroup&&(this.groups.idle=_.idleMotionGroup),this.setupMotions(_),this.stopAllMotions()}setupMotions(_){for(const tt of Object.keys(this.definitions))this.motionGroups[tt]=[];let et;switch(_==null?void 0:_.motionPreload){case"NONE":return;case"ALL":et=Object.keys(this.definitions);break;case"IDLE":default:et=[this.groups.idle];break}for(const tt of et)if(this.definitions[tt])for(let rt=0;rt<this.definitions[tt].length;rt++)this.loadMotion(tt,rt).then()}loadMotion(_,et){return __async(this,null,function*(){var tt;if(!((tt=this.definitions[_])!=null&&tt[et])){logger.warn(this.tag,`Undefined motion at "${_}"[${et}]`);return}if(this.motionGroups[_][et]===null){logger.warn(this.tag,`Cannot start motion at "${_}"[${et}] because it's already failed in loading.`);return}if(this.motionGroups[_][et])return this.motionGroups[_][et];const rt=yield this._loadMotion(_,et);if(!this.destroyed)return this.motionGroups[_][et]=rt??null,rt})}_loadMotion(_,et){throw new Error("Not implemented.")}speak(_){return __async(this,arguments,function*(et,{volume:tt=VOLUME,expression:rt,resetExpression:nt=!0,crossOrigin:it,onFinish:at,onError:lt}={}){let ct,ut,st;if(this.currentAudio&&!this.currentAudio.ended)return!1;let ot;const dt=et&&et.startsWith("data:");if(console.log(at),et&&!dt){const ht=document.createElement("a");ht.href=et,et=ht.href,ot=et}else ot="data:audio/";const ft=et;if(ft)try{ct=SoundManager.add(ft,(ht=this)=>{console.log("Audio finished playing"),at==null||at(),nt&&rt&&ht.expressionManager&&ht.expressionManager.resetExpression(),ht.currentAudio=void 0},(ht,mt=this)=>{console.log("Error during audio playback:",ht),lt==null||lt(ht),nt&&rt&&mt.expressionManager&&mt.expressionManager.resetExpression(),mt.currentAudio=void 0},it),this.currentAudio=ct,SoundManager.volume=tt,st=SoundManager.addContext(this.currentAudio),this.currentContext=st,ut=SoundManager.addAnalyzer(this.currentAudio,this.currentContext),this.currentAnalyzer=ut}catch(ht){return logger.warn(this.tag,"Failed to create audio",ot,ht),!1}if(ct){let ht=!0;if(yield SoundManager.play(ct).catch(gt=>{logger.warn(this.tag,"Failed to play audio",ct.src,gt),ht=!1}),!ht)return!1}return this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),rt&&this.expressionManager&&this.expressionManager.setExpression(rt),this.playing=!0,!0})}startMotion(_,et){return __async(this,arguments,function*(tt,rt,nt=MotionPriority.NORMAL,{sound:it=void 0,volume:at=VOLUME,expression:lt=void 0,resetExpression:ct=!0,crossOrigin:ut,onFinish:st,onError:ot}={}){var dt;if(!this.state.reserve(tt,rt,nt)||this.currentAudio&&!this.currentAudio.ended&&nt!=MotionPriority.FORCE)return!1;const ft=(dt=this.definitions[tt])==null?void 0:dt[rt];if(!ft)return!1;this.currentAudio&&SoundManager.dispose(this.currentAudio);let ht,mt,gt,yt;const vt=it&&it.startsWith("data:");if(it&&!vt){const _t=document.createElement("a");_t.href=it,it=_t.href,yt=it}else yt=this.getSoundFile(ft),yt&&(yt=this.settings.resolveURL(yt));const bt=yt;if(bt)try{ht=SoundManager.add(bt,(_t=this)=>{console.log("Audio finished playing"),st==null||st(),console.log(st),ct&&lt&&_t.expressionManager&&_t.expressionManager.resetExpression(),_t.currentAudio=void 0},(_t,St=this)=>{console.log("Error during audio playback:",_t),ot==null||ot(_t),ct&&lt&&St.expressionManager&&St.expressionManager.resetExpression(),St.currentAudio=void 0},ut),this.currentAudio=ht,SoundManager.volume=at,gt=SoundManager.addContext(this.currentAudio),this.currentContext=gt,mt=SoundManager.addAnalyzer(this.currentAudio,this.currentContext),this.currentAnalyzer=mt}catch(_t){logger.warn(this.tag,"Failed to create audio",yt,_t)}const xt=yield this.loadMotion(tt,rt);return ht&&(yield SoundManager.play(ht).catch(St=>logger.warn(this.tag,"Failed to play audio",ht.src,St))),this.state.start(xt,tt,rt,nt)?(this.state.shouldOverrideExpression()&&this.expressionManager&&this.expressionManager.resetExpression(),logger.log(this.tag,"Start motion:",this.getMotionName(ft)),this.emit("motionStart",tt,rt,ht),lt&&this.expressionManager&&this.state.shouldOverrideExpression()&&this.expressionManager.setExpression(lt),this.playing=!0,this._startMotion(xt),!0):(ht&&(SoundManager.dispose(ht),this.currentAudio=void 0),!1)})}startRandomMotion(_,et){return __async(this,arguments,function*(tt,rt,{sound:nt,volume:it=VOLUME,expression:at,resetExpression:lt=!0,crossOrigin:ct,onFinish:ut,onError:st}={}){const ot=this.definitions[tt];if(ot!=null&&ot.length){const dt=[];for(let ft=0;ft<ot.length;ft++)this.motionGroups[tt][ft]!==null&&!this.state.isActive(tt,ft)&&dt.push(ft);if(dt.length){const ft=dt[Math.floor(Math.random()*dt.length)];return this.startMotion(tt,ft,rt,{sound:nt,volume:it,expression:at,resetExpression:lt,crossOrigin:ct,onFinish:ut,onError:st})}}return!1})}stopSpeaking(){this.currentAudio&&(SoundManager.dispose(this.currentAudio),this.currentAudio=void 0)}stopAllMotions(){this._stopAllMotions(),this.state.reset(),this.stopSpeaking()}update(_,et){var tt;return this.isFinished()&&(this.playing&&(this.playing=!1,this.emit("motionFinish")),this.state.shouldOverrideExpression()&&((tt=this.expressionManager)==null||tt.restoreExpression()),this.state.complete(),this.state.shouldRequestIdleMotion()&&this.startRandomMotion(this.groups.idle,MotionPriority.IDLE)),this.updateParameters(_,et)}mouthSync(){return this.currentAnalyzer?SoundManager.analyze(this.currentAnalyzer):0}destroy(){var _;this.destroyed=!0,this.emit("destroy"),this.stopAllMotions(),(_=this.expressionManager)==null||_.destroy();const et=this;et.definitions=void 0,et.motionGroups=void 0}}const tempBounds={x:0,y:0,width:0,height:0};class InternalModel extends EventEmitter{constructor(){super(...arguments),__publicField(this,"focusController",new FocusController),__publicField(this,"pose"),__publicField(this,"physics"),__publicField(this,"originalWidth",0),__publicField(this,"originalHeight",0),__publicField(this,"width",0),__publicField(this,"height",0),__publicField(this,"localTransform",new Matrix),__publicField(this,"drawingMatrix",new Matrix),__publicField(this,"hitAreas",{}),__publicField(this,"textureFlipY",!1),__publicField(this,"viewport",[0,0,0,0]),__publicField(this,"destroyed",!1)}init(){this.setupLayout(),this.setupHitAreas()}setupLayout(){const _=this,et=this.getSize();_.originalWidth=et[0],_.originalHeight=et[1];const tt=Object.assign({width:LOGICAL_WIDTH,height:LOGICAL_HEIGHT},this.getLayout());this.localTransform.scale(tt.width/LOGICAL_WIDTH,tt.height/LOGICAL_HEIGHT),_.width=this.originalWidth*this.localTransform.a,_.height=this.originalHeight*this.localTransform.d;const rt=tt.x!==void 0&&tt.x-tt.width/2||tt.centerX!==void 0&&tt.centerX||tt.left!==void 0&&tt.left-tt.width/2||tt.right!==void 0&&tt.right+tt.width/2||0,nt=tt.y!==void 0&&tt.y-tt.height/2||tt.centerY!==void 0&&tt.centerY||tt.top!==void 0&&tt.top-tt.height/2||tt.bottom!==void 0&&tt.bottom+tt.height/2||0;this.localTransform.translate(this.width*rt,-this.height*nt)}setupHitAreas(){const _=this.getHitAreaDefs().filter(et=>et.index>=0);for(const et of _)this.hitAreas[et.name]=et}hitTest(_,et){return Object.keys(this.hitAreas).filter(tt=>this.isHit(tt,_,et))}isHit(_,et,tt){if(!this.hitAreas[_])return!1;const rt=this.hitAreas[_].index,nt=this.getDrawableBounds(rt,tempBounds);return nt.x<=et&&et<=nt.x+nt.width&&nt.y<=tt&&tt<=nt.y+nt.height}getDrawableBounds(_,et){const tt=this.getDrawableVertices(_);let rt=tt[0],nt=tt[0],it=tt[1],at=tt[1];for(let lt=0;lt<tt.length;lt+=2){const ct=tt[lt],ut=tt[lt+1];rt=Math.min(ct,rt),nt=Math.max(ct,nt),it=Math.min(ut,it),at=Math.max(ut,at)}return et??(et={}),et.x=rt,et.y=it,et.width=nt-rt,et.height=at-it,et}updateTransform(_){this.drawingMatrix.copyFrom(_).append(this.localTransform)}update(_,et){this.focusController.update(_)}destroy(){this.destroyed=!0,this.emit("destroy"),this.motionManager.destroy(),this.motionManager=void 0}}const TAG$1="XHRLoader";class NetworkError extends Error{constructor(_,et,tt,rt=!1){super(_),this.url=et,this.status=tt,this.aborted=rt}}const _XHRLoader=class Vn{static createXHR(_,et,tt,rt,nt){const it=new XMLHttpRequest;if(Vn.allXhrSet.add(it),_){let at=Vn.xhrMap.get(_);at?at.add(it):(at=new Set([it]),Vn.xhrMap.set(_,at)),_.listeners("destroy").includes(Vn.cancelXHRs)||_.once("destroy",Vn.cancelXHRs)}return it.open("GET",et),it.responseType=tt,it.onload=()=>{(it.status===200||it.status===0)&&it.response?rt(it.response):it.onerror()},it.onerror=()=>{logger.warn(TAG$1,`Failed to load resource as ${it.responseType} (Status ${it.status}): ${et}`),nt(new NetworkError("Network error.",et,it.status))},it.onabort=()=>nt(new NetworkError("Aborted.",et,it.status,!0)),it.onloadend=()=>{var at;Vn.allXhrSet.delete(it),_&&((at=Vn.xhrMap.get(_))==null||at.delete(it))},it}static cancelXHRs(){var _;(_=Vn.xhrMap.get(this))==null||_.forEach(et=>{et.abort(),Vn.allXhrSet.delete(et)}),Vn.xhrMap.delete(this)}static release(){Vn.allXhrSet.forEach(_=>_.abort()),Vn.allXhrSet.clear(),Vn.xhrMap=new WeakMap}};__publicField(_XHRLoader,"xhrMap",new WeakMap);__publicField(_XHRLoader,"allXhrSet",new Set);__publicField(_XHRLoader,"loader",(_e,_)=>new Promise((et,tt)=>{_XHRLoader.createXHR(_e.target,_e.settings?_e.settings.resolveURL(_e.url):_e.url,_e.type,nt=>{_e.result=nt,et()},tt).send()}));let XHRLoader=_XHRLoader;function runMiddlewares(_e,_){let et=-1;return tt(0);function tt(rt,nt){if(nt)return Promise.reject(nt);if(rt<=et)return Promise.reject(new Error("next() called multiple times"));et=rt;const it=_e[rt];if(!it)return Promise.resolve();try{return Promise.resolve(it(_,tt.bind(null,rt+1)))}catch(at){return Promise.reject(at)}}}class Live2DLoader{static load(_){return runMiddlewares(this.middlewares,_).then(()=>_.result)}}__publicField(Live2DLoader,"middlewares",[XHRLoader.loader]);function createTexture(_e,_={}){var et;const tt={resourceOptions:{crossorigin:_.crossOrigin}};if(Texture.fromURL)return Texture.fromURL(_e,tt).catch(it=>{if(it instanceof Error)throw it;const at=new Error("Texture loading error");throw at.event=it,at});tt.resourceOptions.autoLoad=!1;const rt=Texture.from(_e,tt);if(rt.baseTexture.valid)return Promise.resolve(rt);const nt=rt.baseTexture.resource;return(et=nt._live2d_load)!=null||(nt._live2d_load=new Promise((it,at)=>{const lt=ct=>{nt.source.removeEventListener("error",lt);const ut=new Error("Texture loading error");ut.event=ct,at(ut)};nt.source.addEventListener("error",lt),nt.load().then(()=>it(rt)).catch(lt)})),nt._live2d_load}function noop$3(){}const TAG="Live2DFactory",urlToJSON=(_e,_)=>__async(void 0,null,function*(){if(typeof _e.source=="string"){const et=yield Live2DLoader.load({url:_e.source,type:"json",target:_e.live2dModel});et.url=_e.source,_e.source=et,_e.live2dModel.emit("settingsJSONLoaded",et)}return _()}),jsonToSettings=(_e,_)=>__async(void 0,null,function*(){if(_e.source instanceof ModelSettings)return _e.settings=_e.source,_();if(typeof _e.source=="object"){const et=Live2DFactory.findRuntime(_e.source);if(et){const tt=et.createModelSettings(_e.source);return _e.settings=tt,_e.live2dModel.emit("settingsLoaded",tt),_()}}throw new TypeError("Unknown settings format.")}),waitUntilReady=(_e,_)=>{if(_e.settings){const et=Live2DFactory.findRuntime(_e.settings);if(et)return et.ready().then(_)}return _()},setupOptionals=(_e,_)=>__async(void 0,null,function*(){yield _();const et=_e.internalModel;if(et){const tt=_e.settings,rt=Live2DFactory.findRuntime(tt);if(rt){const nt=[];tt.pose&&nt.push(Live2DLoader.load({settings:tt,url:tt.pose,type:"json",target:et}).then(it=>{et.pose=rt.createPose(et.coreModel,it),_e.live2dModel.emit("poseLoaded",et.pose)}).catch(it=>{_e.live2dModel.emit("poseLoadError",it),logger.warn(TAG,"Failed to load pose.",it)})),tt.physics&&nt.push(Live2DLoader.load({settings:tt,url:tt.physics,type:"json",target:et}).then(it=>{et.physics=rt.createPhysics(et.coreModel,it),_e.live2dModel.emit("physicsLoaded",et.physics)}).catch(it=>{_e.live2dModel.emit("physicsLoadError",it),logger.warn(TAG,"Failed to load physics.",it)})),nt.length&&(yield Promise.all(nt))}}}),setupEssentials=(_e,_)=>__async(void 0,null,function*(){if(_e.settings){const et=_e.live2dModel,tt=Promise.all(_e.settings.textures.map(rt=>{const nt=_e.settings.resolveURL(rt);return createTexture(nt,{crossOrigin:_e.options.crossOrigin})}));if(tt.catch(noop$3),yield _(),_e.internalModel)et.internalModel=_e.internalModel,et.emit("modelLoaded",_e.internalModel);else throw new TypeError("Missing internal model.");et.textures=yield tt,et.emit("textureLoaded",et.textures)}else throw new TypeError("Missing settings.")}),createInternalModel=(_e,_)=>__async(void 0,null,function*(){const et=_e.settings;if(et instanceof ModelSettings){const tt=Live2DFactory.findRuntime(et);if(!tt)throw new TypeError("Unknown model settings.");const rt=yield Live2DLoader.load({settings:et,url:et.moc,type:"arraybuffer",target:_e.live2dModel});if(!tt.isValidMoc(rt))throw new Error("Invalid moc data");const nt=tt.createCoreModel(rt);return _e.internalModel=tt.createInternalModel(nt,et,_e.options),_()}throw new TypeError("Missing settings.")}),_ZipLoader=class wo{static unzip(_,et){return __async(this,null,function*(){const tt=yield wo.getFilePaths(_),rt=[];for(const it of et.getDefinedFiles()){const at=decodeURI(url.resolve(et.url,it));tt.includes(at)&&rt.push(at)}const nt=yield wo.getFiles(_,rt);for(let it=0;it<nt.length;it++){const at=rt[it],lt=nt[it];Object.defineProperty(lt,"webkitRelativePath",{value:at})}return nt})}static createSettings(_){return __async(this,null,function*(){const tt=(yield wo.getFilePaths(_)).find(at=>at.endsWith("model.json")||at.endsWith("model3.json"));if(!tt)throw new Error("Settings file not found");const rt=yield wo.readText(_,tt);if(!rt)throw new Error("Empty settings file: "+tt);const nt=JSON.parse(rt);nt.url=tt;const it=wo.live2dFactory.findRuntime(nt);if(!it)throw new Error("Unknown settings JSON");return it.createModelSettings(nt)})}static zipReader(_,et){return __async(this,null,function*(){throw new Error("Not implemented")})}static getFilePaths(_){return __async(this,null,function*(){throw new Error("Not implemented")})}static getFiles(_,et){return __async(this,null,function*(){throw new Error("Not implemented")})}static readText(_,et){return __async(this,null,function*(){throw new Error("Not implemented")})}static releaseReader(_){}};__publicField(_ZipLoader,"live2dFactory");__publicField(_ZipLoader,"ZIP_PROTOCOL","zip://");__publicField(_ZipLoader,"uid",0);__publicField(_ZipLoader,"factory",(_e,_)=>__async(_ZipLoader,null,function*(){const et=_e.source;let tt,rt,nt;if(typeof et=="string"&&(et.endsWith(".zip")||et.startsWith(_ZipLoader.ZIP_PROTOCOL))?(et.startsWith(_ZipLoader.ZIP_PROTOCOL)?tt=et.slice(_ZipLoader.ZIP_PROTOCOL.length):tt=et,rt=yield Live2DLoader.load({url:tt,type:"blob",target:_e.live2dModel})):Array.isArray(et)&&et.length===1&&et[0]instanceof File&&et[0].name.endsWith(".zip")&&(rt=et[0],tt=URL.createObjectURL(rt),nt=et.settings),rt){if(!rt.size)throw new Error("Empty zip file");const it=yield _ZipLoader.zipReader(rt,tt);nt||(nt=yield _ZipLoader.createSettings(it)),nt._objectURL=_ZipLoader.ZIP_PROTOCOL+_ZipLoader.uid+"/"+nt.url;const at=yield _ZipLoader.unzip(it,nt);at.settings=nt,_e.source=at,tt.startsWith("blob:")&&_e.live2dModel.once("modelLoaded",lt=>{lt.once("destroy",function(){URL.revokeObjectURL(tt)})}),_ZipLoader.releaseReader(it)}return _()}));let ZipLoader=_ZipLoader;const _FileLoader=class Do{static resolveURL(_,et){var tt;const rt=(tt=Do.filesMap[_])==null?void 0:tt[et];if(rt===void 0)throw new Error("Cannot find this file from uploaded files: "+et);return rt}static upload(_,et){return __async(this,null,function*(){const tt={};for(const rt of et.getDefinedFiles()){const nt=decodeURI(url.resolve(et.url,rt)),it=_.find(at=>at.webkitRelativePath===nt);it&&(tt[rt]=URL.createObjectURL(it))}Do.filesMap[et._objectURL]=tt})}static createSettings(_){return __async(this,null,function*(){const et=_.find(at=>at.name.endsWith("model.json")||at.name.endsWith("model3.json"));if(!et)throw new TypeError("Settings file not found");const tt=yield Do.readText(et),rt=JSON.parse(tt);rt.url=et.webkitRelativePath;const nt=Live2DFactory.findRuntime(rt);if(!nt)throw new Error("Unknown settings JSON");const it=nt.createModelSettings(rt);return it._objectURL=URL.createObjectURL(et),it})}static readText(_){return __async(this,null,function*(){return new Promise((et,tt)=>{const rt=new FileReader;rt.onload=()=>et(rt.result),rt.onerror=tt,rt.readAsText(_,"utf8")})})}};__publicField(_FileLoader,"live2dFactory");__publicField(_FileLoader,"filesMap",{});__publicField(_FileLoader,"factory",(_e,_)=>__async(_FileLoader,null,function*(){if(Array.isArray(_e.source)&&_e.source[0]instanceof File){const et=_e.source;let tt=et.settings;if(!tt)tt=yield _FileLoader.createSettings(et);else if(!tt._objectURL)throw new Error('"_objectURL" must be specified in ModelSettings');tt.validateFiles(et.map(rt=>encodeURI(rt.webkitRelativePath))),yield _FileLoader.upload(et,tt),tt.resolveURL=function(rt){return _FileLoader.resolveURL(this._objectURL,rt)},_e.source=tt,_e.live2dModel.once("modelLoaded",rt=>{rt.once("destroy",function(){const nt=this.settings._objectURL;if(URL.revokeObjectURL(nt),_FileLoader.filesMap[nt])for(const it of Object.values(_FileLoader.filesMap[nt]))URL.revokeObjectURL(it);delete _FileLoader.filesMap[nt]})})}return _()}));let FileLoader=_FileLoader;const _Live2DFactory=class Bn{static registerRuntime(_){Bn.runtimes.push(_),Bn.runtimes.sort((et,tt)=>tt.version-et.version)}static findRuntime(_){for(const et of Bn.runtimes)if(et.test(_))return et}static setupLive2DModel(_,et,tt){return __async(this,null,function*(){const rt=new Promise(at=>_.once("textureLoaded",at)),nt=new Promise(at=>_.once("modelLoaded",at)),it=Promise.all([rt,nt]).then(()=>_.emit("ready"));yield runMiddlewares(Bn.live2DModelMiddlewares,{live2dModel:_,source:et,options:tt||{}}),yield it,_.emit("load")})}static loadMotion(_,et,tt){var rt,nt;const it=at=>_.emit("motionLoadError",et,tt,at);try{const at=(rt=_.definitions[et])==null?void 0:rt[tt];if(!at)return Promise.resolve(void 0);_.listeners("destroy").includes(Bn.releaseTasks)||_.once("destroy",Bn.releaseTasks);let lt=Bn.motionTasksMap.get(_);lt||(lt={},Bn.motionTasksMap.set(_,lt));let ct=lt[et];ct||(ct=[],lt[et]=ct);const ut=_.getMotionFile(at);return(nt=ct[tt])!=null||(ct[tt]=Live2DLoader.load({url:ut,settings:_.settings,type:_.motionDataType,target:_}).then(st=>{var ot;const dt=(ot=Bn.motionTasksMap.get(_))==null?void 0:ot[et];dt&&delete dt[tt];const ft=_.createMotion(st,et,at);return _.emit("motionLoaded",et,tt,ft),ft}).catch(st=>{logger.warn(_.tag,`Failed to load motion: ${ut}
`,st),it(st)})),ct[tt]}catch(at){logger.warn(_.tag,`Failed to load motion at "${et}"[${tt}]
`,at),it(at)}return Promise.resolve(void 0)}static loadExpression(_,et){var tt;const rt=nt=>_.emit("expressionLoadError",et,nt);try{const nt=_.definitions[et];if(!nt)return Promise.resolve(void 0);_.listeners("destroy").includes(Bn.releaseTasks)||_.once("destroy",Bn.releaseTasks);let it=Bn.expressionTasksMap.get(_);it||(it=[],Bn.expressionTasksMap.set(_,it));const at=_.getExpressionFile(nt);return(tt=it[et])!=null||(it[et]=Live2DLoader.load({url:at,settings:_.settings,type:"json",target:_}).then(lt=>{const ct=Bn.expressionTasksMap.get(_);ct&&delete ct[et];const ut=_.createExpression(lt,nt);return _.emit("expressionLoaded",et,ut),ut}).catch(lt=>{logger.warn(_.tag,`Failed to load expression: ${at}
`,lt),rt(lt)})),it[et]}catch(nt){logger.warn(_.tag,`Failed to load expression at [${et}]
`,nt),rt(nt)}return Promise.resolve(void 0)}static releaseTasks(){this instanceof MotionManager?Bn.motionTasksMap.delete(this):Bn.expressionTasksMap.delete(this)}};__publicField(_Live2DFactory,"runtimes",[]);__publicField(_Live2DFactory,"urlToJSON",urlToJSON);__publicField(_Live2DFactory,"jsonToSettings",jsonToSettings);__publicField(_Live2DFactory,"waitUntilReady",waitUntilReady);__publicField(_Live2DFactory,"setupOptionals",setupOptionals);__publicField(_Live2DFactory,"setupEssentials",setupEssentials);__publicField(_Live2DFactory,"createInternalModel",createInternalModel);__publicField(_Live2DFactory,"live2DModelMiddlewares",[ZipLoader.factory,FileLoader.factory,urlToJSON,jsonToSettings,waitUntilReady,setupOptionals,setupEssentials,createInternalModel]);__publicField(_Live2DFactory,"motionTasksMap",new WeakMap);__publicField(_Live2DFactory,"expressionTasksMap",new WeakMap);let Live2DFactory=_Live2DFactory;MotionManager.prototype._loadMotion=function(_e,_){return Live2DFactory.loadMotion(this,_e,_)};ExpressionManager.prototype._loadExpression=function(_e){return Live2DFactory.loadExpression(this,_e)};FileLoader.live2dFactory=Live2DFactory;ZipLoader.live2dFactory=Live2DFactory;const _Automator=class Wo{constructor(_,{autoUpdate:et=!0,autoHitTest:tt=!0,autoFocus:rt=!0,autoInteract:nt,ticker:it}={}){__publicField(this,"model"),__publicField(this,"destroyed",!1),__publicField(this,"_ticker"),__publicField(this,"_autoUpdate",!1),__publicField(this,"_autoHitTest",!1),__publicField(this,"_autoFocus",!1),it||(Wo.defaultTicker?it=Wo.defaultTicker:typeof PIXI<"u"&&(it=PIXI.Ticker.shared)),nt!==void 0&&(tt=nt,rt=nt,logger.warn(_.tag,"options.autoInteract is deprecated since v0.5.0, use autoHitTest and autoFocus instead.")),this.model=_,this.ticker=it,this.autoUpdate=et,this.autoHitTest=tt,this.autoFocus=rt,(tt||rt)&&(this.model.eventMode="static")}get ticker(){return this._ticker}set ticker(_){var et;this._ticker&&this._ticker.remove(onTickerUpdate,this),this._ticker=_,this._autoUpdate&&((et=this._ticker)==null||et.add(onTickerUpdate,this))}get autoUpdate(){return this._autoUpdate}set autoUpdate(_){var et;this.destroyed||(_?this._ticker?(this._ticker.add(onTickerUpdate,this),this._autoUpdate=!0):logger.warn(this.model.tag,"No Ticker to be used for automatic updates. Either set option.ticker when creating Live2DModel, or expose PIXI to global scope (window.PIXI = PIXI)."):((et=this._ticker)==null||et.remove(onTickerUpdate,this),this._autoUpdate=!1))}get autoHitTest(){return this._autoHitTest}set autoHitTest(_){_!==this.autoHitTest&&(_?this.model.on("pointertap",onTap,this):this.model.off("pointertap",onTap,this),this._autoHitTest=_)}get autoFocus(){return this._autoFocus}set autoFocus(_){_!==this.autoFocus&&(_?this.model.on("globalpointermove",onPointerMove,this):this.model.off("globalpointermove",onPointerMove,this),this._autoFocus=_)}get autoInteract(){return this._autoHitTest&&this._autoFocus}set autoInteract(_){this.autoHitTest=_,this.autoFocus=_}onTickerUpdate(){const _=this.ticker.deltaMS;this.model.update(_)}onTap(_){this.model.tap(_.global.x,_.global.y)}onPointerMove(_){this.model.focus(_.global.x,_.global.y)}destroy(){this.autoFocus=!1,this.autoHitTest=!1,this.autoUpdate=!1,this.ticker=void 0,this.destroyed=!0}};__publicField(_Automator,"defaultTicker");let Automator=_Automator;function onTickerUpdate(){this.onTickerUpdate()}function onTap(_e){this.onTap(_e)}function onPointerMove(_e){this.onPointerMove(_e)}class Live2DTransform extends Transform{}const tempPoint=new Point,tempMatrix$1=new Matrix;class Live2DModel extends Container{constructor(_){super(),__publicField(this,"tag","Live2DModel(uninitialized)"),__publicField(this,"internalModel"),__publicField(this,"textures",[]),__publicField(this,"transform",new Live2DTransform),__publicField(this,"anchor",new ObservablePoint(this.onAnchorChange,this,0,0)),__publicField(this,"glContextID",-1),__publicField(this,"elapsedTime",0),__publicField(this,"deltaTime",0),__publicField(this,"automator"),this.automator=new Automator(this,_),this.once("modelLoaded",()=>this.init(_))}static from(_,et){const tt=new this(et);return Live2DFactory.setupLive2DModel(tt,_,et).then(()=>tt)}static fromSync(_,et){const tt=new this(et);return Live2DFactory.setupLive2DModel(tt,_,et).then(et==null?void 0:et.onLoad).catch(et==null?void 0:et.onError),tt}static registerTicker(_){Automator.defaultTicker=_.shared}init(_){this.tag=`Live2DModel(${this.internalModel.settings.name})`}onAnchorChange(){this.pivot.set(this.anchor.x*this.internalModel.width,this.anchor.y*this.internalModel.height)}motion(_,et,tt,{sound:rt=void 0,volume:nt=VOLUME,expression:it=void 0,resetExpression:at=!0,crossOrigin:lt,onFinish:ct,onError:ut}={}){return et===void 0?this.internalModel.motionManager.startRandomMotion(_,tt,{sound:rt,volume:nt,expression:it,resetExpression:at,crossOrigin:lt,onFinish:ct,onError:ut}):this.internalModel.motionManager.startMotion(_,et,tt,{sound:rt,volume:nt,expression:it,resetExpression:at,crossOrigin:lt,onFinish:ct,onError:ut})}stopMotions(){return this.internalModel.motionManager.stopAllMotions()}speak(_,{volume:et=VOLUME,expression:tt,resetExpression:rt=!0,crossOrigin:nt,onFinish:it,onError:at}={}){return this.internalModel.motionManager.speak(_,{volume:et,expression:tt,resetExpression:rt,crossOrigin:nt,onFinish:it,onError:at})}stopSpeaking(){return this.internalModel.motionManager.stopSpeaking()}expression(_){return this.internalModel.motionManager.expressionManager?_===void 0?this.internalModel.motionManager.expressionManager.setRandomExpression():this.internalModel.motionManager.expressionManager.setExpression(_):Promise.resolve(!1)}focus(_,et,tt=!1){tempPoint.x=_,tempPoint.y=et,this.toModelPosition(tempPoint,tempPoint,!0);const rt=tempPoint.x/this.internalModel.originalWidth*2-1,nt=tempPoint.y/this.internalModel.originalHeight*2-1,it=Math.atan2(nt,rt);this.internalModel.focusController.focus(Math.cos(it),-Math.sin(it),tt)}tap(_,et){const tt=this.hitTest(_,et);tt.length&&(logger.log(this.tag,"Hit",tt),this.emit("hit",tt))}hitTest(_,et){return tempPoint.x=_,tempPoint.y=et,this.toModelPosition(tempPoint,tempPoint),this.internalModel.hitTest(tempPoint.x,tempPoint.y)}toModelPosition(_,et=_.clone(),tt){return tt||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.transform.worldTransform.applyInverse(_,et),this.internalModel.localTransform.applyInverse(et,et),et}containsPoint(_){return this.getBounds(!0).contains(_.x,_.y)}_calculateBounds(){this._bounds.addFrame(this.transform,0,0,this.internalModel.width,this.internalModel.height)}update(_){this.deltaTime+=_,this.elapsedTime+=_}_render(_){_.batch.reset(),_.geometry.reset(),_.shader.reset(),_.state.reset();let et=!1;this.glContextID!==_.CONTEXT_UID&&(this.glContextID=_.CONTEXT_UID,this.internalModel.updateWebGLContext(_.gl,this.glContextID),et=!0);for(let nt=0;nt<this.textures.length;nt++){const it=this.textures[nt];it.valid&&((et||!it.baseTexture._glTextures[this.glContextID])&&(_.gl.pixelStorei(WebGLRenderingContext.UNPACK_FLIP_Y_WEBGL,this.internalModel.textureFlipY),_.texture.bind(it.baseTexture,0)),this.internalModel.bindTexture(nt,it.baseTexture._glTextures[this.glContextID].texture),it.baseTexture.touched=_.textureGC.count)}const tt=_.framebuffer.viewport;this.internalModel.viewport=[tt.x,tt.y,tt.width,tt.height],this.deltaTime&&(this.internalModel.update(this.deltaTime,this.elapsedTime),this.deltaTime=0);const rt=tempMatrix$1.copyFrom(_.globalUniforms.uniforms.projectionMatrix).append(this.worldTransform);this.internalModel.updateTransform(rt),this.internalModel.draw(_.gl),_.state.reset(),_.texture.reset()}destroy(_){this.emit("destroy"),_!=null&&_.texture&&this.textures.forEach(et=>et.destroy(_.baseTexture)),this.automator.destroy(),this.internalModel.destroy(),super.destroy(_)}}if(!window.Live2D)throw new Error("Could not find Cubism 2 runtime. This plugin requires live2d.min.js to be loaded.");const originalUpdateParam=Live2DMotion.prototype.updateParam;Live2DMotion.prototype.updateParam=function(_e,_){originalUpdateParam.call(this,_e,_),_.isFinished()&&this.onFinishHandler&&(this.onFinishHandler(this),delete this.onFinishHandler)};class Live2DExpression extends AMotion{constructor(_){super(),__publicField(this,"params",[]),this.setFadeIn(_.fade_in>0?_.fade_in:config$1.expressionFadingDuration),this.setFadeOut(_.fade_out>0?_.fade_out:config$1.expressionFadingDuration),Array.isArray(_.params)&&_.params.forEach(et=>{const tt=et.calc||"add";if(tt==="add"){const rt=et.def||0;et.val-=rt}else if(tt==="mult"){const rt=et.def||1;et.val/=rt}this.params.push({calc:tt,val:et.val,id:et.id})})}updateParamExe(_,et,tt,rt){this.params.forEach(nt=>{_.setParamFloat(nt.id,nt.val*tt)})}}class Cubism2ExpressionManager extends ExpressionManager{constructor(_,et){var tt;super(_,et),__publicField(this,"queueManager",new MotionQueueManager),__publicField(this,"definitions"),this.definitions=(tt=this.settings.expressions)!=null?tt:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(_){return this.definitions.findIndex(et=>et.name===_)}getExpressionFile(_){return _.file}createExpression(_,et){return new Live2DExpression(_)}_setExpression(_){return this.queueManager.startMotion(_)}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(_,et){return this.queueManager.updateParam(_)}}class Cubism2MotionManager extends MotionManager{constructor(_,et){super(_,et),__publicField(this,"definitions"),__publicField(this,"groups",{idle:"idle"}),__publicField(this,"motionDataType","arraybuffer"),__publicField(this,"queueManager",new MotionQueueManager),__publicField(this,"lipSyncIds"),__publicField(this,"expressionManager"),this.definitions=this.settings.motions,this.init(et),this.lipSyncIds=["PARAM_MOUTH_OPEN_Y"]}init(_){super.init(_),this.settings.expressions&&(this.expressionManager=new Cubism2ExpressionManager(this.settings,_))}isFinished(){return this.queueManager.isFinished()}createMotion(_,et,tt){const rt=Live2DMotion.loadMotion(_),nt=et===this.groups.idle?config$1.idleMotionFadingDuration:config$1.motionFadingDuration;return rt.setFadeIn(tt.fade_in>0?tt.fade_in:nt),rt.setFadeOut(tt.fade_out>0?tt.fade_out:nt),rt}getMotionFile(_){return _.file}getMotionName(_){return _.file}getSoundFile(_){return _.sound}_startMotion(_,et){return _.onFinishHandler=et,this.queueManager.stopAllMotions(),this.queueManager.startMotion(_)}_stopAllMotions(){this.queueManager.stopAllMotions()}updateParameters(_,et){return this.queueManager.updateParam(_)}destroy(){super.destroy(),this.queueManager=void 0}}class Live2DEyeBlink{constructor(_){__publicField(this,"leftParam"),__publicField(this,"rightParam"),__publicField(this,"blinkInterval",4e3),__publicField(this,"closingDuration",100),__publicField(this,"closedDuration",50),__publicField(this,"openingDuration",150),__publicField(this,"eyeState",0),__publicField(this,"eyeParamValue",1),__publicField(this,"closedTimer",0),__publicField(this,"nextBlinkTimeLeft",this.blinkInterval),this.coreModel=_,this.leftParam=_.getParamIndex("PARAM_EYE_L_OPEN"),this.rightParam=_.getParamIndex("PARAM_EYE_R_OPEN")}setEyeParams(_){this.eyeParamValue=clamp(_,0,1),this.coreModel.setParamFloat(this.leftParam,this.eyeParamValue),this.coreModel.setParamFloat(this.rightParam,this.eyeParamValue)}update(_){switch(this.eyeState){case 0:this.nextBlinkTimeLeft-=_,this.nextBlinkTimeLeft<0&&(this.eyeState=1,this.nextBlinkTimeLeft=this.blinkInterval+this.closingDuration+this.closedDuration+this.openingDuration+rand(0,2e3));break;case 1:this.setEyeParams(this.eyeParamValue+_/this.closingDuration),this.eyeParamValue<=0&&(this.eyeState=2,this.closedTimer=0);break;case 2:this.closedTimer+=_,this.closedTimer>=this.closedDuration&&(this.eyeState=3);break;case 3:this.setEyeParams(this.eyeParamValue+_/this.openingDuration),this.eyeParamValue>=1&&(this.eyeState=0)}}}const tempMatrixArray=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Cubism2InternalModel extends InternalModel{constructor(_,et,tt){super(),__publicField(this,"settings"),__publicField(this,"coreModel"),__publicField(this,"motionManager"),__publicField(this,"eyeBlink"),__publicField(this,"eyeballXParamIndex"),__publicField(this,"eyeballYParamIndex"),__publicField(this,"angleXParamIndex"),__publicField(this,"angleYParamIndex"),__publicField(this,"angleZParamIndex"),__publicField(this,"bodyAngleXParamIndex"),__publicField(this,"breathParamIndex"),__publicField(this,"textureFlipY",!0),__publicField(this,"lipSync",!0),__publicField(this,"drawDataCount",0),__publicField(this,"disableCulling",!1),__publicField(this,"hasDrawn",!1),this.coreModel=_,this.settings=et,this.motionManager=new Cubism2MotionManager(et,tt),this.eyeBlink=new Live2DEyeBlink(_),this.eyeballXParamIndex=_.getParamIndex("PARAM_EYE_BALL_X"),this.eyeballYParamIndex=_.getParamIndex("PARAM_EYE_BALL_Y"),this.angleXParamIndex=_.getParamIndex("PARAM_ANGLE_X"),this.angleYParamIndex=_.getParamIndex("PARAM_ANGLE_Y"),this.angleZParamIndex=_.getParamIndex("PARAM_ANGLE_Z"),this.bodyAngleXParamIndex=_.getParamIndex("PARAM_BODY_ANGLE_X"),this.breathParamIndex=_.getParamIndex("PARAM_BREATH"),this.init()}init(){super.init(),this.settings.initParams&&this.settings.initParams.forEach(({id:nt,value:it})=>this.coreModel.setParamFloat(nt,it)),this.settings.initOpacities&&this.settings.initOpacities.forEach(({id:nt,value:it})=>this.coreModel.setPartsOpacity(nt,it)),this.coreModel.saveParam();const _=this.coreModel.getModelContext()._$aS;_!=null&&_.length&&(this.drawDataCount=_.length);let et=this.coreModel.drawParamWebGL.culling;Object.defineProperty(this.coreModel.drawParamWebGL,"culling",{set:nt=>et=nt,get:()=>this.disableCulling?!1:et});const tt=this.coreModel.getModelContext().clipManager,rt=tt.setupClip;tt.setupClip=(nt,it)=>{rt.call(tt,nt,it),it.gl.viewport(...this.viewport)}}getSize(){return[this.coreModel.getCanvasWidth(),this.coreModel.getCanvasHeight()]}getLayout(){const _={};if(this.settings.layout)for(const[et,tt]of Object.entries(this.settings.layout)){let rt=et;et==="center_x"?rt="centerX":et==="center_y"&&(rt="centerY"),_[rt]=tt}return _}updateWebGLContext(_,et){const tt=this.coreModel.drawParamWebGL;tt.firstDraw=!0,tt.setGL(_),tt.glno=et;for(const[it,at]of Object.entries(tt))at instanceof WebGLBuffer&&(tt[it]=null);const rt=this.coreModel.getModelContext().clipManager;rt.curFrameNo=et;const nt=_.getParameter(_.FRAMEBUFFER_BINDING);rt.getMaskRenderTexture(),_.bindFramebuffer(_.FRAMEBUFFER,nt)}bindTexture(_,et){this.coreModel.setTexture(_,et)}getHitAreaDefs(){var _;return((_=this.settings.hitAreas)==null?void 0:_.map(et=>({id:et.id,name:et.name,index:this.coreModel.getDrawDataIndex(et.id)})))||[]}getDrawableIDs(){const _=this.coreModel.getModelContext(),et=[];for(let tt=0;tt<this.drawDataCount;tt++){const rt=_.getDrawData(tt);rt&&et.push(rt.getDrawDataID().id)}return et}getDrawableIndex(_){return this.coreModel.getDrawDataIndex(_)}getDrawableVertices(_){if(typeof _=="string"&&(_=this.coreModel.getDrawDataIndex(_),_===-1))throw new TypeError("Unable to find drawable ID: "+_);return this.coreModel.getTransformedPoints(_).slice()}hitTest(_,et){return this.hasDrawn||logger.warn("Trying to hit-test a Cubism 2 model that has not been rendered yet. The result will always be empty since the draw data is not ready."),super.hitTest(_,et)}update(_,et){var tt,rt,nt,it;super.update(_,et);const at=this.coreModel;this.emit("beforeMotionUpdate");const lt=this.motionManager.update(this.coreModel,et);if(this.emit("afterMotionUpdate"),at.saveParam(),(tt=this.motionManager.expressionManager)==null||tt.update(at,et),lt||(rt=this.eyeBlink)==null||rt.update(_),this.updateFocus(),this.updateNaturalMovements(_,et),this.lipSync&&this.motionManager.currentAudio){let ct=this.motionManager.mouthSync(),ut=0;const st=1,ot=1.2,dt=.7;ct>0&&(ut=.4),ct=Math.pow(ct,dt),ct=clamp(ct*ot,ut,st);for(let ft=0;ft<this.motionManager.lipSyncIds.length;++ft)this.coreModel.setParamFloat(this.coreModel.getParamIndex(this.motionManager.lipSyncIds[ft]),ct)}(nt=this.physics)==null||nt.update(et),(it=this.pose)==null||it.update(_),this.emit("beforeModelUpdate"),at.update(),at.loadParam()}updateFocus(){this.coreModel.addToParamFloat(this.eyeballXParamIndex,this.focusController.x),this.coreModel.addToParamFloat(this.eyeballYParamIndex,this.focusController.y),this.coreModel.addToParamFloat(this.angleXParamIndex,this.focusController.x*30),this.coreModel.addToParamFloat(this.angleYParamIndex,this.focusController.y*30),this.coreModel.addToParamFloat(this.angleZParamIndex,this.focusController.x*this.focusController.y*-30),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,this.focusController.x*10)}updateNaturalMovements(_,et){const tt=et/1e3*2*Math.PI;this.coreModel.addToParamFloat(this.angleXParamIndex,15*Math.sin(tt/6.5345)*.5),this.coreModel.addToParamFloat(this.angleYParamIndex,8*Math.sin(tt/3.5345)*.5),this.coreModel.addToParamFloat(this.angleZParamIndex,10*Math.sin(tt/5.5345)*.5),this.coreModel.addToParamFloat(this.bodyAngleXParamIndex,4*Math.sin(tt/15.5345)*.5),this.coreModel.setParamFloat(this.breathParamIndex,.5+.5*Math.sin(tt/3.2345))}draw(_){const et=this.disableCulling;_.getParameter(_.FRAMEBUFFER_BINDING)&&(this.disableCulling=!0);const tt=this.drawingMatrix;tempMatrixArray[0]=tt.a,tempMatrixArray[1]=tt.b,tempMatrixArray[4]=tt.c,tempMatrixArray[5]=tt.d,tempMatrixArray[12]=tt.tx,tempMatrixArray[13]=tt.ty,this.coreModel.setMatrix(tempMatrixArray),this.coreModel.draw(),this.hasDrawn=!0,this.disableCulling=et}destroy(){super.destroy(),this.coreModel=void 0}}class Cubism2ModelSettings extends ModelSettings{constructor(_){if(super(_),__publicField(this,"moc"),__publicField(this,"textures"),__publicField(this,"layout"),__publicField(this,"hitAreas"),__publicField(this,"initParams"),__publicField(this,"initOpacities"),__publicField(this,"expressions"),__publicField(this,"motions",{}),!Cubism2ModelSettings.isValidJSON(_))throw new TypeError("Invalid JSON.");this.moc=_.model,copyArray("string",_,this,"textures","textures"),this.copy(_)}static isValidJSON(_){var et;return!!_&&typeof _.model=="string"&&((et=_.textures)==null?void 0:et.length)>0&&_.textures.every(tt=>typeof tt=="string")}copy(_){copyProperty("string",_,this,"name","name"),copyProperty("string",_,this,"pose","pose"),copyProperty("string",_,this,"physics","physics"),copyProperty("object",_,this,"layout","layout"),copyProperty("object",_,this,"motions","motions"),copyArray("object",_,this,"hit_areas","hitAreas"),copyArray("object",_,this,"expressions","expressions"),copyArray("object",_,this,"init_params","initParams"),copyArray("object",_,this,"init_opacities","initOpacities")}replaceFiles(_){super.replaceFiles(_);for(const[et,tt]of Object.entries(this.motions))for(let rt=0;rt<tt.length;rt++)tt[rt].file=_(tt[rt].file,`motions.${et}[${rt}].file`),tt[rt].sound!==void 0&&(tt[rt].sound=_(tt[rt].sound,`motions.${et}[${rt}].sound`));if(this.expressions)for(let et=0;et<this.expressions.length;et++)this.expressions[et].file=_(this.expressions[et].file,`expressions[${et}].file`)}}const SRC_TYPE_MAP={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE},TARGET_TYPE_MAP={x:PhysicsHair.Src.SRC_TO_X,y:PhysicsHair.Src.SRC_TO_Y,angle:PhysicsHair.Src.SRC_TO_G_ANGLE};class Live2DPhysics{constructor(_,et){__publicField(this,"physicsHairs",[]),this.coreModel=_,et.physics_hair&&(this.physicsHairs=et.physics_hair.map(tt=>{const rt=new PhysicsHair;return rt.setup(tt.setup.length,tt.setup.regist,tt.setup.mass),tt.src.forEach(({id:nt,ptype:it,scale:at,weight:lt})=>{const ct=SRC_TYPE_MAP[it];ct&&rt.addSrcParam(ct,nt,at,lt)}),tt.targets.forEach(({id:nt,ptype:it,scale:at,weight:lt})=>{const ct=TARGET_TYPE_MAP[it];ct&&rt.addTargetParam(ct,nt,at,lt)}),rt}))}update(_){this.physicsHairs.forEach(et=>et.update(this.coreModel,_))}}class Live2DPartsParam{constructor(_){__publicField(this,"paramIndex",-1),__publicField(this,"partsIndex",-1),__publicField(this,"link",[]),this.id=_}initIndex(_){this.paramIndex=_.getParamIndex("VISIBLE:"+this.id),this.partsIndex=_.getPartsDataIndex(PartsDataID.getID(this.id)),_.setParamFloat(this.paramIndex,1)}}class Live2DPose{constructor(_,et){__publicField(this,"opacityAnimDuration",500),__publicField(this,"partsGroups",[]),this.coreModel=_,et.parts_visible&&(this.partsGroups=et.parts_visible.map(({group:tt})=>tt.map(({id:rt,link:nt})=>{const it=new Live2DPartsParam(rt);return nt&&(it.link=nt.map(at=>new Live2DPartsParam(at))),it})),this.init())}init(){this.partsGroups.forEach(_=>{_.forEach(et=>{if(et.initIndex(this.coreModel),et.paramIndex>=0){const tt=this.coreModel.getParamFloat(et.paramIndex)!==0;this.coreModel.setPartsOpacity(et.partsIndex,tt?1:0),this.coreModel.setParamFloat(et.paramIndex,tt?1:0),et.link.length>0&&et.link.forEach(rt=>rt.initIndex(this.coreModel))}})})}normalizePartsOpacityGroup(_,et){const tt=this.coreModel,rt=.5,nt=.15;let it=1,at=_.findIndex(({paramIndex:lt,partsIndex:ct})=>ct>=0&&tt.getParamFloat(lt)!==0);if(at>=0){const lt=tt.getPartsOpacity(_[at].partsIndex);it=clamp(lt+et/this.opacityAnimDuration,0,1)}else at=0,it=1;_.forEach(({partsIndex:lt},ct)=>{if(lt>=0)if(at==ct)tt.setPartsOpacity(lt,it);else{let ut=tt.getPartsOpacity(lt),st;it<rt?st=it*(rt-1)/rt+1:st=(1-it)*rt/(1-rt),(1-st)*(1-it)>nt&&(st=1-nt/(1-it)),ut>st&&(ut=st),tt.setPartsOpacity(lt,ut)}})}copyOpacity(_){const et=this.coreModel;_.forEach(({partsIndex:tt,link:rt})=>{if(tt>=0&&rt){const nt=et.getPartsOpacity(tt);rt.forEach(({partsIndex:it})=>{it>=0&&et.setPartsOpacity(it,nt)})}})}update(_){this.partsGroups.forEach(et=>{this.normalizePartsOpacityGroup(et,_),this.copyOpacity(et)})}}Live2DFactory.registerRuntime({version:2,test(_e){return _e instanceof Cubism2ModelSettings||Cubism2ModelSettings.isValidJSON(_e)},ready(){return Promise.resolve()},isValidMoc(_e){if(_e.byteLength<3)return!1;const _=new Int8Array(_e,0,3);return String.fromCharCode(..._)==="moc"},createModelSettings(_e){return new Cubism2ModelSettings(_e)},createCoreModel(_e){const _=Live2DModelWebGL.loadModel(_e),et=Live2D.getError();if(et)throw et;return _},createInternalModel(_e,_,et){return new Cubism2InternalModel(_e,_,et)},createPose(_e,_){return new Live2DPose(_e,_)},createPhysics(_e,_){return new Live2DPhysics(_e,_)}});if(!window.Live2DCubismCore)throw new Error("Could not find Cubism 4 runtime. This plugin requires live2dcubismcore.js to be loaded.");class CubismVector2{constructor(_,et){this.x=_||0,this.y=et||0}add(_){const et=new CubismVector2(0,0);return et.x=this.x+_.x,et.y=this.y+_.y,et}substract(_){const et=new CubismVector2(0,0);return et.x=this.x-_.x,et.y=this.y-_.y,et}multiply(_){const et=new CubismVector2(0,0);return et.x=this.x*_.x,et.y=this.y*_.y,et}multiplyByScaler(_){return this.multiply(new CubismVector2(_,_))}division(_){const et=new CubismVector2(0,0);return et.x=this.x/_.x,et.y=this.y/_.y,et}divisionByScalar(_){return this.division(new CubismVector2(_,_))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(_){return Math.sqrt((this.x-_.x)*(this.x-_.x)+(this.y-_.y)*(this.y-_.y))}dot(_){return this.x*_.x+this.y*_.y}normalize(){const _=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/_,this.y=this.y/_}isEqual(_){return this.x==_.x&&this.y==_.y}isNotEqual(_){return!this.isEqual(_)}}const _CubismMath=class No{static range(_,et,tt){return _<et?_=et:_>tt&&(_=tt),_}static sin(_){return Math.sin(_)}static cos(_){return Math.cos(_)}static abs(_){return Math.abs(_)}static sqrt(_){return Math.sqrt(_)}static cbrt(_){if(_===0)return _;let et=_;const tt=et<0;tt&&(et=-et);let rt;return et===1/0?rt=1/0:(rt=Math.exp(Math.log(et)/3),rt=(et/(rt*rt)+2*rt)/3),tt?-rt:rt}static getEasingSine(_){return _<0?0:_>1?1:.5-.5*this.cos(_*Math.PI)}static max(_,et){return _>et?_:et}static min(_,et){return _>et?et:_}static degreesToRadian(_){return _/180*Math.PI}static radianToDegrees(_){return _*180/Math.PI}static directionToRadian(_,et){const tt=Math.atan2(et.y,et.x),rt=Math.atan2(_.y,_.x);let nt=tt-rt;for(;nt<-Math.PI;)nt+=Math.PI*2;for(;nt>Math.PI;)nt-=Math.PI*2;return nt}static directionToDegrees(_,et){const tt=this.directionToRadian(_,et);let rt=this.radianToDegrees(tt);return et.x-_.x>0&&(rt=-rt),rt}static radianToDirection(_){const et=new CubismVector2;return et.x=this.sin(_),et.y=this.cos(_),et}static quadraticEquation(_,et,tt){return this.abs(_)<No.Epsilon?this.abs(et)<No.Epsilon?-tt:-tt/et:-(et+this.sqrt(et*et-4*_*tt))/(2*_)}static cardanoAlgorithmForBezier(_,et,tt,rt){if(this.sqrt(_)<No.Epsilon)return this.range(this.quadraticEquation(et,tt,rt),0,1);const nt=et/_,it=tt/_,at=rt/_,lt=(3*it-nt*nt)/3,ct=lt/3,ut=(2*nt*nt*nt-9*nt*it+27*at)/27,st=ut/2,ot=st*st+ct*ct*ct,dt=.5,ft=dt+.01;if(ot<0){const vt=-lt/3,bt=vt*vt*vt,xt=this.sqrt(bt),_t=-ut/(2*xt),St=this.range(_t,-1,1),wt=Math.acos(St),Tt=2*this.cbrt(xt),Ct=Tt*this.cos(wt/3)-nt/3;if(this.abs(Ct-dt)<ft)return this.range(Ct,0,1);const It=Tt*this.cos((wt+2*Math.PI)/3)-nt/3;if(this.abs(It-dt)<ft)return this.range(It,0,1);const Pt=Tt*this.cos((wt+4*Math.PI)/3)-nt/3;return this.range(Pt,0,1)}if(ot==0){let vt;st<0?vt=this.cbrt(-st):vt=-this.cbrt(st);const bt=2*vt-nt/3;if(this.abs(bt-dt)<ft)return this.range(bt,0,1);const xt=-vt-nt/3;return this.range(xt,0,1)}const ht=this.sqrt(ot),mt=this.cbrt(ht-st),gt=this.cbrt(ht+st),yt=mt-gt-nt/3;return this.range(yt,0,1)}constructor(){}};_CubismMath.Epsilon=1e-5;let CubismMath=_CubismMath;class CubismMatrix44{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(_,et,tt){const rt=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nt=4;for(let it=0;it<nt;++it)for(let at=0;at<nt;++at)for(let lt=0;lt<nt;++lt)rt[at+it*4]+=_[lt+it*4]*et[at+lt*4];for(let it=0;it<16;++it)tt[it]=rt[it]}loadIdentity(){const _=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(_)}setMatrix(_){for(let et=0;et<16;++et)this._tr[et]=_[et]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(_){return this._tr[0]*_+this._tr[12]}transformY(_){return this._tr[5]*_+this._tr[13]}invertTransformX(_){return(_-this._tr[12])/this._tr[0]}invertTransformY(_){return(_-this._tr[13])/this._tr[5]}translateRelative(_,et){const tt=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,_,et,0,1]);CubismMatrix44.multiply(tt,this._tr,this._tr)}translate(_,et){this._tr[12]=_,this._tr[13]=et}translateX(_){this._tr[12]=_}translateY(_){this._tr[13]=_}scaleRelative(_,et){const tt=new Float32Array([_,0,0,0,0,et,0,0,0,0,1,0,0,0,0,1]);CubismMatrix44.multiply(tt,this._tr,this._tr)}scale(_,et){this._tr[0]=_,this._tr[5]=et}multiplyByMatrix(_){CubismMatrix44.multiply(_.getArray(),this._tr,this._tr)}clone(){const _=new CubismMatrix44;for(let et=0;et<this._tr.length;et++)_._tr[et]=this._tr[et];return _}}class CubismRenderer{initialize(_){this._model=_}drawModel(){this.getModel()!=null&&(this.saveProfile(),this.doDrawModel(),this.restoreProfile())}setMvpMatrix(_){this._mvpMatrix4x4.setMatrix(_.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(_,et,tt,rt){_<0?_=0:_>1&&(_=1),et<0?et=0:et>1&&(et=1),tt<0?tt=0:tt>1&&(tt=1),rt<0?rt=0:rt>1&&(rt=1),this._modelColor.R=_,this._modelColor.G=et,this._modelColor.B=tt,this._modelColor.A=rt}getModelColor(){return Object.assign({},this._modelColor)}setIsPremultipliedAlpha(_){this._isPremultipliedAlpha=_}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(_){this._isCulling=_}isCulling(){return this._isCulling}setAnisotropy(_){this._anisotropy=_}getAnisotropy(){return this._anisotropy}getModel(){return this._model}useHighPrecisionMask(_){this._useHighPrecisionMask=_}isUsingHighPrecisionMask(){return this._useHighPrecisionMask}constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisotropy=0,this._modelColor=new CubismTextureColor,this._useHighPrecisionMask=!1,this._mvpMatrix4x4=new CubismMatrix44,this._mvpMatrix4x4.loadIdentity()}}var CubismBlendMode=(_e=>(_e[_e.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",_e[_e.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",_e[_e.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative",_e))(CubismBlendMode||{});class CubismTextureColor{constructor(_=1,et=1,tt=1,rt=1){this.R=_,this.G=et,this.B=tt,this.A=rt}}let s_isStarted=!1,s_isInitialized=!1,s_option;const Constant={vertexOffset:0,vertexStep:2};class CubismFramework{static startUp(_){if(s_isStarted)return CubismLogInfo("CubismFramework.startUp() is already done."),s_isStarted;if(Live2DCubismCore._isStarted)return s_isStarted=!0,!0;if(Live2DCubismCore._isStarted=!0,s_option=_,s_option&&Live2DCubismCore.Logging.csmSetLogFunction(s_option.logFunction),s_isStarted=!0,s_isStarted){const et=Live2DCubismCore.Version.csmGetVersion(),tt=(et&4278190080)>>24,rt=(et&16711680)>>16,nt=et&65535,it=et;CubismLogInfo("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+tt).slice(-2),("00"+rt).slice(-2),("0000"+nt).slice(-4),it)}return CubismLogInfo("CubismFramework.startUp() is complete."),s_isStarted}static cleanUp(){s_isStarted=!1,s_isInitialized=!1,s_option=void 0}static initialize(_=0){if(!s_isStarted){CubismLogWarning("CubismFramework is not started.");return}if(s_isInitialized){CubismLogWarning("CubismFramework.initialize() skipped, already initialized.");return}Live2DCubismCore.Memory.initializeAmountOfMemory(_),s_isInitialized=!0,CubismLogInfo("CubismFramework.initialize() is complete.")}static dispose(){if(!s_isStarted){CubismLogWarning("CubismFramework is not started.");return}if(!s_isInitialized){CubismLogWarning("CubismFramework.dispose() skipped, not initialized.");return}CubismRenderer.staticRelease(),s_isInitialized=!1,CubismLogInfo("CubismFramework.dispose() is complete.")}static isStarted(){return s_isStarted}static isInitialized(){return s_isInitialized}static coreLogFunction(_){Live2DCubismCore.Logging.csmGetLogFunction()&&Live2DCubismCore.Logging.csmGetLogFunction()(_)}static getLoggingLevel(){return s_option!=null?s_option.loggingLevel:5}constructor(){}}var LogLevel=(_e=>(_e[_e.LogLevel_Verbose=0]="LogLevel_Verbose",_e[_e.LogLevel_Debug=1]="LogLevel_Debug",_e[_e.LogLevel_Info=2]="LogLevel_Info",_e[_e.LogLevel_Warning=3]="LogLevel_Warning",_e[_e.LogLevel_Error=4]="LogLevel_Error",_e[_e.LogLevel_Off=5]="LogLevel_Off",_e))(LogLevel||{});const CSM_ASSERT=typeof process<"u"?()=>{}:_e=>console.assert(_e);function CubismLogDebug(_e,..._){CubismDebug.print(LogLevel.LogLevel_Debug,"[CSM][D]"+_e+`
`,_)}function CubismLogInfo(_e,..._){CubismDebug.print(LogLevel.LogLevel_Info,"[CSM][I]"+_e+`
`,_)}function CubismLogWarning(_e,..._){CubismDebug.print(LogLevel.LogLevel_Warning,"[CSM][W]"+_e+`
`,_)}function CubismLogError(_e,..._){CubismDebug.print(LogLevel.LogLevel_Error,"[CSM][E]"+_e+`
`,_)}class CubismDebug{static print(_,et,tt){if(_<CubismFramework.getLoggingLevel())return;const rt=CubismFramework.coreLogFunction;if(!rt)return;const nt=et.replace(/{(\d+)}/g,(it,at)=>tt[at]);rt(nt)}static dumpBytes(_,et,tt){for(let rt=0;rt<tt;rt++)rt%16==0&&rt>0?this.print(_,`
`):rt%8==0&&rt>0&&this.print(_,"  "),this.print(_,"{0} ",[et[rt]&255]);this.print(_,`
`)}constructor(){}}class ACubismMotion{constructor(){this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=[]}release(){this._weight=0}updateParameters(_,et,tt){if(!et.isAvailable()||et.isFinished())return;if(!et.isStarted()){et.setIsStarted(!0),et.setStartTime(tt-this._offsetSeconds),et.setFadeInStartTime(tt);const at=this.getDuration();et.getEndTime()<0&&et.setEndTime(at<=0?-1:et.getStartTime()+at)}let rt=this._weight;const nt=this._fadeInSeconds==0?1:CubismMath.getEasingSine((tt-et.getFadeInStartTime())/this._fadeInSeconds),it=this._fadeOutSeconds==0||et.getEndTime()<0?1:CubismMath.getEasingSine((et.getEndTime()-tt)/this._fadeOutSeconds);rt=rt*nt*it,et.setState(tt,rt),CSM_ASSERT(0<=rt&&rt<=1),this.doUpdateParameters(_,tt,rt,et),et.getEndTime()>0&&et.getEndTime()<tt&&et.setIsFinished(!0)}setFadeInTime(_){this._fadeInSeconds=_}setFadeOutTime(_){this._fadeOutSeconds=_}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(_){this._weight=_}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(_){this._offsetSeconds=_}getFiredEvent(_,et){return this._firedEventValues}setFinishedMotionHandler(_){this._onFinishedMotion=_}getFinishedMotionHandler(){return this._onFinishedMotion}isExistModelOpacity(){return!1}getModelOpacityIndex(){return-1}getModelOpacityId(_){}getModelOpacityValue(){return 1}}const DefaultFadeTime=1;class CubismExpressionMotion extends ACubismMotion{static create(_){const et=new CubismExpressionMotion;return et.parse(_),et}doUpdateParameters(_,et,tt,rt){for(let nt=0;nt<this._parameters.length;++nt){const it=this._parameters[nt];switch(it.blendType){case 0:{_.addParameterValueById(it.parameterId,it.value,tt);break}case 1:{_.multiplyParameterValueById(it.parameterId,it.value,tt);break}case 2:{_.setParameterValueById(it.parameterId,it.value,tt);break}}}}parse(_){this.setFadeInTime(_.FadeInTime!=null?_.FadeInTime:DefaultFadeTime),this.setFadeOutTime(_.FadeOutTime!=null?_.FadeOutTime:DefaultFadeTime);const et=(_.Parameters||[]).length;for(let tt=0;tt<et;++tt){const rt=_.Parameters[tt],nt=rt.Id,it=rt.Value;let at;!rt.Blend||rt.Blend==="Add"?at=0:rt.Blend==="Multiply"?at=1:rt.Blend==="Overwrite"?at=2:at=0;const lt={parameterId:nt,blendType:at,value:it};this._parameters.push(lt)}}constructor(){super(),this._parameters=[]}}class CubismMotionQueueEntry{constructor(){this._autoDelete=!1,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&this._motion.release()}setFadeOut(_){this._fadeOutSeconds=_,this._isTriggeredFadeOut=!0}startFadeOut(_,et){const tt=et+_;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||tt<this._endTimeSeconds)&&(this._endTimeSeconds=tt)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(_){this._startTimeSeconds=_}setFadeInStartTime(_){this._fadeInStartTimeSeconds=_}setEndTime(_){this._endTimeSeconds=_}setIsFinished(_){this._finished=_}setIsStarted(_){this._started=_}isAvailable(){return this._available}setIsAvailable(_){this._available=_}setState(_,et){this._stateTimeSeconds=_,this._stateWeight=et}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(_){this._lastEventCheckSeconds=_}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}class CubismMotionQueueManager{constructor(){this._userTimeSeconds=0,this._eventCustomData=null,this._motions=[]}release(){for(let _=0;_<this._motions.length;++_)this._motions[_]&&this._motions[_].release();this._motions=void 0}startMotion(_,et,tt){if(_==null)return InvalidMotionQueueEntryHandleValue;let rt;for(let nt=0;nt<this._motions.length;++nt)rt=this._motions[nt],rt!=null&&rt.setFadeOut(rt._motion.getFadeOutTime());return rt=new CubismMotionQueueEntry,rt._autoDelete=et,rt._motion=_,this._motions.push(rt),rt._motionQueueEntryHandle}isFinished(){let _=0;for(;_<this._motions.length;){const et=this._motions[_];if(et==null){this._motions.splice(_,1);continue}if(et._motion==null){et.release(),this._motions.splice(_,1);continue}if(!et.isFinished())return!1;_++}return!0}isFinishedByHandle(_){for(let et=0;et<this._motions.length;et++){const tt=this._motions[et];if(tt!=null&&tt._motionQueueEntryHandle==_&&!tt.isFinished())return!1}return!0}stopAllMotions(){for(let _=0;_<this._motions.length;_++){const et=this._motions[_];et!=null&&et.release()}this._motions=[]}getCubismMotionQueueEntry(_){return this._motions.find(et=>et!=null&&et._motionQueueEntryHandle==_)}setEventCallback(_,et=null){this._eventCallBack=_,this._eventCustomData=et}doUpdateMotion(_,et){let tt=!1,rt=0;for(;rt<this._motions.length;){const nt=this._motions[rt];if(nt==null){this._motions.splice(rt,1);continue}const it=nt._motion;if(it==null){nt.release(),this._motions.splice(rt,1);continue}it.updateParameters(_,nt,et),tt=!0;const at=it.getFiredEvent(nt.getLastCheckEventSeconds()-nt.getStartTime(),et-nt.getStartTime());for(let lt=0;lt<at.length;++lt)this._eventCallBack(this,at[lt],this._eventCustomData);nt.setLastCheckEventSeconds(et),nt.isFinished()?(nt.release(),this._motions.splice(rt,1)):(nt.isTriggeredFadeOut()&&nt.startFadeOut(nt.getFadeOutSeconds(),et),rt++)}return tt}}const InvalidMotionQueueEntryHandleValue=-1;class Cubism4ExpressionManager extends ExpressionManager{constructor(_,et){var tt;super(_,et),__publicField(this,"queueManager",new CubismMotionQueueManager),__publicField(this,"definitions"),this.definitions=(tt=_.expressions)!=null?tt:[],this.init()}isFinished(){return this.queueManager.isFinished()}getExpressionIndex(_){return this.definitions.findIndex(et=>et.Name===_)}getExpressionFile(_){return _.File}createExpression(_,et){return CubismExpressionMotion.create(_)}_setExpression(_){return this.queueManager.startMotion(_,!1,performance.now())}stopAllExpressions(){this.queueManager.stopAllMotions()}updateParameters(_,et){return this.queueManager.doUpdateMotion(_,et)}}var CubismMotionCurveTarget=(_e=>(_e[_e.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",_e[_e.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",_e[_e.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",_e))(CubismMotionCurveTarget||{}),CubismMotionSegmentType=(_e=>(_e[_e.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",_e[_e.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",_e[_e.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",_e[_e.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped",_e))(CubismMotionSegmentType||{});class CubismMotionPoint{constructor(_=0,et=0){this.time=_,this.value=et}}class CubismMotionSegment{constructor(){this.basePointIndex=0,this.segmentType=0}}class CubismMotionCurve{constructor(){this.id="",this.type=0,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class CubismMotionEvent{constructor(){this.fireTime=0,this.value=""}}class CubismMotionData{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=[],this.segments=[],this.points=[],this.events=[]}}class CubismMotionJson{constructor(_){this._json=_}release(){this._json=void 0}getMotionDuration(){return this._json.Meta.Duration}isMotionLoop(){return this._json.Meta.Loop||!1}getEvaluationOptionFlag(_){return _==0?!!this._json.Meta.AreBeziersRestricted:!1}getMotionCurveCount(){return this._json.Meta.CurveCount}getMotionFps(){return this._json.Meta.Fps}getMotionTotalSegmentCount(){return this._json.Meta.TotalSegmentCount}getMotionTotalPointCount(){return this._json.Meta.TotalPointCount}getMotionFadeInTime(){return this._json.Meta.FadeInTime}getMotionFadeOutTime(){return this._json.Meta.FadeOutTime}getMotionCurveTarget(_){return this._json.Curves[_].Target}getMotionCurveId(_){return this._json.Curves[_].Id}getMotionCurveFadeInTime(_){return this._json.Curves[_].FadeInTime}getMotionCurveFadeOutTime(_){return this._json.Curves[_].FadeOutTime}getMotionCurveSegmentCount(_){return this._json.Curves[_].Segments.length}getMotionCurveSegment(_,et){return this._json.Curves[_].Segments[et]}getEventCount(){return this._json.Meta.UserDataCount||0}getTotalEventValueSize(){return this._json.Meta.TotalUserDataSize}getEventTime(_){return this._json.UserData[_].Time}getEventValue(_){return this._json.UserData[_].Value}}var EvaluationOptionFlag=(_e=>(_e[_e.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted",_e))(EvaluationOptionFlag||{});const EffectNameEyeBlink="EyeBlink",EffectNameLipSync="LipSync",TargetNameModel="Model",TargetNameParameter="Parameter",TargetNamePartOpacity="PartOpacity",IdNameOpacity="Opacity",UseOldBeziersCurveMotion=!1;function lerpPoints(_e,_,et){const tt=new CubismMotionPoint;return tt.time=_e.time+(_.time-_e.time)*et,tt.value=_e.value+(_.value-_e.value)*et,tt}function linearEvaluate(_e,_){let et=(_-_e[0].time)/(_e[1].time-_e[0].time);return et<0&&(et=0),_e[0].value+(_e[1].value-_e[0].value)*et}function bezierEvaluate(_e,_){let et=(_-_e[0].time)/(_e[3].time-_e[0].time);et<0&&(et=0);const tt=lerpPoints(_e[0],_e[1],et),rt=lerpPoints(_e[1],_e[2],et),nt=lerpPoints(_e[2],_e[3],et),it=lerpPoints(tt,rt,et),at=lerpPoints(rt,nt,et);return lerpPoints(it,at,et).value}function bezierEvaluateCardanoInterpretation(_e,_){const et=_,tt=_e[0].time,rt=_e[3].time,nt=_e[1].time,it=_e[2].time,at=rt-3*it+3*nt-tt,lt=3*it-6*nt+3*tt,ct=3*nt-3*tt,ut=tt-et,st=CubismMath.cardanoAlgorithmForBezier(at,lt,ct,ut),ot=lerpPoints(_e[0],_e[1],st),dt=lerpPoints(_e[1],_e[2],st),ft=lerpPoints(_e[2],_e[3],st),ht=lerpPoints(ot,dt,st),mt=lerpPoints(dt,ft,st);return lerpPoints(ht,mt,st).value}function steppedEvaluate(_e,_){return _e[0].value}function inverseSteppedEvaluate(_e,_){return _e[1].value}function evaluateCurve(_e,_,et){const tt=_e.curves[_];let rt=-1;const nt=tt.baseSegmentIndex+tt.segmentCount;let it=0;for(let lt=tt.baseSegmentIndex;lt<nt;++lt)if(it=_e.segments[lt].basePointIndex+(_e.segments[lt].segmentType==CubismMotionSegmentType.CubismMotionSegmentType_Bezier?3:1),_e.points[it].time>et){rt=lt;break}if(rt==-1)return _e.points[it].value;const at=_e.segments[rt];return at.evaluate(_e.points.slice(at.basePointIndex),et)}class CubismMotion extends ACubismMotion{constructor(){super(),this._eyeBlinkParameterIds=[],this._lipSyncParameterIds=[],this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0,this._modelOpacity=1}static create(_,et){const tt=new CubismMotion;return tt.parse(_),tt._sourceFrameRate=tt._motionData.fps,tt._loopDurationSeconds=tt._motionData.duration,tt._onFinishedMotion=et,tt}doUpdateParameters(_,et,tt,rt){this._modelCurveIdEyeBlink==null&&(this._modelCurveIdEyeBlink=EffectNameEyeBlink),this._modelCurveIdLipSync==null&&(this._modelCurveIdLipSync=EffectNameLipSync),this._modelCurveIdOpacity==null&&(this._modelCurveIdOpacity=IdNameOpacity);let nt=et-rt.getStartTime();nt<0&&(nt=0);let it=Number.MAX_VALUE,at=Number.MAX_VALUE;const lt=64;let ct=0,ut=0;this._eyeBlinkParameterIds.length>lt&&CubismLogDebug("too many eye blink targets : {0}",this._eyeBlinkParameterIds.length),this._lipSyncParameterIds.length>lt&&CubismLogDebug("too many lip sync targets : {0}",this._lipSyncParameterIds.length);const st=this._fadeInSeconds<=0?1:CubismMath.getEasingSine((et-rt.getFadeInStartTime())/this._fadeInSeconds),ot=this._fadeOutSeconds<=0||rt.getEndTime()<0?1:CubismMath.getEasingSine((rt.getEndTime()-et)/this._fadeOutSeconds);let dt,ft,ht,mt=nt;if(this._isLoop)for(;mt>this._motionData.duration;)mt-=this._motionData.duration;const gt=this._motionData.curves;for(ft=0;ft<this._motionData.curveCount&&gt[ft].type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model;++ft)dt=evaluateCurve(this._motionData,ft,mt),gt[ft].id==this._modelCurveIdEyeBlink?at=dt:gt[ft].id==this._modelCurveIdLipSync?it=dt:gt[ft].id==this._modelCurveIdOpacity&&(this._modelOpacity=dt,_.setModelOapcity(this.getModelOpacityValue()));for(;ft<this._motionData.curveCount&&gt[ft].type==CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;++ft){if(ht=_.getParameterIndex(gt[ft].id),ht==-1)continue;const yt=_.getParameterValueByIndex(ht);if(dt=evaluateCurve(this._motionData,ft,mt),at!=Number.MAX_VALUE){for(let bt=0;bt<this._eyeBlinkParameterIds.length&&bt<lt;++bt)if(this._eyeBlinkParameterIds[bt]==gt[ft].id){dt*=at,ut|=1<<bt;break}}if(it!=Number.MAX_VALUE){for(let bt=0;bt<this._lipSyncParameterIds.length&&bt<lt;++bt)if(this._lipSyncParameterIds[bt]==gt[ft].id){dt+=it,ct|=1<<bt;break}}let vt;if(gt[ft].fadeInTime<0&&gt[ft].fadeOutTime<0)vt=yt+(dt-yt)*tt;else{let bt,xt;gt[ft].fadeInTime<0?bt=st:bt=gt[ft].fadeInTime==0?1:CubismMath.getEasingSine((et-rt.getFadeInStartTime())/gt[ft].fadeInTime),gt[ft].fadeOutTime<0?xt=ot:xt=gt[ft].fadeOutTime==0||rt.getEndTime()<0?1:CubismMath.getEasingSine((rt.getEndTime()-et)/gt[ft].fadeOutTime);const _t=this._weight*bt*xt;vt=yt+(dt-yt)*_t}_.setParameterValueByIndex(ht,vt,1)}{if(at!=Number.MAX_VALUE)for(let yt=0;yt<this._eyeBlinkParameterIds.length&&yt<lt;++yt){const vt=_.getParameterValueById(this._eyeBlinkParameterIds[yt]);if(ut>>yt&1)continue;const bt=vt+(at-vt)*tt;_.setParameterValueById(this._eyeBlinkParameterIds[yt],bt)}if(it!=Number.MAX_VALUE)for(let yt=0;yt<this._lipSyncParameterIds.length&&yt<lt;++yt){const vt=_.getParameterValueById(this._lipSyncParameterIds[yt]);if(ct>>yt&1)continue;const bt=vt+(it-vt)*tt;_.setParameterValueById(this._lipSyncParameterIds[yt],bt)}}for(;ft<this._motionData.curveCount&&gt[ft].type==CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;++ft)if(dt=evaluateCurve(this._motionData,ft,mt),CubismConfig.setOpacityFromMotion)_.setPartOpacityById(gt[ft].id,dt);else{if(ht=_.getParameterIndex(gt[ft].id),ht==-1)continue;_.setParameterValueByIndex(ht,dt)}nt>=this._motionData.duration&&(this._isLoop?(rt.setStartTime(et),this._isLoopFadeIn&&rt.setFadeInStartTime(et)):(this._onFinishedMotion&&this._onFinishedMotion(this),rt.setIsFinished(!0))),this._lastWeight=tt}setIsLoop(_){this._isLoop=_}isLoop(){return this._isLoop}setIsLoopFadeIn(_){this._isLoopFadeIn=_}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(_,et){const tt=this._motionData.curves;for(let rt=0;rt<this._motionData.curveCount;++rt)if(_==tt[rt].id){tt[rt].fadeInTime=et;return}}setParameterFadeOutTime(_,et){const tt=this._motionData.curves;for(let rt=0;rt<this._motionData.curveCount;++rt)if(_==tt[rt].id){tt[rt].fadeOutTime=et;return}}getParameterFadeInTime(_){const et=this._motionData.curves;for(let tt=0;tt<this._motionData.curveCount;++tt)if(_==et[tt].id)return et[tt].fadeInTime;return-1}getParameterFadeOutTime(_){const et=this._motionData.curves;for(let tt=0;tt<this._motionData.curveCount;++tt)if(_==et[tt].id)return et[tt].fadeOutTime;return-1}setEffectIds(_,et){this._eyeBlinkParameterIds=_,this._lipSyncParameterIds=et}release(){this._motionData=void 0}parse(_){this._motionData=new CubismMotionData;const et=new CubismMotionJson(_);this._motionData.duration=et.getMotionDuration(),this._motionData.loop=et.isMotionLoop(),this._motionData.curveCount=et.getMotionCurveCount(),this._motionData.fps=et.getMotionFps(),this._motionData.eventCount=et.getEventCount();const tt=et.getEvaluationOptionFlag(EvaluationOptionFlag.EvaluationOptionFlag_AreBeziersRistricted),rt=et.getMotionFadeInTime(),nt=et.getMotionFadeOutTime();rt!==void 0?this._fadeInSeconds=rt<0?1:rt:this._fadeInSeconds=1,nt!==void 0?this._fadeOutSeconds=nt<0?1:nt:this._fadeOutSeconds=1,this._motionData.curves=Array.from({length:this._motionData.curveCount}).map(()=>new CubismMotionCurve),this._motionData.segments=Array.from({length:et.getMotionTotalSegmentCount()}).map(()=>new CubismMotionSegment),this._motionData.events=Array.from({length:this._motionData.eventCount}).map(()=>new CubismMotionEvent),this._motionData.points=[];let it=0,at=0;for(let lt=0;lt<this._motionData.curveCount;++lt){const ct=this._motionData.curves[lt];switch(et.getMotionCurveTarget(lt)){case TargetNameModel:ct.type=CubismMotionCurveTarget.CubismMotionCurveTarget_Model;break;case TargetNameParameter:ct.type=CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;break;case TargetNamePartOpacity:ct.type=CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;break;default:CubismLogWarning('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!')}ct.id=et.getMotionCurveId(lt),ct.baseSegmentIndex=at;const ut=et.getMotionCurveFadeInTime(lt),st=et.getMotionCurveFadeOutTime(lt);ct.fadeInTime=ut!==void 0?ut:-1,ct.fadeOutTime=st!==void 0?st:-1;for(let ot=0;ot<et.getMotionCurveSegmentCount(lt);){switch(ot==0?(this._motionData.segments[at].basePointIndex=it,this._motionData.points[it]=new CubismMotionPoint(et.getMotionCurveSegment(lt,ot),et.getMotionCurveSegment(lt,ot+1)),it+=1,ot+=2):this._motionData.segments[at].basePointIndex=it-1,et.getMotionCurveSegment(lt,ot)){case CubismMotionSegmentType.CubismMotionSegmentType_Linear:{this._motionData.segments[at].segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Linear,this._motionData.segments[at].evaluate=linearEvaluate,this._motionData.points[it]=new CubismMotionPoint(et.getMotionCurveSegment(lt,ot+1),et.getMotionCurveSegment(lt,ot+2)),it+=1,ot+=3;break}case CubismMotionSegmentType.CubismMotionSegmentType_Bezier:{this._motionData.segments[at].segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Bezier,tt||UseOldBeziersCurveMotion?this._motionData.segments[at].evaluate=bezierEvaluate:this._motionData.segments[at].evaluate=bezierEvaluateCardanoInterpretation,this._motionData.points[it]=new CubismMotionPoint(et.getMotionCurveSegment(lt,ot+1),et.getMotionCurveSegment(lt,ot+2)),this._motionData.points[it+1]=new CubismMotionPoint(et.getMotionCurveSegment(lt,ot+3),et.getMotionCurveSegment(lt,ot+4)),this._motionData.points[it+2]=new CubismMotionPoint(et.getMotionCurveSegment(lt,ot+5),et.getMotionCurveSegment(lt,ot+6)),it+=3,ot+=7;break}case CubismMotionSegmentType.CubismMotionSegmentType_Stepped:{this._motionData.segments[at].segmentType=CubismMotionSegmentType.CubismMotionSegmentType_Stepped,this._motionData.segments[at].evaluate=steppedEvaluate,this._motionData.points[it]=new CubismMotionPoint(et.getMotionCurveSegment(lt,ot+1),et.getMotionCurveSegment(lt,ot+2)),it+=1,ot+=3;break}case CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped:{this._motionData.segments[at].segmentType=CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped,this._motionData.segments[at].evaluate=inverseSteppedEvaluate,this._motionData.points[it]=new CubismMotionPoint(et.getMotionCurveSegment(lt,ot+1),et.getMotionCurveSegment(lt,ot+2)),it+=1,ot+=3;break}default:{CSM_ASSERT(0);break}}++ct.segmentCount,++at}this._motionData.curves.push(ct)}for(let lt=0;lt<et.getEventCount();++lt)this._motionData.events[lt].fireTime=et.getEventTime(lt),this._motionData.events[lt].value=et.getEventValue(lt);et.release()}getFiredEvent(_,et){this._firedEventValues.length=0;for(let tt=0;tt<this._motionData.eventCount;++tt)this._motionData.events[tt].fireTime>_&&this._motionData.events[tt].fireTime<=et&&this._firedEventValues.push(this._motionData.events[tt].value);return this._firedEventValues}isExistModelOpacity(){for(let _=0;_<this._motionData.curveCount;_++){const et=this._motionData.curves[_];if(et.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&et.id===IdNameOpacity)return!0}return!1}getModelOpacityIndex(){if(this.isExistModelOpacity())for(let _=0;_<this._motionData.curveCount;_++){const et=this._motionData.curves[_];if(et.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&et.id===IdNameOpacity)return _}return-1}getModelOpacityId(_){if(_!=-1){const et=this._motionData.curves[_];if(et.type==CubismMotionCurveTarget.CubismMotionCurveTarget_Model&&et.id===IdNameOpacity)return et.id}}getModelOpacityValue(){return this._modelOpacity}}class Cubism4MotionManager extends MotionManager{constructor(_,et){var tt;super(_,et),__publicField(this,"definitions"),__publicField(this,"groups",{idle:"Idle"}),__publicField(this,"motionDataType","json"),__publicField(this,"queueManager",new CubismMotionQueueManager),__publicField(this,"expressionManager"),__publicField(this,"eyeBlinkIds"),__publicField(this,"lipSyncIds",["ParamMouthOpenY"]),this.definitions=(tt=_.motions)!=null?tt:{},this.eyeBlinkIds=_.getEyeBlinkParameters()||[];const rt=_.getLipSyncParameters();rt!=null&&rt.length&&(this.lipSyncIds=rt),this.init(et)}init(_){super.init(_),this.settings.expressions&&(this.expressionManager=new Cubism4ExpressionManager(this.settings,_)),this.queueManager.setEventCallback((et,tt,rt)=>{this.emit("motion:"+tt)})}isFinished(){return this.queueManager.isFinished()}_startMotion(_,et){return _.setFinishedMotionHandler(et),this.queueManager.stopAllMotions(),this.queueManager.startMotion(_,!1,performance.now())}_stopAllMotions(){this.queueManager.stopAllMotions()}createMotion(_,et,tt){const rt=CubismMotion.create(_),nt=new CubismMotionJson(_),it=(et===this.groups.idle?config$1.idleMotionFadingDuration:config$1.motionFadingDuration)/1e3;return nt.getMotionFadeInTime()===void 0&&rt.setFadeInTime(tt.FadeInTime>0?tt.FadeInTime:it),nt.getMotionFadeOutTime()===void 0&&rt.setFadeOutTime(tt.FadeOutTime>0?tt.FadeOutTime:it),rt.setEffectIds(this.eyeBlinkIds,this.lipSyncIds),rt}getMotionFile(_){return _.File}getMotionName(_){return _.File}getSoundFile(_){return _.Sound}updateParameters(_,et){return this.queueManager.doUpdateMotion(_,et)}destroy(){super.destroy(),this.queueManager.release(),this.queueManager=void 0}}const ParamAngleX="ParamAngleX",ParamAngleY="ParamAngleY",ParamAngleZ="ParamAngleZ",ParamEyeBallX="ParamEyeBallX",ParamEyeBallY="ParamEyeBallY",ParamMouthForm="ParamMouthForm",ParamBodyAngleX="ParamBodyAngleX",ParamBreath="ParamBreath";class CubismBreath{constructor(){this._breathParameters=[],this._currentTime=0}static create(){return new CubismBreath}setParameters(_){this._breathParameters=_}getParameters(){return this._breathParameters}updateParameters(_,et){this._currentTime+=et;const tt=this._currentTime*2*3.14159;for(let rt=0;rt<this._breathParameters.length;++rt){const nt=this._breathParameters[rt];_.addParameterValueById(nt.parameterId,nt.offset+nt.peak*Math.sin(tt/nt.cycle),nt.weight)}}}class BreathParameterData{constructor(_,et,tt,rt,nt){this.parameterId=_??void 0,this.offset=et??0,this.peak=tt??0,this.cycle=rt??0,this.weight=nt??0}}const _CubismEyeBlink=class Go{static create(_){return new Go(_)}setBlinkingInterval(_){this._blinkingIntervalSeconds=_}setBlinkingSetting(_,et,tt){this._closingSeconds=_,this._closedSeconds=et,this._openingSeconds=tt}setParameterIds(_){this._parameterIds=_}getParameterIds(){return this._parameterIds}updateParameters(_,et){this._userTimeSeconds+=et;let tt,rt=0;switch(this._blinkingState){case 2:rt=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,rt>=1&&(rt=1,this._blinkingState=3,this._stateStartTimeSeconds=this._userTimeSeconds),tt=1-rt;break;case 3:rt=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,rt>=1&&(this._blinkingState=4,this._stateStartTimeSeconds=this._userTimeSeconds),tt=0;break;case 4:rt=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,rt>=1&&(rt=1,this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming()),tt=rt;break;case 1:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=2,this._stateStartTimeSeconds=this._userTimeSeconds),tt=1;break;case 0:default:this._blinkingState=1,this._nextBlinkingTime=this.determinNextBlinkingTiming(),tt=1;break}Go.CloseIfZero||(tt=-tt);for(let nt=0;nt<this._parameterIds.length;++nt)_.setParameterValueById(this._parameterIds[nt],tt)}constructor(_){var et,tt;this._blinkingState=0,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=[],_!=null&&(this._parameterIds=(tt=(et=_.getEyeBlinkParameters())==null?void 0:et.slice())!=null?tt:this._parameterIds)}determinNextBlinkingTiming(){const _=Math.random();return this._userTimeSeconds+_*(2*this._blinkingIntervalSeconds-1)}};_CubismEyeBlink.CloseIfZero=!0;let CubismEyeBlink=_CubismEyeBlink;class csmRect{constructor(_=0,et=0,tt=0,rt=0){this.x=_,this.y=et,this.width=tt,this.height=rt}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(_){this.x=_.x,this.y=_.y,this.width=_.width,this.height=_.height}expand(_,et){this.x-=_,this.y-=et,this.width+=_*2,this.height+=et*2}}const ColorChannelCount=4,ClippingMaskMaxCountOnDefault=36,ClippingMaskMaxCountOnMultiRenderTexture=32,ShaderCount=10;let s_instance,s_viewport,s_fbo;class CubismClippingManager_WebGL{getChannelFlagAsColor(_){return this._channelColors[_]}getMaskRenderTexture(){if(this._maskTexture&&this._maskTexture.textures!=null)this._maskTexture.frameNo=this._currentFrameNo;else{this._maskRenderTextures=[],this._maskColorBuffers=[];const _=this._clippingMaskBufferSize;for(let et=0;et<this._renderTextureCount;et++)this._maskColorBuffers.push(this.gl.createTexture()),this.gl.bindTexture(this.gl.TEXTURE_2D,this._maskColorBuffers[et]),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,_,_,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this._maskRenderTextures.push(this.gl.createFramebuffer()),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTextures[et]),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._maskColorBuffers[et],0);this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),this._maskTexture=new CubismRenderTextureResource(this._currentFrameNo,this._maskRenderTextures)}return this._maskTexture.textures}setGL(_){this.gl=_}calcClippedDrawTotalBounds(_,et){let tt=Number.MAX_VALUE,rt=Number.MAX_VALUE,nt=Number.MIN_VALUE,it=Number.MIN_VALUE;const at=et._clippedDrawableIndexList.length;for(let lt=0;lt<at;lt++){const ct=et._clippedDrawableIndexList[lt],ut=_.getDrawableVertexCount(ct),st=_.getDrawableVertices(ct);let ot=Number.MAX_VALUE,dt=Number.MAX_VALUE,ft=-Number.MAX_VALUE,ht=-Number.MAX_VALUE;const mt=ut*Constant.vertexStep;for(let gt=Constant.vertexOffset;gt<mt;gt+=Constant.vertexStep){const yt=st[gt],vt=st[gt+1];yt<ot&&(ot=yt),yt>ft&&(ft=yt),vt<dt&&(dt=vt),vt>ht&&(ht=vt)}if(ot!=Number.MAX_VALUE)if(ot<tt&&(tt=ot),dt<rt&&(rt=dt),ft>nt&&(nt=ft),ht>it&&(it=ht),tt==Number.MAX_VALUE)et._allClippedDrawRect.x=0,et._allClippedDrawRect.y=0,et._allClippedDrawRect.width=0,et._allClippedDrawRect.height=0,et._isUsing=!1;else{et._isUsing=!0;const gt=nt-tt,yt=it-rt;et._allClippedDrawRect.x=tt,et._allClippedDrawRect.y=rt,et._allClippedDrawRect.width=gt,et._allClippedDrawRect.height=yt}}}constructor(){this._currentMaskRenderTexture=null,this._currentFrameNo=0,this._renderTextureCount=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=[],this._clippingContextListForDraw=[],this._channelColors=[],this._tmpBoundsOnModel=new csmRect,this._tmpMatrix=new CubismMatrix44,this._tmpMatrixForMask=new CubismMatrix44,this._tmpMatrixForDraw=new CubismMatrix44;let _=new CubismTextureColor;_.R=1,_.G=0,_.B=0,_.A=0,this._channelColors.push(_),_=new CubismTextureColor,_.R=0,_.G=1,_.B=0,_.A=0,this._channelColors.push(_),_=new CubismTextureColor,_.R=0,_.G=0,_.B=1,_.A=0,this._channelColors.push(_),_=new CubismTextureColor,_.R=0,_.G=0,_.B=0,_.A=1,this._channelColors.push(_)}release(){var _;const et=this;for(let tt=0;tt<this._clippingContextListForMask.length;tt++)this._clippingContextListForMask[tt]&&((_=this._clippingContextListForMask[tt])==null||_.release());if(et._clippingContextListForMask=void 0,et._clippingContextListForDraw=void 0,this._maskTexture){for(let tt=0;tt<this._maskTexture.textures.length;tt++)this.gl.deleteFramebuffer(this._maskTexture.textures[tt]);this._maskTexture=void 0}if(et._channelColors=void 0,this._maskColorBuffers)for(let tt=0;tt<this._maskColorBuffers.length;tt++)this.gl.deleteTexture(this._maskColorBuffers[tt]);this._maskColorBuffers=void 0,this._maskRenderTextures=void 0,this._clearedFrameBufferflags=void 0}initialize(_,et,tt,rt,nt){nt%1!=0&&(CubismLogWarning("The number of render textures must be specified as an integer. The decimal point is rounded down and corrected to an integer."),nt=~~nt),nt<1&&CubismLogWarning("The number of render textures must be an integer greater than or equal to 1. Set the number of render textures to 1."),this._renderTextureCount=nt<1?1:nt,this._clearedFrameBufferflags=[];for(let it=0;it<et;it++){if(rt[it]<=0){this._clippingContextListForDraw.push(null);continue}let at=this.findSameClip(tt[it],rt[it]);at==null&&(at=new CubismClippingContext(this,tt[it],rt[it]),this._clippingContextListForMask.push(at)),at.addClippedDrawable(it),this._clippingContextListForDraw.push(at)}}setupClippingContext(_,et){this._currentFrameNo++;let tt=0;for(let rt=0;rt<this._clippingContextListForMask.length;rt++){const nt=this._clippingContextListForMask[rt];this.calcClippedDrawTotalBounds(_,nt),nt._isUsing&&tt++}if(tt>0){this.setupLayoutBounds(et.isUsingHighPrecisionMask()?0:tt),et.isUsingHighPrecisionMask()||(this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._currentMaskRenderTexture=this.getMaskRenderTexture()[0],et.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture)),this._clearedFrameBufferflags||(this._clearedFrameBufferflags=[]);for(let rt=0;rt<this._renderTextureCount;rt++)this._clearedFrameBufferflags[rt]=!1;for(let rt=0;rt<this._clippingContextListForMask.length;rt++){const nt=this._clippingContextListForMask[rt],it=nt._allClippedDrawRect,at=nt._layoutBounds,lt=.05;let ct=0,ut=0;const st=this.getMaskRenderTexture()[nt._bufferIndex];if(this._currentMaskRenderTexture!=st&&!et.isUsingHighPrecisionMask()&&(this._currentMaskRenderTexture=st,et.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._currentMaskRenderTexture)),et.isUsingHighPrecisionMask()){const ot=_.getPixelsPerUnit(),dt=nt.getClippingManager()._clippingMaskBufferSize,ft=at.width*dt,ht=at.height*dt;this._tmpBoundsOnModel.setRect(it),this._tmpBoundsOnModel.width*ot>ft?(this._tmpBoundsOnModel.expand(it.width*lt,0),ct=at.width/this._tmpBoundsOnModel.width):ct=ot/ft,this._tmpBoundsOnModel.height*ot>ht?(this._tmpBoundsOnModel.expand(0,it.height*lt),ut=at.height/this._tmpBoundsOnModel.height):ut=ot/ht}else this._tmpBoundsOnModel.setRect(it),this._tmpBoundsOnModel.expand(it.width*lt,it.height*lt),ct=at.width/this._tmpBoundsOnModel.width,ut=at.height/this._tmpBoundsOnModel.height;if(this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(at.x,at.y),this._tmpMatrix.scaleRelative(ct,ut),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(at.x,at.y),this._tmpMatrix.scaleRelative(ct,ut),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),nt._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),nt._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray()),!et.isUsingHighPrecisionMask()){const ot=nt._clippingIdCount;for(let dt=0;dt<ot;dt++){const ft=nt._clippingIdList[dt];_.getDrawableDynamicFlagVertexPositionsDidChange(ft)&&(et.setIsCulling(_.getDrawableCulling(ft)!=!1),this._clearedFrameBufferflags[nt._bufferIndex]||(this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this._clearedFrameBufferflags[nt._bufferIndex]=!0),et.setClippingContextBufferForMask(nt),et.drawMesh(_.getDrawableTextureIndex(ft),_.getDrawableVertexIndexCount(ft),_.getDrawableVertexCount(ft),_.getDrawableVertexIndices(ft),_.getDrawableVertices(ft),_.getDrawableVertexUvs(ft),_.getMultiplyColor(ft),_.getScreenColor(ft),_.getDrawableOpacity(ft),CubismBlendMode.CubismBlendMode_Normal,!1))}}}et.isUsingHighPrecisionMask()||(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),et.setClippingContextBufferForMask(null),this.gl.viewport(s_viewport[0],s_viewport[1],s_viewport[2],s_viewport[3]))}}findSameClip(_,et){for(let tt=0;tt<this._clippingContextListForMask.length;tt++){const rt=this._clippingContextListForMask[tt],nt=rt._clippingIdCount;if(nt!=et)continue;let it=0;for(let at=0;at<nt;at++){const lt=rt._clippingIdList[at];for(let ct=0;ct<nt;ct++)if(_[ct]==lt){it++;break}}if(it==nt)return rt}return null}setupLayoutBounds(_){const et=this._renderTextureCount<=1?ClippingMaskMaxCountOnDefault:ClippingMaskMaxCountOnMultiRenderTexture*this._renderTextureCount;if(_<=0||_>et){_>et&&CubismLogError(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,_-et,this._renderTextureCount,_);for(let ct=0;ct<this._clippingContextListForMask.length;ct++){const ut=this._clippingContextListForMask[ct];ut._layoutChannelNo=0,ut._layoutBounds.x=0,ut._layoutBounds.y=0,ut._layoutBounds.width=1,ut._layoutBounds.height=1,ut._bufferIndex=0}return}const tt=this._renderTextureCount<=1?9:8;let rt=_/this._renderTextureCount,nt=_%this._renderTextureCount;rt=~~rt,nt=~~nt;let it=rt/ColorChannelCount,at=rt%ColorChannelCount;it=~~it,at=~~at;let lt=0;for(let ct=0;ct<this._renderTextureCount;ct++)for(let ut=0;ut<ColorChannelCount;ut++){let st=it+(ut<at?1:0);const ot=at+1>=ColorChannelCount?0:at+1;if(st<tt&&ut==ot&&(st+=ct<nt?1:0),st!=0)if(st==1){const dt=this._clippingContextListForMask[lt++];dt._layoutChannelNo=ut,dt._layoutBounds.x=0,dt._layoutBounds.y=0,dt._layoutBounds.width=1,dt._layoutBounds.height=1,dt._bufferIndex=ct}else if(st==2)for(let dt=0;dt<st;dt++){let ft=dt%2;ft=~~ft;const ht=this._clippingContextListForMask[lt++];ht._layoutChannelNo=ut,ht._layoutBounds.x=ft*.5,ht._layoutBounds.y=0,ht._layoutBounds.width=.5,ht._layoutBounds.height=1,ht._bufferIndex=ct}else if(st<=4)for(let dt=0;dt<st;dt++){let ft=dt%2,ht=dt/2;ft=~~ft,ht=~~ht;const mt=this._clippingContextListForMask[lt++];mt._layoutChannelNo=ut,mt._layoutBounds.x=ft*.5,mt._layoutBounds.y=ht*.5,mt._layoutBounds.width=.5,mt._layoutBounds.height=.5,mt._bufferIndex=ct}else if(st<=tt)for(let dt=0;dt<st;dt++){let ft=dt%3,ht=dt/3;ft=~~ft,ht=~~ht;const mt=this._clippingContextListForMask[lt++];mt._layoutChannelNo=ut,mt._layoutBounds.x=ft/3,mt._layoutBounds.y=ht/3,mt._layoutBounds.width=1/3,mt._layoutBounds.height=1/3,mt._bufferIndex=ct}else if(CubismConfig.supportMoreMaskDivisions&&st<=16)for(let dt=0;dt<st;dt++){let ft=dt%4,ht=dt/4;ft=~~ft,ht=~~ht;const mt=this._clippingContextListForMask[lt++];mt._layoutChannelNo=ut,mt._layoutBounds.x=ft/4,mt._layoutBounds.y=ht/4,mt._layoutBounds.width=1/4,mt._layoutBounds.height=1/4,mt._bufferIndex=ct}else{CubismLogError(`not supported mask count : {0}
[Details] render texture count : {1}, mask count : {2}`,_-et,this._renderTextureCount,_);for(let dt=0;dt<st;dt++){const ft=this._clippingContextListForMask[lt++];ft._layoutChannelNo=0,ft._layoutBounds.x=0,ft._layoutBounds.y=0,ft._layoutBounds.width=1,ft._layoutBounds.height=1,ft._bufferIndex=0}}}}getColorBuffer(){return this._maskColorBuffers}getClippingContextListForDraw(){return this._clippingContextListForDraw}getClippingMaskCount(){return this._clippingContextListForMask.length}setClippingMaskBufferSize(_){this._clippingMaskBufferSize=_}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}getRenderTextureCount(){return this._renderTextureCount}}class CubismRenderTextureResource{constructor(_,et){this.frameNo=_,this.textures=et}}class CubismClippingContext{constructor(_,et,tt){this._isUsing=!1,this._owner=_,this._clippingIdList=et,this._clippingIdCount=tt,this._allClippedDrawRect=new csmRect,this._layoutBounds=new csmRect,this._clippedDrawableIndexList=[],this._matrixForMask=new CubismMatrix44,this._matrixForDraw=new CubismMatrix44,this._bufferIndex=0}release(){const _=this;_._layoutBounds=void 0,_._allClippedDrawRect=void 0,_._clippedDrawableIndexList=void 0}addClippedDrawable(_){this._clippedDrawableIndexList.push(_)}getClippingManager(){return this._owner}setGl(_){this._owner.setGL(_)}}class CubismRendererProfile_WebGL{setGlEnable(_,et){et?this.gl.enable(_):this.gl.disable(_)}setGlEnableVertexAttribArray(_,et){et?this.gl.enableVertexAttribArray(_):this.gl.disableVertexAttribArray(_)}save(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._lastArrayBufferBinding=this.gl.getParameter(this.gl.ARRAY_BUFFER_BINDING),this._lastArrayBufferBinding=this.gl.getParameter(this.gl.ELEMENT_ARRAY_BUFFER_BINDING),this._lastProgram=this.gl.getParameter(this.gl.CURRENT_PROGRAM),this._lastActiveTexture=this.gl.getParameter(this.gl.ACTIVE_TEXTURE),this.gl.activeTexture(this.gl.TEXTURE1),this._lastTexture1Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this.gl.activeTexture(this.gl.TEXTURE0),this._lastTexture0Binding2D=this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._lastVertexAttribArrayEnabled[0]=this.gl.getVertexAttrib(0,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[1]=this.gl.getVertexAttrib(1,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[2]=this.gl.getVertexAttrib(2,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastVertexAttribArrayEnabled[3]=this.gl.getVertexAttrib(3,this.gl.VERTEX_ATTRIB_ARRAY_ENABLED),this._lastScissorTest=this.gl.isEnabled(this.gl.SCISSOR_TEST),this._lastStencilTest=this.gl.isEnabled(this.gl.STENCIL_TEST),this._lastDepthTest=this.gl.isEnabled(this.gl.DEPTH_TEST),this._lastCullFace=this.gl.isEnabled(this.gl.CULL_FACE),this._lastBlend=this.gl.isEnabled(this.gl.BLEND),this._lastFrontFace=this.gl.getParameter(this.gl.FRONT_FACE),this._lastColorMask=this.gl.getParameter(this.gl.COLOR_WRITEMASK),this._lastBlending[0]=this.gl.getParameter(this.gl.BLEND_SRC_RGB),this._lastBlending[1]=this.gl.getParameter(this.gl.BLEND_DST_RGB),this._lastBlending[2]=this.gl.getParameter(this.gl.BLEND_SRC_ALPHA),this._lastBlending[3]=this.gl.getParameter(this.gl.BLEND_DST_ALPHA),this._lastFBO=this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING),this._lastViewport=this.gl.getParameter(this.gl.VIEWPORT)}restore(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this.gl.useProgram(this._lastProgram),this.setGlEnableVertexAttribArray(0,this._lastVertexAttribArrayEnabled[0]),this.setGlEnableVertexAttribArray(1,this._lastVertexAttribArrayEnabled[1]),this.setGlEnableVertexAttribArray(2,this._lastVertexAttribArrayEnabled[2]),this.setGlEnableVertexAttribArray(3,this._lastVertexAttribArrayEnabled[3]),this.setGlEnable(this.gl.SCISSOR_TEST,this._lastScissorTest),this.setGlEnable(this.gl.STENCIL_TEST,this._lastStencilTest),this.setGlEnable(this.gl.DEPTH_TEST,this._lastDepthTest),this.setGlEnable(this.gl.CULL_FACE,this._lastCullFace),this.setGlEnable(this.gl.BLEND,this._lastBlend),this.gl.frontFace(this._lastFrontFace),this.gl.colorMask(this._lastColorMask[0],this._lastColorMask[1],this._lastColorMask[2],this._lastColorMask[3]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this._lastArrayBufferBinding),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this._lastElementArrayBufferBinding),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture1Binding2D),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this._lastTexture0Binding2D),this.gl.activeTexture(this._lastActiveTexture),this.gl.blendFuncSeparate(this._lastBlending[0],this._lastBlending[1],this._lastBlending[2],this._lastBlending[3])}setGl(_){this.gl=_}constructor(){this._lastVertexAttribArrayEnabled=new Array(4),this._lastColorMask=new Array(4),this._lastBlending=new Array(4),this._lastViewport=new Array(4)}}class CubismShader_WebGL{static getInstance(){return s_instance==null&&(s_instance=new CubismShader_WebGL),s_instance}static deleteInstance(){s_instance&&(s_instance.release(),s_instance=void 0)}constructor(){this._shaderSets=[]}release(){this.releaseShaderProgram()}setupShaderProgram(_,et,tt,rt,nt,it,at,lt,ct,ut,st,ot,dt,ft,ht){dt||CubismLogError("NoPremultipliedAlpha is not allowed"),this._shaderSets.length==0&&this.generateShaders();let mt,gt,yt,vt;const bt=_.getClippingContextBufferForMask();if(bt!=null){const xt=this._shaderSets[0];this.gl.useProgram(xt.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,et),this.gl.uniform1i(xt.samplerTexture0Location,0),at.vertex==null&&(at.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,at.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,rt,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(xt.attributePositionLocation),this.gl.vertexAttribPointer(xt.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),at.uv==null&&(at.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,at.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,it,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(xt.attributeTexCoordLocation),this.gl.vertexAttribPointer(xt.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const _t=bt._layoutChannelNo,St=bt.getClippingManager().getChannelFlagAsColor(_t);this.gl.uniform4f(xt.uniformChannelFlagLocation,St.R,St.G,St.B,St.A),this.gl.uniformMatrix4fv(xt.uniformClipMatrixLocation,!1,bt._matrixForMask.getArray());const wt=bt._layoutBounds;this.gl.uniform4f(xt.uniformBaseColorLocation,wt.x*2-1,wt.y*2-1,wt.getRight()*2-1,wt.getBottom()*2-1),this.gl.uniform4f(xt.uniformMultiplyColorLocation,st.R,st.G,st.B,st.A),this.gl.uniform4f(xt.uniformScreenColorLocation,ot.R,ot.G,ot.B,ot.A),mt=this.gl.ZERO,gt=this.gl.ONE_MINUS_SRC_COLOR,yt=this.gl.ZERO,vt=this.gl.ONE_MINUS_SRC_ALPHA}else{const xt=_.getClippingContextBufferForDraw(),St=xt!=null?ht?2:1:0;let wt;switch(ct){case CubismBlendMode.CubismBlendMode_Normal:default:wt=this._shaderSets[1+St],mt=this.gl.ONE,gt=this.gl.ONE_MINUS_SRC_ALPHA,yt=this.gl.ONE,vt=this.gl.ONE_MINUS_SRC_ALPHA;break;case CubismBlendMode.CubismBlendMode_Additive:wt=this._shaderSets[4+St],mt=this.gl.ONE,gt=this.gl.ONE,yt=this.gl.ZERO,vt=this.gl.ONE;break;case CubismBlendMode.CubismBlendMode_Multiplicative:wt=this._shaderSets[7+St],mt=this.gl.DST_COLOR,gt=this.gl.ONE_MINUS_SRC_ALPHA,yt=this.gl.ZERO,vt=this.gl.ONE;break}if(this.gl.useProgram(wt.shaderProgram),at.vertex==null&&(at.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,at.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,rt,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(wt.attributePositionLocation),this.gl.vertexAttribPointer(wt.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),at.uv==null&&(at.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,at.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,it,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(wt.attributeTexCoordLocation),this.gl.vertexAttribPointer(wt.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),xt!=null){this.gl.activeTexture(this.gl.TEXTURE1);const Et=xt.getClippingManager().getColorBuffer()[_.getClippingContextBufferForDraw()._bufferIndex];this.gl.bindTexture(this.gl.TEXTURE_2D,Et),this.gl.uniform1i(wt.samplerTexture1Location,1),this.gl.uniformMatrix4fv(wt.uniformClipMatrixLocation,!1,xt._matrixForDraw.getArray());const Tt=xt._layoutChannelNo,Ct=xt.getClippingManager().getChannelFlagAsColor(Tt);this.gl.uniform4f(wt.uniformChannelFlagLocation,Ct.R,Ct.G,Ct.B,Ct.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,et),this.gl.uniform1i(wt.samplerTexture0Location,0),this.gl.uniformMatrix4fv(wt.uniformMatrixLocation,!1,ft.getArray()),this.gl.uniform4f(wt.uniformBaseColorLocation,ut.R,ut.G,ut.B,ut.A),this.gl.uniform4f(wt.uniformMultiplyColorLocation,st.R,st.G,st.B,st.A),this.gl.uniform4f(wt.uniformScreenColorLocation,ot.R,ot.G,ot.B,ot.A)}at.index==null&&(at.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,at.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,nt,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(mt,gt,yt,vt)}releaseShaderProgram(){for(let _=0;_<this._shaderSets.length;_++)this.gl.deleteProgram(this._shaderSets[_].shaderProgram),this._shaderSets[_].shaderProgram=0;this._shaderSets=[]}generateShaders(){for(let _=0;_<ShaderCount;_++)this._shaderSets.push({});this._shaderSets[0].shaderProgram=this.loadShaderProgram(vertexShaderSrcSetupMask,fragmentShaderSrcsetupMask),this._shaderSets[1].shaderProgram=this.loadShaderProgram(vertexShaderSrc,fragmentShaderSrcPremultipliedAlpha),this._shaderSets[2].shaderProgram=this.loadShaderProgram(vertexShaderSrcMasked,fragmentShaderSrcMaskPremultipliedAlpha),this._shaderSets[3].shaderProgram=this.loadShaderProgram(vertexShaderSrcMasked,fragmentShaderSrcMaskInvertedPremultipliedAlpha),this._shaderSets[4].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[5].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[6].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[7].shaderProgram=this._shaderSets[1].shaderProgram,this._shaderSets[8].shaderProgram=this._shaderSets[2].shaderProgram,this._shaderSets[9].shaderProgram=this._shaderSets[3].shaderProgram,this._shaderSets[0].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_position"),this._shaderSets[0].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[0].shaderProgram,"a_texCoord"),this._shaderSets[0].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"s_texture0"),this._shaderSets[0].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_clipMatrix"),this._shaderSets[0].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_channelFlag"),this._shaderSets[0].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_baseColor"),this._shaderSets[0].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_multiplyColor"),this._shaderSets[0].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[0].shaderProgram,"u_screenColor"),this._shaderSets[1].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_position"),this._shaderSets[1].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[1].shaderProgram,"a_texCoord"),this._shaderSets[1].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"s_texture0"),this._shaderSets[1].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_matrix"),this._shaderSets[1].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_baseColor"),this._shaderSets[1].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_multiplyColor"),this._shaderSets[1].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[1].shaderProgram,"u_screenColor"),this._shaderSets[2].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_position"),this._shaderSets[2].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[2].shaderProgram,"a_texCoord"),this._shaderSets[2].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture0"),this._shaderSets[2].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"s_texture1"),this._shaderSets[2].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_matrix"),this._shaderSets[2].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_clipMatrix"),this._shaderSets[2].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_channelFlag"),this._shaderSets[2].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_baseColor"),this._shaderSets[2].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_multiplyColor"),this._shaderSets[2].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[2].shaderProgram,"u_screenColor"),this._shaderSets[3].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_position"),this._shaderSets[3].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[3].shaderProgram,"a_texCoord"),this._shaderSets[3].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture0"),this._shaderSets[3].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"s_texture1"),this._shaderSets[3].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_matrix"),this._shaderSets[3].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_clipMatrix"),this._shaderSets[3].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_channelFlag"),this._shaderSets[3].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_baseColor"),this._shaderSets[3].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_multiplyColor"),this._shaderSets[3].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[3].shaderProgram,"u_screenColor"),this._shaderSets[4].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_position"),this._shaderSets[4].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[4].shaderProgram,"a_texCoord"),this._shaderSets[4].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"s_texture0"),this._shaderSets[4].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_matrix"),this._shaderSets[4].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_baseColor"),this._shaderSets[4].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_multiplyColor"),this._shaderSets[4].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[4].shaderProgram,"u_screenColor"),this._shaderSets[5].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_position"),this._shaderSets[5].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[5].shaderProgram,"a_texCoord"),this._shaderSets[5].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture0"),this._shaderSets[5].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"s_texture1"),this._shaderSets[5].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_matrix"),this._shaderSets[5].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_clipMatrix"),this._shaderSets[5].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_channelFlag"),this._shaderSets[5].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_baseColor"),this._shaderSets[5].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_multiplyColor"),this._shaderSets[5].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[5].shaderProgram,"u_screenColor"),this._shaderSets[6].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_position"),this._shaderSets[6].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[6].shaderProgram,"a_texCoord"),this._shaderSets[6].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture0"),this._shaderSets[6].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"s_texture1"),this._shaderSets[6].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_matrix"),this._shaderSets[6].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_clipMatrix"),this._shaderSets[6].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_channelFlag"),this._shaderSets[6].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_baseColor"),this._shaderSets[6].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_multiplyColor"),this._shaderSets[6].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[6].shaderProgram,"u_screenColor"),this._shaderSets[7].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_position"),this._shaderSets[7].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[7].shaderProgram,"a_texCoord"),this._shaderSets[7].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"s_texture0"),this._shaderSets[7].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_matrix"),this._shaderSets[7].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_baseColor"),this._shaderSets[7].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_multiplyColor"),this._shaderSets[7].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[7].shaderProgram,"u_screenColor"),this._shaderSets[8].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_position"),this._shaderSets[8].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[8].shaderProgram,"a_texCoord"),this._shaderSets[8].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture0"),this._shaderSets[8].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"s_texture1"),this._shaderSets[8].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_matrix"),this._shaderSets[8].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_clipMatrix"),this._shaderSets[8].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_channelFlag"),this._shaderSets[8].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_baseColor"),this._shaderSets[8].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_multiplyColor"),this._shaderSets[8].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[8].shaderProgram,"u_screenColor"),this._shaderSets[9].attributePositionLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_position"),this._shaderSets[9].attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets[9].shaderProgram,"a_texCoord"),this._shaderSets[9].samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture0"),this._shaderSets[9].samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"s_texture1"),this._shaderSets[9].uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_matrix"),this._shaderSets[9].uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_clipMatrix"),this._shaderSets[9].uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_channelFlag"),this._shaderSets[9].uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_baseColor"),this._shaderSets[9].uniformMultiplyColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_multiplyColor"),this._shaderSets[9].uniformScreenColorLocation=this.gl.getUniformLocation(this._shaderSets[9].shaderProgram,"u_screenColor")}loadShaderProgram(_,et){const tt=this.gl.createProgram(),rt=this.compileShaderSource(this.gl.VERTEX_SHADER,_);if(!rt)return CubismLogError("Vertex shader compile error!"),0;const nt=this.compileShaderSource(this.gl.FRAGMENT_SHADER,et);return nt?(this.gl.attachShader(tt,rt),this.gl.attachShader(tt,nt),this.gl.linkProgram(tt),this.gl.getProgramParameter(tt,this.gl.LINK_STATUS)?(this.gl.deleteShader(rt),this.gl.deleteShader(nt),tt):(CubismLogError("Failed to link program: {0}",tt),this.gl.deleteShader(rt),this.gl.deleteShader(nt),tt&&this.gl.deleteProgram(tt),0)):(CubismLogError("Vertex shader compile error!"),0)}compileShaderSource(_,et){const tt=et,rt=this.gl.createShader(_);if(this.gl.shaderSource(rt,tt),this.gl.compileShader(rt),!rt){const it=this.gl.getShaderInfoLog(rt);CubismLogError("Shader compile log: {0} ",it)}return this.gl.getShaderParameter(rt,this.gl.COMPILE_STATUS)?rt:(this.gl.deleteShader(rt),null)}setGl(_){this.gl=_}}const vertexShaderSrcSetupMask="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",fragmentShaderSrcsetupMask="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",vertexShaderSrc="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",vertexShaderSrcMasked="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",fragmentShaderSrcPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 color = texColor * u_baseColor;   gl_FragColor = vec4(color.rgb, color.a);}",fragmentShaderSrcMaskPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;uniform vec4       u_multiplyColor;uniform vec4       u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",fragmentShaderSrcMaskInvertedPremultipliedAlpha="precision mediump float;varying vec2      v_texCoord;varying vec4      v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4      u_channelFlag;uniform vec4      u_baseColor;uniform vec4      u_multiplyColor;uniform vec4      u_screenColor;void main(){   vec4 texColor = texture2D(s_texture0, v_texCoord);   texColor.rgb = texColor.rgb * u_multiplyColor.rgb;   texColor.rgb = (texColor.rgb + u_screenColor.rgb * texColor.a) - (texColor.rgb * u_screenColor.rgb);   vec4 col_formask = texColor * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * (1.0 - maskVal);   gl_FragColor = col_formask;}";class CubismRenderer_WebGL extends CubismRenderer{initialize(_,et=1){_.isUsingMasking()&&(this._clippingManager=new CubismClippingManager_WebGL,this._clippingManager.initialize(_,_.getDrawableCount(),_.getDrawableMasks(),_.getDrawableMaskCounts(),et));for(let tt=_.getDrawableCount()-1;tt>=0;tt--)this._sortedDrawableIndexList[tt]=0;super.initialize(_)}bindTexture(_,et){this._textures[_]=et}getBindedTextures(){return this._textures}setClippingMaskBufferSize(_){if(!this._model.isUsingMasking())return;const et=this._clippingManager.getRenderTextureCount();this._clippingManager.release(),this._clippingManager=new CubismClippingManager_WebGL,this._clippingManager.setClippingMaskBufferSize(_),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts(),et)}getClippingMaskBufferSize(){return this._model.isUsingMasking()?this._clippingManager.getClippingMaskBufferSize():-1}getRenderTextureCount(){return this._model.isUsingMasking()?this._clippingManager.getRenderTextureCount():-1}constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._rendererProfile=new CubismRendererProfile_WebGL,this.firstDraw=!0,this._textures={},this._sortedDrawableIndexList=[],this._bufferData={vertex:null,uv:null,index:null}}release(){var _,et,tt;const rt=this;this._clippingManager.release(),rt._clippingManager=void 0,(_=this.gl)==null||_.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,(et=this.gl)==null||et.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,(tt=this.gl)==null||tt.deleteBuffer(this._bufferData.index),this._bufferData.index=null,rt._bufferData=void 0,rt._textures=void 0}doDrawModel(){if(this.gl==null){CubismLogError(`'gl' is null. WebGLRenderingContext is required.
Please call 'CubimRenderer_WebGL.startUp' function.`);return}this._clippingManager!=null&&(this.preDraw(),this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();const _=this.getModel().getDrawableCount(),et=this.getModel().getDrawableRenderOrders();for(let tt=0;tt<_;++tt){const rt=et[tt];this._sortedDrawableIndexList[rt]=tt}for(let tt=0;tt<_;++tt){const rt=this._sortedDrawableIndexList[tt];if(!this.getModel().getDrawableDynamicFlagIsVisible(rt))continue;const nt=this._clippingManager!=null?this._clippingManager.getClippingContextListForDraw()[rt]:null;if(nt!=null&&this.isUsingHighPrecisionMask()){nt._isUsing&&(this.gl.viewport(0,0,this._clippingManager.getClippingMaskBufferSize(),this._clippingManager.getClippingMaskBufferSize()),this.preDraw(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,nt.getClippingManager().getMaskRenderTexture()[nt._bufferIndex]),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT));{const it=nt._clippingIdCount;for(let at=0;at<it;at++){const lt=nt._clippingIdList[at];this._model.getDrawableDynamicFlagVertexPositionsDidChange(lt)&&(this.setIsCulling(this._model.getDrawableCulling(lt)!=!1),this.setClippingContextBufferForMask(nt),this.drawMesh(this.getModel().getDrawableTextureIndex(lt),this.getModel().getDrawableVertexIndexCount(lt),this.getModel().getDrawableVertexCount(lt),this.getModel().getDrawableVertexIndices(lt),this.getModel().getDrawableVertices(lt),this.getModel().getDrawableVertexUvs(lt),this.getModel().getMultiplyColor(lt),this.getModel().getScreenColor(lt),this.getModel().getDrawableOpacity(lt),CubismBlendMode.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,s_fbo),this.setClippingContextBufferForMask(null),this.gl.viewport(s_viewport[0],s_viewport[1],s_viewport[2],s_viewport[3]),this.preDraw()}this.setClippingContextBufferForDraw(nt),this.setIsCulling(this.getModel().getDrawableCulling(rt)),this.drawMesh(this.getModel().getDrawableTextureIndex(rt),this.getModel().getDrawableVertexIndexCount(rt),this.getModel().getDrawableVertexCount(rt),this.getModel().getDrawableVertexIndices(rt),this.getModel().getDrawableVertices(rt),this.getModel().getDrawableVertexUvs(rt),this.getModel().getMultiplyColor(rt),this.getModel().getScreenColor(rt),this.getModel().getDrawableOpacity(rt),this.getModel().getDrawableBlendMode(rt),this.getModel().getDrawableInvertedMaskBit(rt))}}drawMesh(_,et,tt,rt,nt,it,at,lt,ct,ut,st){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const ot=this.getModelColor();this.getClippingContextBufferForMask()==null&&(ot.A*=ct,this.isPremultipliedAlpha()&&(ot.R*=ot.A,ot.G*=ot.A,ot.B*=ot.A));let dt=null;this._textures[_]!=null&&(dt=this._textures[_]),CubismShader_WebGL.getInstance().setupShaderProgram(this,dt,tt,nt,rt,it,this._bufferData,ct,ut,ot,at,lt,this.isPremultipliedAlpha(),this.getMvpMatrix(),st),this.gl.drawElements(this.gl.TRIANGLES,et,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}saveProfile(){this._rendererProfile.save()}restoreProfile(){this._rendererProfile.restore()}static doStaticRelease(){CubismShader_WebGL.deleteInstance()}setRenderState(_,et){s_fbo=_,s_viewport=et}preDraw(){if(this.firstDraw&&(this.firstDraw=!1),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.getAnisotropy()>0&&this._extension)for(const _ of Object.entries(this._textures))this.gl.bindTexture(this.gl.TEXTURE_2D,_),this.gl.texParameterf(this.gl.TEXTURE_2D,this._extension.TEXTURE_MAX_ANISOTROPY_EXT,this.getAnisotropy())}setClippingContextBufferForMask(_){this._clippingContextBufferForMask=_}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(_){this._clippingContextBufferForDraw=_}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(_){this.gl=_,this._clippingManager&&this._clippingManager.setGL(_),CubismShader_WebGL.getInstance().setGl(_),this._rendererProfile.setGl(_),this._extension=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")}}CubismRenderer.staticRelease=()=>{CubismRenderer_WebGL.doStaticRelease()};const tempMatrix=new CubismMatrix44;class Cubism4InternalModel extends InternalModel{constructor(_,et,tt){super(),__publicField(this,"settings"),__publicField(this,"coreModel"),__publicField(this,"motionManager"),__publicField(this,"lipSync",!0),__publicField(this,"breath",CubismBreath.create()),__publicField(this,"eyeBlink"),__publicField(this,"userData"),__publicField(this,"renderer",new CubismRenderer_WebGL),__publicField(this,"idParamAngleX",ParamAngleX),__publicField(this,"idParamAngleY",ParamAngleY),__publicField(this,"idParamAngleZ",ParamAngleZ),__publicField(this,"idParamEyeBallX",ParamEyeBallX),__publicField(this,"idParamEyeBallY",ParamEyeBallY),__publicField(this,"idParamBodyAngleX",ParamBodyAngleX),__publicField(this,"idParamBreath",ParamBreath),__publicField(this,"idParamMouthForm",ParamMouthForm),__publicField(this,"pixelsPerUnit",1),__publicField(this,"centeringTransform",new Matrix),this.coreModel=_,this.settings=et,this.motionManager=new Cubism4MotionManager(et,tt),this.init()}init(){var _;super.init(),(_=this.settings.getEyeBlinkParameters())!=null&&_.length&&(this.eyeBlink=CubismEyeBlink.create(this.settings)),this.breath.setParameters([new BreathParameterData(this.idParamAngleX,0,15,6.5345,.5),new BreathParameterData(this.idParamAngleY,0,8,3.5345,.5),new BreathParameterData(this.idParamAngleZ,0,10,5.5345,.5),new BreathParameterData(this.idParamBodyAngleX,0,4,15.5345,.5),new BreathParameterData(this.idParamBreath,0,.5,3.2345,.5)]),this.renderer.initialize(this.coreModel),this.renderer.setIsPremultipliedAlpha(!0)}getSize(){return[this.coreModel.getModel().canvasinfo.CanvasWidth,this.coreModel.getModel().canvasinfo.CanvasHeight]}getLayout(){const _={};if(this.settings.layout)for(const[et,tt]of Object.entries(this.settings.layout)){const rt=et.charAt(0).toLowerCase()+et.slice(1);_[rt]=tt}return _}setupLayout(){super.setupLayout(),this.pixelsPerUnit=this.coreModel.getModel().canvasinfo.PixelsPerUnit,this.centeringTransform.scale(this.pixelsPerUnit,this.pixelsPerUnit).translate(this.originalWidth/2,this.originalHeight/2)}updateWebGLContext(_,et){this.renderer.firstDraw=!0,this.renderer._bufferData={vertex:null,uv:null,index:null},this.renderer.startUp(_),this.renderer._clippingManager._currentFrameNo=et,this.renderer._clippingManager._maskTexture=void 0,CubismShader_WebGL.getInstance()._shaderSets=[]}bindTexture(_,et){this.renderer.bindTexture(_,et)}getHitAreaDefs(){var _,et;return(et=(_=this.settings.hitAreas)==null?void 0:_.map(tt=>({id:tt.Id,name:tt.Name,index:this.coreModel.getDrawableIndex(tt.Id)})))!=null?et:[]}getDrawableIDs(){return this.coreModel.getDrawableIds()}getDrawableIndex(_){return this.coreModel.getDrawableIndex(_)}getDrawableVertices(_){if(typeof _=="string"&&(_=this.coreModel.getDrawableIndex(_),_===-1))throw new TypeError("Unable to find drawable ID: "+_);const et=this.coreModel.getDrawableVertices(_).slice();for(let tt=0;tt<et.length;tt+=2)et[tt]=et[tt]*this.pixelsPerUnit+this.originalWidth/2,et[tt+1]=-et[tt+1]*this.pixelsPerUnit+this.originalHeight/2;return et}updateTransform(_){this.drawingMatrix.copyFrom(this.centeringTransform).prepend(this.localTransform).prepend(_)}update(_,et){var tt,rt,nt,it;super.update(_,et),_/=1e3,et/=1e3;const at=this.coreModel;this.emit("beforeMotionUpdate");const lt=this.motionManager.update(this.coreModel,et);if(this.emit("afterMotionUpdate"),at.saveParameters(),(tt=this.motionManager.expressionManager)==null||tt.update(at,et),lt||(rt=this.eyeBlink)==null||rt.updateParameters(at,_),this.updateFocus(),this.updateNaturalMovements(_*1e3,et*1e3),this.lipSync&&this.motionManager.currentAudio){let ct=this.motionManager.mouthSync(),ut=0;const st=1,ot=1.2;ct>0&&(ut=.4),ct=clamp(ct*ot,ut,st);for(let dt=0;dt<this.motionManager.lipSyncIds.length;++dt)at.addParameterValueById(this.motionManager.lipSyncIds[dt],ct,.8)}(nt=this.physics)==null||nt.evaluate(at,_),(it=this.pose)==null||it.updateParameters(at,_),this.emit("beforeModelUpdate"),at.update(),at.loadParameters()}updateFocus(){this.coreModel.addParameterValueById(this.idParamEyeBallX,this.focusController.x),this.coreModel.addParameterValueById(this.idParamEyeBallY,this.focusController.y),this.coreModel.addParameterValueById(this.idParamAngleX,this.focusController.x*30),this.coreModel.addParameterValueById(this.idParamAngleY,this.focusController.y*30),this.coreModel.addParameterValueById(this.idParamAngleZ,this.focusController.x*this.focusController.y*-30),this.coreModel.addParameterValueById(this.idParamBodyAngleX,this.focusController.x*10)}updateFacialEmotion(_){this.coreModel.addParameterValueById(this.idParamMouthForm,_)}updateNaturalMovements(_,et){var tt;(tt=this.breath)==null||tt.updateParameters(this.coreModel,_/1e3)}draw(_){const et=this.drawingMatrix,tt=tempMatrix.getArray();tt[0]=et.a,tt[1]=et.b,tt[4]=-et.c,tt[5]=-et.d,tt[12]=et.tx,tt[13]=et.ty,this.renderer.setMvpMatrix(tempMatrix),this.renderer.setRenderState(_.getParameter(_.FRAMEBUFFER_BINDING),this.viewport),this.renderer.drawModel()}destroy(){super.destroy(),this.renderer.release(),this.coreModel.release(),this.renderer=void 0,this.coreModel=void 0}}class CubismModelSettingsJson{constructor(_){this.groups=_.Groups,this.hitAreas=_.HitAreas,this.layout=_.Layout,this.moc=_.FileReferences.Moc,this.expressions=_.FileReferences.Expressions,this.motions=_.FileReferences.Motions,this.textures=_.FileReferences.Textures,this.physics=_.FileReferences.Physics,this.pose=_.FileReferences.Pose}getEyeBlinkParameters(){var _,et;return(et=(_=this.groups)==null?void 0:_.find(tt=>tt.Name==="EyeBlink"))==null?void 0:et.Ids}getLipSyncParameters(){var _,et;return(et=(_=this.groups)==null?void 0:_.find(tt=>tt.Name==="LipSync"))==null?void 0:et.Ids}}class Cubism4ModelSettings extends ModelSettings{constructor(_){if(super(_),__publicField(this,"moc"),__publicField(this,"textures"),!Cubism4ModelSettings.isValidJSON(_))throw new TypeError("Invalid JSON.");Object.assign(this,new CubismModelSettingsJson(_))}static isValidJSON(_){var et;return!!(_!=null&&_.FileReferences)&&typeof _.FileReferences.Moc=="string"&&((et=_.FileReferences.Textures)==null?void 0:et.length)>0&&_.FileReferences.Textures.every(tt=>typeof tt=="string")}replaceFiles(_){if(super.replaceFiles(_),this.motions)for(const[et,tt]of Object.entries(this.motions))for(let rt=0;rt<tt.length;rt++)tt[rt].File=_(tt[rt].File,`motions.${et}[${rt}].File`),tt[rt].Sound!==void 0&&(tt[rt].Sound=_(tt[rt].Sound,`motions.${et}[${rt}].Sound`));if(this.expressions)for(let et=0;et<this.expressions.length;et++)this.expressions[et].File=_(this.expressions[et].File,`expressions[${et}].File`)}}applyMixins(Cubism4ModelSettings,[CubismModelSettingsJson]);let startupPromise,startupRetries=20;function cubism4Ready(){return CubismFramework.isStarted()?Promise.resolve():(startupPromise??(startupPromise=new Promise((_e,_)=>{function et(){try{startUpCubism4(),_e()}catch(tt){if(startupRetries--,startupRetries<0){const rt=new Error("Failed to start up Cubism 4 framework.");rt.cause=tt,_(rt);return}setTimeout(et,10)}}et()})),startupPromise)}function startUpCubism4(_e){_e=Object.assign({logFunction:console.log,loggingLevel:LogLevel.LogLevel_Verbose},_e),CubismFramework.startUp(_e),CubismFramework.initialize()}const Epsilon=.001,DefaultFadeInSeconds=.5;class CubismPose{static create(_){const et=new CubismPose;typeof _.FadeInTime=="number"&&(et._fadeTimeSeconds=_.FadeInTime,et._fadeTimeSeconds<=0&&(et._fadeTimeSeconds=DefaultFadeInSeconds));const tt=_.Groups,rt=tt.length;for(let nt=0;nt<rt;++nt){const it=tt[nt],at=it.length;let lt=0;for(let ct=0;ct<at;++ct){const ut=it[ct],st=new PartData;st.partId=ut.Id;const ot=ut.Link;if(ot){const dt=ot.length;for(let ft=0;ft<dt;++ft){const ht=new PartData;ht.partId=ot[ft],st.link.push(ht)}}et._partGroups.push(st),++lt}et._partGroupCounts.push(lt)}return et}updateParameters(_,et){_!=this._lastModel&&this.reset(_),this._lastModel=_,et<0&&(et=0);let tt=0;for(let rt=0;rt<this._partGroupCounts.length;rt++){const nt=this._partGroupCounts[rt];this.doFade(_,et,tt,nt),tt+=nt}this.copyPartOpacities(_)}reset(_){let et=0;for(let tt=0;tt<this._partGroupCounts.length;++tt){const rt=this._partGroupCounts[tt];for(let nt=et;nt<et+rt;++nt){this._partGroups[nt].initialize(_);const it=this._partGroups[nt].partIndex,at=this._partGroups[nt].parameterIndex;if(!(it<0)){_.setPartOpacityByIndex(it,nt==et?1:0),_.setParameterValueByIndex(at,nt==et?1:0);for(let lt=0;lt<this._partGroups[nt].link.length;++lt)this._partGroups[nt].link[lt].initialize(_)}}et+=rt}}copyPartOpacities(_){for(let et=0;et<this._partGroups.length;++et){const tt=this._partGroups[et];if(tt.link.length==0)continue;const rt=this._partGroups[et].partIndex,nt=_.getPartOpacityByIndex(rt);for(let it=0;it<tt.link.length;++it){const lt=tt.link[it].partIndex;lt<0||_.setPartOpacityByIndex(lt,nt)}}}doFade(_,et,tt,rt){let nt=-1,it=1;const at=.5,lt=.15;for(let ct=tt;ct<tt+rt;++ct){const ut=this._partGroups[ct].partIndex,st=this._partGroups[ct].parameterIndex;if(_.getParameterValueByIndex(st)>Epsilon){if(nt>=0)break;nt=ct,it=_.getPartOpacityByIndex(ut),it+=et/this._fadeTimeSeconds,it>1&&(it=1)}}nt<0&&(nt=0,it=1);for(let ct=tt;ct<tt+rt;++ct){const ut=this._partGroups[ct].partIndex;if(nt==ct)_.setPartOpacityByIndex(ut,it);else{let st=_.getPartOpacityByIndex(ut),ot;it<at?ot=it*(at-1)/at+1:ot=(1-it)*at/(1-at),(1-ot)*(1-it)>lt&&(ot=1-lt/(1-it)),st>ot&&(st=ot),_.setPartOpacityByIndex(ut,st)}}}constructor(){this._fadeTimeSeconds=DefaultFadeInSeconds,this._lastModel=void 0,this._partGroups=[],this._partGroupCounts=[]}}class PartData{constructor(_){this.parameterIndex=0,this.partIndex=0,this.partId="",this.link=[],_!=null&&this.assignment(_)}assignment(_){return this.partId=_.partId,this.link=_.link.map(et=>et.clone()),this}initialize(_){this.parameterIndex=_.getParameterIndex(this.partId),this.partIndex=_.getPartIndex(this.partId),_.setParameterValueByIndex(this.parameterIndex,1)}clone(){const _=new PartData;return _.partId=this.partId,_.parameterIndex=this.parameterIndex,_.partIndex=this.partIndex,_.link=this.link.map(et=>et.clone()),_}}class DrawableColorData{constructor(_=!1,et=new CubismTextureColor){this.isOverwritten=_,this.Color=et}}class PartColorData{constructor(_=!1,et=new CubismTextureColor){this.isOverwritten=_,this.Color=et}}class DrawableCullingData{constructor(_=!1,et=!1){this.isOverwritten=_,this.isCulling=et}}class CubismModel{update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getPixelsPerUnit(){return this._model==null?0:this._model.canvasinfo.PixelsPerUnit}getCanvasWidth(){return this._model==null?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return this._model==null?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const _=this._model.parameters.count,et=this._savedParameters.length;for(let tt=0;tt<_;++tt)tt<et?this._savedParameters[tt]=this._parameterValues[tt]:this._savedParameters.push(this._parameterValues[tt])}getMultiplyColor(_){return this.getOverwriteFlagForModelMultiplyColors()||this.getOverwriteFlagForDrawableMultiplyColors(_)?this._userMultiplyColors[_].Color:this.getDrawableMultiplyColor(_)}getScreenColor(_){return this.getOverwriteFlagForModelScreenColors()||this.getOverwriteFlagForDrawableScreenColors(_)?this._userScreenColors[_].Color:this.getDrawableScreenColor(_)}setMultiplyColorByTextureColor(_,et){this.setMultiplyColorByRGBA(_,et.R,et.G,et.B,et.A)}setMultiplyColorByRGBA(_,et,tt,rt,nt=1){this._userMultiplyColors[_].Color.R=et,this._userMultiplyColors[_].Color.G=tt,this._userMultiplyColors[_].Color.B=rt,this._userMultiplyColors[_].Color.A=nt}setScreenColorByTextureColor(_,et){this.setScreenColorByRGBA(_,et.R,et.G,et.B,et.A)}setScreenColorByRGBA(_,et,tt,rt,nt=1){this._userScreenColors[_].Color.R=et,this._userScreenColors[_].Color.G=tt,this._userScreenColors[_].Color.B=rt,this._userScreenColors[_].Color.A=nt}getPartMultiplyColor(_){return this._userPartMultiplyColors[_].Color}getPartScreenColor(_){return this._userPartScreenColors[_].Color}setPartColor(_,et,tt,rt,nt,it,at){if(it[_].Color.R=et,it[_].Color.G=tt,it[_].Color.B=rt,it[_].Color.A=nt,it[_].isOverwritten)for(let lt=0;lt<this._partChildDrawables[_].length;++lt){const ct=this._partChildDrawables[_][lt];at[ct].Color.R=et,at[ct].Color.G=tt,at[ct].Color.B=rt,at[ct].Color.A=nt}}setPartMultiplyColorByTextureColor(_,et){this.setPartMultiplyColorByRGBA(_,et.R,et.G,et.B,et.A)}setPartMultiplyColorByRGBA(_,et,tt,rt,nt){this.setPartColor(_,et,tt,rt,nt,this._userPartMultiplyColors,this._userMultiplyColors)}setPartScreenColorByTextureColor(_,et){this.setPartScreenColorByRGBA(_,et.R,et.G,et.B,et.A)}setPartScreenColorByRGBA(_,et,tt,rt,nt){this.setPartColor(_,et,tt,rt,nt,this._userPartScreenColors,this._userScreenColors)}getOverwriteFlagForModelMultiplyColors(){return this._isOverwrittenModelMultiplyColors}getOverwriteFlagForModelScreenColors(){return this._isOverwrittenModelScreenColors}setOverwriteFlagForModelMultiplyColors(_){this._isOverwrittenModelMultiplyColors=_}setOverwriteFlagForModelScreenColors(_){this._isOverwrittenModelScreenColors=_}getOverwriteFlagForDrawableMultiplyColors(_){return this._userMultiplyColors[_].isOverwritten}getOverwriteFlagForDrawableScreenColors(_){return this._userScreenColors[_].isOverwritten}setOverwriteFlagForDrawableMultiplyColors(_,et){this._userMultiplyColors[_].isOverwritten=et}setOverwriteFlagForDrawableScreenColors(_,et){this._userScreenColors[_].isOverwritten=et}getOverwriteColorForPartMultiplyColors(_){return this._userPartMultiplyColors[_].isOverwritten}getOverwriteColorForPartScreenColors(_){return this._userPartScreenColors[_].isOverwritten}setOverwriteColorForPartColors(_,et,tt,rt){tt[_].isOverwritten=et;for(let nt=0;nt<this._partChildDrawables[_].length;++nt){const it=this._partChildDrawables[_][nt];rt[it].isOverwritten=et,et&&(rt[it].Color.R=tt[_].Color.R,rt[it].Color.G=tt[_].Color.G,rt[it].Color.B=tt[_].Color.B,rt[it].Color.A=tt[_].Color.A)}}setOverwriteColorForPartMultiplyColors(_,et){this._userPartMultiplyColors[_].isOverwritten=et,this.setOverwriteColorForPartColors(_,et,this._userPartMultiplyColors,this._userMultiplyColors)}setOverwriteColorForPartScreenColors(_,et){this._userPartScreenColors[_].isOverwritten=et,this.setOverwriteColorForPartColors(_,et,this._userPartScreenColors,this._userScreenColors)}getDrawableCulling(_){if(this.getOverwriteFlagForModelCullings()||this.getOverwriteFlagForDrawableCullings(_))return this._userCullings[_].isCulling;const et=this._model.drawables.constantFlags;return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(et[_])}setDrawableCulling(_,et){this._userCullings[_].isCulling=et}getOverwriteFlagForModelCullings(){return this._isOverwrittenCullings}setOverwriteFlagForModelCullings(_){this._isOverwrittenCullings=_}getOverwriteFlagForDrawableCullings(_){return this._userCullings[_].isOverwritten}setOverwriteFlagForDrawableCullings(_,et){this._userCullings[_].isOverwritten=et}getModelOapcity(){return this._modelOpacity}setModelOapcity(_){this._modelOpacity=_}getModel(){return this._model}getPartIndex(_){let et;const tt=this._model.parts.count;for(et=0;et<tt;++et)if(_==this._partIds[et])return et;return _ in this._notExistPartId?this._notExistPartId[_]:(et=tt+this._notExistPartId.length,this._notExistPartId[_]=et,this._notExistPartOpacities[et]=0,et)}getPartId(_){return this._model.parts.ids[_]}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(_,et){if(_ in this._notExistPartOpacities){this._notExistPartOpacities[_]=et;return}CSM_ASSERT(0<=_&&_<this.getPartCount()),this._partOpacities[_]=et}setPartOpacityById(_,et){const tt=this.getPartIndex(_);tt<0||this.setPartOpacityByIndex(tt,et)}getPartOpacityByIndex(_){return _ in this._notExistPartOpacities?this._notExistPartOpacities[_]:(CSM_ASSERT(0<=_&&_<this.getPartCount()),this._partOpacities[_])}getPartOpacityById(_){const et=this.getPartIndex(_);return et<0?0:this.getPartOpacityByIndex(et)}getParameterIndex(_){let et;const tt=this._model.parameters.count;for(et=0;et<tt;++et)if(_==this._parameterIds[et])return et;return _ in this._notExistParameterId?this._notExistParameterId[_]:(et=this._model.parameters.count+Object.keys(this._notExistParameterId).length,this._notExistParameterId[_]=et,this._notExistParameterValues[et]=0,et)}getParameterCount(){return this._model.parameters.count}getParameterType(_){return this._model.parameters.types[_]}getParameterMaximumValue(_){return this._model.parameters.maximumValues[_]}getParameterMinimumValue(_){return this._model.parameters.minimumValues[_]}getParameterDefaultValue(_){return this._model.parameters.defaultValues[_]}getParameterValueByIndex(_){return _ in this._notExistParameterValues?this._notExistParameterValues[_]:(CSM_ASSERT(0<=_&&_<this.getParameterCount()),this._parameterValues[_])}getParameterValueById(_){const et=this.getParameterIndex(_);return this.getParameterValueByIndex(et)}setParameterValueByIndex(_,et,tt=1){if(_ in this._notExistParameterValues){this._notExistParameterValues[_]=tt==1?et:this._notExistParameterValues[_]*(1-tt)+et*tt;return}CSM_ASSERT(0<=_&&_<this.getParameterCount()),this._model.parameters.maximumValues[_]<et&&(et=this._model.parameters.maximumValues[_]),this._model.parameters.minimumValues[_]>et&&(et=this._model.parameters.minimumValues[_]),this._parameterValues[_]=tt==1?et:this._parameterValues[_]=this._parameterValues[_]*(1-tt)+et*tt}setParameterValueById(_,et,tt=1){const rt=this.getParameterIndex(_);this.setParameterValueByIndex(rt,et,tt)}addParameterValueByIndex(_,et,tt=1){this.setParameterValueByIndex(_,this.getParameterValueByIndex(_)+et*tt)}addParameterValueById(_,et,tt=1){const rt=this.getParameterIndex(_);this.addParameterValueByIndex(rt,et,tt)}multiplyParameterValueById(_,et,tt=1){const rt=this.getParameterIndex(_);this.multiplyParameterValueByIndex(rt,et,tt)}multiplyParameterValueByIndex(_,et,tt=1){this.setParameterValueByIndex(_,this.getParameterValueByIndex(_)*(1+(et-1)*tt))}getDrawableIds(){return this._drawableIds.slice()}getDrawableIndex(_){const et=this._model.drawables.count;for(let tt=0;tt<et;++tt)if(this._drawableIds[tt]==_)return tt;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(_){return this._model.drawables.ids[_]}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(_){return this.getDrawableTextureIndex(_)}getDrawableTextureIndex(_){return this._model.drawables.textureIndices[_]}getDrawableDynamicFlagVertexPositionsDidChange(_){const et=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(et[_])}getDrawableVertexIndexCount(_){return this._model.drawables.indexCounts[_]}getDrawableVertexCount(_){return this._model.drawables.vertexCounts[_]}getDrawableVertices(_){return this.getDrawableVertexPositions(_)}getDrawableVertexIndices(_){return this._model.drawables.indices[_]}getDrawableVertexPositions(_){return this._model.drawables.vertexPositions[_]}getDrawableVertexUvs(_){return this._model.drawables.vertexUvs[_]}getDrawableOpacity(_){return this._model.drawables.opacities[_]}getDrawableMultiplyColor(_){const et=this._model.drawables.multiplyColors,tt=_*4,rt=new CubismTextureColor;return rt.R=et[tt],rt.G=et[tt+1],rt.B=et[tt+2],rt.A=et[tt+3],rt}getDrawableScreenColor(_){const et=this._model.drawables.screenColors,tt=_*4,rt=new CubismTextureColor;return rt.R=et[tt],rt.G=et[tt+1],rt.B=et[tt+2],rt.A=et[tt+3],rt}getDrawableParentPartIndex(_){return this._model.drawables.parentPartIndices[_]}getDrawableBlendMode(_){const et=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(et[_])?CubismBlendMode.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(et[_])?CubismBlendMode.CubismBlendMode_Multiplicative:CubismBlendMode.CubismBlendMode_Normal}getDrawableInvertedMaskBit(_){const et=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasIsInvertedMaskBit(et[_])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let _=0;_<this._model.drawables.count;++_)if(!(this._model.drawables.maskCounts[_]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(_){const et=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasIsVisibleBit(et[_])}getDrawableDynamicFlagVisibilityDidChange(_){const et=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(et[_])}getDrawableDynamicFlagOpacityDidChange(_){const et=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasOpacityDidChangeBit(et[_])}getDrawableDynamicFlagRenderOrderDidChange(_){const et=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(et[_])}getDrawableDynamicFlagBlendColorDidChange(_){const et=this._model.drawables.dynamicFlags;return Live2DCubismCore.Utils.hasBlendColorDidChangeBit(et[_])}loadParameters(){let _=this._model.parameters.count;const et=this._savedParameters.length;_>et&&(_=et);for(let tt=0;tt<_;++tt)this._parameterValues[tt]=this._savedParameters[tt]}initialize(){this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const et=this._model.parameters.ids,tt=this._model.parameters.count;for(let rt=0;rt<tt;++rt)this._parameterIds.push(et[rt])}const _=this._model.parts.count;{const et=this._model.parts.ids;for(let tt=0;tt<_;++tt)this._partIds.push(et[tt])}{const et=this._model.drawables.ids,tt=this._model.drawables.count,rt=new DrawableCullingData(!1,!1);for(let nt=0;nt<_;++nt){const it=new CubismTextureColor(1,1,1,1),at=new CubismTextureColor(0,0,0,1),lt=new PartColorData(!1,it),ct=new PartColorData(!1,at);this._userPartMultiplyColors.push(lt),this._userPartScreenColors.push(ct),this._partChildDrawables.push([])}for(let nt=0;nt<tt;++nt){const it=new CubismTextureColor(1,1,1,1),at=new CubismTextureColor(0,0,0,1),lt=new DrawableColorData(!1,it),ct=new DrawableColorData(!1,at);this._drawableIds.push(et[nt]),this._userMultiplyColors.push(lt),this._userScreenColors.push(ct),this._userCullings.push(rt);const ut=this.getDrawableParentPartIndex(nt);ut>=0&&this._partChildDrawables[ut].push(nt)}}}constructor(_){this._model=_,this._savedParameters=[],this._parameterIds=[],this._drawableIds=[],this._partIds=[],this._isOverwrittenModelMultiplyColors=!1,this._isOverwrittenModelScreenColors=!1,this._isOverwrittenCullings=!1,this._modelOpacity=1,this._userMultiplyColors=[],this._userScreenColors=[],this._userCullings=[],this._userPartMultiplyColors=[],this._userPartScreenColors=[],this._partChildDrawables=[],this._notExistPartId={},this._notExistParameterId={},this._notExistParameterValues={},this._notExistPartOpacities={},this.initialize()}release(){this._model.release(),this._model=void 0}}class CubismMoc{static create(_,et){if(et&&!this.hasMocConsistency(_))throw new Error("Inconsistent MOC3.");const tt=Live2DCubismCore.Moc.fromArrayBuffer(_);if(tt){const rt=new CubismMoc(tt);return rt._mocVersion=Live2DCubismCore.Version.csmGetMocVersion(tt,_),rt}throw new Error("Failed to CubismMoc.create().")}createModel(){let _;const et=Live2DCubismCore.Model.fromMoc(this._moc);if(et)return _=new CubismModel(et),++this._modelCount,_;throw new Error("Unknown error")}deleteModel(_){_!=null&&--this._modelCount}constructor(_){this._moc=_,this._modelCount=0,this._mocVersion=0}release(){this._moc._release(),this._moc=void 0}getLatestMocVersion(){return Live2DCubismCore.Version.csmGetLatestMocVersion()}getMocVersion(){return this._mocVersion}static hasMocConsistency(_){return Live2DCubismCore.Moc.prototype.hasMocConsistency(_)===1}}var CubismPhysicsTargetType=(_e=>(_e[_e.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",_e))(CubismPhysicsTargetType||{}),CubismPhysicsSource=(_e=>(_e[_e.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",_e[_e.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",_e[_e.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle",_e))(CubismPhysicsSource||{});class CubismPhysicsParticle{constructor(){this.initialPosition=new CubismVector2(0,0),this.position=new CubismVector2(0,0),this.lastPosition=new CubismVector2(0,0),this.lastGravity=new CubismVector2(0,0),this.force=new CubismVector2(0,0),this.velocity=new CubismVector2(0,0)}}class CubismPhysicsSubRig{constructor(){this.normalizationPosition={},this.normalizationAngle={}}}class CubismPhysicsInput{constructor(){this.source={}}}class CubismPhysicsOutput{constructor(){this.destination={},this.translationScale=new CubismVector2(0,0)}}class CubismPhysicsRig{constructor(){this.settings=[],this.inputs=[],this.outputs=[],this.particles=[],this.gravity=new CubismVector2(0,0),this.wind=new CubismVector2(0,0),this.fps=0}}class CubismPhysicsJson{constructor(_){this._json=_}release(){this._json=void 0}getGravity(){const _=new CubismVector2(0,0);return _.x=this._json.Meta.EffectiveForces.Gravity.X,_.y=this._json.Meta.EffectiveForces.Gravity.Y,_}getWind(){const _=new CubismVector2(0,0);return _.x=this._json.Meta.EffectiveForces.Wind.X,_.y=this._json.Meta.EffectiveForces.Wind.Y,_}getFps(){return this._json.Meta.Fps||0}getSubRigCount(){return this._json.Meta.PhysicsSettingCount}getTotalInputCount(){return this._json.Meta.TotalInputCount}getTotalOutputCount(){return this._json.Meta.TotalOutputCount}getVertexCount(){return this._json.Meta.VertexCount}getNormalizationPositionMinimumValue(_){return this._json.PhysicsSettings[_].Normalization.Position.Minimum}getNormalizationPositionMaximumValue(_){return this._json.PhysicsSettings[_].Normalization.Position.Maximum}getNormalizationPositionDefaultValue(_){return this._json.PhysicsSettings[_].Normalization.Position.Default}getNormalizationAngleMinimumValue(_){return this._json.PhysicsSettings[_].Normalization.Angle.Minimum}getNormalizationAngleMaximumValue(_){return this._json.PhysicsSettings[_].Normalization.Angle.Maximum}getNormalizationAngleDefaultValue(_){return this._json.PhysicsSettings[_].Normalization.Angle.Default}getInputCount(_){return this._json.PhysicsSettings[_].Input.length}getInputWeight(_,et){return this._json.PhysicsSettings[_].Input[et].Weight}getInputReflect(_,et){return this._json.PhysicsSettings[_].Input[et].Reflect}getInputType(_,et){return this._json.PhysicsSettings[_].Input[et].Type}getInputSourceId(_,et){return this._json.PhysicsSettings[_].Input[et].Source.Id}getOutputCount(_){return this._json.PhysicsSettings[_].Output.length}getOutputVertexIndex(_,et){return this._json.PhysicsSettings[_].Output[et].VertexIndex}getOutputAngleScale(_,et){return this._json.PhysicsSettings[_].Output[et].Scale}getOutputWeight(_,et){return this._json.PhysicsSettings[_].Output[et].Weight}getOutputDestinationId(_,et){return this._json.PhysicsSettings[_].Output[et].Destination.Id}getOutputType(_,et){return this._json.PhysicsSettings[_].Output[et].Type}getOutputReflect(_,et){return this._json.PhysicsSettings[_].Output[et].Reflect}getParticleCount(_){return this._json.PhysicsSettings[_].Vertices.length}getParticleMobility(_,et){return this._json.PhysicsSettings[_].Vertices[et].Mobility}getParticleDelay(_,et){return this._json.PhysicsSettings[_].Vertices[et].Delay}getParticleAcceleration(_,et){return this._json.PhysicsSettings[_].Vertices[et].Acceleration}getParticleRadius(_,et){return this._json.PhysicsSettings[_].Vertices[et].Radius}getParticlePosition(_,et){const tt=new CubismVector2(0,0);return tt.x=this._json.PhysicsSettings[_].Vertices[et].Position.X,tt.y=this._json.PhysicsSettings[_].Vertices[et].Position.Y,tt}}const PhysicsTypeTagX="X",PhysicsTypeTagY="Y",PhysicsTypeTagAngle="Angle",AirResistance=5,MaximumWeight=100,MovementThreshold=.001,MaxDeltaTime=5;class CubismPhysics{static create(_){const et=new CubismPhysics;return et.parse(_),et._physicsRig.gravity.y=0,et}static delete(_){_!=null&&_.release()}parse(_){this._physicsRig=new CubismPhysicsRig;const et=new CubismPhysicsJson(_);this._physicsRig.gravity=et.getGravity(),this._physicsRig.wind=et.getWind(),this._physicsRig.subRigCount=et.getSubRigCount(),this._physicsRig.fps=et.getFps(),this._currentRigOutputs=[],this._previousRigOutputs=[];let tt=0,rt=0,nt=0;for(let it=0;it<this._physicsRig.subRigCount;++it){const at=new CubismPhysicsSubRig;at.normalizationPosition.minimum=et.getNormalizationPositionMinimumValue(it),at.normalizationPosition.maximum=et.getNormalizationPositionMaximumValue(it),at.normalizationPosition.defalut=et.getNormalizationPositionDefaultValue(it),at.normalizationAngle.minimum=et.getNormalizationAngleMinimumValue(it),at.normalizationAngle.maximum=et.getNormalizationAngleMaximumValue(it),at.normalizationAngle.defalut=et.getNormalizationAngleDefaultValue(it),at.inputCount=et.getInputCount(it),at.baseInputIndex=tt,tt+=at.inputCount;for(let ut=0;ut<at.inputCount;++ut){const st=new CubismPhysicsInput;switch(st.sourceParameterIndex=-1,st.weight=et.getInputWeight(it,ut),st.reflect=et.getInputReflect(it,ut),et.getInputType(it,ut)){case PhysicsTypeTagX:st.type=CubismPhysicsSource.CubismPhysicsSource_X,st.getNormalizedParameterValue=getInputTranslationXFromNormalizedParameterValue;break;case PhysicsTypeTagY:st.type=CubismPhysicsSource.CubismPhysicsSource_Y,st.getNormalizedParameterValue=getInputTranslationYFromNormalizedParamterValue;break;case PhysicsTypeTagAngle:st.type=CubismPhysicsSource.CubismPhysicsSource_Angle,st.getNormalizedParameterValue=getInputAngleFromNormalizedParameterValue;break}st.source.targetType=CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter,st.source.id=et.getInputSourceId(it,ut),this._physicsRig.inputs.push(st)}at.outputCount=et.getOutputCount(it),at.baseOutputIndex=rt;const lt=new PhysicsOutput,ct=new PhysicsOutput;for(let ut=0;ut<at.outputCount;++ut){lt.outputs[ut]=0,ct.outputs[ut]=0;let st=this._physicsRig.outputs[rt+ut];switch(st||(st=new CubismPhysicsOutput,this._physicsRig.outputs[rt+ut]=st),st.destinationParameterIndex=-1,st.vertexIndex=et.getOutputVertexIndex(it,ut),st.angleScale=et.getOutputAngleScale(it,ut),st.weight=et.getOutputWeight(it,ut),st.destination.targetType=CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter,st.destination.id=et.getOutputDestinationId(it,ut),et.getOutputType(it,ut)){case PhysicsTypeTagX:st.type=CubismPhysicsSource.CubismPhysicsSource_X,st.getValue=getOutputTranslationX,st.getScale=getOutputScaleTranslationX;break;case PhysicsTypeTagY:st.type=CubismPhysicsSource.CubismPhysicsSource_Y,st.getValue=getOutputTranslationY,st.getScale=getOutputScaleTranslationY;break;case PhysicsTypeTagAngle:st.type=CubismPhysicsSource.CubismPhysicsSource_Angle,st.getValue=getOutputAngle,st.getScale=getOutputScaleAngle;break}st.reflect=et.getOutputReflect(it,ut)}this._currentRigOutputs.push(lt),this._previousRigOutputs.push(ct),rt+=at.outputCount,at.particleCount=et.getParticleCount(it),at.baseParticleIndex=nt,nt+=at.particleCount;for(let ut=0;ut<at.particleCount;++ut){const st=new CubismPhysicsParticle;st.mobility=et.getParticleMobility(it,ut),st.delay=et.getParticleDelay(it,ut),st.acceleration=et.getParticleAcceleration(it,ut),st.radius=et.getParticleRadius(it,ut),st.position=et.getParticlePosition(it,ut),this._physicsRig.particles.push(st)}this._physicsRig.settings.push(at)}this.initialize(),et.release()}stabilization(_){var et,tt,rt,nt;let it,at,lt,ct;const ut=new CubismVector2;let st,ot,dt,ft,ht,mt,gt,yt;ht=_.getModel().parameters.values,mt=_.getModel().parameters.maximumValues,gt=_.getModel().parameters.minimumValues,yt=_.getModel().parameters.defaultValues,((tt=(et=this._parameterCaches)==null?void 0:et.length)!=null?tt:0)<_.getParameterCount()&&(this._parameterCaches=new Float32Array(_.getParameterCount())),((nt=(rt=this._parameterInputCaches)==null?void 0:rt.length)!=null?nt:0)<_.getParameterCount()&&(this._parameterInputCaches=new Float32Array(_.getParameterCount()));for(let vt=0;vt<_.getParameterCount();++vt)this._parameterCaches[vt]=ht[vt],this._parameterInputCaches[vt]=ht[vt];for(let vt=0;vt<this._physicsRig.subRigCount;++vt){it={angle:0},ut.x=0,ut.y=0,st=this._physicsRig.settings[vt],ot=this._physicsRig.inputs.slice(st.baseInputIndex),dt=this._physicsRig.outputs.slice(st.baseOutputIndex),ft=this._physicsRig.particles.slice(st.baseParticleIndex);for(let bt=0;bt<st.inputCount;++bt)at=ot[bt].weight/MaximumWeight,ot[bt].sourceParameterIndex==-1&&(ot[bt].sourceParameterIndex=_.getParameterIndex(ot[bt].source.id)),ot[bt].getNormalizedParameterValue(ut,it,ht[ot[bt].sourceParameterIndex],gt[ot[bt].sourceParameterIndex],mt[ot[bt].sourceParameterIndex],yt[ot[bt].sourceParameterIndex],st.normalizationPosition,st.normalizationAngle,ot[bt].reflect,at),this._parameterCaches[ot[bt].sourceParameterIndex]=ht[ot[bt].sourceParameterIndex];lt=CubismMath.degreesToRadian(-it.angle),ut.x=ut.x*CubismMath.cos(lt)-ut.y*CubismMath.sin(lt),ut.y=ut.x*CubismMath.sin(lt)+ut.y*CubismMath.cos(lt),updateParticlesForStabilization(ft,st.particleCount,ut,it.angle,this._options.wind,MovementThreshold*st.normalizationPosition.maximum);for(let bt=0;bt<st.outputCount;++bt){const xt=dt[bt].vertexIndex;if(dt[bt].destinationParameterIndex==-1&&(dt[bt].destinationParameterIndex=_.getParameterIndex(dt[bt].destination.id)),xt<1||xt>=st.particleCount)continue;let _t=new CubismVector2;_t=ft[xt].position.substract(ft[xt-1].position),ct=dt[bt].getValue(_t,ft,xt,dt[bt].reflect,this._options.gravity),this._currentRigOutputs[vt].outputs[bt]=ct,this._previousRigOutputs[vt].outputs[bt]=ct;const St=dt[bt].destinationParameterIndex,wt=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(ht.subarray(St))):ht.slice(St);updateOutputParameterValue(wt,gt[St],mt[St],ct,dt[bt]);for(let Et=St,Tt=0;Et<this._parameterCaches.length;Et++,Tt++)ht[Et]=this._parameterCaches[Et]=wt[Tt]}}}evaluate(_,et){var tt,rt,nt,it;let at,lt,ct,ut;const st=new CubismVector2;let ot,dt,ft,ht;if(0>=et)return;let mt,gt,yt,vt,bt;if(this._currentRemainTime+=et,this._currentRemainTime>MaxDeltaTime&&(this._currentRemainTime=0),mt=_.getModel().parameters.values,gt=_.getModel().parameters.maximumValues,yt=_.getModel().parameters.minimumValues,vt=_.getModel().parameters.defaultValues,((rt=(tt=this._parameterCaches)==null?void 0:tt.length)!=null?rt:0)<_.getParameterCount()&&(this._parameterCaches=new Float32Array(_.getParameterCount())),((it=(nt=this._parameterInputCaches)==null?void 0:nt.length)!=null?it:0)<_.getParameterCount()){this._parameterInputCaches=new Float32Array(_.getParameterCount());for(let _t=0;_t<_.getParameterCount();++_t)this._parameterInputCaches[_t]=mt[_t]}for(this._physicsRig.fps>0?bt=1/this._physicsRig.fps:bt=et;this._currentRemainTime>=bt;){for(let St=0;St<this._physicsRig.subRigCount;++St){ot=this._physicsRig.settings[St],ft=this._physicsRig.outputs.slice(ot.baseOutputIndex);for(let wt=0;wt<ot.outputCount;++wt)this._previousRigOutputs[St].outputs[wt]=this._currentRigOutputs[St].outputs[wt]}const _t=bt/this._currentRemainTime;for(let St=0;St<_.getParameterCount();++St)this._parameterCaches[St]=this._parameterInputCaches[St]*(1-_t)+mt[St]*_t,this._parameterInputCaches[St]=this._parameterCaches[St];for(let St=0;St<this._physicsRig.subRigCount;++St){at={angle:0},st.x=0,st.y=0,ot=this._physicsRig.settings[St],dt=this._physicsRig.inputs.slice(ot.baseInputIndex),ft=this._physicsRig.outputs.slice(ot.baseOutputIndex),ht=this._physicsRig.particles.slice(ot.baseParticleIndex);for(let wt=0;wt<ot.inputCount;++wt)lt=dt[wt].weight/MaximumWeight,dt[wt].sourceParameterIndex==-1&&(dt[wt].sourceParameterIndex=_.getParameterIndex(dt[wt].source.id)),dt[wt].getNormalizedParameterValue(st,at,this._parameterCaches[dt[wt].sourceParameterIndex],yt[dt[wt].sourceParameterIndex],gt[dt[wt].sourceParameterIndex],vt[dt[wt].sourceParameterIndex],ot.normalizationPosition,ot.normalizationAngle,dt[wt].reflect,lt);ct=CubismMath.degreesToRadian(-at.angle),st.x=st.x*CubismMath.cos(ct)-st.y*CubismMath.sin(ct),st.y=st.x*CubismMath.sin(ct)+st.y*CubismMath.cos(ct),updateParticles(ht,ot.particleCount,st,at.angle,this._options.wind,MovementThreshold*ot.normalizationPosition.maximum,bt,AirResistance);for(let wt=0;wt<ot.outputCount;++wt){const Et=ft[wt].vertexIndex;if(ft[wt].destinationParameterIndex==-1&&(ft[wt].destinationParameterIndex=_.getParameterIndex(ft[wt].destination.id)),Et<1||Et>=ot.particleCount)continue;const Tt=new CubismVector2;Tt.x=ht[Et].position.x-ht[Et-1].position.x,Tt.y=ht[Et].position.y-ht[Et-1].position.y,ut=ft[wt].getValue(Tt,ht,Et,ft[wt].reflect,this._options.gravity),this._currentRigOutputs[St].outputs[wt]=ut;const Ct=ft[wt].destinationParameterIndex,It=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(this._parameterCaches.subarray(Ct))):this._parameterCaches.slice(Ct);updateOutputParameterValue(It,yt[Ct],gt[Ct],ut,ft[wt]);for(let Pt=Ct,At=0;Pt<this._parameterCaches.length;Pt++,At++)this._parameterCaches[Pt]=It[At]}}this._currentRemainTime-=bt}const xt=this._currentRemainTime/bt;this.interpolate(_,xt)}interpolate(_,et){let tt,rt,nt,it,at;nt=_.getModel().parameters.values,it=_.getModel().parameters.maximumValues,at=_.getModel().parameters.minimumValues;for(let lt=0;lt<this._physicsRig.subRigCount;++lt){rt=this._physicsRig.settings[lt],tt=this._physicsRig.outputs.slice(rt.baseOutputIndex);for(let ct=0;ct<rt.outputCount;++ct){if(tt[ct].destinationParameterIndex==-1)continue;const ut=tt[ct].destinationParameterIndex,st=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(nt.subarray(ut))):nt.slice(ut);updateOutputParameterValue(st,at[ut],it[ut],this._previousRigOutputs[lt].outputs[ct]*(1-et)+this._currentRigOutputs[lt].outputs[ct]*et,tt[ct]);for(let ot=ut,dt=0;ot<nt.length;ot++,dt++)nt[ot]=st[dt]}}}setOptions(_){this._options=_}getOption(){return this._options}constructor(){this._options=new Options,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0,this._currentRigOutputs=[],this._previousRigOutputs=[],this._currentRemainTime=0}release(){this._physicsRig=void 0}initialize(){let _,et,tt;for(let rt=0;rt<this._physicsRig.subRigCount;++rt){et=this._physicsRig.settings[rt],_=this._physicsRig.particles.slice(et.baseParticleIndex),_[0].initialPosition=new CubismVector2(0,0),_[0].lastPosition=new CubismVector2(_[0].initialPosition.x,_[0].initialPosition.y),_[0].lastGravity=new CubismVector2(0,-1),_[0].lastGravity.y*=-1,_[0].velocity=new CubismVector2(0,0),_[0].force=new CubismVector2(0,0);for(let nt=1;nt<et.particleCount;++nt)tt=new CubismVector2(0,0),tt.y=_[nt].radius,_[nt].initialPosition=new CubismVector2(_[nt-1].initialPosition.x+tt.x,_[nt-1].initialPosition.y+tt.y),_[nt].position=new CubismVector2(_[nt].initialPosition.x,_[nt].initialPosition.y),_[nt].lastPosition=new CubismVector2(_[nt].initialPosition.x,_[nt].initialPosition.y),_[nt].lastGravity=new CubismVector2(0,-1),_[nt].lastGravity.y*=-1,_[nt].velocity=new CubismVector2(0,0),_[nt].force=new CubismVector2(0,0)}}}class Options{constructor(){this.gravity=new CubismVector2(0,0),this.wind=new CubismVector2(0,0)}}class PhysicsOutput{constructor(){this.outputs=[]}}function getInputTranslationXFromNormalizedParameterValue(_e,_,et,tt,rt,nt,it,at,lt,ct){_e.x+=normalizeParameterValue(et,tt,rt,nt,it.minimum,it.maximum,it.defalut,lt)*ct}function getInputTranslationYFromNormalizedParamterValue(_e,_,et,tt,rt,nt,it,at,lt,ct){_e.y+=normalizeParameterValue(et,tt,rt,nt,it.minimum,it.maximum,it.defalut,lt)*ct}function getInputAngleFromNormalizedParameterValue(_e,_,et,tt,rt,nt,it,at,lt,ct){_.angle+=normalizeParameterValue(et,tt,rt,nt,at.minimum,at.maximum,at.defalut,lt)*ct}function getOutputTranslationX(_e,_,et,tt,rt){let nt=_e.x;return tt&&(nt*=-1),nt}function getOutputTranslationY(_e,_,et,tt,rt){let nt=_e.y;return tt&&(nt*=-1),nt}function getOutputAngle(_e,_,et,tt,rt){let nt;return et>=2?rt=_[et-1].position.substract(_[et-2].position):rt=rt.multiplyByScaler(-1),nt=CubismMath.directionToRadian(rt,_e),tt&&(nt*=-1),nt}function getRangeValue(_e,_){return Math.abs(Math.max(_e,_)-Math.min(_e,_))}function getDefaultValue(_e,_){return Math.min(_e,_)+getRangeValue(_e,_)/2}function getOutputScaleTranslationX(_e,_){return _e.x}function getOutputScaleTranslationY(_e,_){return _e.y}function getOutputScaleAngle(_e,_){return _}function updateParticles(_e,_,et,tt,rt,nt,it,at){let lt,ct,ut,st,ot=new CubismVector2(0,0),dt=new CubismVector2(0,0),ft=new CubismVector2(0,0),ht=new CubismVector2(0,0);_e[0].position=new CubismVector2(et.x,et.y),lt=CubismMath.degreesToRadian(tt),st=CubismMath.radianToDirection(lt),st.normalize();for(let mt=1;mt<_;++mt)_e[mt].force=st.multiplyByScaler(_e[mt].acceleration).add(rt),_e[mt].lastPosition=new CubismVector2(_e[mt].position.x,_e[mt].position.y),ct=_e[mt].delay*it*30,ot=_e[mt].position.substract(_e[mt-1].position),ut=CubismMath.directionToRadian(_e[mt].lastGravity,st)/at,ot.x=CubismMath.cos(ut)*ot.x-ot.y*CubismMath.sin(ut),ot.y=CubismMath.sin(ut)*ot.x+ot.y*CubismMath.cos(ut),_e[mt].position=_e[mt-1].position.add(ot),dt=_e[mt].velocity.multiplyByScaler(ct),ft=_e[mt].force.multiplyByScaler(ct).multiplyByScaler(ct),_e[mt].position=_e[mt].position.add(dt).add(ft),ht=_e[mt].position.substract(_e[mt-1].position),ht.normalize(),_e[mt].position=_e[mt-1].position.add(ht.multiplyByScaler(_e[mt].radius)),CubismMath.abs(_e[mt].position.x)<nt&&(_e[mt].position.x=0),ct!=0&&(_e[mt].velocity=_e[mt].position.substract(_e[mt].lastPosition),_e[mt].velocity=_e[mt].velocity.divisionByScalar(ct),_e[mt].velocity=_e[mt].velocity.multiplyByScaler(_e[mt].mobility)),_e[mt].force=new CubismVector2(0,0),_e[mt].lastGravity=new CubismVector2(st.x,st.y)}function updateParticlesForStabilization(_e,_,et,tt,rt,nt){let it,at,lt=new CubismVector2(0,0);_e[0].position=new CubismVector2(et.x,et.y),it=CubismMath.degreesToRadian(tt),at=CubismMath.radianToDirection(it),at.normalize();for(let ct=1;ct<_;++ct)_e[ct].force=at.multiplyByScaler(_e[ct].acceleration).add(rt),_e[ct].lastPosition=new CubismVector2(_e[ct].position.x,_e[ct].position.y),_e[ct].velocity=new CubismVector2(0,0),lt=_e[ct].force,lt.normalize(),lt=lt.multiplyByScaler(_e[ct].radius),_e[ct].position=_e[ct-1].position.add(lt),CubismMath.abs(_e[ct].position.x)<nt&&(_e[ct].position.x=0),_e[ct].force=new CubismVector2(0,0),_e[ct].lastGravity=new CubismVector2(at.x,at.y)}function updateOutputParameterValue(_e,_,et,tt,rt){let nt,it,at;nt=rt.getScale(rt.translationScale,rt.angleScale),it=tt*nt,it<_?(it<rt.valueBelowMinimum&&(rt.valueBelowMinimum=it),it=_):it>et&&(it>rt.valueExceededMaximum&&(rt.valueExceededMaximum=it),it=et),at=rt.weight/MaximumWeight,at>=1||(it=_e[0]*(1-at)+it*at),_e[0]=it}function normalizeParameterValue(_e,_,et,tt,rt,nt,it,at){let lt=0;const ct=CubismMath.max(et,_);ct<_e&&(_e=ct);const ut=CubismMath.min(et,_);ut>_e&&(_e=ut);const st=CubismMath.min(rt,nt),ot=CubismMath.max(rt,nt),dt=it,ft=getDefaultValue(ut,ct),ht=_e-ft;switch(Math.sign(ht)){case 1:{const mt=ot-dt,gt=ct-ft;gt!=0&&(lt=ht*(mt/gt),lt+=dt);break}case-1:{const mt=st-dt,gt=ut-ft;gt!=0&&(lt=ht*(mt/gt),lt+=dt);break}case 0:{lt=dt;break}}return at?lt:lt*-1}Live2DFactory.registerRuntime({version:4,ready:cubism4Ready,test(_e){return _e instanceof Cubism4ModelSettings||Cubism4ModelSettings.isValidJSON(_e)},isValidMoc(_e){if(_e.byteLength<4)return!1;const _=new Int8Array(_e,0,4);return String.fromCharCode(..._)==="MOC3"},createModelSettings(_e){return new Cubism4ModelSettings(_e)},createCoreModel(_e,_){const et=CubismMoc.create(_e,!!(_!=null&&_.checkMocConsistency));try{const tt=et.createModel();return tt.__moc=et,tt}catch(tt){try{et.release()}catch{}throw tt}},createInternalModel(_e,_,et){const tt=new Cubism4InternalModel(_e,_,et),rt=_e;return rt.__moc&&(tt.__moc=rt.__moc,delete rt.__moc,tt.once("destroy",releaseMoc)),tt},createPhysics(_e,_){return CubismPhysics.create(_)},createPose(_e,_){return CubismPose.create(_)}});function releaseMoc(){var _e;(_e=this.__moc)==null||_e.release()}const DEFAULT_MODEL_STATE={currentModel:null},Live2DModelContext=reactExports.createContext(null),Live2DModelProvider=reactExports.memo(({children:_e})=>{const[_,et]=reactExports.useState(DEFAULT_MODEL_STATE.currentModel),tt=reactExports.useCallback(nt=>{et(it=>it?Object.assign(it,nt):null)},[]),rt=reactExports.useMemo(()=>({currentModel:_,setCurrentModel:et,updateModelState:tt}),[_,tt]);return jsxRuntimeExports.jsx(Live2DModelContext.Provider,{value:rt,children:_e})});function useLive2DModel$1(){const _e=reactExports.useContext(Live2DModelContext);if(!_e)throw new Error("useLive2DModel must be used within a Live2DModelProvider");return _e}const SCALE_SPEED=.01,resetModelPosition=(_e,_,et,tt,rt)=>{if(!_e)return;const nt=Number(tt||0),it=Number(rt||0),at=(_-_e.width)/2+nt,lt=(et-_e.height)/2+it;_e.position.set(at,lt)},handleModelScale=(_e,_)=>{const et=_>0?-.01:SCALE_SPEED,tt=_e.scale.x,rt=tt+et,it=tt+(rt-tt)*.3;return _e.scale.set(it),it},setModelSize=(_e,_)=>{if(!_e||!_)return;const et=Number(window.devicePixelRatio||1);_e.scale.set(Number(_)),_e.filters&&_e.filters.forEach(tt=>{"resolution"in tt&&Object.defineProperty(tt,"resolution",{value:et})})},useLive2DResize=(_e,_,et,tt,rt)=>{const{updateModelScale:nt}=useLive2DConfig(),it=reactExports.useRef(null),at=reactExports.useRef(null),lt=reactExports.useCallback(ct=>{if(!et.current||!(tt!=null&&tt.scrollToResize))return;ct.preventDefault();const ut=handleModelScale(et.current,ct.deltaY);(!at.current||Math.abs(ut-at.current)>1e-4)&&(it.current&&clearTimeout(it.current),it.current=setTimeout(()=>{nt(ut),at.current=ut},500))},[et,tt==null?void 0:tt.scrollToResize,nt]);reactExports.useEffect(()=>{var ut;const ct=(ut=_e.current)==null?void 0:ut.querySelector("canvas");if(ct)return ct.addEventListener("wheel",lt,{passive:!1}),()=>ct.removeEventListener("wheel",lt)},[lt,_e]),reactExports.useEffect(()=>{const ct=new ResizeObserver(()=>{var ut;if(et.current&&_.current){const{width:st,height:ot}=rt?{width:window.innerWidth,height:window.innerHeight}:((ut=_e.current)==null?void 0:ut.getBoundingClientRect())||{width:0,height:0};_.current.renderer.resize(st,ot),_.current.renderer.clear(),resetModelPosition(et.current,st,ot,tt==null?void 0:tt.initialXshift,tt==null?void 0:tt.initialYshift)}});return _e.current&&ct.observe(_e.current),()=>{ct.disconnect()}},[et,_e,rt,_]),reactExports.useEffect(()=>()=>{it.current&&clearTimeout(it.current)},[])},useLive2DModel=({isPet:_e,modelInfo:_})=>{const et=reactExports.useRef(null),tt=reactExports.useRef(null),rt=reactExports.useRef(null),nt=reactExports.useRef(null),it=reactExports.useRef(void 0),{setCurrentModel:at}=useLive2DModel$1(),{setIsLoading:lt}=useLive2DConfig(),ct=reactExports.useRef(!1),{setAiState:ut,aiState:st}=useAiState(),[ot,dt]=reactExports.useState(!1),ft=reactExports.useCallback(()=>{rt.current&&(rt.current.removeAllListeners(),at(null),tt.current&&(tt.current.stage.removeChild(rt.current),rt.current.destroy({children:!0,texture:!0,baseTexture:!0}),clearTextureCache(),rt.current=null)),dt(!1)},[at]),ht=reactExports.useCallback(()=>{tt.current&&(rt.current&&ft(),tt.current.stage.removeChildren(),clearTextureCache(),tt.current.renderer.clear(),tt.current.destroy(!0,{children:!0,texture:!0,baseTexture:!0}),destroyTextureCache(),tt.current=null)},[ft]);reactExports.useEffect(()=>{if(!tt.current&&et.current){const xt=new Application({view:et.current,autoStart:!0,width:window.innerWidth,height:window.innerHeight,backgroundAlpha:0,antialias:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,powerPreference:"high-performance",resolution:window.devicePixelRatio||1,autoDensity:!0});xt.ticker.add(()=>{xt.renderer&&xt.renderer.render(xt.stage)}),tt.current=xt}return()=>{ht()}},[ht]);const mt=reactExports.useCallback(async xt=>{!tt.current||!_||(rt.current&&(rt.current.removeAllListeners(),tt.current.stage.removeChild(rt.current),rt.current.destroy({children:!0,texture:!0,baseTexture:!0}),clearTextureCache()),rt.current=xt,at(xt),tt.current.stage.addChild(xt),xt.interactive=!0,xt.cursor="pointer",dt(!0))},[at]),gt=reactExports.useCallback(()=>{var St;if(!rt.current)return;setModelSize(rt.current,it.current);const{width:xt,height:_t}=_e?{width:window.innerWidth,height:window.innerHeight}:((St=nt.current)==null?void 0:St.getBoundingClientRect())||{width:0,height:0};resetModelPosition(rt.current,xt,_t,_==null?void 0:_.initialXshift,_==null?void 0:_.initialYshift)},[_==null?void 0:_.initialXshift,_==null?void 0:_.initialYshift]),yt=reactExports.useCallback(async()=>{if(!(!(_!=null&&_.url)||!tt.current)&&!ct.current){console.log("Loading model:",_.url);try{ct.current=!0,lt(!0),ut(AiStateEnum.LOADING);const xt=await Live2DModel.from(_.url,{autoHitTest:!0,autoFocus:_.pointerInteractive??!1,autoUpdate:!0,ticker:Ticker.shared,motionPreload:MotionPreloadStrategy.IDLE,idleMotionGroup:_.idleMotionGroupName});await mt(xt)}catch(xt){console.error("Failed to load Live2D model:",xt),toaster.create({title:`Failed to load Live2D model: ${xt}`,type:"error",duration:2e3})}finally{ct.current=!1,lt(!1),ut(AiStateEnum.IDLE)}}},[_==null?void 0:_.url,_==null?void 0:_.pointerInteractive,lt,mt]),vt=reactExports.useCallback(xt=>{if(!xt)return;xt.removeAllListeners("pointerenter"),xt.removeAllListeners("pointerleave"),xt.removeAllListeners("rightdown"),xt.removeAllListeners("pointerdown"),xt.removeAllListeners("pointermove"),xt.removeAllListeners("pointerup"),xt.removeAllListeners("pointerupoutside");let _t=!1,St=0,wt=0,Et=!1;const Tt=5;_e&&(xt.on("pointerenter",()=>{var Ct;(Ct=window.api)==null||Ct.updateComponentHover("live2d-model",!0)}),xt.on("pointerleave",()=>{var Ct;_t||(Ct=window.api)==null||Ct.updateComponentHover("live2d-model",!1)}),xt.on("rightdown",Ct=>{Ct.data.originalEvent.preventDefault(),window.api.showContextMenu()})),xt.on("pointerdown",Ct=>{Ct.button===0&&(_t=!0,Et=!0,St=Ct.global.x-xt.x,wt=Ct.global.y-xt.y)}),xt.on("pointermove",Ct=>{if(_t){const It=Ct.global.x-St,Pt=Ct.global.y-wt,At=It-xt.x,kt=Pt-xt.y;Math.hypot(At,kt)>Tt&&(Et=!1),xt.position.x=It,xt.position.y=Pt}}),xt.on("pointerup",Ct=>{_t&&(_t=!1,Et&&bt(xt,Ct.global.x,Ct.global.y))}),xt.on("pointerupoutside",()=>{_t=!1})},[_e]),bt=reactExports.useCallback((xt,_t,St)=>{if(!(_!=null&&_.tapMotions))return;console.log("handleTapMotion",_==null?void 0:_.tapMotions);const wt=xt.toLocal(new Point(_t,St));if(!xt.hitTest(wt.x,wt.y).find(Ct=>{var Pt;const It=(Pt=_==null?void 0:_.tapMotions)==null?void 0:Pt[Ct];return It?(console.log(`Found motion group for area ${Ct}:`,It),playRandomMotion(xt,It),!0):!1})&&Object.keys(_.tapMotions).length>0){const Ct=getMergedMotionGroup(_.tapMotions);playRandomMotion(xt,Ct)}},[_==null?void 0:_.tapMotions]);return reactExports.useEffect(()=>{var xt,_t,St,wt;st===AiStateEnum.IDLE&&(console.log("defaultEmotion: ",_==null?void 0:_.defaultEmotion),_!=null&&_.defaultEmotion?(_t=(xt=rt.current)==null?void 0:xt.internalModel.motionManager.expressionManager)==null||_t.setExpression(_.defaultEmotion):(wt=(St=rt.current)==null?void 0:St.internalModel.motionManager.expressionManager)==null||wt.resetExpression())},[rt.current,st,_==null?void 0:_.defaultEmotion]),reactExports.useEffect(()=>(_!=null&&_.url&&yt(),()=>{ft()}),[_==null?void 0:_.url,_==null?void 0:_.pointerInteractive,yt,ft]),reactExports.useEffect(()=>{it.current=_==null?void 0:_.kScale},[_==null?void 0:_.kScale]),reactExports.useEffect(()=>{gt()},[ot,gt]),reactExports.useEffect(()=>{rt.current&&ot&&vt(rt.current)},[ot,vt]),{canvasRef:et,appRef:tt,modelRef:rt,containerRef:nt}},playRandomMotion=(_e,_)=>{if(!_||Object.keys(_).length===0)return;const et=Object.values(_).reduce((rt,nt)=>rt+nt,0);let tt=Math.random()*et;Object.entries(_).find(([rt,nt])=>{if(tt-=nt,tt<=0){const it=audioTaskQueue.hasTask()?MotionPriority.NORMAL:MotionPriority.FORCE;return console.log(`Playing weighted motion: ${rt} (weight: ${nt}/${et}, priority: ${it})`),_e.motion(rt,void 0,it),!0}return!1})},getMergedMotionGroup=_e=>{const _={};return Object.values(_e).flatMap(et=>Object.entries(et)).reduce((et,[tt,rt])=>(et[tt]||(et[tt]={total:0,count:0}),et[tt].total+=rt,et[tt].count+=1,et),_),Object.entries(_).reduce((et,[tt,{total:rt,count:nt}])=>({...et,[tt]:rt/nt}),{})},DEFAULT_HISTORY={messages:[],historyList:[],currentHistoryUid:null,fullResponse:""},ChatHistoryContext=reactExports.createContext(null);function ChatHistoryProvider({children:_e}){const[_,et]=reactExports.useState(DEFAULT_HISTORY.messages),[tt,rt]=reactExports.useState(DEFAULT_HISTORY.historyList),[nt,it]=reactExports.useState(DEFAULT_HISTORY.currentHistoryUid),[at,lt]=reactExports.useState(DEFAULT_HISTORY.fullResponse),[ct,ut]=reactExports.useState(!1),st=reactExports.useCallback(gt=>{const yt={id:Date.now().toString(),content:gt,role:"human",timestamp:new Date().toISOString()};et(vt=>[...vt,yt])},[]),ot=reactExports.useCallback((gt,yt,vt)=>{et(bt=>{const xt=bt[bt.length-1];return ct||!xt||xt.role!=="ai"?(ut(!1),[...bt,{id:Date.now().toString(),content:gt,role:"ai",timestamp:new Date().toISOString(),name:yt,avatar:vt}]):[...bt.slice(0,-1),{...xt,content:xt.content+gt,timestamp:new Date().toISOString()}]})},[ct,ut]),dt=reactExports.useCallback((gt,yt)=>{gt||console.error("updateHistoryList: uid is null"),nt||console.error("updateHistoryList: currentHistoryUid is null"),rt(vt=>vt.map(bt=>bt.uid===gt?{...bt,latest_message:yt?{content:yt.content,role:yt.role,timestamp:yt.timestamp}:null,timestamp:(yt==null?void 0:yt.timestamp)||bt.timestamp}:bt))},[nt]),ft=reactExports.useCallback(gt=>{lt(yt=>yt+(gt||""))},[]),ht=reactExports.useCallback(()=>{lt(DEFAULT_HISTORY.fullResponse)},[]),mt=reactExports.useMemo(()=>({messages:_,historyList:tt,currentHistoryUid:nt,appendHumanMessage:st,appendAIMessage:ot,setMessages:et,setHistoryList:rt,setCurrentHistoryUid:it,updateHistoryList:dt,fullResponse:at,setFullResponse:lt,appendResponse:ft,clearResponse:ht,setForceNewMessage:ut}),[_,tt,nt,st,ot,dt,at,ft,ht,ut]);return jsxRuntimeExports.jsx(ChatHistoryContext.Provider,{value:mt,children:_e})}function useChatHistory(){const _e=reactExports.useContext(ChatHistoryContext);if(!_e)throw new Error("useChatHistory must be used within a ChatHistoryProvider");return _e}const useInterrupt=()=>{const{aiState:_e,setAiState:_}=useAiState(),{sendMessage:et}=useWebSocket(),{fullResponse:tt,clearResponse:rt}=useChatHistory(),{currentModel:nt}=useLive2DModel$1(),{subtitleText:it,setSubtitleText:at}=useSubtitle();return{interrupt:(ct=!0)=>{_e==="thinking-speaking"&&(console.log("Interrupting conversation chain"),ct&&et({type:"interrupt-signal",text:tt}),_("interrupted"),audioTaskQueue.clearQueue(),nt?nt.stopSpeaking():console.error("Live2D model is not initialized"),rt(),it==="Thinking..."&&at(""),console.log("Interrupted!"))}}},useAudioTask=()=>{const{aiState:_e,backendSynthComplete:_,setBackendSynthComplete:et}=useAiState(),{setSubtitleText:tt}=useSubtitle(),{appendResponse:rt,appendAIMessage:nt}=useChatHistory(),{currentModel:it}=useLive2DModel$1(),{sendMessage:at}=useWebSocket(),lt=reactExports.useRef({aiState:_e,currentModel:it,setSubtitleText:tt,appendResponse:rt,appendAIMessage:nt});lt.current={aiState:_e,currentModel:it,setSubtitleText:tt,appendResponse:rt,appendAIMessage:nt};const ct=st=>new Promise(ot=>{const{aiState:dt,currentModel:ft,setSubtitleText:ht,appendResponse:mt,appendAIMessage:gt}=lt.current;if(dt==="interrupted"){console.error("Audio playback blocked. State:",dt),ot();return}const{audioBase64:yt,displayText:vt,expressions:bt,forwarded:xt}=st;if(vt&&(mt(vt.text),gt(vt.text,vt.name,vt.avatar),yt&&ht(vt.text),xt||at({type:"audio-play-start",display_text:vt,forwarded:!0})),!ft){console.error("Model not initialized"),ot();return}try{(bt==null?void 0:bt[0])!==void 0&&ft.expression(bt[0]);let _t=!1;yt?ft.speak(`data:audio/wav;base64,${yt}`,{onFinish:()=>{console.log("Voiceline is over"),_t=!0,ot()},onError:wt=>{console.error("Audio playback error:",wt),_t=!0,ot()}}):ot();const St=()=>{_t||setTimeout(St,100)};St()}catch(_t){console.error("Speak function error:",_t),toaster.create({title:`Speak function error: ${_t}`,type:"error",duration:2e3}),ot()}});return reactExports.useEffect(()=>{let st=!0;return(async()=>{await audioTaskQueue.waitForCompletion(),st&&_&&(at({type:"frontend-playback-complete"}),et(!1))})(),()=>{st=!1}},[_,at,et]),{addAudioTask:async st=>{var dt;const{aiState:ot}=lt.current;if(ot==="interrupted"){console.log("Skipping audio task due to interrupted state");return}console.log(`Adding audio task ${(dt=st.displayText)==null?void 0:dt.text} to queue`),audioTaskQueue.addTask(()=>ct(st))},appendResponse:rt}},Live2D$1=reactExports.memo(({isPet:_e})=>{const{modelInfo:_,isLoading:et}=useLive2DConfig();useIpcHandlers({isPet:_e});const{canvasRef:tt,appRef:rt,modelRef:nt,containerRef:it}=useLive2DModel({isPet:_e,modelInfo:_});return useLive2DResize(it,rt,nt,_,_e),useInterrupt(),useAudioTask(),reactExports.useEffect(()=>(nt.current&&(window.live2d={expression:at=>{var lt;return(lt=nt.current)==null?void 0:lt.expression(at)},setExpression:at=>{var lt,ct;at!==void 0&&((ct=(lt=nt.current)==null?void 0:lt.internalModel.motionManager.expressionManager)==null||ct.setExpression(at))},setRandomExpression:()=>{var at,lt;return(lt=(at=nt.current)==null?void 0:at.internalModel.motionManager.expressionManager)==null?void 0:lt.setRandomExpression()},getExpressions:()=>{var at,lt;return(lt=(at=nt.current)==null?void 0:at.internalModel.motionManager.expressionManager)==null?void 0:lt.definitions.map(ct=>ct.name)}}),()=>{delete window.live2d}),[nt.current]),jsxRuntimeExports.jsx("div",{ref:it,style:{width:_e?"100vw":"100%",height:_e?"100vh":"100%",pointerEvents:"auto",overflow:"hidden",opacity:et?0:1,transition:"opacity 0.3s ease-in-out"},children:jsxRuntimeExports.jsx("canvas",{id:"canvas",ref:tt,style:{width:"100%",height:"100%",pointerEvents:"auto",display:"block"}})})});Live2D$1.displayName="Live2D";function Canvas(){return jsxRuntimeExports.jsx(Background,{children:jsxRuntimeExports.jsxs(Box,{...canvasStyles.canvas.container,children:[jsxRuntimeExports.jsx(Live2D$1,{isPet:!1}),jsxRuntimeExports.jsx(WebSocketStatus,{}),jsxRuntimeExports.jsx(Subtitle,{})]})})}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext$1=React.createContext&&React.createContext(DefaultContext),_excluded$_=["attr","size","title"];function _objectWithoutProperties$y(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$y(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$y(_e,_){if(_e==null)return{};var et={};for(var tt in _e)if(Object.prototype.hasOwnProperty.call(_e,tt)){if(_.indexOf(tt)>=0)continue;et[tt]=_e[tt]}return et}function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$w.apply(this,arguments)}function ownKeys$3(_e,_){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);_&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$2(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$3(Object(et),!0).forEach(function(tt){_defineProperty$h(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$3(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$h(_e,_,et){return _=_toPropertyKey$f(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$f(_e){var _=_toPrimitive$f(_e,"string");return typeof _=="symbol"?_:_+""}function _toPrimitive$f(_e,_){if(typeof _e!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(typeof tt!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function Tree2Element(_e){return _e&&_e.map((_,et)=>React.createElement(_.tag,_objectSpread$2({key:et},_.attr),Tree2Element(_.child)))}function GenIcon(_e){return _=>React.createElement(IconBase$1,_extends$w({attr:_objectSpread$2({},_e.attr)},_),Tree2Element(_e.child))}function IconBase$1(_e){var _=et=>{var{attr:tt,size:rt,title:nt}=_e,it=_objectWithoutProperties$y(_e,_excluded$_),at=rt||et.size||"1em",lt;return et.className&&(lt=et.className),_e.className&&(lt=(lt?lt+" ":"")+_e.className),React.createElement("svg",_extends$w({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},et.attr,tt,it,{className:lt,style:_objectSpread$2(_objectSpread$2({color:_e.color||et.color},et.style),_e.style),height:at,width:at,xmlns:"http://www.w3.org/2000/svg"}),nt&&React.createElement("title",null,nt),_e.children)};return IconContext$1!==void 0?React.createElement(IconContext$1.Consumer,null,et=>_(et)):_(DefaultContext)}function FiChevronDown(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(_e)}function FiChevronLeft(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(_e)}function FiChevronsDown(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"7 13 12 18 17 13"},child:[]},{tag:"polyline",attr:{points:"7 6 12 11 17 6"},child:[]}]})(_e)}function FiClock(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(_e)}function FiMaximize2(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"polyline",attr:{points:"9 21 3 21 3 15"},child:[]},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(_e)}function FiMinimize2(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"},child:[]},{tag:"polyline",attr:{points:"20 10 14 10 14 4"},child:[]},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"},child:[]},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"},child:[]}]})(_e)}function FiMinus(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(_e)}function FiPlus(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(_e)}function FiSettings(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(_e)}function FiTrash2(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(_e)}function FiX(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(_e)}const isElectron$2=window.api!==void 0,commonStyles={scrollbar:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{bg:"whiteAlpha.100",borderRadius:"full"},"&::-webkit-scrollbar-thumb":{bg:"whiteAlpha.300",borderRadius:"full"}},panel:{border:"1px solid",borderColor:"whiteAlpha.200",borderRadius:"lg",bg:"blackAlpha.400"},title:{fontSize:"lg",fontWeight:"semibold",color:"white",mb:4}},sidebarStyles={sidebar:{container:_e=>({position:"absolute",left:0,top:0,height:"100%",width:"440px",bg:"#a1c4fd",transform:_e?"translateX(calc(-100% + 24px))":"translateX(0)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",flexDirection:"column",gap:4,overflow:_e?"visible":"hidden",pb:"4"}),toggleButton:{position:"absolute",right:0,top:0,width:"24px",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"whiteAlpha.700",_hover:{color:"white"},bg:"transparent",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:1},content:{flex:1,width:"100%",display:"flex",flexDirection:"column",gap:4,overflow:"hidden"},header:{width:"100%",display:"flex",alignItems:"center",gap:1,p:2}},chatHistoryPanel:{container:{flex:1,overflow:"hidden",px:4,display:"flex",flexDirection:"column"},title:commonStyles.title,messageList:{...commonStyles.panel,p:4,width:"97%",flex:1,overflowY:"auto",css:{...commonStyles.scrollbar,scrollPaddingBottom:"1rem"},display:"flex",flexDirection:"column",gap:2}},systemLogPanel:{container:{width:"100%",overflow:"hidden",px:4,minH:"200px",marginTop:"auto"},title:commonStyles.title,logList:{...commonStyles.panel,p:4,height:"200px",overflowY:"auto",fontFamily:"mono",css:commonStyles.scrollbar},entry:{p:2,borderRadius:"md",_hover:{bg:"whiteAlpha.50"}}},chatBubble:{container:{display:"flex",position:"relative",_hover:{bg:"whiteAlpha.50"},py:1,px:2,borderRadius:"md"},message:{maxW:"90%",bg:"transparent",p:2},text:{fontSize:"xs",color:"whiteAlpha.900"},dot:{position:"absolute",w:"2",h:"2",borderRadius:"full",bg:"white",top:"2"}},historyDrawer:{listContainer:{flex:1,overflowY:"auto",px:4,py:2,css:commonStyles.scrollbar},historyItem:{mb:4,p:3,borderRadius:"md",bg:"#eff6ff",cursor:"pointer",transition:"all 0.2s",_hover:{bg:"#a1c4fd"}},historyItemSelected:{bg:"#a1c4fd",borderLeft:"3px solid",borderColor:"red.300"},historyHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},timestamp:{fontSize:"sm",color:"rgba(0,0,0,0.3)",fontFamily:"mono"},deleteButton:{variant:"ghost",colorScheme:"red",size:"sm",color:"red.300",opacity:.8,_hover:{opacity:1,bg:"whiteAlpha.200"}},messagePreview:{fontSize:"sm",color:"#262626",noOfLines:2,overflow:"hidden",textOverflow:"ellipsis"},drawer:{content:{background:"#FFFFFF",maxWidth:"440px",marginTop:isElectron$2?"30px":"0",height:isElectron$2?"calc(100vh - 30px)":"100vh"},title:{color:"#000000"},closeButton:{color:"#000000"},actionButton:{background:"rgba(22,119,255,0.3)",color:"#292929",borderColor:"rgba(22,119,255,0.2)",variant:"outline"}}},cameraPanel:{container:{width:"97%",overflow:"hidden",px:4,minH:"240px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},title:commonStyles.title,videoContainer:{...commonStyles.panel,width:"100%",height:"240px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",transition:"all 0.2s"},video:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)",borderRadius:"8px",display:"block"}},screenPanel:{container:{width:"97%",overflow:"hidden",px:4,minH:"240px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},title:commonStyles.title,screenContainer:{...commonStyles.panel,width:"100%",height:"240px",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",transition:"all 0.2s"},video:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px",display:"block"}},bottomTab:{container:{width:"97%",px:4,position:"relative",zIndex:0},tabs:{width:"100%",bg:"whiteAlpha.50",borderRadius:"lg",p:"1"},list:{borderBottom:"none",gap:"2"},trigger:{color:"whiteAlpha.700",display:"flex",alignItems:"center",gap:2,px:3,py:2,borderRadius:"md",_hover:{color:"white",bg:"whiteAlpha.50"},_selected:{color:"white",bg:"whiteAlpha.200"}}},groupDrawer:{section:{mb:6},sectionTitle:{fontSize:"lg",fontWeight:"semibold",color:"white",mb:3},inviteBox:{display:"flex",gap:2},input:{bg:"whiteAlpha.100",border:"none",color:"white",_placeholder:{color:"whiteAlpha.400"}},memberList:{display:"flex",flexDirection:"column",gap:2},memberItem:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderRadius:"md",bg:"whiteAlpha.100"},memberText:{color:"white",fontSize:"sm"},removeButton:{size:"sm",color:"red.300",bg:"transparent",_hover:{bg:"whiteAlpha.200"}},button:{color:"white",bg:"whiteAlpha.100",_hover:{bg:"whiteAlpha.200"}},clipboardButton:{color:"white",bg:"transparent",_hover:{bg:"whiteAlpha.200"},size:"sm"}}},chatPanelStyles=css$2`
  .cs-message-list {
    background: #f9fbff !important;
    padding: var(--chakra-space-4);
  }
  
  .cs-message {
    margin: 12px 0;
    padding-top: 20px !important;
  }

  .cs-message__content {
    background-color: #eff6ff !important;
    border-radius: var(--chakra-radii-md);
    padding: 8px !important;
    color: #262626 !important;
    font-size: 0.95rem !important;
    line-height: 1.5 !important;
    margin-top: 4px !important;
  }

  .cs-message__text {
    padding: 8px 0 !important;
  }

  .cs-message--outgoing .cs-message__content {
    background-color: #eff6ff !important;
  }

  .cs-chat-container {
    background: transparent !important;
    border: 1px solid var(--chakra-colors-whiteAlpha-200);
    border-radius: var(--chakra-radii-lg);
    padding: var(--chakra-space-2);
  }

  .cs-main-container {
    border: none !important;
    background: transparent !important;
    width: calc(100% - 24px) !important;
    margin-left: 0 !important;
  }

  .cs-message__sender {
    position: absolute !important;
    top: 0 !important;
    left: 36px !important;
    font-size: 0.875rem !important;
    font-weight: 600 !important;
    color: var(--chakra-colors-whiteAlpha-900) !important;
  }

  .cs-message__content-wrapper {
    max-width: 80%;
    margin: 0 8px;
  }

  .cs-avatar {
    background-color: var(--chakra-colors-blue-500) !important;
    color: #262626 !important;
    width: 28px !important;
    height: 28px !important;
    font-size: 14px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 50% !important;
  }

  .cs-message--outgoing .cs-avatar {
    background-color: #eff6ff !important;
  }

  .cs-message__header {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
`;function LuBell(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"},child:[]},{tag:"path",attr:{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"},child:[]}]})(_e)}function LuHand(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2"},child:[]},{tag:"path",attr:{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"},child:[]},{tag:"path",attr:{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8"},child:[]},{tag:"path",attr:{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"},child:[]}]})(_e)}function LuMicOff(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"2",x2:"22",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2"},child:[]},{tag:"path",attr:{d:"M5 10v2a7 7 0 0 0 12 5"},child:[]},{tag:"path",attr:{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33"},child:[]},{tag:"path",attr:{d:"M9 9v3a3 3 0 0 0 5.12 2.12"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"19",y2:"22"},child:[]}]})(_e)}function LuMic(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"},child:[]},{tag:"path",attr:{d:"M19 10v2a7 7 0 0 1-14 0v-2"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"19",y2:"22"},child:[]}]})(_e)}function LuSend(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"},child:[]},{tag:"path",attr:{d:"m21.854 2.147-10.94 10.939"},child:[]}]})(_e)}function LuX(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(_e)}const CloseButton=reactExports.forwardRef((_e,_)=>jsxRuntimeExports.jsx(IconButton,{variant:"ghost","aria-label":"Close",ref:_,..._e,children:_e.children??jsxRuntimeExports.jsx(LuX,{})})),isElectron$1=window.api!==void 0,settingStyles={settingUI:{container:{width:"100%",height:"100%",p:4,gap:4,position:"relative",overflowY:"auto",css:{"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{bg:"whiteAlpha.100",borderRadius:"full"},"&::-webkit-scrollbar-thumb":{bg:"whiteAlpha.300",borderRadius:"full"}}},header:{width:"100%",display:"flex",alignItems:"center",gap:1},title:{ml:4,fontSize:"lg",fontWeight:"bold"},tabs:{root:{width:"100%",variant:"plain",colorPalette:"gray"},content:{},trigger:{color:"#000000",_selected:{color:"#1677ff"},_hover:{color:"rgba(22,119,255,0.6)"}},list:{display:"flex",justifyContent:"flex-start",width:"100%",borderBottom:"1px solid",borderColor:"whiteAlpha.200",mb:4,pl:0}},footer:{width:"100%",display:"flex",justifyContent:"flex-end",gap:2,mt:"auto",pt:4,borderTop:"1px solid",borderColor:"whiteAlpha.200"},drawerContent:{bg:"#FFFFFF",maxWidth:"440px",height:isElectron$1?"calc(100vh - 30px)":"100vh",borderLeft:"1px solid",borderColor:"whiteAlpha.200"},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",position:"relative",px:6,py:4},drawerTitle:{color:"#000000",fontSize:"lg",fontWeight:"semibold"},closeButton:{position:"absolute",right:1,top:1,color:"white"}},general:{container:{align:"stretch",gap:6,p:4},field:{label:{color:"#000000"}},select:{root:{colorPalette:"#1677ff",bg:"#1677ff"},trigger:{bg:"rgba(255,255,255,0.9)",color:"#000000"}},input:{bg:"rgba(255,255,255,0.9)",color:"#000000"},buttonGroup:{gap:4,width:"100%"},button:{width:"50%",variant:"outline",bg:"blue",color:"white",_hover:{bg:"whiteAlpha.300"}},fieldLabel:{fontSize:"14px",color:"gray.600"}},common:{field:{orientation:"horizontal"},fieldLabel:{fontSize:"sm",color:"#000000",whiteSpace:"nowrap"},switch:{size:"md",colorPalette:"blue",variant:"solid"},numberInput:{root:{pattern:"[0-9]*\\.?[0-9]*",inputMode:"decimal"},input:{bg:"rgba(66, 153, 225, 0.1)",color:"#000000",borderColor:"rgba(22,119,255,0.2)",_hover:{bg:"rgba(22,119,255,0.2)"}}},container:{gap:8,maxW:"sm",css:{"--field-label-width":"120px"}},input:{bg:"whiteAlpha.100",borderColor:"whiteAlpha.200",_hover:{bg:"whiteAlpha.200"}}},live2d:{container:{gap:8,maxW:"sm",css:{"--field-label-width":"120px"}},emotionMap:{title:{fontWeight:"bold",mb:4},entry:{mb:2},button:{colorPalette:"blue",mt:2},deleteButton:{colorPalette:"red"}}}},useGeneralSettings=({bgUrlContext:_e,confName:_,setConfName:et,baseUrl:tt,wsUrl:rt,onWsUrlChange:nt,onBaseUrlChange:it,onSave:at,onCancel:lt})=>{var Pt;const{showSubtitle:ct,setShowSubtitle:ut}=useSubtitle(),{setUseCameraBackground:st}=_e||{},{startBackgroundCamera:ot,stopBackgroundCamera:dt}=useCamera(),{configFiles:ft,getFilenameByName:ht}=useConfig$1(),{switchCharacter:mt}=useSwitchCharacter(),gt=()=>{if(!(_e!=null&&_e.backgroundUrl))return[];const kt=_e.backgroundUrl.replace(tt,"");return kt.startsWith("/bg/")?[kt]:[]},yt={language:["en"],customBgUrl:(Pt=_e==null?void 0:_e.backgroundUrl)!=null&&Pt.includes("/bg/")?"":(_e==null?void 0:_e.backgroundUrl)||"",selectedBgUrl:gt(),backgroundUrl:(_e==null?void 0:_e.backgroundUrl)||"",selectedCharacterPreset:[],useCameraBackground:(_e==null?void 0:_e.useCameraBackground)||!1,wsUrl:rt||defaultWsUrl,baseUrl:tt||defaultBaseUrl,showSubtitle:ct},[vt,bt]=reactExports.useState(yt),[xt,_t]=reactExports.useState(yt),St=_;reactExports.useEffect(()=>{ut(vt.showSubtitle);const At=vt.customBgUrl||vt.selectedBgUrl[0];if(At&&_e){const kt=At.startsWith("http")?At:`${tt}${At}`;_e.setBackgroundUrl(kt)}nt(vt.wsUrl),it(vt.baseUrl)},[vt]),reactExports.useEffect(()=>{if(_){const At={...vt,selectedCharacterPreset:[_]};bt(At),_t(At)}},[_]),reactExports.useEffect(()=>{if(!at||!lt)return;const At=at(()=>{Et()}),kt=lt(()=>{Tt()});return()=>{At==null||At(),kt==null||kt()}},[at,lt]);const wt=(At,kt)=>{bt(Rt=>({...Rt,[At]:kt})),At==="wsUrl"&&nt(kt),At==="baseUrl"&&it(kt)},Et=()=>{_t(vt)},Tt=()=>{bt(xt),ut(xt.showSubtitle),_e&&(_e.setBackgroundUrl(xt.backgroundUrl),_e.setUseCameraBackground(xt.useCameraBackground)),nt(xt.wsUrl),it(xt.baseUrl),St&&et(St),xt.useCameraBackground?ot():dt()};return{settings:vt,handleSettingChange:wt,handleSave:Et,handleCancel:Tt,handleCameraToggle:async At=>{if(st)if(At)try{await ot(),wt("useCameraBackground",!0),st(!0)}catch(kt){console.error("Failed to start camera:",kt),wt("useCameraBackground",!1),st(!1)}else dt(),wt("useCameraBackground",!1),st(!1)},handleCharacterPresetChange:At=>{const kt=At[0],Rt=ft.find(Mt=>Mt.filename===kt),$t=_?ht(_):"";wt("selectedCharacterPreset",At),$t!==kt&&Rt&&mt(kt)},showSubtitle:ct,setShowSubtitle:ut}},Field$1=reactExports.forwardRef((_e,_)=>{const{label:et,children:tt,helperText:rt,errorText:nt,optionalText:it,...at}=_e;return jsxRuntimeExports.jsxs(FieldRoot,{ref:_,...at,children:[et&&jsxRuntimeExports.jsxs(FieldLabel,{children:[et,jsxRuntimeExports.jsx(FieldRequiredIndicator,{fallback:it})]}),tt,rt&&jsxRuntimeExports.jsx(FieldHelperText,{children:rt}),nt&&jsxRuntimeExports.jsx(FieldErrorText,{children:nt})]})}),Switch=reactExports.forwardRef((_e,_)=>{const{inputProps:et,children:tt,rootRef:rt,trackLabel:nt,thumbLabel:it,...at}=_e;return jsxRuntimeExports.jsxs(SwitchRoot,{ref:rt,...at,children:[jsxRuntimeExports.jsx(SwitchHiddenInput,{ref:_,...et}),jsxRuntimeExports.jsxs(SwitchControl,{children:[jsxRuntimeExports.jsx(SwitchThumb,{children:it&&jsxRuntimeExports.jsx(SwitchThumbIndicator,{fallback:it==null?void 0:it.off,children:it==null?void 0:it.on})}),nt&&jsxRuntimeExports.jsx(SwitchIndicator,{fallback:nt.off,children:nt.on})]}),tt!=null&&jsxRuntimeExports.jsx(SwitchLabel,{children:tt})]})}),SelectTrigger=reactExports.forwardRef((_e,_)=>{const{children:et,clearable:tt,...rt}=_e;return jsxRuntimeExports.jsxs(SelectControl,{...rt,children:[jsxRuntimeExports.jsx(SelectTrigger$1,{ref:_,children:et}),jsxRuntimeExports.jsxs(SelectIndicatorGroup,{children:[tt&&jsxRuntimeExports.jsx(SelectClearTrigger,{}),jsxRuntimeExports.jsx(SelectIndicator,{})]})]})}),SelectClearTrigger=reactExports.forwardRef((_e,_)=>jsxRuntimeExports.jsx(SelectClearTrigger$1,{asChild:!0,..._e,ref:_,children:jsxRuntimeExports.jsx(CloseButton,{size:"xs",variant:"plain",focusVisibleRing:"inside",focusRingWidth:"2px",pointerEvents:"auto"})})),SelectContent=reactExports.forwardRef((_e,_)=>{const{portalled:et=!0,portalRef:tt,...rt}=_e;return jsxRuntimeExports.jsx(Portal$1,{disabled:!et,container:tt,children:jsxRuntimeExports.jsx(SelectPositioner,{children:jsxRuntimeExports.jsx(SelectContent$1,{...rt,ref:_})})})}),SelectItem=reactExports.forwardRef((_e,_)=>{const{item:et,children:tt,...rt}=_e;return jsxRuntimeExports.jsxs(SelectItem$1,{item:et,...rt,ref:_,children:[tt,jsxRuntimeExports.jsx(SelectItemIndicator,{})]},et.value)}),SelectValueText=reactExports.forwardRef((_e,_)=>{const{children:et,...tt}=_e;return jsxRuntimeExports.jsx(SelectValueText$1,{...tt,ref:_,children:jsxRuntimeExports.jsx(SelectContext,{children:rt=>{const nt=rt.selectedItems;return nt.length===0?_e.placeholder:et?et(nt):nt.length===1?rt.collection.stringifyItem(nt[0]):`${nt.length} selected`}})})}),SelectRoot=reactExports.forwardRef((_e,_)=>jsxRuntimeExports.jsx(SelectRoot$1,{..._e,ref:_,positioning:{sameWidth:!0,..._e.positioning},children:_e.asChild?_e.children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectHiddenSelect,{}),_e.children]})}));reactExports.forwardRef((_e,_)=>{const{children:et,label:tt,...rt}=_e;return jsxRuntimeExports.jsxs(SelectItemGroup,{...rt,ref:_,children:[jsxRuntimeExports.jsx(SelectItemGroupLabel,{children:tt}),et]})});function SelectField({label:_e,value:_,onChange:et,collection:tt,placeholder:rt}){return jsxRuntimeExports.jsx(Field$1,{...settingStyles.general.field,label:jsxRuntimeExports.jsx(Text$1,{...settingStyles.general.field.label,children:_e}),children:jsxRuntimeExports.jsxs(SelectRoot,{...settingStyles.general.select.root,collection:tt,value:_,onValueChange:nt=>et(nt.value),children:[jsxRuntimeExports.jsx(SelectTrigger,{...settingStyles.general.select.trigger,children:jsxRuntimeExports.jsx(SelectValueText,{placeholder:rt})}),jsxRuntimeExports.jsx(SelectContent,{children:tt.items.map(nt=>jsxRuntimeExports.jsx(SelectItem,{item:nt,children:nt.label},nt.value))})]})})}function NumberField({label:_e,value:_,onChange:et,min:tt,max:rt,step:nt,allowMouseWheel:it}){return jsxRuntimeExports.jsx(Field$1,{...settingStyles.common.field,label:jsxRuntimeExports.jsx(Text$1,{...settingStyles.common.fieldLabel,children:_e}),children:jsxRuntimeExports.jsxs(NumberInputRoot,{...settingStyles.common.numberInput.root,value:_.toString(),onValueChange:at=>et(at.value),min:tt,max:rt,step:nt,allowMouseWheel:it,children:[jsxRuntimeExports.jsx(NumberInputInput,{...settingStyles.common.numberInput.input}),jsxRuntimeExports.jsxs(NumberInputControl,{children:[jsxRuntimeExports.jsx(NumberInputIncrementTrigger,{}),jsxRuntimeExports.jsx(NumberInputDecrementTrigger,{})]})]})})}function SwitchField({label:_e,checked:_,onChange:et}){return jsxRuntimeExports.jsx(Field$1,{...settingStyles.common.field,label:jsxRuntimeExports.jsx(Text$1,{...settingStyles.common.fieldLabel,children:_e}),children:jsxRuntimeExports.jsx(Switch,{...settingStyles.common.switch,checked:_,onCheckedChange:tt=>et(tt.checked)})})}function InputField({label:_e,value:_,onChange:et,placeholder:tt}){return jsxRuntimeExports.jsx(Field$1,{...settingStyles.general.field,label:jsxRuntimeExports.jsx(Text$1,{...settingStyles.general.field.label,children:_e}),children:jsxRuntimeExports.jsx(Input,{...settingStyles.general.input,placeholder:tt,value:_,onChange:rt=>et(rt.target.value)})})}const useCollections=()=>{const{backgroundFiles:_e}=useBgUrl()||{},{configFiles:_}=useConfig$1(),et=createListCollection({items:[{label:"English",value:"en"},{label:"中文",value:"zh"}]}),tt=createListCollection({items:(_e==null?void 0:_e.map(nt=>({label:String(nt),value:`/bg/${nt}`})))||[]}),rt=createListCollection({items:_.map(nt=>({label:nt.name,value:nt.filename}))});return{languages:et,backgrounds:tt,characterPresets:rt}};function General({onSave:_e,onCancel:_}){const et=useBgUrl(),{confName:tt,setConfName:rt}=useConfig$1(),{wsUrl:nt,setWsUrl:it,baseUrl:at,setBaseUrl:lt}=useWebSocket(),ct=useCollections(),{settings:ut,handleSettingChange:st,handleCameraToggle:ot,handleCharacterPresetChange:dt,showSubtitle:ft,setShowSubtitle:ht}=useGeneralSettings({bgUrlContext:et,confName:tt,setConfName:rt,baseUrl:at,wsUrl:nt,onWsUrlChange:it,onBaseUrlChange:lt,onSave:_e,onCancel:_});return jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:"使用相机背景",checked:ut.useCameraBackground,onChange:ot}),jsxRuntimeExports.jsx(SwitchField,{label:"显示字幕",checked:ft,onChange:ht}),!ut.useCameraBackground&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectField,{label:"背景图像",value:ut.selectedBgUrl,onChange:mt=>st("selectedBgUrl",mt),collection:ct.backgrounds,placeholder:"从可用背景中选择"}),jsxRuntimeExports.jsx(InputField,{label:"或输入自定义背景 URL",value:ut.customBgUrl,onChange:mt=>st("customBgUrl",mt),placeholder:"输入图像 URL"})]}),jsxRuntimeExports.jsx(SelectField,{label:"角色预设",value:ut.selectedCharacterPreset,onChange:dt,collection:ct.characterPresets,placeholder:tt||"选择角色预设"})]})}const useLive2dSettings=()=>{const _e=useLive2DConfig(),_={url:"",kScale:.5,initialXshift:0,initialYshift:0,emotionMap:{},scrollToResize:!0},[et,tt]=reactExports.useState((_e==null?void 0:_e.modelInfo)||_),[rt,nt]=reactExports.useState((_e==null?void 0:_e.modelInfo)||_);return reactExports.useEffect(()=>{_e!=null&&_e.modelInfo&&JSON.stringify(_e.modelInfo)!==JSON.stringify(rt)&&(nt(_e.modelInfo),tt(_e.modelInfo))},[_e==null?void 0:_e.modelInfo]),reactExports.useEffect(()=>{_e&&et&&_e.setModelInfo(et)},[et.pointerInteractive,et.scrollToResize]),{modelInfo:et,handleInputChange:(ct,ut)=>{tt(st=>({...st,[ct]:ut}))},handleSave:()=>{_e&&et&&nt(et)},handleCancel:()=>{tt(rt),_e&&rt&&_e.setModelInfo(rt)}}};function live2D({onSave:_e,onCancel:_}){const{modelInfo:et,handleInputChange:tt,handleSave:rt,handleCancel:nt}=useLive2dSettings();return reactExports.useEffect(()=>{if(!_e||!_)return;const it=_e(rt),at=_(nt);return()=>{it==null||it(),at==null||at()}},[_e,_]),jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:"指针交互",checked:et.pointerInteractive??!1,onChange:it=>tt("pointerInteractive",it)}),jsxRuntimeExports.jsx(SwitchField,{label:"允许更改 Live2D 角色大小",checked:et.scrollToResize??!0,onChange:it=>tt("scrollToResize",it)})]})}const useASRSettings=()=>{const{settings:_e,updateSettings:_,autoStopMic:et,setAutoStopMic:tt,autoStartMicOn:rt,setAutoStartMicOn:nt,autoStartMicOnConvEnd:it,setAutoStartMicOnConvEnd:at}=useVAD(),lt=reactExports.useRef(_e),ct=reactExports.useRef(_e),ut=reactExports.useRef(et),st=reactExports.useRef(rt),ot=reactExports.useRef(it),[dt,ft]=reactExports.useState(et),[ht,mt]=reactExports.useState(rt),[gt,yt]=reactExports.useState(it),[,vt]=React.useReducer(Tt=>Tt+1,0);reactExports.useEffect(()=>{ft(et),mt(rt),yt(it)},[et,rt,it]);const bt=(Tt,Ct)=>{if(Ct===""||Ct==="-")lt.current={...lt.current,[Tt]:Ct};else{const It=Number(Ct);isNaN(It)||(lt.current={...lt.current,[Tt]:It})}vt()},xt=Tt=>{ft(Tt),tt(Tt)},_t=Tt=>{mt(Tt),nt(Tt)},St=Tt=>{yt(Tt),at(Tt)},wt=()=>{_(lt.current),ct.current=lt.current,ut.current=dt,st.current=ht,ot.current=gt},Et=()=>{lt.current=ct.current,ft(ut.current),mt(st.current),tt(ut.current),nt(st.current),yt(ot.current),at(ot.current),vt()};return{localSettings:lt.current,autoStopMic:dt,autoStartMicOn:ht,autoStartMicOnConvEnd:gt,setAutoStopMic:xt,setAutoStartMicOn:_t,setAutoStartMicOnConvEnd:St,handleInputChange:bt,handleSave:wt,handleCancel:Et}};function ASR({onSave:_e,onCancel:_}){const{localSettings:et,autoStopMic:tt,autoStartMicOn:rt,autoStartMicOnConvEnd:nt,setAutoStopMic:it,setAutoStartMicOn:at,setAutoStartMicOnConvEnd:lt,handleInputChange:ct,handleSave:ut,handleCancel:st}=useASRSettings();return reactExports.useEffect(()=>{if(!_e||!_)return;const ot=_e(ut),dt=_(st);return()=>{ot==null||ot(),dt==null||dt()}},[_e,_,ut,st]),jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:"AI 开始说话时自动停止麦克风",checked:tt,onChange:it}),jsxRuntimeExports.jsx(SwitchField,{label:"对话结束时自动启动麦克风",checked:nt,onChange:lt}),jsxRuntimeExports.jsx(SwitchField,{label:"AI 中断时自动启动麦克风",checked:rt,onChange:at}),jsxRuntimeExports.jsx(NumberField,{label:"语音概率阈值",value:et.positiveSpeechThreshold,onChange:ot=>ct("positiveSpeechThreshold",ot),min:1,max:100}),jsxRuntimeExports.jsx(NumberField,{label:"负语音阈值",value:et.negativeSpeechThreshold,onChange:ot=>ct("negativeSpeechThreshold",ot),min:0,max:100}),jsxRuntimeExports.jsx(NumberField,{label:"兑换帧",value:et.redemptionFrames,onChange:ot=>ct("redemptionFrames",ot),min:1,max:100})]})}function TTS(){return jsxRuntimeExports.jsx(Box,{children:"TTS Settings Content"})}function useTriggerSpeak(){const{sendMessage:_e}=useWebSocket(),{captureAllMedia:_}=useMediaCapture();return{sendTriggerSignal:reactExports.useCallback(async tt=>{const rt=await _();_e({type:"ai-speak-signal",idle_time:tt,images:rt})},[_e,_])}}const defaultSettings$1={allowProactiveSpeak:!1,idleSecondsToSpeak:5,allowButtonTrigger:!1},ProactiveSpeakContext=reactExports.createContext(null);function ProactiveSpeakProvider({children:_e}){const[_,et]=useLocalStorage("proactiveSpeakSettings",defaultSettings$1),{aiState:tt}=useAiState(),{sendTriggerSignal:rt}=useTriggerSpeak(),nt=reactExports.useRef(null),it=reactExports.useRef(null),at=reactExports.useCallback(()=>{nt.current&&(clearTimeout(nt.current),nt.current=null),it.current=null},[]),lt=reactExports.useCallback(()=>{at(),_.allowProactiveSpeak&&(it.current=Date.now(),nt.current=setTimeout(()=>{const st=(Date.now()-it.current)/1e3;rt(st)},_.idleSecondsToSpeak*1e3))},[_.allowProactiveSpeak,_.idleSecondsToSpeak,rt,at]);reactExports.useEffect(()=>{tt===AiStateEnum.IDLE?lt():at()},[tt,lt,at]),reactExports.useEffect(()=>()=>{at()},[at]);const ct=reactExports.useCallback(st=>{et(st)},[et]),ut=reactExports.useMemo(()=>({settings:_,updateSettings:ct}),[_,ct]);return jsxRuntimeExports.jsx(ProactiveSpeakContext.Provider,{value:ut,children:_e})}function useProactiveSpeak(){const _e=reactExports.useContext(ProactiveSpeakContext);if(!_e)throw new Error("useProactiveSpeak must be used within a ProactiveSpeakProvider");return _e}function useAgentSettings({onSave:_e,onCancel:_}={}){const{settings:et,updateSettings:tt}=useProactiveSpeak(),[rt,nt]=reactExports.useState({allowProactiveSpeak:et.allowProactiveSpeak,idleSecondsToSpeak:et.idleSecondsToSpeak,allowButtonTrigger:et.allowButtonTrigger}),[it,at]=reactExports.useState({...et});reactExports.useEffect(()=>{et&&(at(et),nt(et))},[et]);const lt=reactExports.useCallback(dt=>{nt(ft=>({...ft,allowProactiveSpeak:dt}))},[]),ct=reactExports.useCallback(dt=>{nt(ft=>({...ft,idleSecondsToSpeak:dt}))},[]),ut=reactExports.useCallback(dt=>{nt(ft=>({...ft,allowButtonTrigger:dt}))},[]),st=reactExports.useCallback(()=>{tt(rt),at(rt)},[tt,rt]),ot=reactExports.useCallback(()=>{nt(it),tt(it)},[it,tt]);return reactExports.useEffect(()=>{if(!_e||!_)return;const dt=_e(st),ft=_(ot);return()=>{dt==null||dt(),ft==null||ft()}},[_e,_,st,ot]),{settings:rt,handleAllowProactiveSpeakChange:lt,handleIdleSecondsChange:ct,handleAllowButtonTriggerChange:ut}}function Agent({onSave:_e,onCancel:_}){const{settings:et,handleAllowProactiveSpeakChange:tt,handleIdleSecondsChange:rt,handleAllowButtonTriggerChange:nt}=useAgentSettings({onSave:_e,onCancel:_});return jsxRuntimeExports.jsxs(Stack,{...settingStyles.common.container,children:[jsxRuntimeExports.jsx(SwitchField,{label:"让 AI 主动说话",checked:et.allowProactiveSpeak,onChange:tt}),et.allowProactiveSpeak&&jsxRuntimeExports.jsx(NumberField,{label:"空闲秒数允许 AI 说话",value:et.idleSecondsToSpeak,onChange:it=>rt(Number(it)),min:0,step:.1,allowMouseWheel:!0}),jsxRuntimeExports.jsx(SwitchField,{label:"通过打断按钮提示 AI 说话",checked:et.allowButtonTrigger,onChange:nt})]})}function About(){return jsxRuntimeExports.jsx(Box,{children:"About Settings Content"})}function SettingUI({open:_e,onClose:_}){const[et,tt]=reactExports.useState([]),[rt,nt]=reactExports.useState([]),[it,at]=reactExports.useState("general"),lt=reactExports.useCallback(dt=>(tt(ft=>[...ft,dt]),()=>{tt(ft=>ft.filter(ht=>ht!==dt))}),[]),ct=reactExports.useCallback(dt=>(nt(ft=>[...ft,dt]),()=>{nt(ft=>ft.filter(ht=>ht!==dt))}),[]),ut=reactExports.useCallback(()=>{et.forEach(dt=>dt()),_()},[et,_]),st=reactExports.useCallback(()=>{rt.forEach(dt=>dt()),_()},[rt,_]),ot=reactExports.useMemo(()=>jsxRuntimeExports.jsxs(TabsContentGroup,{children:[jsxRuntimeExports.jsx(TabsContent,{value:"general",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(General,{onSave:lt,onCancel:ct})}),jsxRuntimeExports.jsx(TabsContent,{value:"live2d",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(live2D,{onSave:lt,onCancel:ct})}),jsxRuntimeExports.jsx(TabsContent,{value:"asr",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(ASR,{onSave:lt,onCancel:ct})}),jsxRuntimeExports.jsx(TabsContent,{value:"tts",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(TTS,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"agent",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(Agent,{onSave:lt,onCancel:ct})}),jsxRuntimeExports.jsx(TabsContent,{value:"about",...settingStyles.settingUI.tabs.content,children:jsxRuntimeExports.jsx(About,{})})]}),[lt,ct]);return jsxRuntimeExports.jsxs(DrawerRoot$1,{open:_e,onOpenChange:dt=>dt.open?null:_(),placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop$1,{}),jsxRuntimeExports.jsxs(DrawerContent$1,{...settingStyles.settingUI.drawerContent,children:[jsxRuntimeExports.jsxs(DrawerHeader$1,{...settingStyles.settingUI.drawerHeader,children:[jsxRuntimeExports.jsx(DrawerTitle$1,{...settingStyles.settingUI.drawerTitle,children:"设置"}),jsxRuntimeExports.jsx("div",{...settingStyles.settingUI.closeButton,children:jsxRuntimeExports.jsx(DrawerCloseTrigger$1,{asChild:!0,onClick:st,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm",color:"rgba(66, 153, 225, 0.6"})})})]}),jsxRuntimeExports.jsx(DrawerBody$1,{children:jsxRuntimeExports.jsxs(TabsRoot,{defaultValue:"general",value:it,onValueChange:dt=>at(dt.value),...settingStyles.settingUI.tabs.root,children:[jsxRuntimeExports.jsxs(TabsList,{...settingStyles.settingUI.tabs.list,children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"general",...settingStyles.settingUI.tabs.trigger,children:"通用"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"live2d",...settingStyles.settingUI.tabs.trigger,children:"Live2D"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"asr",...settingStyles.settingUI.tabs.trigger,children:"语音识别"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"agent",...settingStyles.settingUI.tabs.trigger,children:"大模型"})]}),ot]})}),jsxRuntimeExports.jsxs(DrawerFooter$1,{children:[jsxRuntimeExports.jsx(Button$1,{colorPalette:"red",onClick:st,children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{colorPalette:"blue",onClick:ut,children:"Save"})]})]})]})}const Avatar$1=reactExports.forwardRef((_e,_)=>{const{name:et,src:tt,srcSet:rt,loading:nt,icon:it,fallback:at,children:lt,...ct}=_e;return jsxRuntimeExports.jsxs(AvatarRoot,{ref:_,...ct,children:[jsxRuntimeExports.jsx(AvatarFallback,{name:et,icon:it,children:at}),jsxRuntimeExports.jsx(AvatarImage,{src:tt,srcSet:rt,loading:nt}),lt]})}),AvatarFallback=reactExports.forwardRef((_e,_)=>{const{name:et,icon:tt,children:rt,...nt}=_e;return jsxRuntimeExports.jsxs(AvatarFallback$1,{ref:_,...nt,children:[rt,et!=null&&rt==null&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:getInitials(et)}),et==null&&rt==null&&jsxRuntimeExports.jsx(AvatarIcon,{asChild:!!tt,children:tt})]})});function getInitials(_e){const _=_e.trim().split(" "),et=_[0]!=null?_[0]:"",tt=_.length>1?_[_.length-1]:"";return et&&tt?`${et.charAt(0)}${tt.charAt(0)}`:et.charAt(0)}const AvatarGroup$1=reactExports.forwardRef((_e,_)=>{const{size:et,variant:tt,borderless:rt,...nt}=_e;return jsxRuntimeExports.jsx(AvatarPropsProvider,{value:{size:et,variant:tt,borderless:rt},children:jsxRuntimeExports.jsx(Group$1,{gap:"0",spaceX:"-3",ref:_,...nt})})});function ChatBubble({message:_e,isSelected:_,onClick:et}){const tt=_e.role==="ai";return jsxRuntimeExports.jsx(Box,{onClick:et,cursor:"pointer",bg:_?"gray.100":"transparent",_hover:{bg:"gray.50"},p:2,borderRadius:"md",transition:"background-color 0.2s",children:jsxRuntimeExports.jsxs(Flex,{gap:3,children:[jsxRuntimeExports.jsx(AvatarGroup$1,{children:jsxRuntimeExports.jsx(Avatar$1,{size:"sm",name:_e.name||(tt?"AI":"Me"),bg:tt?"blue.500":"green.500",color:"white"})}),jsxRuntimeExports.jsxs(Box,{flex:1,children:[jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",fontWeight:"bold",color:"gray.700",children:_e.name||(tt?"AI":"Me")}),jsxRuntimeExports.jsx(Text$1,{fontSize:"sm",color:"gray.600",truncate:!0,children:_e.content}),jsxRuntimeExports.jsx(Text$1,{fontSize:"xs",color:"gray.400",mt:1,children:new Date(_e.timestamp).toLocaleTimeString()})]})]})})}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function _e(tt,rt,nt,it,at,lt){if(lt!==ReactPropTypesSecret){var ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ct.name="Invariant Violation",ct}}_e.isRequired=_e;function _(){return _e}var et={array:_e,bigint:_e,bool:_e,func:_e,number:_e,object:_e,string:_e,symbol:_e,any:_e,arrayOf:_,element:_e,elementType:_e,instanceOf:_,node:_e,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return et.PropTypes=et,et};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var prefix="cs",classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(_e){(function(){var _={}.hasOwnProperty;function et(){for(var nt="",it=0;it<arguments.length;it++){var at=arguments[it];at&&(nt=rt(nt,tt(at)))}return nt}function tt(nt){if(typeof nt=="string"||typeof nt=="number")return nt;if(typeof nt!="object")return"";if(Array.isArray(nt))return et.apply(null,nt);if(nt.toString!==Object.prototype.toString&&!nt.toString.toString().includes("[native code]"))return nt.toString();var it="";for(var at in nt)_.call(nt,at)&&nt[at]&&(it=rt(it,at));return it}function rt(nt,it){return it?nt?nt+" "+it:nt+it:nt}_e.exports?(et.default=et,_e.exports=et):window.classNames=et})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);var StatusEnum=["available","unavailable","away","dnd","invisible","eager"],SizeEnum=["xs","sm","md","lg","fluid"];function _typeof$i(_e){"@babel/helpers - typeof";return _typeof$i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$i(_e)}var _excluded$Z=["status","size","className","name","selected","children"];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$v.apply(this,arguments)}function _defineProperty$g(_e,_,et){return _=_toPropertyKey$e(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$e(_e){var _=_toPrimitive$e(_e,"string");return _typeof$i(_)=="symbol"?_:String(_)}function _toPrimitive$e(_e,_){if(_typeof$i(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$i(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _objectWithoutProperties$x(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$x(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$x(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var Status=function _e(_){var et=_.status,tt=_.size,rt=tt===void 0?"md":tt,nt=_.className,it=_.name,at=_.selected,lt=_.children,ct=_objectWithoutProperties$x(_,_excluded$Z),ut="".concat(prefix,"-status"),st=React.createElement("div",{className:"".concat(ut,"__bullet")}),ot=it||lt;return React.createElement("div",_extends$v({},ct,{"aria-selected":at===!0?"":null,className:classNames(ut,"".concat(ut,"--").concat(rt),"".concat(ut,"--").concat(et),_defineProperty$g({},"".concat(ut,"--selected"),at),_defineProperty$g({},"".concat(ut,"--named"),ot),nt)}),st,ot&&React.createElement("div",{className:"".concat(ut,"__name")},it||lt))};function _typeof$h(_e){"@babel/helpers - typeof";return _typeof$h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$h(_e)}var _excluded$Y=["name","src","size","status","className","active","children"];function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$u.apply(this,arguments)}function _defineProperty$f(_e,_,et){return _=_toPropertyKey$d(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$d(_e){var _=_toPrimitive$d(_e,"string");return _typeof$h(_)=="symbol"?_:String(_)}function _toPrimitive$d(_e,_){if(_typeof$h(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$h(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _objectWithoutProperties$w(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$w(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$w(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function AvatarInner(_e,_){var et=_e.name,tt=et===void 0?"":et,rt=_e.src,nt=rt===void 0?"":rt,it=_e.size,at=it===void 0?"md":it,lt=_e.status,ct=_e.className,ut=_e.active,st=ut===void 0?!1:ut,ot=_e.children,dt=_objectWithoutProperties$w(_e,_excluded$Y),ft="".concat(prefix,"-avatar"),ht=typeof at<"u"?" ".concat(ft,"--").concat(at):"",mt=reactExports.useRef();return reactExports.useImperativeHandle(_,function(){return{focus:function(){return mt.current.focus()}}}),React.createElement("div",_extends$u({ref:mt},dt,{className:classNames("".concat(ft).concat(ht),_defineProperty$f({},"".concat(ft,"--active"),st),ct)}),ot||React.createElement(React.Fragment,null,React.createElement("img",{src:nt,alt:tt}),typeof lt=="string"&&React.createElement(Status,{status:lt,size:at})," "))}var Avatar=reactExports.forwardRef(AvatarInner);Avatar.displayName="Avatar";Avatar.propTypes={children:PropTypes.node,name:PropTypes.string,src:PropTypes.string,size:PropTypes.oneOf(SizeEnum),status:PropTypes.oneOf(StatusEnum),active:PropTypes.bool,className:PropTypes.string};function ownKeys$2(_e,_){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);_&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread$1(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$2(Object(et),!0).forEach(function(tt){_defineProperty$e(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$2(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _defineProperty$e(_e,_,et){return _=_toPropertyKey$c(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$c(_e){var _=_toPrimitive$c(_e,"string");return _typeof$g(_)=="symbol"?_:String(_)}function _toPrimitive$c(_e,_){if(_typeof$g(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$g(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _typeof$g(_e){"@babel/helpers - typeof";return _typeof$g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$g(_e)}var noop$2=function _e(){},isChildrenNil=function _e(_){return _==null||Array.isArray(_)&&_.length===0},getChildren=function _e(_,et){var tt=[],rt=et.map(function(nt){return nt.displayName||nt.name});return React.Children.toArray(_).forEach(function(nt){var it=et.indexOf(nt.type);if(it!==-1)tt[it]=nt;else{var at,lt,ct,ut=(at=nt==null||(lt=nt.props)===null||lt===void 0?void 0:lt.as)!==null&&at!==void 0?at:nt==null||(ct=nt.props)===null||ct===void 0?void 0:ct.is,st=_typeof$g(ut);if(st==="function"){var ot=et.indexOf(ut);ot!==-1&&(tt[ot]=React.cloneElement(nt,_objectSpread$1(_objectSpread$1({},nt.props),{},{as:null})))}else if(st==="object"){var dt=ut.name||ut.displayName,ft=rt.indexOf(dt);ft!==-1&&(tt[ft]=React.cloneElement(nt,_objectSpread$1(_objectSpread$1({},nt.props),{},{as:null})))}else if(st==="string"){var ht=rt.indexOf(ut);ht!==-1&&(tt[ht]=nt)}}}),tt},getComponentName=function _e(_){if(typeof _=="string")return _;if("type"in _){var et=_typeof$g(_.type);if(et==="function"||et==="object"){if("displayName"in _.type)return _.type.displayName;if("name"in _.type)return _.type.name}else if(et==="string")return _.type;return"undefined"}return"undefined"},allowedChildren=function _e(_){return function(et,tt,rt){var nt=_.map(function(ut){return ut.name||ut.displayName}),it=React.Children.toArray(et[tt]).find(function(ut){if(typeof ut=="string"&&ut.trim().length===0)return!1;if(_.indexOf(ut.type)===-1){var st,ot,dt=(ut==null||(st=ut.props)===null||st===void 0?void 0:st.as)||(ut==null||(ot=ut.props)===null||ot===void 0?void 0:ot.is),ft=_typeof$g(dt);if(ft==="function")return _.indexOf(dt)===-1;if(ft==="object"){var ht=dt.name||dt.displayName;return nt.indexOf(ht)===-1}else return ft==="string"?nt.indexOf(dt)===-1:!0}});if(typeof it<"u"){var at=getComponentName(it),lt=_.map(function(ut){return ut.name||ut.displayName}).join(", "),ct='"'.concat(at,'" is not a valid child for ').concat(rt,". Allowed types: ").concat(lt);return new Error(ct)}}},_excluded$X=["children","size","className","max","activeIndex","hoverToFront"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$t.apply(this,arguments)}function _objectWithoutProperties$v(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$v(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$v(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var AvatarGroup=function _e(_){var et=_.children,tt=_.size,rt=tt===void 0?"md":tt,nt=_.className,it=_.max,at=_.activeIndex,lt=_.hoverToFront,ct=_objectWithoutProperties$v(_,_excluded$X),ut="".concat(prefix,"-avatar-group"),st=typeof it=="number"&&React.Children.count(et)>it?React.Children.toArray(et).reverse().slice(0,it):React.Children.toArray(et).reverse(),ot=typeof at=="number"?st.length-at-1:void 0;return React.createElement("div",_extends$t({},ct,{className:classNames(ut,"".concat(ut,"--").concat(rt),nt)}),st.map(function(dt,ft){var ht=typeof ot=="number"?{active:ot===ft}:{};return lt===!0&&(ht.className=classNames("".concat(prefix,"-avatar--active-on-hover"),dt.props.className)),React.cloneElement(dt,ht)}))};AvatarGroup.displayName="AvatarGroup";var _excluded$W=["children","className","icon","border","labelPosition"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$s.apply(this,arguments)}function _objectWithoutProperties$u(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$u(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$u(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var Button=function _e(_){var et=_.children,tt=et===void 0?void 0:et,rt=_.className,nt=rt===void 0?"":rt,it=_.icon,at=it===void 0?void 0:it,lt=_.border,ct=lt===void 0?!1:lt,ut=_.labelPosition,st=ut===void 0?void 0:ut,ot=_objectWithoutProperties$u(_,_excluded$W),dt="".concat(prefix,"-button"),ft=typeof st<"u"?st:"right",ht=React.Children.count(tt)>0?"".concat(dt,"--").concat(ft):"",mt=ct===!0?"".concat(dt,"--border"):"";return React.createElement("button",_extends$s({},ot,{className:classNames(dt,ht,mt,nt)}),ft==="left"&&tt,at,ft==="right"&&tt)};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */function _typeof$f(_e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$f=function(_){return typeof _}:_typeof$f=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$f(_e)}function _classCallCheck$5(_e,_){if(!(_e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(_e,_){for(var et=0;et<_.length;et++){var tt=_[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,tt.key,tt)}}function _createClass$5(_e,_,et){return _defineProperties$5(_e.prototype,_),_e}function _defineProperty$d(_e,_,et){return _ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _objectSpread(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{},tt=Object.keys(et);typeof Object.getOwnPropertySymbols=="function"&&(tt=tt.concat(Object.getOwnPropertySymbols(et).filter(function(rt){return Object.getOwnPropertyDescriptor(et,rt).enumerable}))),tt.forEach(function(rt){_defineProperty$d(_e,rt,et[rt])})}return _e}function _slicedToArray$8(_e,_){return _arrayWithHoles$8(_e)||_iterableToArrayLimit$8(_e,_)}function _arrayWithHoles$8(_e){if(Array.isArray(_e))return _e}function _iterableToArrayLimit$8(_e,_){var et=[],tt=!0,rt=!1,nt=void 0;try{for(var it=_e[Symbol.iterator](),at;!(tt=(at=it.next()).done)&&(et.push(at.value),!(_&&et.length===_));tt=!0);}catch(lt){rt=!0,nt=lt}finally{try{!tt&&it.return!=null&&it.return()}finally{if(rt)throw nt}}return et}var noop$1=function _e(){},_WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$1,measure:noop$1};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(_e){}var _ref=_WINDOW.navigator||{},_ref$userAgent=_ref.userAgent,userAgent=_ref$userAgent===void 0?"":_ref$userAgent,WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,PERFORMANCE=_PERFORMANCE;WINDOW.document;var IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function";~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var NAMESPACE_IDENTIFIER="___FONT_AWESOME___",DEFAULT_FAMILY_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg";(function(){try{return!0}catch{return!1}})();var DUOTONE_CLASSES={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(_e){var _=DOCUMENT.querySelector("script["+_e+"]");if(_)return _.getAttribute(_e)}function coerce(_e){return _e===""?!0:_e==="false"?!1:_e==="true"?!0:_e}if(DOCUMENT&&typeof DOCUMENT.querySelector=="function"){var attrs=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];attrs.forEach(function(_e){var _=_slicedToArray$8(_e,2),et=_[0],tt=_[1],rt=coerce(getAttrConfig(et));rt!=null&&(initial[tt]=rt)})}var _default={familyPrefix:DEFAULT_FAMILY_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},_config=_objectSpread({},_default,initial);_config.autoReplaceSvg||(_config.observeMutations=!1);var config=_objectSpread({},_config);WINDOW.FontAwesomeConfig=config;var w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER],functions=[],listener=function _e(){DOCUMENT.removeEventListener("DOMContentLoaded",_e),loaded=1,functions.map(function(_){return _()})},loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));var PENDING="pending",SETTLED="settled",FULFILLED="fulfilled",REJECTED="rejected",NOOP=function _e(){},isNode=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",asyncSetTimer=typeof setImmediate>"u"?setTimeout:setImmediate,asyncQueue=[],asyncTimer;function asyncFlush(){for(var _e=0;_e<asyncQueue.length;_e++)asyncQueue[_e][0](asyncQueue[_e][1]);asyncQueue=[],asyncTimer=!1}function asyncCall(_e,_){asyncQueue.push([_e,_]),asyncTimer||(asyncTimer=!0,asyncSetTimer(asyncFlush,0))}function invokeResolver(_e,_){function et(rt){resolve(_,rt)}function tt(rt){reject(_,rt)}try{_e(et,tt)}catch(rt){tt(rt)}}function invokeCallback(_e){var _=_e.owner,et=_._state,tt=_._data,rt=_e[et],nt=_e.then;if(typeof rt=="function"){et=FULFILLED;try{tt=rt(tt)}catch(it){reject(nt,it)}}handleThenable(nt,tt)||(et===FULFILLED&&resolve(nt,tt),et===REJECTED&&reject(nt,tt))}function handleThenable(_e,_){var et;try{if(_e===_)throw new TypeError("A promises callback cannot return that same promise.");if(_&&(typeof _=="function"||_typeof$f(_)==="object")){var tt=_.then;if(typeof tt=="function")return tt.call(_,function(rt){et||(et=!0,_===rt?fulfill(_e,rt):resolve(_e,rt))},function(rt){et||(et=!0,reject(_e,rt))}),!0}}catch(rt){return et||reject(_e,rt),!0}return!1}function resolve(_e,_){(_e===_||!handleThenable(_e,_))&&fulfill(_e,_)}function fulfill(_e,_){_e._state===PENDING&&(_e._state=SETTLED,_e._data=_,asyncCall(publishFulfillment,_e))}function reject(_e,_){_e._state===PENDING&&(_e._state=SETTLED,_e._data=_,asyncCall(publishRejection,_e))}function publish(_e){_e._then=_e._then.forEach(invokeCallback)}function publishFulfillment(_e){_e._state=FULFILLED,publish(_e)}function publishRejection(_e){_e._state=REJECTED,publish(_e),!_e._handled&&isNode&&global.process.emit("unhandledRejection",_e._data,_e)}function notifyRejectionHandled(_e){global.process.emit("rejectionHandled",_e)}function P(_e){if(typeof _e!="function")throw new TypeError("Promise resolver "+_e+" is not a function");if(!(this instanceof P))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],invokeResolver(_e,this)}P.prototype={constructor:P,_state:PENDING,_then:null,_data:void 0,_handled:!1,then:function _e(_,et){var tt={owner:this,then:new this.constructor(NOOP),fulfilled:_,rejected:et};return(et||_)&&!this._handled&&(this._handled=!0,this._state===REJECTED&&isNode&&asyncCall(notifyRejectionHandled,this)),this._state===FULFILLED||this._state===REJECTED?asyncCall(invokeCallback,tt):this._then.push(tt),tt.then},catch:function _e(_){return this.then(null,_)}};P.all=function(_e){if(!Array.isArray(_e))throw new TypeError("You must pass an array to Promise.all().");return new P(function(_,et){var tt=[],rt=0;function nt(lt){return rt++,function(ct){tt[lt]=ct,--rt||_(tt)}}for(var it=0,at;it<_e.length;it++)at=_e[it],at&&typeof at.then=="function"?at.then(nt(it),et):tt[it]=at;rt||_(tt)})};P.race=function(_e){if(!Array.isArray(_e))throw new TypeError("You must pass an array to Promise.race().");return new P(function(_,et){for(var tt=0,rt;tt<_e.length;tt++)rt=_e[tt],rt&&typeof rt.then=="function"?rt.then(_,et):_(rt)})};P.resolve=function(_e){return _e&&_typeof$f(_e)==="object"&&_e.constructor===P?_e:new P(function(_){_(_e)})};P.reject=function(_e){return new P(function(_,et){et(_e)})};var meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(_e){if(!(!_e||!IS_DOM)){var _=DOCUMENT.createElement("style");_.setAttribute("type","text/css"),_.innerHTML=_e;for(var et=DOCUMENT.head.childNodes,tt=null,rt=et.length-1;rt>-1;rt--){var nt=et[rt],it=(nt.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(it)>-1&&(tt=nt)}return DOCUMENT.head.insertBefore(_,tt),_e}}var idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){for(var _e=12,_="";_e-- >0;)_+=idPool[Math.random()*62|0];return _}function htmlEscape(_e){return"".concat(_e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(_e){return Object.keys(_e||{}).reduce(function(_,et){return _+"".concat(et,'="').concat(htmlEscape(_e[et]),'" ')},"").trim()}function joinStyles(_e){return Object.keys(_e||{}).reduce(function(_,et){return _+"".concat(et,": ").concat(_e[et],";")},"")}function transformIsMeaningful(_e){return _e.size!==meaninglessTransform.size||_e.x!==meaninglessTransform.x||_e.y!==meaninglessTransform.y||_e.rotate!==meaninglessTransform.rotate||_e.flipX||_e.flipY}function transformForSvg(_e){var _=_e.transform,et=_e.containerWidth,tt=_e.iconWidth,rt={transform:"translate(".concat(et/2," 256)")},nt="translate(".concat(_.x*32,", ").concat(_.y*32,") "),it="scale(".concat(_.size/16*(_.flipX?-1:1),", ").concat(_.size/16*(_.flipY?-1:1),") "),at="rotate(".concat(_.rotate," 0 0)"),lt={transform:"".concat(nt," ").concat(it," ").concat(at)},ct={transform:"translate(".concat(tt/2*-1," -256)")};return{outer:rt,inner:lt,path:ct}}var ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return _e.attributes&&(_e.attributes.fill||_)&&(_e.attributes.fill="black"),_e}function deGroup(_e){return _e.tag==="g"?_e.children:[_e]}function makeIconMasking(_e){var _=_e.children,et=_e.attributes,tt=_e.main,rt=_e.mask,nt=_e.maskId,it=_e.transform,at=tt.width,lt=tt.icon,ct=rt.width,ut=rt.icon,st=transformForSvg({transform:it,containerWidth:ct,iconWidth:at}),ot={tag:"rect",attributes:_objectSpread({},ALL_SPACE,{fill:"white"})},dt=lt.children?{children:lt.children.map(fillBlack)}:{},ft={tag:"g",attributes:_objectSpread({},st.inner),children:[fillBlack(_objectSpread({tag:lt.tag,attributes:_objectSpread({},lt.attributes,st.path)},dt))]},ht={tag:"g",attributes:_objectSpread({},st.outer),children:[ft]},mt="mask-".concat(nt||nextUniqueId()),gt="clip-".concat(nt||nextUniqueId()),yt={tag:"mask",attributes:_objectSpread({},ALL_SPACE,{id:mt,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[ot,ht]},vt={tag:"defs",children:[{tag:"clipPath",attributes:{id:gt},children:deGroup(ut)},yt]};return _.push(vt,{tag:"rect",attributes:_objectSpread({fill:"currentColor","clip-path":"url(#".concat(gt,")"),mask:"url(#".concat(mt,")")},ALL_SPACE)}),{children:_,attributes:et}}function makeIconStandard(_e){var _=_e.children,et=_e.attributes,tt=_e.main,rt=_e.transform,nt=_e.styles,it=joinStyles(nt);if(it.length>0&&(et.style=it),transformIsMeaningful(rt)){var at=transformForSvg({transform:rt,containerWidth:tt.width,iconWidth:tt.width});_.push({tag:"g",attributes:_objectSpread({},at.outer),children:[{tag:"g",attributes:_objectSpread({},at.inner),children:[{tag:tt.icon.tag,children:tt.icon.children,attributes:_objectSpread({},tt.icon.attributes,at.path)}]}]})}else _.push(tt.icon);return{children:_,attributes:et}}function asIcon(_e){var _=_e.children,et=_e.main,tt=_e.mask,rt=_e.attributes,nt=_e.styles,it=_e.transform;if(transformIsMeaningful(it)&&et.found&&!tt.found){var at=et.width,lt=et.height,ct={x:at/lt/2,y:.5};rt.style=joinStyles(_objectSpread({},nt,{"transform-origin":"".concat(ct.x+it.x/16,"em ").concat(ct.y+it.y/16,"em")}))}return[{tag:"svg",attributes:rt,children:_}]}function asSymbol(_e){var _=_e.prefix,et=_e.iconName,tt=_e.children,rt=_e.attributes,nt=_e.symbol,it=nt===!0?"".concat(_,"-").concat(config.familyPrefix,"-").concat(et):nt;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread({},rt,{id:it}),children:tt}]}]}function makeInlineSvgAbstract(_e){var _=_e.icons,et=_.main,tt=_.mask,rt=_e.prefix,nt=_e.iconName,it=_e.transform,at=_e.symbol,lt=_e.title,ct=_e.maskId,ut=_e.titleId,st=_e.extra,ot=_e.watchable,dt=ot===void 0?!1:ot,ft=tt.found?tt:et,ht=ft.width,mt=ft.height,gt=rt==="fak",yt=gt?"":"fa-w-".concat(Math.ceil(ht/mt*16)),vt=[config.replacementClass,nt?"".concat(config.familyPrefix,"-").concat(nt):"",yt].filter(function(Tt){return st.classes.indexOf(Tt)===-1}).filter(function(Tt){return Tt!==""||!!Tt}).concat(st.classes).join(" "),bt={children:[],attributes:_objectSpread({},st.attributes,{"data-prefix":rt,"data-icon":nt,class:vt,role:st.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ht," ").concat(mt)})},xt=gt&&!~st.classes.indexOf("fa-fw")?{width:"".concat(ht/mt*16*.0625,"em")}:{};dt&&(bt.attributes[DATA_FA_I2SVG]=""),lt&&bt.children.push({tag:"title",attributes:{id:bt.attributes["aria-labelledby"]||"title-".concat(ut||nextUniqueId())},children:[lt]});var _t=_objectSpread({},bt,{prefix:rt,iconName:nt,main:et,mask:tt,maskId:ct,transform:it,symbol:at,styles:_objectSpread({},xt,st.styles)}),St=tt.found&&et.found?makeIconMasking(_t):makeIconStandard(_t),wt=St.children,Et=St.attributes;return _t.children=wt,_t.attributes=Et,at?asSymbol(_t):asIcon(_t)}var noop$1$1=function _e(){};config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure;var reduce=function _e(_,et,tt,rt){var nt=Object.keys(_),it=nt.length,at=et,lt,ct,ut;for(tt===void 0?(lt=1,ut=_[nt[0]]):(lt=0,ut=tt);lt<it;lt++)ct=nt[lt],ut=at(ut,_[ct],ct,_);return ut};function defineIcons(_e,_){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=et.skipHooks,rt=tt===void 0?!1:tt,nt=Object.keys(_).reduce(function(it,at){var lt=_[at],ct=!!lt.icon;return ct?it[lt.iconName]=lt.icon:it[at]=lt,it},{});typeof namespace.hooks.addPack=="function"&&!rt?namespace.hooks.addPack(_e,nt):namespace.styles[_e]=_objectSpread({},namespace.styles[_e]||{},nt),_e==="fas"&&defineIcons("fa",_)}var styles=namespace.styles,shims=namespace.shims,build=function _e(){var _=function(rt){return reduce(styles,function(nt,it,at){return nt[at]=reduce(it,rt,{}),nt},{})};_(function(tt,rt,nt){return rt[3]&&(tt[rt[3]]=nt),tt}),_(function(tt,rt,nt){var it=rt[2];return tt[nt]=nt,it.forEach(function(at){tt[at]=nt}),tt});var et="far"in styles;reduce(shims,function(tt,rt){var nt=rt[0],it=rt[1],at=rt[2];return it==="far"&&!et&&(it="fas"),tt[nt]={prefix:it,iconName:at},tt},{})};build();namespace.styles;function iconFromMapping(_e,_,et){if(_e&&_e[_]&&_e[_][et])return{prefix:_,iconName:et,icon:_e[_][et]}}function toHtml(_e){var _=_e.tag,et=_e.attributes,tt=et===void 0?{}:et,rt=_e.children,nt=rt===void 0?[]:rt;return typeof _e=="string"?htmlEscape(_e):"<".concat(_," ").concat(joinAttributes(tt),">").concat(nt.map(toHtml).join(""),"</").concat(_,">")}var parseTransformString=function _e(_){var et={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return _?_.toLowerCase().split(" ").reduce(function(tt,rt){var nt=rt.toLowerCase().split("-"),it=nt[0],at=nt.slice(1).join("-");if(it&&at==="h")return tt.flipX=!0,tt;if(it&&at==="v")return tt.flipY=!0,tt;if(at=parseFloat(at),isNaN(at))return tt;switch(it){case"grow":tt.size=tt.size+at;break;case"shrink":tt.size=tt.size-at;break;case"left":tt.x=tt.x-at;break;case"right":tt.x=tt.x+at;break;case"up":tt.y=tt.y-at;break;case"down":tt.y=tt.y+at;break;case"rotate":tt.rotate=tt.rotate+at;break}return tt},et):et};function MissingIcon(_e){this.name="MissingIcon",this.message=_e||"Icon unavailable",this.stack=new Error().stack}MissingIcon.prototype=Object.create(Error.prototype);MissingIcon.prototype.constructor=MissingIcon;var FILL={fill:"currentColor"},ANIMATION_BASE={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};_objectSpread({},FILL,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var OPACITY_ANIMATE=_objectSpread({},ANIMATION_BASE,{attributeName:"opacity"});_objectSpread({},FILL,{cx:"256",cy:"364",r:"28"}),_objectSpread({},ANIMATION_BASE,{attributeName:"r",values:"28;14;28;28;14;28;"}),_objectSpread({},OPACITY_ANIMATE,{values:"1;0;1;1;0;1;"});_objectSpread({},FILL,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),_objectSpread({},OPACITY_ANIMATE,{values:"1;0;0;0;0;1;"});_objectSpread({},FILL,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),_objectSpread({},OPACITY_ANIMATE,{values:"0;0;1;1;0;0;"});namespace.styles;function asFoundIcon(_e){var _=_e[0],et=_e[1],tt=_e.slice(4),rt=_slicedToArray$8(tt,1),nt=rt[0],it=null;return Array.isArray(nt)?it={tag:"g",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:nt[0]}},{tag:"path",attributes:{class:"".concat(config.familyPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:nt[1]}}]}:it={tag:"path",attributes:{fill:"currentColor",d:nt}},{found:!0,width:_,height:et,icon:it}}namespace.styles;var baseStyles=`svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}`;function css(){var _e=DEFAULT_FAMILY_PREFIX,_=DEFAULT_REPLACEMENT_CLASS,et=config.familyPrefix,tt=config.replacementClass,rt=baseStyles;if(et!==_e||tt!==_){var nt=new RegExp("\\.".concat(_e,"\\-"),"g"),it=new RegExp("\\--".concat(_e,"\\-"),"g"),at=new RegExp("\\.".concat(_),"g");rt=rt.replace(nt,".".concat(et,"-")).replace(it,"--".concat(et,"-")).replace(at,".".concat(tt))}return rt}var Library=function(){function _e(){_classCallCheck$5(this,_e),this.definitions={}}return _createClass$5(_e,[{key:"add",value:function(){for(var et=this,tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];var it=rt.reduce(this._pullDefinitions,{});Object.keys(it).forEach(function(at){et.definitions[at]=_objectSpread({},et.definitions[at]||{},it[at]),defineIcons(at,it[at]),build()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(et,tt){var rt=tt.prefix&&tt.iconName&&tt.icon?{0:tt}:tt;return Object.keys(rt).map(function(nt){var it=rt[nt],at=it.prefix,lt=it.iconName,ct=it.icon;et[at]||(et[at]={}),et[at][lt]=ct}),et}}]),_e}();function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}function apiObject(_e,_){return Object.defineProperty(_e,"abstract",{get:_}),Object.defineProperty(_e,"html",{get:function(){return _e.abstract.map(function(tt){return toHtml(tt)})}}),Object.defineProperty(_e,"node",{get:function(){if(IS_DOM){var tt=DOCUMENT.createElement("div");return tt.innerHTML=_e.html,tt.children}}}),_e}function findIconDefinition(_e){var _=_e.prefix,et=_===void 0?"fa":_,tt=_e.iconName;if(tt)return iconFromMapping(library.definitions,et,tt)||iconFromMapping(namespace.styles,et,tt)}function resolveIcons(_e){return function(_){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=(_||{}).icon?_:findIconDefinition(_||{}),rt=et.mask;return rt&&(rt=(rt||{}).icon?rt:findIconDefinition(rt||{})),_e(tt,_objectSpread({},et,{mask:rt}))}}var library=new Library,_cssInserted=!1,parse$1={transform:function _e(_){return parseTransformString(_)}},icon=resolveIcons(function(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=_.transform,tt=et===void 0?meaninglessTransform:et,rt=_.symbol,nt=rt===void 0?!1:rt,it=_.mask,at=it===void 0?null:it,lt=_.maskId,ct=lt===void 0?null:lt,ut=_.title,st=ut===void 0?null:ut,ot=_.titleId,dt=ot===void 0?null:ot,ft=_.classes,ht=ft===void 0?[]:ft,mt=_.attributes,gt=mt===void 0?{}:mt,yt=_.styles,vt=yt===void 0?{}:yt;if(_e){var bt=_e.prefix,xt=_e.iconName,_t=_e.icon;return apiObject(_objectSpread({type:"icon"},_e),function(){return ensureCss(),config.autoA11y&&(st?gt["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(dt||nextUniqueId()):(gt["aria-hidden"]="true",gt.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(_t),mask:at?asFoundIcon(at.icon):{found:!1,width:null,height:null,icon:{}}},prefix:bt,iconName:xt,transform:_objectSpread({},meaninglessTransform,tt),symbol:nt,title:st,maskId:ct,titleId:dt,extra:{attributes:gt,styles:vt,classes:ht}})})}});function ownKeys$1(_e,_){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);_&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2$1(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys$1(Object(et),!0).forEach(function(tt){_defineProperty$c(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys$1(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function _typeof$e(_e){"@babel/helpers - typeof";return _typeof$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$e(_e)}function _defineProperty$c(_e,_,et){return _ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _objectWithoutPropertiesLoose$t(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function _objectWithoutProperties$t(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$t(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _toConsumableArray$1(_e){return _arrayWithoutHoles$1(_e)||_iterableToArray$1(_e)||_unsupportedIterableToArray$8(_e)||_nonIterableSpread$1()}function _arrayWithoutHoles$1(_e){if(Array.isArray(_e))return _arrayLikeToArray$8(_e)}function _iterableToArray$1(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _unsupportedIterableToArray$8(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$8(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$8(_e,_)}}function _arrayLikeToArray$8(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function classList(_e){var _,et=_e.beat,tt=_e.fade,rt=_e.beatFade,nt=_e.bounce,it=_e.shake,at=_e.flash,lt=_e.spin,ct=_e.spinPulse,ut=_e.spinReverse,st=_e.pulse,ot=_e.fixedWidth,dt=_e.inverse,ft=_e.border,ht=_e.listItem,mt=_e.flip,gt=_e.size,yt=_e.rotation,vt=_e.pull,bt=(_={"fa-beat":et,"fa-fade":tt,"fa-beat-fade":rt,"fa-bounce":nt,"fa-shake":it,"fa-flash":at,"fa-spin":lt,"fa-spin-reverse":ut,"fa-spin-pulse":ct,"fa-pulse":st,"fa-fw":ot,"fa-inverse":dt,"fa-border":ft,"fa-li":ht,"fa-flip":mt===!0,"fa-flip-horizontal":mt==="horizontal"||mt==="both","fa-flip-vertical":mt==="vertical"||mt==="both"},_defineProperty$c(_,"fa-".concat(gt),typeof gt<"u"&&gt!==null),_defineProperty$c(_,"fa-rotate-".concat(yt),typeof yt<"u"&&yt!==null&&yt!==0),_defineProperty$c(_,"fa-pull-".concat(vt),typeof vt<"u"&&vt!==null),_defineProperty$c(_,"fa-swap-opacity",_e.swapOpacity),_);return Object.keys(bt).map(function(xt){return bt[xt]?xt:null}).filter(function(xt){return xt})}function _isNumerical(_e){return _e=_e-0,_e===_e}function camelize(_e){return _isNumerical(_e)?_e:(_e=_e.replace(/[\-_\s]+(.)?/g,function(_,et){return et?et.toUpperCase():""}),_e.substr(0,1).toLowerCase()+_e.substr(1))}var _excluded$1$1=["style"];function capitalize(_e){return _e.charAt(0).toUpperCase()+_e.slice(1)}function styleToObject(_e){return _e.split(";").map(function(_){return _.trim()}).filter(function(_){return _}).reduce(function(_,et){var tt=et.indexOf(":"),rt=camelize(et.slice(0,tt)),nt=et.slice(tt+1).trim();return rt.startsWith("webkit")?_[capitalize(rt)]=nt:_[rt]=nt,_},{})}function convert(_e,_){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof _=="string")return _;var tt=(_.children||[]).map(function(lt){return convert(_e,lt)}),rt=Object.keys(_.attributes||{}).reduce(function(lt,ct){var ut=_.attributes[ct];switch(ct){case"class":lt.attrs.className=ut,delete _.attributes.class;break;case"style":lt.attrs.style=styleToObject(ut);break;default:ct.indexOf("aria-")===0||ct.indexOf("data-")===0?lt.attrs[ct.toLowerCase()]=ut:lt.attrs[camelize(ct)]=ut}return lt},{attrs:{}}),nt=et.style,it=nt===void 0?{}:nt,at=_objectWithoutProperties$t(et,_excluded$1$1);return rt.attrs.style=_objectSpread2$1(_objectSpread2$1({},rt.attrs.style),it),_e.apply(void 0,[_.tag,_objectSpread2$1(_objectSpread2$1({},rt.attrs),at)].concat(_toConsumableArray$1(tt)))}var PRODUCTION=!1;try{PRODUCTION=!0}catch(_e){}function log(){if(!PRODUCTION&&console&&typeof console.error=="function"){var _e;(_e=console).error.apply(_e,arguments)}}function normalizeIconArgs(_e){if(_e&&_typeof$e(_e)==="object"&&_e.prefix&&_e.iconName&&_e.icon)return _e;if(parse$1.icon)return parse$1.icon(_e);if(_e===null)return null;if(_e&&_typeof$e(_e)==="object"&&_e.prefix&&_e.iconName)return _e;if(Array.isArray(_e)&&_e.length===2)return{prefix:_e[0],iconName:_e[1]};if(typeof _e=="string")return{prefix:"fas",iconName:_e}}function objectWithKey(_e,_){return Array.isArray(_)&&_.length>0||!Array.isArray(_)&&_?_defineProperty$c({},_e,_):{}}var _excluded$V=["forwardedRef"];function FontAwesomeIcon(_e){var _=_e.forwardedRef,et=_objectWithoutProperties$t(_e,_excluded$V),tt=et.icon,rt=et.mask,nt=et.symbol,it=et.className,at=et.title,lt=et.titleId,ct=et.maskId,ut=normalizeIconArgs(tt),st=objectWithKey("classes",[].concat(_toConsumableArray$1(classList(et)),_toConsumableArray$1(it.split(" ")))),ot=objectWithKey("transform",typeof et.transform=="string"?parse$1.transform(et.transform):et.transform),dt=objectWithKey("mask",normalizeIconArgs(rt)),ft=icon(ut,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},st),ot),dt),{},{symbol:nt,title:at,titleId:lt,maskId:ct}));if(!ft)return log("Could not find icon",ut),null;var ht=ft.abstract,mt={ref:_};return Object.keys(et).forEach(function(gt){FontAwesomeIcon.defaultProps.hasOwnProperty(gt)||(mt[gt]=et[gt])}),convertCurry(ht[0],mt)}FontAwesomeIcon.displayName="FontAwesomeIcon";FontAwesomeIcon.propTypes={beat:PropTypes.bool,border:PropTypes.bool,beatFade:PropTypes.bool,bounce:PropTypes.bool,className:PropTypes.string,fade:PropTypes.bool,flash:PropTypes.bool,mask:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),maskId:PropTypes.string,fixedWidth:PropTypes.bool,inverse:PropTypes.bool,flip:PropTypes.oneOf([!0,!1,"horizontal","vertical","both"]),icon:PropTypes.oneOfType([PropTypes.object,PropTypes.array,PropTypes.string]),listItem:PropTypes.bool,pull:PropTypes.oneOf(["right","left"]),pulse:PropTypes.bool,rotation:PropTypes.oneOf([0,90,180,270]),shake:PropTypes.bool,size:PropTypes.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:PropTypes.bool,spinPulse:PropTypes.bool,spinReverse:PropTypes.bool,symbol:PropTypes.oneOfType([PropTypes.bool,PropTypes.string]),title:PropTypes.string,titleId:PropTypes.string,transform:PropTypes.oneOfType([PropTypes.string,PropTypes.object]),swapOpacity:PropTypes.bool};FontAwesomeIcon.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var convertCurry=convert.bind(null,React.createElement),faArrowUp={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0});var _="fas",et="arrow-up",tt=448,rt=512,nt=[],it="f062",at="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z";_e.definition={prefix:_,iconName:et,icon:[tt,rt,nt,it,at]},_e.faArrowUp=_e.definition,_e.prefix=_,_e.iconName=et,_e.width=tt,_e.height=rt,_e.ligatures=nt,_e.unicode=it,_e.svgPathData=at})(faArrowUp);var faArrowRight={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0});var _="fas",et="arrow-right",tt=448,rt=512,nt=[],it="f061",at="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z";_e.definition={prefix:_,iconName:et,icon:[tt,rt,nt,it,at]},_e.faArrowRight=_e.definition,_e.prefix=_,_e.iconName=et,_e.width=tt,_e.height=rt,_e.ligatures=nt,_e.unicode=it,_e.svgPathData=at})(faArrowRight);var faArrowDown={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0});var _="fas",et="arrow-down",tt=448,rt=512,nt=[],it="f063",at="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z";_e.definition={prefix:_,iconName:et,icon:[tt,rt,nt,it,at]},_e.faArrowDown=_e.definition,_e.prefix=_,_e.iconName=et,_e.width=tt,_e.height=rt,_e.ligatures=nt,_e.unicode=it,_e.svgPathData=at})(faArrowDown);var faArrowLeft={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0});var _="fas",et="arrow-left",tt=448,rt=512,nt=[],it="f060",at="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z";_e.definition={prefix:_,iconName:et,icon:[tt,rt,nt,it,at]},_e.faArrowLeft=_e.definition,_e.prefix=_,_e.iconName=et,_e.width=tt,_e.height=rt,_e.ligatures=nt,_e.unicode=it,_e.svgPathData=at})(faArrowLeft);var _excluded$U=["className","direction","children"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$r.apply(this,arguments)}function _objectWithoutProperties$s(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$s(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$s(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var ArrowButton=function _e(_){var et=_.className,tt=et===void 0?"":et,rt=_.direction,nt=rt===void 0?"right":rt,it=_.children,at=_objectWithoutProperties$s(_,_excluded$U),lt="".concat(prefix,"-button--arrow"),ct=function(){if(nt==="up")return faArrowUp.faArrowUp;if(nt==="right")return faArrowRight.faArrowRight;if(nt==="down")return faArrowDown.faArrowDown;if(nt==="left")return faArrowLeft.faArrowLeft}();return React.createElement(Button,_extends$r({},at,{className:classNames(lt,tt),icon:React.createElement(FontAwesomeIcon,{icon:ct})}),it)},faEllipsisV={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0});var _="fas",et="ellipsis-v",tt=192,rt=512,nt=[],it="f142",at="M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z";_e.definition={prefix:_,iconName:et,icon:[tt,rt,nt,it,at]},_e.faEllipsisV=_e.definition,_e.prefix=_,_e.iconName=et,_e.width=tt,_e.height=rt,_e.ligatures=nt,_e.unicode=it,_e.svgPathData=at})(faEllipsisV);var faPaperPlane={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0});var _="fas",et="paper-plane",tt=512,rt=512,nt=[],it="f1d8",at="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z";_e.definition={prefix:_,iconName:et,icon:[tt,rt,nt,it,at]},_e.faPaperPlane=_e.definition,_e.prefix=_,_e.iconName=et,_e.width=tt,_e.height=rt,_e.ligatures=nt,_e.unicode=it,_e.svgPathData=at})(faPaperPlane);var _excluded$T=["className","children"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$q.apply(this,arguments)}function _objectWithoutProperties$r(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$r(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$r(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var SendButton=function _e(_){var et=_.className,tt=et===void 0?"":et,rt=_.children,nt=_objectWithoutProperties$r(_,_excluded$T),it="".concat(prefix,"-button--send");return React.createElement(Button,_extends$q({},nt,{className:classNames(it,tt),icon:React.createElement(FontAwesomeIcon,{icon:faPaperPlane.faPaperPlane})}),rt)},faPaperclip={};(function(_e){Object.defineProperty(_e,"__esModule",{value:!0});var _="fas",et="paperclip",tt=448,rt=512,nt=[],it="f0c6",at="M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z";_e.definition={prefix:_,iconName:et,icon:[tt,rt,nt,it,at]},_e.faPaperclip=_e.definition,_e.prefix=_,_e.iconName=et,_e.width=tt,_e.height=rt,_e.ligatures=nt,_e.unicode=it,_e.svgPathData=at})(faPaperclip);var _excluded$S=["className","children"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$p.apply(this,arguments)}function _objectWithoutProperties$q(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$q(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$q(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var AttachmentButton=function _e(_){var et=_.className,tt=et===void 0?"":et,rt=_.children,nt=_objectWithoutProperties$q(_,_excluded$S),it="".concat(prefix,"-button--attachment");return React.createElement(Button,_extends$p({},nt,{className:classNames(it,tt),icon:React.createElement(FontAwesomeIcon,{icon:faPaperclip.faPaperclip})}),rt)},_excluded$R=["onClick","children","className"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$o.apply(this,arguments)}function _objectWithoutProperties$p(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$p(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$p(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var ConversationHeaderBack=function _e(_){var et=_.onClick,tt=et===void 0?function(){}:et,rt=_.children,nt=rt===void 0?void 0:rt,it=_.className,at=_objectWithoutProperties$p(_,_excluded$R),lt="".concat(prefix,"-conversation-header__back");return React.createElement("div",_extends$o({},at,{className:classNames(lt,it)}),typeof nt<"u"?nt:React.createElement(ArrowButton,{direction:"left",onClick:tt}))};ConversationHeaderBack.displayName="ConversationHeader.Back";var _excluded$Q=["children","className"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$n.apply(this,arguments)}function _objectWithoutProperties$o(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$o(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$o(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var ConversationHeaderActions=function _e(_){var et=_.children,tt=et===void 0?void 0:et,rt=_.className,nt=_objectWithoutProperties$o(_,_excluded$Q),it="".concat(prefix,"-conversation-header__actions");return React.createElement("section",_extends$n({},nt,{className:classNames(it,rt)}),tt)};ConversationHeaderActions.displayName="ConversationHeader.Actions";var _excluded$P=["userName","info","children","className"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$m.apply(this,arguments)}function _objectWithoutProperties$n(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$n(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$n(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var ConversationHeaderContent=function _e(_){var et=_.userName,tt=et===void 0?"":et,rt=_.info,nt=rt===void 0?"":rt,it=_.children,at=it===void 0?void 0:it,lt=_.className,ct=_objectWithoutProperties$n(_,_excluded$P),ut="".concat(prefix,"-conversation-header__content");return React.createElement("div",_extends$m({},ct,{className:classNames(ut,lt)}),typeof at<"u"?at:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-conversation-header__user-name")},tt),React.createElement("div",{className:"".concat(prefix,"-conversation-header__info")},nt)))};ConversationHeaderContent.displayName="ConversationHeader.Content";var _excluded$O=["children","className"];function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$l.apply(this,arguments)}function _slicedToArray$7(_e,_){return _arrayWithHoles$7(_e)||_iterableToArrayLimit$7(_e,_)||_unsupportedIterableToArray$7(_e,_)||_nonIterableRest$7()}function _nonIterableRest$7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$7(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$7(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$7(_e,_)}}function _arrayLikeToArray$7(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$7(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],lt=!0,ct=!1;try{if(nt=(et=et.call(_e)).next,_!==0)for(;!(lt=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==_);lt=!0);}catch(ut){ct=!0,rt=ut}finally{try{if(!lt&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ct)throw rt}}return at}}function _arrayWithHoles$7(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties$m(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$m(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$m(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var ConversationHeader=function _e(_){var et=_.children,tt=et===void 0?void 0:et,rt=_.className,nt=_objectWithoutProperties$m(_,_excluded$O),it="".concat(prefix,"-conversation-header"),at=getChildren(tt,[ConversationHeaderBack,Avatar,AvatarGroup,ConversationHeaderContent,ConversationHeaderActions]),lt=_slicedToArray$7(at,5),ct=lt[0],ut=lt[1],st=lt[2],ot=lt[3],dt=lt[4];return React.createElement("div",_extends$l({},nt,{className:classNames(it,rt)}),ct,ut&&React.createElement("div",{className:"".concat(it,"__avatar")},ut),!ut&&st&&React.createElement("div",{className:"".concat(it,"__avatar")},st),ot,dt)};ConversationHeader.displayName="ConversationHeader";ConversationHeader.Back=ConversationHeaderBack;ConversationHeader.Actions=ConversationHeaderActions;ConversationHeader.Content=ConversationHeaderContent;/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function get$1(_e){return getComputedStyle(_e)}function set$1(_e,_){for(var et in _){var tt=_[et];typeof tt=="number"&&(tt=tt+"px"),_e.style[et]=tt}return _e}function div(_e){var _=document.createElement("div");return _.className=_e,_}var elMatches=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function matches(_e,_){if(!elMatches)throw new Error("No element matching method supported");return elMatches.call(_e,_)}function remove(_e){_e.remove?_e.remove():_e.parentNode&&_e.parentNode.removeChild(_e)}function queryChildren(_e,_){return Array.prototype.filter.call(_e.children,function(et){return matches(et,_)})}var cls={main:"ps",rtl:"ps__rtl",element:{thumb:function _e(_){return"ps__thumb-"+_},rail:function _e(_){return"ps__rail-"+_},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function _e(_){return"ps--active-"+_},scrolling:function _e(_){return"ps--scrolling-"+_}}},scrollingClassTimeout={x:null,y:null};function addScrollingClass(_e,_){var et=_e.element.classList,tt=cls.state.scrolling(_);et.contains(tt)?clearTimeout(scrollingClassTimeout[_]):et.add(tt)}function removeScrollingClass(_e,_){scrollingClassTimeout[_]=setTimeout(function(){return _e.isAlive&&_e.element.classList.remove(cls.state.scrolling(_))},_e.settings.scrollingThreshold)}function setScrollingClassInstantly(_e,_){addScrollingClass(_e,_),removeScrollingClass(_e,_)}var EventElement=function _e(_){this.element=_,this.handlers={}},prototypeAccessors={isEmpty:{configurable:!0}};EventElement.prototype.bind=function _e(_,et){typeof this.handlers[_]>"u"&&(this.handlers[_]=[]),this.handlers[_].push(et);var tt=["touchstart","wheel","touchmove"];tt.indexOf(_)!==-1?this.element.addEventListener(_,et,{passive:!1}):this.element.addEventListener(_,et,!1)};EventElement.prototype.unbind=function _e(_,et){var tt=this;this.handlers[_]=this.handlers[_].filter(function(rt){return et&&rt!==et?!0:(tt.element.removeEventListener(_,rt,!1),!1)})};EventElement.prototype.unbindAll=function _e(){for(var _ in this.handlers)this.unbind(_)};prototypeAccessors.isEmpty.get=function(){var _e=this;return Object.keys(this.handlers).every(function(_){return _e.handlers[_].length===0})};Object.defineProperties(EventElement.prototype,prototypeAccessors);var EventManager=function _e(){this.eventElements=[]};EventManager.prototype.eventElement=function _e(_){var et=this.eventElements.filter(function(tt){return tt.element===_})[0];return et||(et=new EventElement(_),this.eventElements.push(et)),et};EventManager.prototype.bind=function _e(_,et,tt){this.eventElement(_).bind(et,tt)};EventManager.prototype.unbind=function _e(_,et,tt){var rt=this.eventElement(_);rt.unbind(et,tt),rt.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(rt),1)};EventManager.prototype.unbindAll=function _e(){this.eventElements.forEach(function(_){return _.unbindAll()}),this.eventElements=[]};EventManager.prototype.once=function _e(_,et,tt){var rt=this.eventElement(_),nt=function it(at){rt.unbind(et,it),tt(at)};rt.bind(et,nt)};function createEvent(_e){if(typeof window.CustomEvent=="function")return new CustomEvent(_e);var _=document.createEvent("CustomEvent");return _.initCustomEvent(_e,!1,!1,void 0),_}function processScrollDiff(_e,_,et,tt,rt,nt){tt===void 0&&(tt=!0),rt===void 0&&(rt=!1);var it;if(_==="top")it=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(_==="left")it=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");processScrollDiff$1(_e,et,it,tt,rt,nt)}function processScrollDiff$1(_e,_,et,tt,rt,nt){var it=et[0],at=et[1],lt=et[2],ct=et[3],ut=et[4],st=et[5];tt===void 0&&(tt=!0),rt===void 0&&(rt=!1);var ot=_e.element;_e.reach[ct]=null;var dt=nt===!0?_e[it]!==_e[at]:!0;dt&&ot[lt]<1&&(_e.reach[ct]="start"),dt&&ot[lt]>_e[it]-_e[at]-1&&(_e.reach[ct]="end"),_&&(ot.dispatchEvent(createEvent("ps-scroll-"+ct)),_<0?ot.dispatchEvent(createEvent("ps-scroll-"+ut)):_>0&&ot.dispatchEvent(createEvent("ps-scroll-"+st)),tt&&setScrollingClassInstantly(_e,ct)),_e.reach[ct]&&(_||rt)&&ot.dispatchEvent(createEvent("ps-"+ct+"-reach-"+_e.reach[ct]))}function toInt(_e){return parseInt(_e,10)||0}function isEditable(_e){return matches(_e,"input,[contenteditable]")||matches(_e,"select,[contenteditable]")||matches(_e,"textarea,[contenteditable]")||matches(_e,"button,[contenteditable]")}function outerWidth(_e){var _=get$1(_e);return toInt(_.width)+toInt(_.paddingLeft)+toInt(_.paddingRight)+toInt(_.borderLeftWidth)+toInt(_.borderRightWidth)}var env={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function updateGeometry(_e){var _=_e.element,et=Math.floor(_.scrollTop),tt=_.getBoundingClientRect();_e.containerWidth=Math.round(tt.width),_e.containerHeight=Math.round(tt.height),_e.contentWidth=_.scrollWidth,_e.contentHeight=_.scrollHeight,_.contains(_e.scrollbarXRail)||(queryChildren(_,cls.element.rail("x")).forEach(function(rt){return remove(rt)}),_.appendChild(_e.scrollbarXRail)),_.contains(_e.scrollbarYRail)||(queryChildren(_,cls.element.rail("y")).forEach(function(rt){return remove(rt)}),_.appendChild(_e.scrollbarYRail)),!_e.settings.suppressScrollX&&_e.containerWidth+_e.settings.scrollXMarginOffset<_e.contentWidth?(_e.scrollbarXActive=!0,_e.railXWidth=_e.containerWidth-_e.railXMarginWidth,_e.railXRatio=_e.containerWidth/_e.railXWidth,_e.scrollbarXWidth=getThumbSize(_e,toInt(_e.railXWidth*_e.containerWidth/_e.contentWidth)),_e.scrollbarXLeft=toInt((_e.negativeScrollAdjustment+_.scrollLeft)*(_e.railXWidth-_e.scrollbarXWidth)/(_e.contentWidth-_e.containerWidth))):_e.scrollbarXActive=!1,!_e.settings.suppressScrollY&&_e.containerHeight+_e.settings.scrollYMarginOffset<_e.contentHeight?(_e.scrollbarYActive=!0,_e.railYHeight=_e.containerHeight-_e.railYMarginHeight,_e.railYRatio=_e.containerHeight/_e.railYHeight,_e.scrollbarYHeight=getThumbSize(_e,toInt(_e.railYHeight*_e.containerHeight/_e.contentHeight)),_e.scrollbarYTop=toInt(et*(_e.railYHeight-_e.scrollbarYHeight)/(_e.contentHeight-_e.containerHeight))):_e.scrollbarYActive=!1,_e.scrollbarXLeft>=_e.railXWidth-_e.scrollbarXWidth&&(_e.scrollbarXLeft=_e.railXWidth-_e.scrollbarXWidth),_e.scrollbarYTop>=_e.railYHeight-_e.scrollbarYHeight&&(_e.scrollbarYTop=_e.railYHeight-_e.scrollbarYHeight),updateCss(_,_e),_e.scrollbarXActive?_.classList.add(cls.state.active("x")):(_.classList.remove(cls.state.active("x")),_e.scrollbarXWidth=0,_e.scrollbarXLeft=0,_.scrollLeft=_e.isRtl===!0?_e.contentWidth:0),_e.scrollbarYActive?_.classList.add(cls.state.active("y")):(_.classList.remove(cls.state.active("y")),_e.scrollbarYHeight=0,_e.scrollbarYTop=0,_.scrollTop=0)}function getThumbSize(_e,_){return _e.settings.minScrollbarLength&&(_=Math.max(_,_e.settings.minScrollbarLength)),_e.settings.maxScrollbarLength&&(_=Math.min(_,_e.settings.maxScrollbarLength)),_}function updateCss(_e,_){var et={width:_.railXWidth},tt=Math.floor(_e.scrollTop);_.isRtl?et.left=_.negativeScrollAdjustment+_e.scrollLeft+_.containerWidth-_.contentWidth:et.left=_e.scrollLeft,_.isScrollbarXUsingBottom?et.bottom=_.scrollbarXBottom-tt:et.top=_.scrollbarXTop+tt,set$1(_.scrollbarXRail,et);var rt={top:tt,height:_.railYHeight};_.isScrollbarYUsingRight?_.isRtl?rt.right=_.contentWidth-(_.negativeScrollAdjustment+_e.scrollLeft)-_.scrollbarYRight-_.scrollbarYOuterWidth-9:rt.right=_.scrollbarYRight-_e.scrollLeft:_.isRtl?rt.left=_.negativeScrollAdjustment+_e.scrollLeft+_.containerWidth*2-_.contentWidth-_.scrollbarYLeft-_.scrollbarYOuterWidth:rt.left=_.scrollbarYLeft+_e.scrollLeft,set$1(_.scrollbarYRail,rt),set$1(_.scrollbarX,{left:_.scrollbarXLeft,width:_.scrollbarXWidth-_.railBorderXWidth}),set$1(_.scrollbarY,{top:_.scrollbarYTop,height:_.scrollbarYHeight-_.railBorderYWidth})}function clickRail(_e){_e.element,_e.event.bind(_e.scrollbarY,"mousedown",function(_){return _.stopPropagation()}),_e.event.bind(_e.scrollbarYRail,"mousedown",function(_){var et=_.pageY-window.pageYOffset-_e.scrollbarYRail.getBoundingClientRect().top,tt=et>_e.scrollbarYTop?1:-1;_e.element.scrollTop+=tt*_e.containerHeight,updateGeometry(_e),_.stopPropagation()}),_e.event.bind(_e.scrollbarX,"mousedown",function(_){return _.stopPropagation()}),_e.event.bind(_e.scrollbarXRail,"mousedown",function(_){var et=_.pageX-window.pageXOffset-_e.scrollbarXRail.getBoundingClientRect().left,tt=et>_e.scrollbarXLeft?1:-1;_e.element.scrollLeft+=tt*_e.containerWidth,updateGeometry(_e),_.stopPropagation()})}function dragThumb(_e){bindMouseScrollHandler(_e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),bindMouseScrollHandler(_e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function bindMouseScrollHandler(_e,_){var et=_[0],tt=_[1],rt=_[2],nt=_[3],it=_[4],at=_[5],lt=_[6],ct=_[7],ut=_[8],st=_e.element,ot=null,dt=null,ft=null;function ht(yt){yt.touches&&yt.touches[0]&&(yt[rt]=yt.touches[0].pageY),st[lt]=ot+ft*(yt[rt]-dt),addScrollingClass(_e,ct),updateGeometry(_e),yt.stopPropagation(),yt.preventDefault()}function mt(){removeScrollingClass(_e,ct),_e[ut].classList.remove(cls.state.clicking),_e.event.unbind(_e.ownerDocument,"mousemove",ht)}function gt(yt,vt){ot=st[lt],vt&&yt.touches&&(yt[rt]=yt.touches[0].pageY),dt=yt[rt],ft=(_e[tt]-_e[et])/(_e[nt]-_e[at]),vt?_e.event.bind(_e.ownerDocument,"touchmove",ht):(_e.event.bind(_e.ownerDocument,"mousemove",ht),_e.event.once(_e.ownerDocument,"mouseup",mt),yt.preventDefault()),_e[ut].classList.add(cls.state.clicking),yt.stopPropagation()}_e.event.bind(_e[it],"mousedown",function(yt){gt(yt)}),_e.event.bind(_e[it],"touchstart",function(yt){gt(yt,!0)})}function keyboard(_e){var _=_e.element,et=function(){return matches(_,":hover")},tt=function(){return matches(_e.scrollbarX,":focus")||matches(_e.scrollbarY,":focus")};function rt(nt,it){var at=Math.floor(_.scrollTop);if(nt===0){if(!_e.scrollbarYActive)return!1;if(at===0&&it>0||at>=_e.contentHeight-_e.containerHeight&&it<0)return!_e.settings.wheelPropagation}var lt=_.scrollLeft;if(it===0){if(!_e.scrollbarXActive)return!1;if(lt===0&&nt<0||lt>=_e.contentWidth-_e.containerWidth&&nt>0)return!_e.settings.wheelPropagation}return!0}_e.event.bind(_e.ownerDocument,"keydown",function(nt){if(!(nt.isDefaultPrevented&&nt.isDefaultPrevented()||nt.defaultPrevented)&&!(!et()&&!tt())){var it=document.activeElement?document.activeElement:_e.ownerDocument.activeElement;if(it){if(it.tagName==="IFRAME")it=it.contentDocument.activeElement;else for(;it.shadowRoot;)it=it.shadowRoot.activeElement;if(isEditable(it))return}var at=0,lt=0;switch(nt.which){case 37:nt.metaKey?at=-_e.contentWidth:nt.altKey?at=-_e.containerWidth:at=-30;break;case 38:nt.metaKey?lt=_e.contentHeight:nt.altKey?lt=_e.containerHeight:lt=30;break;case 39:nt.metaKey?at=_e.contentWidth:nt.altKey?at=_e.containerWidth:at=30;break;case 40:nt.metaKey?lt=-_e.contentHeight:nt.altKey?lt=-_e.containerHeight:lt=-30;break;case 32:nt.shiftKey?lt=_e.containerHeight:lt=-_e.containerHeight;break;case 33:lt=_e.containerHeight;break;case 34:lt=-_e.containerHeight;break;case 36:lt=_e.contentHeight;break;case 35:lt=-_e.contentHeight;break;default:return}_e.settings.suppressScrollX&&at!==0||_e.settings.suppressScrollY&&lt!==0||(_.scrollTop-=lt,_.scrollLeft+=at,updateGeometry(_e),rt(at,lt)&&nt.preventDefault())}})}function wheel(_e){var _=_e.element;function et(it,at){var lt=Math.floor(_.scrollTop),ct=_.scrollTop===0,ut=lt+_.offsetHeight===_.scrollHeight,st=_.scrollLeft===0,ot=_.scrollLeft+_.offsetWidth===_.scrollWidth,dt;return Math.abs(at)>Math.abs(it)?dt=ct||ut:dt=st||ot,dt?!_e.settings.wheelPropagation:!0}function tt(it){var at=it.deltaX,lt=-1*it.deltaY;return(typeof at>"u"||typeof lt>"u")&&(at=-1*it.wheelDeltaX/6,lt=it.wheelDeltaY/6),it.deltaMode&&it.deltaMode===1&&(at*=10,lt*=10),at!==at&&lt!==lt&&(at=0,lt=it.wheelDelta),it.shiftKey?[-lt,-at]:[at,lt]}function rt(it,at,lt){if(!env.isWebKit&&_.querySelector("select:focus"))return!0;if(!_.contains(it))return!1;for(var ct=it;ct&&ct!==_;){if(ct.classList.contains(cls.element.consuming))return!0;var ut=get$1(ct);if(lt&&ut.overflowY.match(/(scroll|auto)/)){var st=ct.scrollHeight-ct.clientHeight;if(st>0&&(ct.scrollTop>0&&lt<0||ct.scrollTop<st&&lt>0))return!0}if(at&&ut.overflowX.match(/(scroll|auto)/)){var ot=ct.scrollWidth-ct.clientWidth;if(ot>0&&(ct.scrollLeft>0&&at<0||ct.scrollLeft<ot&&at>0))return!0}ct=ct.parentNode}return!1}function nt(it){var at=tt(it),lt=at[0],ct=at[1];if(!rt(it.target,lt,ct)){var ut=!1;_e.settings.useBothWheelAxes?_e.scrollbarYActive&&!_e.scrollbarXActive?(ct?_.scrollTop-=ct*_e.settings.wheelSpeed:_.scrollTop+=lt*_e.settings.wheelSpeed,ut=!0):_e.scrollbarXActive&&!_e.scrollbarYActive&&(lt?_.scrollLeft+=lt*_e.settings.wheelSpeed:_.scrollLeft-=ct*_e.settings.wheelSpeed,ut=!0):(_.scrollTop-=ct*_e.settings.wheelSpeed,_.scrollLeft+=lt*_e.settings.wheelSpeed),updateGeometry(_e),ut=ut||et(lt,ct),ut&&!it.ctrlKey&&(it.stopPropagation(),it.preventDefault())}}typeof window.onwheel<"u"?_e.event.bind(_,"wheel",nt):typeof window.onmousewheel<"u"&&_e.event.bind(_,"mousewheel",nt)}function touch(_e){if(!env.supportsTouch&&!env.supportsIePointer)return;var _=_e.element;function et(ft,ht){var mt=Math.floor(_.scrollTop),gt=Math.ceil(_.scrollLeft),yt=Math.abs(ft),vt=Math.abs(ht);if(!_e.settings.wheelPropagation)return!0;if(vt>yt){if(_e.settings.suppressScrollY)return!1;if(ht>0)return mt!==0;if(ht<0)return mt<_e.contentHeight-_e.containerHeight}else if(yt>vt){if(_e.settings.suppressScrollX)return!1;if(ft>0)return gt!==0;if(ht<0)return gt<_e.contentWidth-_e.containerWidth}return!0}function tt(ft,ht){_.scrollTop-=ht,_.scrollLeft-=ft,updateGeometry(_e)}var rt={},nt=0,it={},at=null;function lt(ft){return ft.targetTouches?ft.targetTouches[0]:ft}function ct(ft){return ft.pointerType&&ft.pointerType==="pen"&&ft.buttons===0?!1:!!(ft.targetTouches&&ft.targetTouches.length===1||ft.pointerType&&ft.pointerType!=="mouse"&&ft.pointerType!==ft.MSPOINTER_TYPE_MOUSE)}function ut(ft){if(ct(ft)){var ht=lt(ft);rt.pageX=ht.pageX,rt.pageY=ht.pageY,nt=new Date().getTime(),at!==null&&clearInterval(at)}}function st(ft,ht,mt){if(!_.contains(ft))return!1;for(var gt=ft;gt&&gt!==_;){if(gt.classList.contains(cls.element.consuming))return!0;var yt=get$1(gt);if(mt&&yt.overflowY.match(/(scroll|auto)/)){var vt=gt.scrollHeight-gt.clientHeight;if(vt>0&&(gt.scrollTop>0&&mt<0||gt.scrollTop<vt&&mt>0))return!0}if(ht&&yt.overflowX.match(/(scroll|auto)/)){var bt=gt.scrollWidth-gt.clientWidth;if(bt>0&&(gt.scrollLeft>0&&ht<0||gt.scrollLeft<bt&&ht>0))return!0}gt=gt.parentNode}return!1}function ot(ft){if(ct(ft)){var ht=lt(ft),mt={pageX:ht.pageX,pageY:ht.pageY},gt=mt.pageX-rt.pageX,yt=mt.pageY-rt.pageY;if(st(ft.target,gt,yt))return;tt(gt,yt),rt=mt;var vt=new Date().getTime(),bt=vt-nt;bt>0&&(it.x=gt/bt,it.y=yt/bt,nt=vt),ft.cancelable&&et(gt,yt)&&ft.preventDefault()}}function dt(){_e.settings.swipeEasing&&(clearInterval(at),at=setInterval(function(){if(_e.isInitialized){clearInterval(at);return}if(!it.x&&!it.y){clearInterval(at);return}if(Math.abs(it.x)<.01&&Math.abs(it.y)<.01){clearInterval(at);return}tt(it.x*30,it.y*30),it.x*=.8,it.y*=.8},10))}env.supportsTouch?(_e.event.bind(_,"touchstart",ut),_e.event.bind(_,"touchmove",ot),_e.event.bind(_,"touchend",dt)):env.supportsIePointer&&(window.PointerEvent?(_e.event.bind(_,"pointerdown",ut),_e.event.bind(_,"pointermove",ot),_e.event.bind(_,"pointerup",dt)):window.MSPointerEvent&&(_e.event.bind(_,"MSPointerDown",ut),_e.event.bind(_,"MSPointerMove",ot),_e.event.bind(_,"MSPointerUp",dt)))}var defaultSettings=function _e(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},handlers={"click-rail":clickRail,"drag-thumb":dragThumb,keyboard,wheel,touch},PerfectScrollbar=function _e(_,et){var tt=this;if(et===void 0&&(et={}),typeof _=="string"&&(_=document.querySelector(_)),!_||!_.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=_,_.classList.add(cls.main),this.settings=defaultSettings();for(var rt in et)this.settings[rt]=et[rt];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var nt=function(){return _.classList.add(cls.state.focus)},it=function(){return _.classList.remove(cls.state.focus)};this.isRtl=get$1(_).direction==="rtl",this.isRtl===!0&&_.classList.add(cls.rtl),this.isNegativeScroll=function(){var ct=_.scrollLeft,ut=null;return _.scrollLeft=-1,ut=_.scrollLeft<0,_.scrollLeft=ct,ut}(),this.negativeScrollAdjustment=this.isNegativeScroll?_.scrollWidth-_.clientWidth:0,this.event=new EventManager,this.ownerDocument=_.ownerDocument||document,this.scrollbarXRail=div(cls.element.rail("x")),_.appendChild(this.scrollbarXRail),this.scrollbarX=div(cls.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",nt),this.event.bind(this.scrollbarX,"blur",it),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var at=get$1(this.scrollbarXRail);this.scrollbarXBottom=parseInt(at.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=toInt(at.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=toInt(at.borderLeftWidth)+toInt(at.borderRightWidth),set$1(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=toInt(at.marginLeft)+toInt(at.marginRight),set$1(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=div(cls.element.rail("y")),_.appendChild(this.scrollbarYRail),this.scrollbarY=div(cls.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",nt),this.event.bind(this.scrollbarY,"blur",it),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var lt=get$1(this.scrollbarYRail);this.scrollbarYRight=parseInt(lt.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=toInt(lt.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?outerWidth(this.scrollbarY):null,this.railBorderYWidth=toInt(lt.borderTopWidth)+toInt(lt.borderBottomWidth),set$1(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=toInt(lt.marginTop)+toInt(lt.marginBottom),set$1(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:_.scrollLeft<=0?"start":_.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:_.scrollTop<=0?"start":_.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(ct){return handlers[ct](tt)}),this.lastScrollTop=Math.floor(_.scrollTop),this.lastScrollLeft=_.scrollLeft,this.event.bind(this.element,"scroll",function(ct){return tt.onScroll(ct)}),updateGeometry(this)};PerfectScrollbar.prototype.update=function _e(_){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,set$1(this.scrollbarXRail,{display:"block"}),set$1(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=toInt(get$1(this.scrollbarXRail).marginLeft)+toInt(get$1(this.scrollbarXRail).marginRight),this.railYMarginHeight=toInt(get$1(this.scrollbarYRail).marginTop)+toInt(get$1(this.scrollbarYRail).marginBottom),set$1(this.scrollbarXRail,{display:"none"}),set$1(this.scrollbarYRail,{display:"none"}),updateGeometry(this),processScrollDiff(this,"top",0,!1,!0,_),processScrollDiff(this,"left",0,!1,!0,_),set$1(this.scrollbarXRail,{display:""}),set$1(this.scrollbarYRail,{display:""}))};PerfectScrollbar.prototype.onScroll=function _e(_){this.isAlive&&(updateGeometry(this),processScrollDiff(this,"top",this.element.scrollTop-this.lastScrollTop),processScrollDiff(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};PerfectScrollbar.prototype.destroy=function _e(){this.isAlive&&(this.event.unbindAll(),remove(this.scrollbarX),remove(this.scrollbarY),remove(this.scrollbarXRail),remove(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};PerfectScrollbar.prototype.removePsClasses=function _e(){this.element.className=this.element.className.split(" ").filter(function(_){return!_.match(/^ps([-_].+|)$/)}).join(" ")};function _typeof$d(_e){"@babel/helpers - typeof";return _typeof$d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$d(_e)}var _excluded$N=["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$k.apply(this,arguments)}function _objectWithoutProperties$l(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$l(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$l(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function _classCallCheck$4(_e,_){if(!(_e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(_e,_){for(var et=0;et<_.length;et++){var tt=_[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$b(tt.key),tt)}}function _createClass$4(_e,_,et){return _defineProperties$4(_e.prototype,_),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _toPropertyKey$b(_e){var _=_toPrimitive$b(_e,"string");return _typeof$d(_)=="symbol"?_:String(_)}function _toPrimitive$b(_e,_){if(_typeof$d(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_);if(_typeof$d(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}function _callSuper$3(_e,_,et){return _=_getPrototypeOf$4(_),_possibleConstructorReturn$4(_e,_isNativeReflectConstruct$4()?Reflect.construct(_,et,_getPrototypeOf$4(_e).constructor):_.apply(_e,et))}function _possibleConstructorReturn$4(_e,_){if(_&&(_typeof$d(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$4(_e)}function _isNativeReflectConstruct$4(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$4=function(){return!!_e})()}function _getPrototypeOf$4(_e){return _getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$4(_e)}function _assertThisInitialized$4(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _inherits$4(_e,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(_&&_.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),_&&_setPrototypeOf$4(_e,_)}function _setPrototypeOf$4(_e,_){return _setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$4(_e,_)}var handlerNameByEvent={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(handlerNameByEvent);var ScrollBar=function(_e){_inherits$4(_,_e);function _(et){var tt;return _classCallCheck$4(this,_),tt=_callSuper$3(this,_,[et]),tt.handleRef=tt.handleRef.bind(_assertThisInitialized$4(tt)),tt._handlerByEvent={},tt}return _createClass$4(_,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new PerfectScrollbar(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(tt){this._updateEventHook(tt),this.updateScroll(),tt.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var tt=this;Object.keys(this._handlerByEvent).forEach(function(rt){var nt=tt._handlerByEvent[rt];nt&&tt._container.removeEventListener(rt,nt,!1)}),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var tt=this,rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.keys(handlerNameByEvent).forEach(function(nt){var it=tt.props[handlerNameByEvent[nt]],at=rt[handlerNameByEvent[nt]];if(it!==at){if(at){var lt=tt._handlerByEvent[nt];tt._container.removeEventListener(nt,lt,!1),tt._handlerByEvent[nt]=null}if(it){var ct=function(){return it(tt._container)};tt._container.addEventListener(nt,ct,!1),tt._handlerByEvent[nt]=ct}}})}},{key:"_updateClassName",value:function(){var tt=this.props.className,rt=this._container.className.split(" ").filter(function(nt){return nt.match(/^ps([-_].+|)$/)}).join(" ");this._container&&(this._container.className="scrollbar-container".concat(tt?" ".concat(tt):"").concat(rt?" ".concat(rt):""))}},{key:"updateScroll",value:function(){var tt=this.props.onSync;typeof tt=="function"?tt(this._ps):this._ps.update()}},{key:"handleRef",value:function(tt){var rt,nt;this._container=tt,(rt=(nt=this.props).containerRef)===null||rt===void 0||rt.call(nt,tt)}},{key:"render",value:function(){var tt=this.props;tt.className;var rt=tt.style;tt.option,tt.options,tt.containerRef,tt.onScrollY,tt.onScrollX,tt.onScrollUp,tt.onScrollDown,tt.onScrollLeft,tt.onScrollRight,tt.onYReachStart,tt.onYReachEnd,tt.onXReachStart,tt.onXReachEnd;var nt=tt.component;tt.onSync;var it=tt.children,at=_objectWithoutProperties$l(tt,_excluded$N),lt=typeof nt>"u"?"div":nt;return React.createElement(lt,_extends$k({style:rt,ref:this.handleRef},at),it)}}]),_}(reactExports.Component);function _typeof$c(_e){"@babel/helpers - typeof";return _typeof$c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$c(_e)}var _excluded$M=["className","variant","children"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$j.apply(this,arguments)}function _defineProperty$b(_e,_,et){return _=_toPropertyKey$a(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$a(_e){var _=_toPrimitive$a(_e,"string");return _typeof$c(_)=="symbol"?_:String(_)}function _toPrimitive$a(_e,_){if(_typeof$c(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$c(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _objectWithoutProperties$k(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$k(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$k(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var Loader=function _e(_){var et=_.className,tt=et===void 0?void 0:et,rt=_.variant,nt=rt===void 0?"default":rt,it=_.children,at=_objectWithoutProperties$k(_,_excluded$M),lt="".concat(prefix,"-loader"),ct=React.Children.count(it)>0?"".concat(lt,"--content"):"";return React.createElement("div",_extends$j({},at,{className:classNames(lt,ct,_defineProperty$b({},"".concat(lt,"--variant-").concat(nt),nt!=="default"),tt),role:"status"}),it)};function _typeof$b(_e){"@babel/helpers - typeof";return _typeof$b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$b(_e)}var _excluded$L=["className","children","blur","grayscale"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$i.apply(this,arguments)}function _defineProperty$a(_e,_,et){return _=_toPropertyKey$9(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$9(_e){var _=_toPrimitive$9(_e,"string");return _typeof$b(_)=="symbol"?_:String(_)}function _toPrimitive$9(_e,_){if(_typeof$b(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$b(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _objectWithoutProperties$j(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$j(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$j(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var Overlay$1=function _e(_){var et=_.className,tt=et===void 0?"":et,rt=_.children,nt=rt===void 0?void 0:rt,it=_.blur,at=it===void 0?!1:it,lt=_.grayscale,ct=lt===void 0?!1:lt,ut=_objectWithoutProperties$j(_,_excluded$L),st="".concat(prefix,"-overlay"),ot="".concat(st,"--blur"),dt="".concat(st,"--grayscale");return React.createElement("div",_extends$i({},ut,{className:classNames(st,_defineProperty$a({},ot,at),_defineProperty$a({},dt,ct),tt)}),React.createElement("div",{className:"".concat(st,"__content")},nt))},_excluded$K=["sender","sentTime","children","className"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$h.apply(this,arguments)}function _objectWithoutProperties$i(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$i(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$i(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MessageHeader=function _e(_){var et=_.sender,tt=et===void 0?"":et,rt=_.sentTime,nt=rt===void 0?"":rt,it=_.children,at=it===void 0?void 0:it,lt=_.className,ct=_objectWithoutProperties$i(_,_excluded$K),ut="".concat(prefix,"-message__header");return React.createElement("div",_extends$h({},ct,{className:classNames(ut,lt)}),typeof at<"u"?at:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-message__sender-name")},tt),React.createElement("div",{className:"".concat(prefix,"-message__sent-time")},nt)))};MessageHeader.displayName="Message.Header";var _excluded$J=["sender","sentTime","children","className"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$g.apply(this,arguments)}function _objectWithoutProperties$h(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$h(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$h(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MessageFooter=function _e(_){var et=_.sender,tt=et===void 0?"":et,rt=_.sentTime,nt=rt===void 0?"":rt,it=_.children,at=it===void 0?void 0:it,lt=_.className,ct=_objectWithoutProperties$h(_,_excluded$J),ut="".concat(prefix,"-message__footer");return React.createElement("div",_extends$g({},ct,{className:classNames(ut,lt)}),typeof at<"u"?at:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(prefix,"-message__sender-name")},tt),React.createElement("div",{className:"".concat(prefix,"-message__sent-time")},nt)))};MessageFooter.displayName="Message.Footer";var MessageCustomContent=function _e(_){var et=_.children,tt=_.className,rt="".concat(prefix,"-message__custom-content");return React.createElement("div",{className:classNames(rt,tt)},et)};MessageCustomContent.displayName="Message.CustomContent";var MessageImageContent=function _e(_){var et=_.src,tt=_.width,rt=_.height,nt=_.alt,it=_.className,at="".concat(prefix,"-message__image-content"),lt={width:typeof tt=="number"?"".concat(tt,"px"):typeof tt=="string"?tt:void 0,height:typeof rt=="number"?"".concat(rt,"px"):typeof rt=="string"?rt:void 0};return React.createElement("div",{className:classNames(at,it)},React.createElement("img",{src:et,style:lt,alt:nt}))};MessageImageContent.displayName="Message.ImageContent";var MessageHtmlContent=function _e(_){var et=_.html,tt=_.className,rt="".concat(prefix,"-message__html-content"),nt=function(){return{__html:et}};return React.createElement("div",{className:classNames(rt,tt),dangerouslySetInnerHTML:nt()})};MessageHtmlContent.displayName="Message.HtmlContent";var MessageTextContent=function _e(_){var et=_.text,tt=_.className,rt=_.children,nt="".concat(prefix,"-message__text-content"),it=rt??et;return React.createElement("div",{className:classNames(nt,tt)},it)};MessageTextContent.displayName="Message.TextContent";var _excluded$I=["model","avatarSpacer","avatarPosition","type","payload","children","className"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$f.apply(this,arguments)}function _defineProperty$9(_e,_,et){return _=_toPropertyKey$8(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$8(_e){var _=_toPrimitive$8(_e,"string");return _typeof$a(_)=="symbol"?_:String(_)}function _toPrimitive$8(_e,_){if(_typeof$a(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$a(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _typeof$a(_e){"@babel/helpers - typeof";return _typeof$a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$a(_e)}function _slicedToArray$6(_e,_){return _arrayWithHoles$6(_e)||_iterableToArrayLimit$6(_e,_)||_unsupportedIterableToArray$6(_e,_)||_nonIterableRest$6()}function _nonIterableRest$6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$6(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$6(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$6(_e,_)}}function _arrayLikeToArray$6(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$6(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],lt=!0,ct=!1;try{if(nt=(et=et.call(_e)).next,_!==0)for(;!(lt=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==_);lt=!0);}catch(ut){ct=!0,rt=ut}finally{try{if(!lt&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ct)throw rt}}return at}}function _arrayWithHoles$6(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties$g(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$g(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$g(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var Message=function _e(_){var et,tt,rt=_.model,nt=rt.message,it=nt===void 0?"":nt,at=rt.sentTime,lt=at===void 0?"":at,ct=rt.sender,ut=ct===void 0?"":ct,st=rt.direction,ot=st===void 0?1:st,dt=rt.position,ft=rt.type,ht=rt.payload,mt=_.avatarSpacer,gt=mt===void 0?!1:mt,yt=_.avatarPosition,vt=yt===void 0?void 0:yt,bt=_.type,xt=bt===void 0?"html":bt,_t=_.payload,St=_.children,wt=_.className,Et=_objectWithoutProperties$g(_,_excluded$I),Tt="".concat(prefix,"-message"),Ct=getChildren(St,[Avatar,MessageHeader,MessageFooter,MessageHtmlContent,MessageTextContent,MessageImageContent,MessageCustomContent]),It=_slicedToArray$6(Ct,7),Pt=It[0],At=It[1],kt=It[2],Rt=It[3],$t=It[4],Mt=It[5],Nt=It[6],Dt=function(){if(ot===0||ot==="incoming")return"".concat(Tt,"--incoming");if(ot===1||ot==="outgoing")return"".concat(Tt,"--outgoing")}(),jt=function(qt){var tr="".concat(Tt,"--avatar-");if(qt===0||qt==="top-left"||qt==="tl")return"".concat(tr,"tl");if(qt===1||qt==="top-right"||qt==="tr")return"".concat(tr,"tr");if(qt===2||qt==="bottom-right"||qt==="br")return"".concat(tr,"br");if(qt===3||qt==="bottom-left"||qt==="bl")return"".concat(tr,"bl");if(qt===4||qt==="center-left"||qt==="cl")return"".concat(tr,"cl");if(qt===5||qt==="center-right"||qt==="cr")return"".concat(tr,"cr")}(vt),Ut=function(qt){var tr="".concat(prefix,"-message--");if(qt==="single"||qt===0)return"".concat(tr,"single");if(qt==="first"||qt===1)return"".concat(tr,"first");if(qt==="normal"||qt===2)return"";if(qt==="last"||qt===3)return"".concat(tr,"last")}(dt),Xt=function(){return(ut==null?void 0:ut.length)>0&&(lt==null?void 0:lt.length)>0?"".concat(ut,": ").concat(lt):(ut==null?void 0:ut.length)>0&&(typeof lt>"u"||(lt==null?void 0:lt.length)===0)?ut:null}(),Wt=(et=(tt=Rt??$t)!==null&&tt!==void 0?tt:Mt)!==null&&et!==void 0?et:Nt,Vt=Wt??function(){var qt=ft??xt,tr=ht??it,Kt=tr??_t,Yt=_typeof$a(Kt)==="object"?getComponentName(Kt):"";if(qt==="html"&&Yt!=="Message.CustomContent")return React.createElement(MessageHtmlContent,{html:Kt});if(qt==="text")return React.createElement(MessageTextContent,{text:Kt});if(qt==="image")return React.createElement(MessageImageContent,Kt);if(qt==="custom"||Yt==="Message.CustomContent")return Kt}();return React.createElement("section",_extends$f({},Et,{"aria-label":Xt,className:classNames(Tt,Dt,_defineProperty$9({},"".concat(Tt,"--avatar-spacer"),gt),Ut,jt,wt)},_defineProperty$9({},"data-".concat(prefix,"-message"),"")),typeof Pt<"u"&&React.createElement("div",{className:"".concat(Tt,"__avatar")},Pt),React.createElement("div",{className:"".concat(Tt,"__content-wrapper")},At,React.createElement("div",{className:"".concat(Tt,"__content")},Vt),kt))};Message.Header=MessageHeader;Message.HtmlContent=MessageHtmlContent;Message.TextContent=MessageTextContent;Message.ImageContent=MessageImageContent;Message.CustomContent=MessageCustomContent;Message.Footer=MessageFooter;var _excluded$H=["children","className"];function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$e.apply(this,arguments)}function _objectWithoutProperties$f(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$f(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$f(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MessageGroupHeader=function _e(_){var et=_.children,tt=et===void 0?void 0:et,rt=_.className,nt=_objectWithoutProperties$f(_,_excluded$H),it="".concat(prefix,"-message-group__header");return React.createElement("div",_extends$e({},nt,{className:classNames(it,rt)}),tt)};MessageGroupHeader.displayName="MessageGroup.Header";var _excluded$G=["children","className"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$d.apply(this,arguments)}function _objectWithoutProperties$e(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$e(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$e(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MessageGroupFooter=function _e(_){var et=_.children,tt=et===void 0?void 0:et,rt=_.className,nt=_objectWithoutProperties$e(_,_excluded$G),it="".concat(prefix,"-message-group__footer");return React.createElement("div",_extends$d({},nt,{className:classNames(it,rt)}),tt)};MessageGroupFooter.displayName="MessageGroup.Footer";var _excluded$F=["children","className"];function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$c.apply(this,arguments)}function _objectWithoutProperties$d(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$d(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$d(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MessageGroupMessages=function _e(_){var et=_.children,tt=et===void 0?void 0:et,rt=_.className,nt=_objectWithoutProperties$d(_,_excluded$F),it="".concat(prefix,"-message-group");return React.createElement("div",_extends$c({},nt,{className:classNames("".concat(it,"__messages"),rt)}),tt)};MessageGroupMessages.displayName="MessageGroup.Messages";function _typeof$9(_e){"@babel/helpers - typeof";return _typeof$9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$9(_e)}var _excluded$E=["direction","avatarPosition","sender","sentTime","children","className"];function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$b.apply(this,arguments)}function _defineProperty$8(_e,_,et){return _=_toPropertyKey$7(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$7(_e){var _=_toPrimitive$7(_e,"string");return _typeof$9(_)=="symbol"?_:String(_)}function _toPrimitive$7(_e,_){if(_typeof$9(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$9(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _slicedToArray$5(_e,_){return _arrayWithHoles$5(_e)||_iterableToArrayLimit$5(_e,_)||_unsupportedIterableToArray$5(_e,_)||_nonIterableRest$5()}function _nonIterableRest$5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$5(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$5(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$5(_e,_)}}function _arrayLikeToArray$5(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$5(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],lt=!0,ct=!1;try{if(nt=(et=et.call(_e)).next,_!==0)for(;!(lt=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==_);lt=!0);}catch(ut){ct=!0,rt=ut}finally{try{if(!lt&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ct)throw rt}}return at}}function _arrayWithHoles$5(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties$c(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$c(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$c(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MessageGroup=function _e(_){var et=_.direction,tt=et===void 0?"incoming":et,rt=_.avatarPosition,nt=rt===void 0?void 0:rt,it=_.sender,at=it===void 0?"":it,lt=_.sentTime,ct=lt===void 0?"":lt,ut=_.children,st=_.className,ot=_objectWithoutProperties$c(_,_excluded$E),dt="".concat(prefix,"-message-group"),ft=function(){if(tt===0||tt==="incoming")return"".concat(dt,"--incoming");if(tt===1||tt==="outgoing")return"".concat(dt,"--outgoing")}(),ht=function(){var St="".concat(dt,"--avatar-");if(typeof nt=="string"&&(nt==="tl"||nt==="top-left"||nt==="tr"||nt==="top-right"||nt==="bl"||nt==="bottom-right"||nt==="br"||nt==="bottom-right"||nt==="cl"||nt==="center-left"||nt==="cr"||nt==="center-right"))return"".concat(St).concat(nt)}(),mt=getChildren(ut,[Avatar,MessageGroupHeader,MessageGroupFooter,MessageGroupMessages]),gt=_slicedToArray$5(mt,4),yt=gt[0],vt=gt[1],bt=gt[2],xt=gt[3],_t=function(){return at.length>0&&ct.length>0?"".concat(at,": ").concat(ct):at.length>0&&ct.length===0?at:null}();return React.createElement("section",_extends$b({"aria-label":_t},ot,{className:classNames(dt,ft,ht,st)},_defineProperty$8({},"data-".concat(prefix,"-message-group"),"")),typeof yt<"u"&&React.createElement("div",{className:"".concat(dt,"__avatar")},yt),React.createElement("div",{className:"".concat(dt,"__content")},vt,xt,bt))};MessageGroup.Header=MessageGroupHeader;MessageGroup.Footer=MessageGroupFooter;MessageGroup.Messages=MessageGroupMessages;var _excluded$D=["content","as","children","className"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$a.apply(this,arguments)}function _objectWithoutProperties$b(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$b(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$b(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MessageSeparator=function _e(_){var et=_.content,tt=et===void 0?void 0:et,rt=_.as,nt=rt===void 0?"div":rt,it=_.children,at=it===void 0?void 0:it,lt=_.className,ct=_objectWithoutProperties$b(_,_excluded$D),ut="".concat(prefix,"-message-separator"),st=function(){return typeof nt=="string"&&nt.length>0?nt:"div"}();return React.createElement(st,_extends$a({},ct,{className:classNames(ut,lt)}),isChildrenNil(at)===!0?tt:at)},_excluded$C=["className","children"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$9.apply(this,arguments)}function _objectWithoutProperties$a(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$a(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$a(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MessageListContent=function _e(_){var et=_.className,tt=_.children,rt=_objectWithoutProperties$a(_,_excluded$C);return React.createElement("div",_extends$9({},rt,{className:et}),tt)};MessageListContent.displayName="MessageList.Content";var _excluded$B=["children","typingIndicator","loading","loadingMore","loadingMorePosition","onYReachStart","onYReachEnd","className","disableOnYReachWhenNoScroll","scrollBehavior","autoScrollToBottom","autoScrollToBottomOnMount"];function _typeof$8(_e){"@babel/helpers - typeof";return _typeof$8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$8(_e)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$8.apply(this,arguments)}function _slicedToArray$4(_e,_){return _arrayWithHoles$4(_e)||_iterableToArrayLimit$4(_e,_)||_unsupportedIterableToArray$4(_e,_)||_nonIterableRest$4()}function _nonIterableRest$4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$4(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$4(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$4(_e,_)}}function _arrayLikeToArray$4(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$4(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],lt=!0,ct=!1;try{if(nt=(et=et.call(_e)).next,_!==0)for(;!(lt=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==_);lt=!0);}catch(ut){ct=!0,rt=ut}finally{try{if(!lt&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ct)throw rt}}return at}}function _arrayWithHoles$4(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties$9(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$9(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$9(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function _classCallCheck$3(_e,_){if(!(_e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(_e,_){for(var et=0;et<_.length;et++){var tt=_[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$6(tt.key),tt)}}function _createClass$3(_e,_,et){return _defineProperties$3(_e.prototype,_),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$2(_e,_,et){return _=_getPrototypeOf$3(_),_possibleConstructorReturn$3(_e,_isNativeReflectConstruct$3()?Reflect.construct(_,et,_getPrototypeOf$3(_e).constructor):_.apply(_e,et))}function _possibleConstructorReturn$3(_e,_){if(_&&(_typeof$8(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$3(_e)}function _isNativeReflectConstruct$3(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$3=function(){return!!_e})()}function _getPrototypeOf$3(_e){return _getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$3(_e)}function _assertThisInitialized$3(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _inherits$3(_e,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(_&&_.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),_&&_setPrototypeOf$3(_e,_)}function _setPrototypeOf$3(_e,_){return _setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$3(_e,_)}function _defineProperty$7(_e,_,et){return _=_toPropertyKey$6(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$6(_e){var _=_toPrimitive$6(_e,"string");return _typeof$8(_)=="symbol"?_:String(_)}function _toPrimitive$6(_e,_){if(_typeof$8(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$8(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}var MessageListInner=function(_e){_inherits$3(_,_e);function _(et){var tt;return _classCallCheck$3(this,_),tt=_callSuper$2(this,_,[et]),_defineProperty$7(_assertThisInitialized$3(tt),"handleResize",function(){tt.containerRef.current.clientHeight<tt.lastClientHeight&&tt.scrollToEnd(tt.props.scrollBehavior),tt.scrollRef.current.updateScroll()}),_defineProperty$7(_assertThisInitialized$3(tt),"handleContainerResize",function(){tt.resizeTicking===!1&&(window.requestAnimationFrame(function(){var rt=tt.containerRef.current;if(rt){var nt=rt.clientHeight,it=nt-tt.lastClientHeight;it>=1?tt.preventScrollTop===!1&&(rt.scrollTop=Math.round(rt.scrollTop)-it):rt.scrollTop=rt.scrollTop-it,tt.lastClientHeight=rt.clientHeight,tt.scrollRef.current.updateScroll()}tt.resizeTicking=!1}),tt.resizeTicking=!0)}),_defineProperty$7(_assertThisInitialized$3(tt),"isSticked",function(){var rt=tt.containerRef.current;return rt.scrollHeight===Math.round(rt.scrollTop+rt.clientHeight)}),_defineProperty$7(_assertThisInitialized$3(tt),"handleScroll",function(){tt.scrollTicking===!1&&(window.requestAnimationFrame(function(){tt.noScroll===!1?tt.preventScrollTop=tt.isSticked():tt.noScroll=!1,tt.scrollTicking=!1}),tt.scrollTicking=!0)}),_defineProperty$7(_assertThisInitialized$3(tt),"getLastMessageOrGroup",function(){var rt=tt.containerRef.current.querySelector("[data-".concat(prefix,"-message-list]>[data-").concat(prefix,"-message]:last-of-type,[data-").concat(prefix,"-message-list]>[data-").concat(prefix,"-message-group]:last-of-type")),nt=rt==null?void 0:rt.querySelector("[data-".concat(prefix,"-message]:last-of-type"));return{lastElement:rt,lastMessageInGroup:nt}}),tt.scrollPointRef=React.createRef(),tt.containerRef=React.createRef(),tt.scrollRef=React.createRef(),tt.lastClientHeight=0,tt.preventScrollTop=!1,tt.resizeObserver=void 0,tt.scrollTicking=!1,tt.resizeTicking=!1,tt.noScroll=void 0,tt}return _createClass$3(_,[{key:"getSnapshotBeforeUpdate",value:function(){var tt=this.containerRef.current,rt=Math.round(tt.scrollTop+tt.clientHeight),nt=tt.scrollHeight===rt||tt.scrollHeight+1===rt||tt.scrollHeight-1===rt;return{sticky:nt,clientHeight:tt.clientHeight,scrollHeight:tt.scrollHeight,lastMessageOrGroup:this.getLastMessageOrGroup(),diff:tt.scrollHeight-tt.scrollTop}}},{key:"componentDidMount",value:function(){this.props.autoScrollToBottomOnMount===!0&&this.scrollToEnd(this.props.scrollBehavior),this.lastClientHeight=this.containerRef.current.clientHeight,window.addEventListener("resize",this.handleResize),typeof window.ResizeObserver=="function"&&(this.resizeObserver=new ResizeObserver(this.handleContainerResize),this.resizeObserver.observe(this.containerRef.current)),this.containerRef.current.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(tt,rt,nt){var it=this.props.autoScrollToBottom;if(typeof nt<"u"){var at=this.containerRef.current,lt=this.getLastMessageOrGroup(),ct=lt.lastElement,ut=lt.lastMessageInGroup;if(ct===nt.lastMessageOrGroup.lastElement&&(typeof ut>"u"||ut===nt.lastMessageOrGroup.lastMessageInGroup)&&(at.scrollTop=at.scrollHeight-nt.diff+(this.lastClientHeight-at.clientHeight)),nt.sticky===!0)it===!0&&this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0;else if(nt.clientHeight<this.lastClientHeight){var st=at.scrollTop+this.lastClientHeight;at.scrollHeight===st||at.scrollHeight+1===st||at.scrollHeight-1===st?it===!0&&(this.scrollToEnd(this.props.scrollBehavior),this.preventScrollTop=!0):this.preventScrollTop=!1}else this.preventScrollTop=!1,ct===nt.lastMessageOrGroup.lastElement&&(typeof ut>"u"||ut===nt.lastMessageOrGroup.lastMessageInGroup)&&at.scrollTop===0&&at.scrollHeight>nt.scrollHeight&&(at.scrollTop=at.scrollHeight-nt.scrollHeight);this.lastClientHeight=nt.clientHeight}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),typeof this.resizeObserver<"u"&&this.resizeObserver.disconnect(),this.containerRef.current.removeEventListener("scroll",this.handleScroll)}},{key:"scrollToEnd",value:function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollBehavior,rt=this.containerRef.current,nt=this.scrollPointRef.current,it=rt.getBoundingClientRect(),at=nt.getBoundingClientRect(),lt=at.top+rt.scrollTop-it.top;rt.scrollBy?rt.scrollBy({top:lt,behavior:tt}):rt.scrollTop=lt,this.lastClientHeight=rt.clientHeight,this.noScroll=!0}},{key:"render",value:function(){var tt=this,rt=this.props,nt=rt.children,it=rt.typingIndicator,at=rt.loading,lt=rt.loadingMore,ct=rt.loadingMorePosition,ut=rt.onYReachStart,st=rt.onYReachEnd,ot=rt.className,dt=rt.disableOnYReachWhenNoScroll;rt.scrollBehavior,rt.autoScrollToBottom,rt.autoScrollToBottomOnMount;var ft=_objectWithoutProperties$9(rt,_excluded$B),ht="".concat(prefix,"-message-list"),mt=getChildren(nt,[MessageListContent]),gt=_slicedToArray$4(mt,1),yt=gt[0];return React.createElement("div",_extends$8({},ft,{className:classNames(ht,ot)}),lt&&React.createElement("div",{className:classNames("".concat(ht,"__loading-more"),_defineProperty$7({},"".concat(ht,"__loading-more--bottom"),ct==="bottom"))},React.createElement(Loader,null)),at&&React.createElement(Overlay$1,null,React.createElement(Loader,null)),React.createElement(ScrollBar,_extends$8({onYReachStart:ut,onYReachEnd:st,onSync:function(bt){return bt.update(dt)},className:"".concat(ht,"__scroll-wrapper"),ref:this.scrollRef,containerRef:function(bt){return tt.containerRef.current=bt},options:{suppressScrollX:!0}},_defineProperty$7({},"data-".concat(prefix,"-message-list"),""),{style:{overscrollBehaviorY:"none",overflowAnchor:"auto",touchAction:"none"}}),yt||nt,React.createElement("div",{className:"".concat(ht,"__scroll-to"),ref:this.scrollPointRef})),typeof it<"u"&&React.createElement("div",{className:"".concat(ht,"__typing-indicator-container")},it))}}]),_}(React.Component);MessageListInner.displayName="MessageList";function MessageListFunc(_e,_){var et=reactExports.useRef(),tt=function(nt){return et.current.scrollToEnd(nt)};return reactExports.useImperativeHandle(_,function(){return{scrollToBottom:tt}}),React.createElement(MessageListInner,_extends$8({ref:et},_e))}var MessageList$1=reactExports.forwardRef(MessageListFunc);MessageList$1.propTypes={children:allowedChildren([Message,MessageGroup,MessageSeparator,MessageListContent]),typingIndicator:PropTypes.node,loading:PropTypes.bool,loadingMore:PropTypes.bool,loadingMorePosition:PropTypes.oneOf(["top","bottom"]),onYReachStart:PropTypes.func,onYReachEnd:PropTypes.func,disableOnYReachWhenNoScroll:PropTypes.bool,autoScrollToBottom:PropTypes.bool,autoScrollToBottomOnMount:PropTypes.bool,scrollBehavior:PropTypes.oneOf(["auto","smooth"]),className:PropTypes.string};MessageList$1.defaultProps={typingIndicator:void 0,loading:!1,loadingMore:!1,loadingMorePosition:"top",disableOnYReachWhenNoScroll:!1,autoScrollToBottom:!0,autoScrollToBottomOnMount:!0,scrollBehavior:"auto"};MessageListInner.defaultProps=MessageList$1.defaultProps;MessageList$1.Content=MessageListContent;function _typeof$7(_e){"@babel/helpers - typeof";return _typeof$7=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$7(_e)}function _classCallCheck$2(_e,_){if(!(_e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(_e,_){for(var et=0;et<_.length;et++){var tt=_[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$5(tt.key),tt)}}function _createClass$2(_e,_,et){return _defineProperties$2(_e.prototype,_),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _callSuper$1(_e,_,et){return _=_getPrototypeOf$2(_),_possibleConstructorReturn$2(_e,_isNativeReflectConstruct$2()?Reflect.construct(_,et,_getPrototypeOf$2(_e).constructor):_.apply(_e,et))}function _possibleConstructorReturn$2(_e,_){if(_&&(_typeof$7(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(_e)}function _isNativeReflectConstruct$2(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$2=function(){return!!_e})()}function _getPrototypeOf$2(_e){return _getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$2(_e)}function _assertThisInitialized$2(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _inherits$2(_e,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(_&&_.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),_&&_setPrototypeOf$2(_e,_)}function _setPrototypeOf$2(_e,_){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$2(_e,_)}function _defineProperty$6(_e,_,et){return _=_toPropertyKey$5(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$5(_e){var _=_toPrimitive$5(_e,"string");return _typeof$7(_)=="symbol"?_:String(_)}function _toPrimitive$5(_e,_){if(_typeof$7(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$7(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}var replaceCaret=function _e(_,et){var tt=document.activeElement===_,rt=document.createTextNode("");if(_.appendChild(rt),rt!==null&&rt.nodeValue!==null&&(tt||et)){var nt=window.getSelection();if(nt!==null){var it=document.createRange();it.setStart(rt,rt.nodeValue.length),it.collapse(!0),nt.removeAllRanges(),nt.addRange(it)}}},ContentEditable=function(_e){_inherits$2(_,_e);function _(et){var tt;return _classCallCheck$2(this,_),tt=_callSuper$1(this,_,[et]),_defineProperty$6(_assertThisInitialized$2(tt),"innerHTML",function(){var rt=_assertThisInitialized$2(tt),nt=rt.props.value;return{__html:typeof nt<"u"?nt:""}}),_defineProperty$6(_assertThisInitialized$2(tt),"handleKeyPress",function(rt){var nt=_assertThisInitialized$2(tt),it=nt.props.onKeyPress;it==null||it(rt)}),_defineProperty$6(_assertThisInitialized$2(tt),"handleInput",function(rt){var nt=_assertThisInitialized$2(tt),it=nt.props.onChange,at=rt.target;it==null||it(at.innerHTML,at.textContent,at.innerText)}),tt.msgRef=React.createRef(),tt}return _createClass$2(_,[{key:"focus",value:function(){typeof this.msgRef.current<"u"&&this.msgRef.current.focus()}},{key:"componentDidMount",value:function(){this.props.autoFocus===!0&&this.msgRef.current.focus()}},{key:"shouldComponentUpdate",value:function(tt){var rt=this.msgRef,nt=this.props,it=nt.placeholder,at=nt.disabled,lt=nt.activateAfterChange;return typeof rt.current>"u"||tt.value!==rt.current.innerHTML?!0:it!==tt.placeholder||at!==tt.disabled||lt!==tt.activateAfterChange}},{key:"componentDidUpdate",value:function(){var tt=this.msgRef,rt=this.props,nt=rt.value,it=rt.activateAfterChange;nt!==tt.current.innerHTML&&(tt.current.innerHTML=typeof nt=="string"?nt:""),replaceCaret(tt.current,it)}},{key:"render",value:function(){var tt=this.msgRef,rt=this.handleInput,nt=this.handleKeyPress,it=this.innerHTML,at=this.props,lt=at.placeholder,ct=at.disabled,ut=at.className,st=typeof lt=="string"?lt:"";return React.createElement("div",{ref:tt,className:ut,contentEditable:ct===!1,disabled:ct,"data-placeholder":st,onInput:rt,onKeyPress:nt,dangerouslySetInnerHTML:it()})}}]),_}(reactExports.Component);function _typeof$6(_e){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$6(_e)}var _excluded$A=["fancyScroll","children","forwardedRef"],_excluded2$8=["value","onSend","onChange","autoFocus","placeholder","fancyScroll","className","activateAfterChange","disabled","sendDisabled","sendOnReturnDisabled","attachDisabled","sendButton","attachButton","onAttachClick"];function _defineProperty$5(_e,_,et){return _=_toPropertyKey$4(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _slicedToArray$3(_e,_){return _arrayWithHoles$3(_e)||_iterableToArrayLimit$3(_e,_)||_unsupportedIterableToArray$3(_e,_)||_nonIterableRest$3()}function _nonIterableRest$3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$3(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$3(_e,_)}}function _arrayLikeToArray$3(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$3(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],lt=!0,ct=!1;try{if(nt=(et=et.call(_e)).next,_!==0)for(;!(lt=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==_);lt=!0);}catch(ut){ct=!0,rt=ut}finally{try{if(!lt&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ct)throw rt}}return at}}function _arrayWithHoles$3(_e){if(Array.isArray(_e))return _e}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$7.apply(this,arguments)}function _objectWithoutProperties$8(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$8(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$8(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function _classCallCheck$1(_e,_){if(!(_e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(_e,_){for(var et=0;et<_.length;et++){var tt=_[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,_toPropertyKey$4(tt.key),tt)}}function _createClass$1(_e,_,et){return _defineProperties$1(_e.prototype,_),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _toPropertyKey$4(_e){var _=_toPrimitive$4(_e,"string");return _typeof$6(_)=="symbol"?_:String(_)}function _toPrimitive$4(_e,_){if(_typeof$6(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$6(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _callSuper(_e,_,et){return _=_getPrototypeOf$1(_),_possibleConstructorReturn$1(_e,_isNativeReflectConstruct$1()?Reflect.construct(_,et||[],_getPrototypeOf$1(_e).constructor):_.apply(_e,et))}function _possibleConstructorReturn$1(_e,_){if(_&&(_typeof$6(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(_e)}function _assertThisInitialized$1(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _isNativeReflectConstruct$1(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct$1=function(){return!!_e})()}function _getPrototypeOf$1(_e){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(et){return et.__proto__||Object.getPrototypeOf(et)},_getPrototypeOf$1(_e)}function _inherits$1(_e,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(_&&_.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),_&&_setPrototypeOf$1(_e,_)}function _setPrototypeOf$1(_e,_){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,rt){return tt.__proto__=rt,tt},_setPrototypeOf$1(_e,_)}function editorContainer(){var _e=function(_){_inherits$1(et,_);function et(){return _classCallCheck$1(this,et),_callSuper(this,et,arguments)}return _createClass$1(et,[{key:"render",value:function(){var rt=this.props,nt=rt.fancyScroll,it=rt.children,at=rt.forwardedRef,lt=_objectWithoutProperties$8(rt,_excluded$A);return React.createElement(React.Fragment,null,nt===!0&&React.createElement(ScrollBar,_extends$7({ref:function(ut){return at.current=ut}},lt,{options:{suppressScrollX:!0}}),it),nt===!1&&React.createElement("div",_extends$7({ref:at},lt),it))}}]),et}(reactExports.Component);return React.forwardRef(function(_,et){return React.createElement(_e,_extends$7({forwardedRef:et},_))})}var EditorContainer=editorContainer(),useControllableState=function _e(_,et){var tt=typeof _<"u"?_:et,rt=reactExports.useState(tt),nt=_slicedToArray$3(rt,2),it=nt[0],at=nt[1],lt=typeof _<"u"?_:it;return[lt,function(ct){at(ct)}]};function MessageInputInner(_e,_){var et=_e.value,tt=et===void 0?void 0:et,rt=_e.onSend,nt=rt===void 0?noop$2:rt,it=_e.onChange,at=it===void 0?noop$2:it,lt=_e.autoFocus,ct=lt===void 0?!1:lt,ut=_e.placeholder,st=ut===void 0?"":ut,ot=_e.fancyScroll,dt=ot===void 0?!0:ot,ft=_e.className,ht=_e.activateAfterChange,mt=ht===void 0?!1:ht,gt=_e.disabled,yt=gt===void 0?!1:gt,vt=_e.sendDisabled,bt=_e.sendOnReturnDisabled,xt=bt===void 0?!1:bt,_t=_e.attachDisabled,St=_t===void 0?!1:_t,wt=_e.sendButton,Et=wt===void 0?!0:wt,Tt=_e.attachButton,Ct=Tt===void 0?!0:Tt,It=_e.onAttachClick,Pt=It===void 0?noop$2:It,At=_objectWithoutProperties$8(_e,_excluded2$8),kt=reactExports.useRef(),Rt=reactExports.useRef(),$t=useControllableState(tt,""),Mt=_slicedToArray$3($t,2),Nt=Mt[0],Dt=Mt[1],jt=useControllableState(vt,!0),Ut=_slicedToArray$3(jt,2),Xt=Ut[0],Wt=Ut[1],Vt=function(){typeof Rt.current<"u"&&Rt.current.focus()};reactExports.useImperativeHandle(_,function(){return{focus:Vt}}),reactExports.useEffect(function(){ct===!0&&Vt()},[]),reactExports.useEffect(function(){typeof kt.current.updateScroll=="function"&&kt.current.updateScroll()});var qt=function(){var ar=Rt.current.msgRef.current;return[ar.textContent,ar.innerText,ar.cloneNode(!0).childNodes]},tr=function(){if(Nt.length>0){tt===void 0&&Dt(""),typeof vt>"u"&&Wt(!0);var ar=qt();nt(Nt,ar[0],ar[1],ar[2])}},Kt=function(ar){ar.key==="Enter"&&ar.shiftKey===!1&&xt===!1&&(ar.preventDefault(),tr())},Yt=function(ar,ur,fr){Dt(ar),typeof vt>"u"&&Wt(ur.length===0),typeof kt.current.updateScroll=="function"&&kt.current.updateScroll();var yr=qt();at(ar,ur,fr,yr[2])},rr="".concat(prefix,"-message-input"),ir=typeof st=="string"?st:"";return React.createElement("div",_extends$7({},At,{className:classNames(rr,_defineProperty$5({},"".concat(rr,"--disabled"),yt),ft)}),Ct===!0&&React.createElement("div",{className:"".concat(rr,"__tools")},React.createElement(AttachmentButton,{onClick:Pt,disabled:yt===!0||St===!0})),React.createElement("div",{className:"".concat(rr,"__content-editor-wrapper")},React.createElement(EditorContainer,{fancyScroll:dt,ref:kt,className:"".concat(rr,"__content-editor-container")},React.createElement(ContentEditable,{ref:Rt,className:"".concat(rr,"__content-editor"),disabled:yt,placeholder:ir,onKeyPress:Kt,onChange:Yt,activateAfterChange:mt,value:Nt}))),Et===!0&&React.createElement("div",{className:"".concat(rr,"__tools")},React.createElement(SendButton,{onClick:tr,disabled:yt===!0||Xt===!0})))}var MessageInput$1=reactExports.forwardRef(MessageInputInner);MessageInput$1.displayName="MessageInput";MessageInput$1.propTypes={value:PropTypes.string,placeholder:PropTypes.string,disabled:PropTypes.bool,sendOnReturnDisabled:PropTypes.bool,sendDisabled:PropTypes.bool,fancyScroll:PropTypes.bool,activateAfterChange:PropTypes.bool,autoFocus:PropTypes.bool,onChange:PropTypes.func,onSend:PropTypes.func,className:PropTypes.string,sendButton:PropTypes.bool,attachButton:PropTypes.bool,attachDisabled:PropTypes.bool,onAttachClick:PropTypes.func};var _excluded$z=["className","children"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$6.apply(this,arguments)}function _objectWithoutProperties$7(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$7(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$7(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var InputToolbox=function _e(_){var et=_.className,tt=_.children,rt=_objectWithoutProperties$7(_,_excluded$z),nt="".concat(prefix,"-input-toolbox");return React.createElement("div",_extends$6({},rt,{className:classNames(nt,et)}),tt)};InputToolbox.displayName="InputToolbox";var _excluded$y=["children","className"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$5.apply(this,arguments)}function _slicedToArray$2(_e,_){return _arrayWithHoles$2(_e)||_iterableToArrayLimit$2(_e,_)||_unsupportedIterableToArray$2(_e,_)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$2(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$2(_e,_)}}function _arrayLikeToArray$2(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$2(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],lt=!0,ct=!1;try{if(nt=(et=et.call(_e)).next,_!==0)for(;!(lt=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==_);lt=!0);}catch(ut){ct=!0,rt=ut}finally{try{if(!lt&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ct)throw rt}}return at}}function _arrayWithHoles$2(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties$6(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$6(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$6(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var ChatContainer=function _e(_){var et=_.children,tt=et===void 0?void 0:et,rt=_.className,nt=_objectWithoutProperties$6(_,_excluded$y),it="".concat(prefix,"-chat-container"),at=getChildren(tt,[ConversationHeader,MessageList$1,MessageInput$1,InputToolbox]),lt=_slicedToArray$2(at,4),ct=lt[0],ut=lt[1],st=lt[2],ot=lt[3];return React.createElement("div",_extends$5({},nt,{className:classNames(it,rt)}),ct,ut,st,ot)},cName="".concat(prefix,"-conversation");function _typeof$5(_e){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$5(_e)}var _excluded$x=["children","className","visible"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$4.apply(this,arguments)}function _defineProperty$4(_e,_,et){return _=_toPropertyKey$3(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$3(_e){var _=_toPrimitive$3(_e,"string");return _typeof$5(_)=="symbol"?_:String(_)}function _toPrimitive$3(_e,_){if(_typeof$5(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$5(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _objectWithoutProperties$5(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$5(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$5(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var ConversationOperations=function _e(_){var et=_.children,tt=_.className,rt=_.visible,nt=_objectWithoutProperties$5(_,_excluded$x);return React.createElement("div",_extends$4({},nt,{className:classNames("".concat(cName,"__operations"),_defineProperty$4({},"".concat(cName,"__operations--visible"),rt),tt)}),React.Children.count(et)>0?et:React.createElement(FontAwesomeIcon,{icon:faEllipsisV.faEllipsisV}))};ConversationOperations.displayName="Conversation.Operations";var _excluded$w=["lastSenderName","info","name","children","className"];function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$3.apply(this,arguments)}function _typeof$4(_e){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$4(_e)}function _objectWithoutProperties$4(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$4(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$4(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var LastSenderName=function _e(_){var et=_.name;return React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(cName,"__last-sender")},et),":")},InfoContent=function _e(_){var et=_.info;return React.createElement("div",{className:"".concat(cName,"__info-content")},et)},ConversationContent=function _e(_){var et=_.lastSenderName,tt=_.info,rt=_.name,nt=_.children,it=_.className,at=_objectWithoutProperties$4(_,_excluded$w),lt=_typeof$4(et);return React.createElement("div",_extends$3({},at,{className:classNames("".concat(cName,"__content"),it)}),React.Children.count(nt)>0?nt:React.createElement(React.Fragment,null,React.createElement("div",{className:"".concat(cName,"__name")},rt),React.createElement("div",{className:"".concat(cName,"__info")},lt!=="undefined"?React.createElement(React.Fragment,null,lt==="string"?React.createElement(LastSenderName,{name:et}):et," "):null,typeof tt<"u"&&React.createElement(InfoContent,{info:tt}))))};ConversationContent.displayName="Conversation.Content";function _typeof$3(_e){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$3(_e)}var _excluded$v=["responsive","children","className"];function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$2.apply(this,arguments)}function _defineProperty$3(_e,_,et){return _=_toPropertyKey$2(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$2(_e){var _=_toPrimitive$2(_e,"string");return _typeof$3(_)=="symbol"?_:String(_)}function _toPrimitive$2(_e,_){if(_typeof$3(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$3(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _objectWithoutProperties$3(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$3(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$3(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var MainContainer=function _e(_){var et=_.responsive,tt=et===void 0?!1:et,rt=_.children,nt=rt===void 0?void 0:rt,it=_.className,at=_objectWithoutProperties$3(_,_excluded$v),lt="".concat(prefix,"-main-container");return React.createElement("div",_extends$2({},at,{className:classNames(lt,_defineProperty$3({},"".concat(lt,"--responsive"),tt),it)}),nt)};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var faSearch={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},faTimes={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]};function _typeof$2(_e){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$2(_e)}var _excluded$u=["placeholder","value","onChange","onClearClick","className","disabled"];function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends$1.apply(this,arguments)}function _defineProperty$2(_e,_,et){return _=_toPropertyKey$1(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey$1(_e){var _=_toPrimitive$1(_e,"string");return _typeof$2(_)=="symbol"?_:String(_)}function _toPrimitive$1(_e,_){if(_typeof$2(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$2(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _slicedToArray$1(_e,_){return _arrayWithHoles$1(_e)||_iterableToArrayLimit$1(_e,_)||_unsupportedIterableToArray$1(_e,_)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray$1(_e,_);var et=Object.prototype.toString.call(_e).slice(8,-1);if(et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set")return Array.from(_e);if(et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et))return _arrayLikeToArray$1(_e,_)}}function _arrayLikeToArray$1(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=new Array(_);et<_;et++)tt[et]=_e[et];return tt}function _iterableToArrayLimit$1(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],lt=!0,ct=!1;try{if(nt=(et=et.call(_e)).next,_!==0)for(;!(lt=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==_);lt=!0);}catch(ut){ct=!0,rt=ut}finally{try{if(!lt&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ct)throw rt}}return at}}function _arrayWithHoles$1(_e){if(Array.isArray(_e))return _e}function _objectWithoutProperties$2(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$2(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$2(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}var useControlledOrNot=function _e(_,et){return typeof et>"u"?reactExports.useState(_):[et,function(){}]};function SearchInner(_e,_){var et=_e.placeholder,tt=et===void 0?"":et,rt=_e.value,nt=rt===void 0?void 0:rt,it=_e.onChange,at=it===void 0?function(){}:it,lt=_e.onClearClick,ct=lt===void 0?function(){}:lt,ut=_e.className,st=_e.disabled,ot=st===void 0?!1:st,dt=_objectWithoutProperties$2(_e,_excluded$u),ft="".concat(prefix,"-search"),ht=reactExports.useMemo(function(){return typeof nt<"u"},[]),mt=useControlledOrNot("",nt),gt=_slicedToArray$1(mt,2),yt=gt[0],vt=gt[1],bt=reactExports.useState(ht?yt.length>0:!1),xt=_slicedToArray$1(bt,2),_t=xt[0],St=xt[1];if(ht!==typeof nt<"u")throw"Search: Changing from controlled to uncontrolled component and vice versa is not allowed";var wt=reactExports.useRef(void 0),Et=function(){typeof wt.current<"u"&&wt.current.focus()};reactExports.useImperativeHandle(_,function(){return{focus:Et}});var Tt=function(Pt){var At=Pt.target.value;St(At.length>0),ht===!1&&vt(At),at(At)},Ct=function(){ht===!1&&vt(""),St(!1),ct()};return React.createElement("div",_extends$1({},dt,{className:classNames(ft,_defineProperty$2({},"".concat(ft,"--disabled"),ot),ut)}),React.createElement(FontAwesomeIcon,{icon:faSearch,className:"".concat(ft,"__search-icon")}),React.createElement("input",{ref:wt,type:"text",className:"".concat(ft,"__input"),placeholder:tt,onChange:Tt,disabled:ot,value:yt}),React.createElement(FontAwesomeIcon,{icon:faTimes,className:classNames("".concat(ft,"__clear-icon"),_defineProperty$2({},"".concat(ft,"__clear-icon--active"),_t)),onClick:Ct}))}var Search=reactExports.forwardRef(SearchInner);Search.displayName="Search";Search.propTypes={placeholder:PropTypes.string,value:PropTypes.string,onChange:PropTypes.func,onClearClick:PropTypes.func,className:PropTypes.string,disabled:PropTypes.bool};function _typeof$1(_e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof$1(_e)}var _excluded$t=["className","children","size","selected","onChange","itemsTabIndex"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_];for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(_e[tt]=et[tt])}return _e},_extends.apply(this,arguments)}function _defineProperty$1(_e,_,et){return _=_toPropertyKey(_),_ in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function _toPropertyKey(_e){var _=_toPrimitive(_e,"string");return _typeof$1(_)=="symbol"?_:String(_)}function _toPrimitive(_e,_){if(_typeof$1(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof$1(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function _objectWithoutProperties$1(_e,_){if(_e==null)return{};var et=_objectWithoutPropertiesLoose$1(_e,_),tt,rt;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(rt=0;rt<nt.length;rt++)tt=nt[rt],!(_.indexOf(tt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,tt)&&(et[tt]=_e[tt])}return et}function _objectWithoutPropertiesLoose$1(_e,_){if(_e==null)return{};var et={},tt=Object.keys(_e),rt,nt;for(nt=0;nt<tt.length;nt++)rt=tt[nt],!(_.indexOf(rt)>=0)&&(et[rt]=_e[rt]);return et}function StatusListInner(_e,_){var et=_e.className,tt=_e.children,rt=_e.size,nt=_e.selected,it=_e.onChange,at=it===void 0?noop$2:it,lt=_e.itemsTabIndex,ct=_objectWithoutProperties$1(_e,_excluded$t),ut="".concat(prefix,"-status-list"),st=reactExports.useRef();reactExports.useImperativeHandle(_,function(){return{focus:function(ft){var ht=Array.from(st.current.querySelectorAll("li")),mt=ht.filter(function(gt){return gt.parentNode===st.current});typeof mt[ft]<"u"&&mt[ft].focus()}}});var ot=lt;return React.createElement("ul",_extends({ref:st},ct,{className:classNames(ut,et,_defineProperty$1({},"".concat(ut,"--").concat(rt),rt))}),React.Children.map(tt,function(dt){var ft={};nt&&(ft.selected=dt.props.status===nt),at&&(ft.onClick=function(gt){at(dt.props.status),dt.onClick&&dt.onClick(gt)});var ht=function(yt){at&&yt.key==="Enter"&&yt.shiftKey===!1&&yt.altKey===!1&&at(dt.props.status)},mt=function(){if(typeof ot=="number")return ot>0?ot++:ot}();return React.createElement("li",{tabIndex:mt,onKeyPress:ht},React.cloneElement(dt,ft))}))}var StatusList=reactExports.forwardRef(StatusListInner);StatusList.displayName="StatusList";StatusList.propTypes={children:allowedChildren([Status]),selected:PropTypes.oneOf(StatusEnum),size:PropTypes.oneOf(SizeEnum),itemsTabIndex:PropTypes.number,className:PropTypes.string,onChange:PropTypes.func};const favicon=""+new URL("favicon-DxzstbLD.ico",import.meta.url).href;function _typeof(_e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},_typeof(_e)}var REACT_ELEMENT_TYPE_18=Symbol.for("react.element"),REACT_ELEMENT_TYPE_19=Symbol.for("react.transitional.element"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment");function isFragment(_e){return _e&&_typeof(_e)==="object"&&(_e.$$typeof===REACT_ELEMENT_TYPE_18||_e.$$typeof===REACT_ELEMENT_TYPE_19)&&_e.type===REACT_FRAGMENT_TYPE}function toArray$2(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=[];return React.Children.forEach(_e,function(tt){tt==null&&!_.keepEmpty||(Array.isArray(tt)?et=et.concat(toArray$2(tt)):isFragment(tt)&&tt.props?et=et.concat(toArray$2(tt.props.children,_)):et.push(tt))}),et}var warned={},preMessage=function _e(_){};function warning$2(_e,_){}function note(_e,_){}function resetWarned(){warned={}}function call(_e,_,et){!_&&!warned[et]&&(_e(!1,et),warned[et]=!0)}function warningOnce(_e,_){call(warning$2,_e,_)}function noteOnce(_e,_){call(note,_e,_)}warningOnce.preMessage=preMessage;warningOnce.resetWarned=resetWarned;warningOnce.noteOnce=noteOnce;function toPrimitive(_e,_){if(_typeof(_e)!="object"||!_e)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,_||"default");if(_typeof(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(_e)}function toPropertyKey(_e){var _=toPrimitive(_e,"string");return _typeof(_)=="symbol"?_:_+""}function _defineProperty(_e,_,et){return(_=toPropertyKey(_))in _e?Object.defineProperty(_e,_,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[_]=et,_e}function ownKeys(_e,_){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);_&&(tt=tt.filter(function(rt){return Object.getOwnPropertyDescriptor(_e,rt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2(_e){for(var _=1;_<arguments.length;_++){var et=arguments[_]!=null?arguments[_]:{};_%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function isDOM(_e){return _e instanceof HTMLElement||_e instanceof SVGElement}function getDOM(_e){return _e&&_typeof(_e)==="object"&&isDOM(_e.nativeElement)?_e.nativeElement:isDOM(_e)?_e:null}function findDOMNode(_e){var _=getDOM(_e);if(_)return _;if(_e instanceof React.Component){var et;return(et=ReactDOM.findDOMNode)===null||et===void 0?void 0:et.call(ReactDOM,_e)}return null}var reactIs={exports:{}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(_e){if(typeof _e=="object"&&_e!==null){var _=_e.$$typeof;switch(_){case b:switch(_e=_e.type,_e){case d:case f:case e:case m:case n:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k:case h:case l:case q:case p:case g:return _e;default:return _}}case c:return _}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(_e){return v(_e)===h};reactIs_production_min.isContextProvider=function(_e){return v(_e)===g};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b};reactIs_production_min.isForwardRef=function(_e){return v(_e)===l};reactIs_production_min.isFragment=function(_e){return v(_e)===d};reactIs_production_min.isLazy=function(_e){return v(_e)===q};reactIs_production_min.isMemo=function(_e){return v(_e)===p};reactIs_production_min.isPortal=function(_e){return v(_e)===c};reactIs_production_min.isProfiler=function(_e){return v(_e)===f};reactIs_production_min.isStrictMode=function(_e){return v(_e)===e};reactIs_production_min.isSuspense=function(_e){return v(_e)===m};reactIs_production_min.isSuspenseList=function(_e){return v(_e)===n};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d||_e===f||_e===e||_e===m||_e===n||_e===t||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q||_e.$$typeof===p||_e.$$typeof===g||_e.$$typeof===h||_e.$$typeof===l||_e.$$typeof===u||_e.getModuleId!==void 0)};reactIs_production_min.typeOf=v;reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports;function useMemo(_e,_,et){var tt=reactExports.useRef({});return(!("value"in tt.current)||et(tt.current.condition,_))&&(tt.current.value=_e(),tt.current.condition=_),tt.current.value}var ReactMajorVersion=Number(reactExports.version.split(".")[0]),fillRef=function _e(_,et){typeof _=="function"?_(et):_typeof(_)==="object"&&_&&"current"in _&&(_.current=et)},composeRef=function _e(){for(var _=arguments.length,et=new Array(_),tt=0;tt<_;tt++)et[tt]=arguments[tt];var rt=et.filter(Boolean);return rt.length<=1?rt[0]:function(nt){et.forEach(function(it){fillRef(it,nt)})}},useComposeRef=function _e(){for(var _=arguments.length,et=new Array(_),tt=0;tt<_;tt++)et[tt]=arguments[tt];return useMemo(function(){return composeRef.apply(void 0,et)},et,function(rt,nt){return rt.length!==nt.length||rt.every(function(it,at){return it!==nt[at]})})},supportRef=function _e(_){var et,tt;if(!_)return!1;if(isReactElement(_)&&ReactMajorVersion>=19)return!0;var rt=reactIsExports.isMemo(_)?_.type.type:_.type;return!(typeof rt=="function"&&!((et=rt.prototype)!==null&&et!==void 0&&et.render)&&rt.$$typeof!==reactIsExports.ForwardRef||typeof _=="function"&&!((tt=_.prototype)!==null&&tt!==void 0&&tt.render)&&_.$$typeof!==reactIsExports.ForwardRef)};function isReactElement(_e){return reactExports.isValidElement(_e)&&!isFragment(_e)}var getNodeRef=function _e(_){if(_&&isReactElement(_)){var et=_;return et.props.propertyIsEnumerable("ref")?et.props.ref:et.ref}return null},CollectionContext=reactExports.createContext(null);function Collection(_e){var _=_e.children,et=_e.onBatchResize,tt=reactExports.useRef(0),rt=reactExports.useRef([]),nt=reactExports.useContext(CollectionContext),it=reactExports.useCallback(function(at,lt,ct){tt.current+=1;var ut=tt.current;rt.current.push({size:at,element:lt,data:ct}),Promise.resolve().then(function(){ut===tt.current&&(et==null||et(rt.current),rt.current=[])}),nt==null||nt(at,lt,ct)},[et,nt]);return reactExports.createElement(CollectionContext.Provider,{value:it},_)}var MapShim=function(){if(typeof Map<"u")return Map;function _e(_,et){var tt=-1;return _.some(function(rt,nt){return rt[0]===et?(tt=nt,!0):!1}),tt}return function(){function _(){this.__entries__=[]}return Object.defineProperty(_.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),_.prototype.get=function(et){var tt=_e(this.__entries__,et),rt=this.__entries__[tt];return rt&&rt[1]},_.prototype.set=function(et,tt){var rt=_e(this.__entries__,et);~rt?this.__entries__[rt][1]=tt:this.__entries__.push([et,tt])},_.prototype.delete=function(et){var tt=this.__entries__,rt=_e(tt,et);~rt&&tt.splice(rt,1)},_.prototype.has=function(et){return!!~_e(this.__entries__,et)},_.prototype.clear=function(){this.__entries__.splice(0)},_.prototype.forEach=function(et,tt){tt===void 0&&(tt=null);for(var rt=0,nt=this.__entries__;rt<nt.length;rt++){var it=nt[rt];et.call(tt,it[1],it[0])}},_}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(_e){return setTimeout(function(){return _e(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(_e,_){var et=!1,tt=!1,rt=0;function nt(){et&&(et=!1,_e()),tt&&at()}function it(){requestAnimationFrame$1(nt)}function at(){var lt=Date.now();if(et){if(lt-rt<trailingTimeout)return;tt=!0}else et=!0,tt=!1,setTimeout(it,_);rt=lt}return at}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function _e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return _e.prototype.addObserver=function(_){~this.observers_.indexOf(_)||this.observers_.push(_),this.connected_||this.connect_()},_e.prototype.removeObserver=function(_){var et=this.observers_,tt=et.indexOf(_);~tt&&et.splice(tt,1),!et.length&&this.connected_&&this.disconnect_()},_e.prototype.refresh=function(){var _=this.updateObservers_();_&&this.refresh()},_e.prototype.updateObservers_=function(){var _=this.observers_.filter(function(et){return et.gatherActive(),et.hasActive()});return _.forEach(function(et){return et.broadcastActive()}),_.length>0},_e.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},_e.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},_e.prototype.onTransitionEnd_=function(_){var et=_.propertyName,tt=et===void 0?"":et,rt=transitionKeys.some(function(nt){return!!~tt.indexOf(nt)});rt&&this.refresh()},_e.getInstance=function(){return this.instance_||(this.instance_=new _e),this.instance_},_e.instance_=null,_e}(),defineConfigurable=function(_e,_){for(var et=0,tt=Object.keys(_);et<tt.length;et++){var rt=tt[et];Object.defineProperty(_e,rt,{value:_[rt],enumerable:!1,writable:!1,configurable:!0})}return _e},getWindowOf=function(_e){var _=_e&&_e.ownerDocument&&_e.ownerDocument.defaultView;return _||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(_e){return parseFloat(_e)||0}function getBordersSize(_e){for(var _=[],et=1;et<arguments.length;et++)_[et-1]=arguments[et];return _.reduce(function(tt,rt){var nt=_e["border-"+rt+"-width"];return tt+toFloat(nt)},0)}function getPaddings(_e){for(var _=["top","right","bottom","left"],et={},tt=0,rt=_;tt<rt.length;tt++){var nt=rt[tt],it=_e["padding-"+nt];et[nt]=toFloat(it)}return et}function getSVGContentRect(_e){var _=_e.getBBox();return createRectInit(0,0,_.width,_.height)}function getHTMLElementContentRect(_e){var _=_e.clientWidth,et=_e.clientHeight;if(!_&&!et)return emptyRect;var tt=getWindowOf(_e).getComputedStyle(_e),rt=getPaddings(tt),nt=rt.left+rt.right,it=rt.top+rt.bottom,at=toFloat(tt.width),lt=toFloat(tt.height);if(tt.boxSizing==="border-box"&&(Math.round(at+nt)!==_&&(at-=getBordersSize(tt,"left","right")+nt),Math.round(lt+it)!==et&&(lt-=getBordersSize(tt,"top","bottom")+it)),!isDocumentElement(_e)){var ct=Math.round(at+nt)-_,ut=Math.round(lt+it)-et;Math.abs(ct)!==1&&(at-=ct),Math.abs(ut)!==1&&(lt-=ut)}return createRectInit(rt.left,rt.top,at,lt)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(_e){return _e instanceof getWindowOf(_e).SVGGraphicsElement}:function(_e){return _e instanceof getWindowOf(_e).SVGElement&&typeof _e.getBBox=="function"}}();function isDocumentElement(_e){return _e===getWindowOf(_e).document.documentElement}function getContentRect(_e){return isBrowser?isSVGGraphicsElement(_e)?getSVGContentRect(_e):getHTMLElementContentRect(_e):emptyRect}function createReadOnlyRect(_e){var _=_e.x,et=_e.y,tt=_e.width,rt=_e.height,nt=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,it=Object.create(nt.prototype);return defineConfigurable(it,{x:_,y:et,width:tt,height:rt,top:et,right:_+tt,bottom:rt+et,left:_}),it}function createRectInit(_e,_,et,tt){return{x:_e,y:_,width:et,height:tt}}var ResizeObservation=function(){function _e(_){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=_}return _e.prototype.isActive=function(){var _=getContentRect(this.target);return this.contentRect_=_,_.width!==this.broadcastWidth||_.height!==this.broadcastHeight},_e.prototype.broadcastRect=function(){var _=this.contentRect_;return this.broadcastWidth=_.width,this.broadcastHeight=_.height,_},_e}(),ResizeObserverEntry=function(){function _e(_,et){var tt=createReadOnlyRect(et);defineConfigurable(this,{target:_,contentRect:tt})}return _e}(),ResizeObserverSPI=function(){function _e(_,et,tt){if(this.activeObservations_=[],this.observations_=new MapShim,typeof _!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=_,this.controller_=et,this.callbackCtx_=tt}return _e.prototype.observe=function(_){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(_ instanceof getWindowOf(_).Element))throw new TypeError('parameter 1 is not of type "Element".');var et=this.observations_;et.has(_)||(et.set(_,new ResizeObservation(_)),this.controller_.addObserver(this),this.controller_.refresh())}},_e.prototype.unobserve=function(_){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(_ instanceof getWindowOf(_).Element))throw new TypeError('parameter 1 is not of type "Element".');var et=this.observations_;et.has(_)&&(et.delete(_),et.size||this.controller_.removeObserver(this))}},_e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},_e.prototype.gatherActive=function(){var _=this;this.clearActive(),this.observations_.forEach(function(et){et.isActive()&&_.activeObservations_.push(et)})},_e.prototype.broadcastActive=function(){if(this.hasActive()){var _=this.callbackCtx_,et=this.activeObservations_.map(function(tt){return new ResizeObserverEntry(tt.target,tt.broadcastRect())});this.callback_.call(_,et,_),this.clearActive()}},_e.prototype.clearActive=function(){this.activeObservations_.splice(0)},_e.prototype.hasActive=function(){return this.activeObservations_.length>0},_e}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$2=function(){function _e(_){if(!(this instanceof _e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var et=ResizeObserverController.getInstance(),tt=new ResizeObserverSPI(_,et,this);observers.set(this,tt)}return _e}();["observe","unobserve","disconnect"].forEach(function(_e){ResizeObserver$2.prototype[_e]=function(){var _;return(_=observers.get(this))[_e].apply(_,arguments)}});var index=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$2}(),elementListeners=new Map;function onResize(_e){_e.forEach(function(_){var et,tt=_.target;(et=elementListeners.get(tt))===null||et===void 0||et.forEach(function(rt){return rt(tt)})})}var resizeObserver=new index(onResize);function observe(_e,_){elementListeners.has(_e)||(elementListeners.set(_e,new Set),resizeObserver.observe(_e)),elementListeners.get(_e).add(_)}function unobserve(_e,_){elementListeners.has(_e)&&(elementListeners.get(_e).delete(_),elementListeners.get(_e).size||(resizeObserver.unobserve(_e),elementListeners.delete(_e)))}function _classCallCheck(_e,_){if(!(_e instanceof _))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_e,_){for(var et=0;et<_.length;et++){var tt=_[et];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(_e,toPropertyKey(tt.key),tt)}}function _createClass(_e,_,et){return _&&_defineProperties(_e.prototype,_),et&&_defineProperties(_e,et),Object.defineProperty(_e,"prototype",{writable:!1}),_e}function _setPrototypeOf(_e,_){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,tt){return et.__proto__=tt,et},_setPrototypeOf(_e,_)}function _inherits(_e,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(_&&_.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),Object.defineProperty(_e,"prototype",{writable:!1}),_&&_setPrototypeOf(_e,_)}function _getPrototypeOf(_e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},_getPrototypeOf(_e)}function _isNativeReflectConstruct(){try{var _e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!_e})()}function _assertThisInitialized(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function _possibleConstructorReturn(_e,_){if(_&&(_typeof(_)=="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(_e)}function _createSuper(_e){var _=_isNativeReflectConstruct();return function(){var et,tt=_getPrototypeOf(_e);if(_){var rt=_getPrototypeOf(this).constructor;et=Reflect.construct(tt,arguments,rt)}else et=tt.apply(this,arguments);return _possibleConstructorReturn(this,et)}}var DomWrapper$1=function(_e){_inherits(et,_e);var _=_createSuper(et);function et(){return _classCallCheck(this,et),_.apply(this,arguments)}return _createClass(et,[{key:"render",value:function(){return this.props.children}}]),et}(reactExports.Component);function SingleObserver(_e,_){var et=_e.children,tt=_e.disabled,rt=reactExports.useRef(null),nt=reactExports.useRef(null),it=reactExports.useContext(CollectionContext),at=typeof et=="function",lt=at?et(rt):et,ct=reactExports.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),ut=!at&&reactExports.isValidElement(lt)&&supportRef(lt),st=ut?getNodeRef(lt):null,ot=useComposeRef(st,rt),dt=function(){var gt;return findDOMNode(rt.current)||(rt.current&&_typeof(rt.current)==="object"?findDOMNode((gt=rt.current)===null||gt===void 0?void 0:gt.nativeElement):null)||findDOMNode(nt.current)};reactExports.useImperativeHandle(_,function(){return dt()});var ft=reactExports.useRef(_e);ft.current=_e;var ht=reactExports.useCallback(function(mt){var gt=ft.current,yt=gt.onResize,vt=gt.data,bt=mt.getBoundingClientRect(),xt=bt.width,_t=bt.height,St=mt.offsetWidth,wt=mt.offsetHeight,Et=Math.floor(xt),Tt=Math.floor(_t);if(ct.current.width!==Et||ct.current.height!==Tt||ct.current.offsetWidth!==St||ct.current.offsetHeight!==wt){var Ct={width:Et,height:Tt,offsetWidth:St,offsetHeight:wt};ct.current=Ct;var It=St===Math.round(xt)?xt:St,Pt=wt===Math.round(_t)?_t:wt,At=_objectSpread2(_objectSpread2({},Ct),{},{offsetWidth:It,offsetHeight:Pt});it==null||it(At,mt,vt),yt&&Promise.resolve().then(function(){yt(At,mt)})}},[]);return reactExports.useEffect(function(){var mt=dt();return mt&&!tt&&observe(mt,ht),function(){return unobserve(mt,ht)}},[rt.current,tt]),reactExports.createElement(DomWrapper$1,{ref:nt},ut?reactExports.cloneElement(lt,{ref:ot}):lt)}var RefSingleObserver=reactExports.forwardRef(SingleObserver),INTERNAL_PREFIX_KEY="rc-observer-key";function ResizeObserver$1(_e,_){var et=_e.children,tt=typeof et=="function"?[et]:toArray$2(et);return tt.map(function(rt,nt){var it=(rt==null?void 0:rt.key)||"".concat(INTERNAL_PREFIX_KEY,"-").concat(nt);return reactExports.createElement(RefSingleObserver,_extends$x({},_e,{key:it,ref:nt===0?_:void 0}),rt)})}var RefResizeObserver=reactExports.forwardRef(ResizeObserver$1);RefResizeObserver.Collection=Collection;function _arrayLikeToArray(_e,_){(_==null||_>_e.length)&&(_=_e.length);for(var et=0,tt=Array(_);et<_;et++)tt[et]=_e[et];return tt}function _arrayWithoutHoles(_e){if(Array.isArray(_e))return _arrayLikeToArray(_e)}function _iterableToArray(_e){if(typeof Symbol<"u"&&_e[Symbol.iterator]!=null||_e["@@iterator"]!=null)return Array.from(_e)}function _unsupportedIterableToArray(_e,_){if(_e){if(typeof _e=="string")return _arrayLikeToArray(_e,_);var et={}.toString.call(_e).slice(8,-1);return et==="Object"&&_e.constructor&&(et=_e.constructor.name),et==="Map"||et==="Set"?Array.from(_e):et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(et)?_arrayLikeToArray(_e,_):void 0}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(_e){return _arrayWithoutHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableSpread()}var raf=function _e(_){return+setTimeout(_,16)},caf=function _e(_){return clearTimeout(_)};typeof window<"u"&&"requestAnimationFrame"in window&&(raf=function(_){return window.requestAnimationFrame(_)},caf=function(_){return window.cancelAnimationFrame(_)});var rafUUID=0,rafIds=new Map;function cleanup(_e){rafIds.delete(_e)}var wrapperRaf=function _e(_){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;rafUUID+=1;var tt=rafUUID;function rt(nt){if(nt===0)cleanup(tt),_();else{var it=raf(function(){rt(nt-1)});rafIds.set(tt,it)}}return rt(et),tt};wrapperRaf.cancel=function(_e){var _=rafIds.get(_e);return cleanup(_e),caf(_)};function _arrayWithHoles(_e){if(Array.isArray(_e))return _e}function _iterableToArrayLimit(_e,_){var et=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(et!=null){var tt,rt,nt,it,at=[],lt=!0,ct=!1;try{if(nt=(et=et.call(_e)).next,_===0){if(Object(et)!==et)return;lt=!1}else for(;!(lt=(tt=nt.call(et)).done)&&(at.push(tt.value),at.length!==_);lt=!0);}catch(ut){ct=!0,rt=ut}finally{try{if(!lt&&et.return!=null&&(it=et.return(),Object(it)!==it))return}finally{if(ct)throw rt}}return at}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(_e,_){return _arrayWithHoles(_e)||_iterableToArrayLimit(_e,_)||_unsupportedIterableToArray(_e,_)||_nonIterableRest()}function murmur2(_e){for(var _=0,et,tt=0,rt=_e.length;rt>=4;++tt,rt-=4)et=_e.charCodeAt(tt)&255|(_e.charCodeAt(++tt)&255)<<8|(_e.charCodeAt(++tt)&255)<<16|(_e.charCodeAt(++tt)&255)<<24,et=(et&65535)*1540483477+((et>>>16)*59797<<16),et^=et>>>24,_=(et&65535)*1540483477+((et>>>16)*59797<<16)^(_&65535)*1540483477+((_>>>16)*59797<<16);switch(rt){case 3:_^=(_e.charCodeAt(tt+2)&255)<<16;case 2:_^=(_e.charCodeAt(tt+1)&255)<<8;case 1:_^=_e.charCodeAt(tt)&255,_=(_&65535)*1540483477+((_>>>16)*59797<<16)}return _^=_>>>13,_=(_&65535)*1540483477+((_>>>16)*59797<<16),((_^_>>>15)>>>0).toString(36)}function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function contains(_e,_){if(!_e)return!1;if(_e.contains)return _e.contains(_);for(var et=_;et;){if(et===_e)return!0;et=et.parentNode}return!1}var APPEND_ORDER="data-rc-order",APPEND_PRIORITY="data-rc-priority",MARK_KEY="rc-util-key",containerCache=new Map;function getMark(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=_e.mark;return _?_.startsWith("data-")?_:"data-".concat(_):MARK_KEY}function getContainer(_e){if(_e.attachTo)return _e.attachTo;var _=document.querySelector("head");return _||document.body}function getOrder(_e){return _e==="queue"?"prependQueue":_e?"prepend":"append"}function findStyles(_e){return Array.from((containerCache.get(_e)||_e).children).filter(function(_){return _.tagName==="STYLE"})}function injectCSS(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom())return null;var et=_.csp,tt=_.prepend,rt=_.priority,nt=rt===void 0?0:rt,it=getOrder(tt),at=it==="prependQueue",lt=document.createElement("style");lt.setAttribute(APPEND_ORDER,it),at&&nt&&lt.setAttribute(APPEND_PRIORITY,"".concat(nt)),et!=null&&et.nonce&&(lt.nonce=et==null?void 0:et.nonce),lt.innerHTML=_e;var ct=getContainer(_),ut=ct.firstChild;if(tt){if(at){var st=(_.styles||findStyles(ct)).filter(function(ot){if(!["prepend","prependQueue"].includes(ot.getAttribute(APPEND_ORDER)))return!1;var dt=Number(ot.getAttribute(APPEND_PRIORITY)||0);return nt>=dt});if(st.length)return ct.insertBefore(lt,st[st.length-1].nextSibling),lt}ct.insertBefore(lt,ut)}else ct.appendChild(lt);return lt}function findExistNode(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=getContainer(_);return(_.styles||findStyles(et)).find(function(tt){return tt.getAttribute(getMark(_))===_e})}function removeCSS(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=findExistNode(_e,_);if(et){var tt=getContainer(_);tt.removeChild(et)}}function syncRealContainer(_e,_){var et=containerCache.get(_e);if(!et||!contains(document,et)){var tt=injectCSS("",_),rt=tt.parentNode;containerCache.set(_e,rt),_e.removeChild(tt)}}function updateCSS(_e,_){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=getContainer(et),rt=findStyles(tt),nt=_objectSpread2(_objectSpread2({},et),{},{styles:rt});syncRealContainer(tt,nt);var it=findExistNode(_,nt);if(it){var at,lt;if((at=nt.csp)!==null&&at!==void 0&&at.nonce&&it.nonce!==((lt=nt.csp)===null||lt===void 0?void 0:lt.nonce)){var ct;it.nonce=(ct=nt.csp)===null||ct===void 0?void 0:ct.nonce}return it.innerHTML!==_e&&(it.innerHTML=_e),it}var ut=injectCSS(_e,nt);return ut.setAttribute(getMark(nt),_),ut}function _objectWithoutPropertiesLoose(_e,_){if(_e==null)return{};var et={};for(var tt in _e)if({}.hasOwnProperty.call(_e,tt)){if(_.indexOf(tt)!==-1)continue;et[tt]=_e[tt]}return et}function _objectWithoutProperties(_e,_){if(_e==null)return{};var et,tt,rt=_objectWithoutPropertiesLoose(_e,_);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(_e);for(tt=0;tt<nt.length;tt++)et=nt[tt],_.indexOf(et)===-1&&{}.propertyIsEnumerable.call(_e,et)&&(rt[et]=_e[et])}return rt}function isEqual(_e,_){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,tt=new Set;function rt(nt,it){var at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,lt=tt.has(nt);if(warningOnce(!lt,"Warning: There may be circular references"),lt)return!1;if(nt===it)return!0;if(et&&at>1)return!1;tt.add(nt);var ct=at+1;if(Array.isArray(nt)){if(!Array.isArray(it)||nt.length!==it.length)return!1;for(var ut=0;ut<nt.length;ut++)if(!rt(nt[ut],it[ut],ct))return!1;return!0}if(nt&&it&&_typeof(nt)==="object"&&_typeof(it)==="object"){var st=Object.keys(nt);return st.length!==Object.keys(it).length?!1:st.every(function(ot){return rt(nt[ot],it[ot],ct)})}return!1}return rt(_e,_)}var SPLIT$1="%";function pathKey(_e){return _e.join(SPLIT$1)}var Entity=function(){function _e(_){_classCallCheck(this,_e),_defineProperty(this,"instanceId",void 0),_defineProperty(this,"cache",new Map),this.instanceId=_}return _createClass(_e,[{key:"get",value:function(et){return this.opGet(pathKey(et))}},{key:"opGet",value:function(et){return this.cache.get(et)||null}},{key:"update",value:function(et,tt){return this.opUpdate(pathKey(et),tt)}},{key:"opUpdate",value:function(et,tt){var rt=this.cache.get(et),nt=tt(rt);nt===null?this.cache.delete(et):this.cache.set(et,nt)}}]),_e}(),ATTR_TOKEN="data-token-hash",ATTR_MARK="data-css-hash",CSS_IN_JS_INSTANCE="__cssinjs_instance__";function createCache(){var _e=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var _=document.body.querySelectorAll("style[".concat(ATTR_MARK,"]"))||[],et=document.head.firstChild;Array.from(_).forEach(function(rt){rt[CSS_IN_JS_INSTANCE]=rt[CSS_IN_JS_INSTANCE]||_e,rt[CSS_IN_JS_INSTANCE]===_e&&document.head.insertBefore(rt,et)});var tt={};Array.from(document.querySelectorAll("style[".concat(ATTR_MARK,"]"))).forEach(function(rt){var nt=rt.getAttribute(ATTR_MARK);if(tt[nt]){if(rt[CSS_IN_JS_INSTANCE]===_e){var it;(it=rt.parentNode)===null||it===void 0||it.removeChild(rt)}}else tt[nt]=!0})}return new Entity(_e)}var StyleContext=reactExports.createContext({hashPriority:"low",cache:createCache(),defaultCache:!0});function sameDerivativeOption(_e,_){if(_e.length!==_.length)return!1;for(var et=0;et<_e.length;et++)if(_e[et]!==_[et])return!1;return!0}var ThemeCache=function(){function _e(){_classCallCheck(this,_e),_defineProperty(this,"cache",void 0),_defineProperty(this,"keys",void 0),_defineProperty(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return _createClass(_e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(et){var tt,rt,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,it={map:this.cache};return et.forEach(function(at){if(!it)it=void 0;else{var lt;it=(lt=it)===null||lt===void 0||(lt=lt.map)===null||lt===void 0?void 0:lt.get(at)}}),(tt=it)!==null&&tt!==void 0&&tt.value&&nt&&(it.value[1]=this.cacheCallTimes++),(rt=it)===null||rt===void 0?void 0:rt.value}},{key:"get",value:function(et){var tt;return(tt=this.internalGet(et,!0))===null||tt===void 0?void 0:tt[0]}},{key:"has",value:function(et){return!!this.internalGet(et)}},{key:"set",value:function(et,tt){var rt=this;if(!this.has(et)){if(this.size()+1>_e.MAX_CACHE_SIZE+_e.MAX_CACHE_OFFSET){var nt=this.keys.reduce(function(ct,ut){var st=_slicedToArray(ct,2),ot=st[1];return rt.internalGet(ut)[1]<ot?[ut,rt.internalGet(ut)[1]]:ct},[this.keys[0],this.cacheCallTimes]),it=_slicedToArray(nt,1),at=it[0];this.delete(at)}this.keys.push(et)}var lt=this.cache;et.forEach(function(ct,ut){if(ut===et.length-1)lt.set(ct,{value:[tt,rt.cacheCallTimes++]});else{var st=lt.get(ct);st?st.map||(st.map=new Map):lt.set(ct,{map:new Map}),lt=lt.get(ct).map}})}},{key:"deleteByPath",value:function(et,tt){var rt=et.get(tt[0]);if(tt.length===1){var nt;return rt.map?et.set(tt[0],{map:rt.map}):et.delete(tt[0]),(nt=rt.value)===null||nt===void 0?void 0:nt[0]}var it=this.deleteByPath(rt.map,tt.slice(1));return(!rt.map||rt.map.size===0)&&!rt.value&&et.delete(tt[0]),it}},{key:"delete",value:function(et){if(this.has(et))return this.keys=this.keys.filter(function(tt){return!sameDerivativeOption(tt,et)}),this.deleteByPath(this.cache,et)}}]),_e}();_defineProperty(ThemeCache,"MAX_CACHE_SIZE",20);_defineProperty(ThemeCache,"MAX_CACHE_OFFSET",5);var uuid$3=0,Theme=function(){function _e(_){_classCallCheck(this,_e),_defineProperty(this,"derivatives",void 0),_defineProperty(this,"id",void 0),this.derivatives=Array.isArray(_)?_:[_],this.id=uuid$3,_.length===0&&(_.length>0,void 0),uuid$3+=1}return _createClass(_e,[{key:"getDerivativeToken",value:function(et){return this.derivatives.reduce(function(tt,rt){return rt(et,tt)},void 0)}}]),_e}(),cacheThemes=new ThemeCache;function createTheme(_e){var _=Array.isArray(_e)?_e:[_e];return cacheThemes.has(_)||cacheThemes.set(_,new Theme(_)),cacheThemes.get(_)}var resultCache=new WeakMap,RESULT_VALUE={};function memoResult(_e,_){for(var et=resultCache,tt=0;tt<_.length;tt+=1){var rt=_[tt];et.has(rt)||et.set(rt,new WeakMap),et=et.get(rt)}return et.has(RESULT_VALUE)||et.set(RESULT_VALUE,_e()),et.get(RESULT_VALUE)}var flattenTokenCache=new WeakMap;function flattenToken(_e){var _=flattenTokenCache.get(_e)||"";return _||(Object.keys(_e).forEach(function(et){var tt=_e[et];_+=et,tt instanceof Theme?_+=tt.id:tt&&_typeof(tt)==="object"?_+=flattenToken(tt):_+=tt}),_=murmur2(_),flattenTokenCache.set(_e,_)),_}function token2key(_e,_){return murmur2("".concat(_,"_").concat(flattenToken(_e)))}var isClientSide=canUseDom();function unit$1(_e){return typeof _e=="number"?"".concat(_e,"px"):_e}function toStyleStr(_e,_,et){var tt,rt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(nt)return _e;var it=_objectSpread2(_objectSpread2({},rt),{},(tt={},_defineProperty(tt,ATTR_TOKEN,_),_defineProperty(tt,ATTR_MARK,et),tt)),at=Object.keys(it).map(function(lt){var ct=it[lt];return ct?"".concat(lt,'="').concat(ct,'"'):null}).filter(function(lt){return lt}).join(" ");return"<style ".concat(at,">").concat(_e,"</style>")}var token2CSSVar=function _e(_){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(et?"".concat(et,"-"):"").concat(_).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},serializeCSSVar=function _e(_,et,tt){return Object.keys(_).length?".".concat(et).concat(tt!=null&&tt.scope?".".concat(tt.scope):"","{").concat(Object.entries(_).map(function(rt){var nt=_slicedToArray(rt,2),it=nt[0],at=nt[1];return"".concat(it,":").concat(at,";")}).join(""),"}"):""},transformToken=function _e(_,et,tt){var rt={},nt={};return Object.entries(_).forEach(function(it){var at,lt,ct=_slicedToArray(it,2),ut=ct[0],st=ct[1];if(tt!=null&&(at=tt.preserve)!==null&&at!==void 0&&at[ut])nt[ut]=st;else if((typeof st=="string"||typeof st=="number")&&!(tt!=null&&(lt=tt.ignore)!==null&&lt!==void 0&&lt[ut])){var ot,dt=token2CSSVar(ut,tt==null?void 0:tt.prefix);rt[dt]=typeof st=="number"&&!(tt!=null&&(ot=tt.unitless)!==null&&ot!==void 0&&ot[ut])?"".concat(st,"px"):String(st),nt[ut]="var(".concat(dt,")")}}),[nt,serializeCSSVar(rt,et,{scope:tt==null?void 0:tt.scope})]},useInternalLayoutEffect=canUseDom()?reactExports.useLayoutEffect:reactExports.useEffect,useLayoutEffect=function _e(_,et){var tt=reactExports.useRef(!0);useInternalLayoutEffect(function(){return _(tt.current)},et),useInternalLayoutEffect(function(){return tt.current=!1,function(){tt.current=!0}},[])},useLayoutUpdateEffect=function _e(_,et){useLayoutEffect(function(tt){if(!tt)return _()},et)},fullClone$3=_objectSpread2({},React$1),useInsertionEffect$1=fullClone$3.useInsertionEffect,useInsertionEffectPolyfill=function _e(_,et,tt){reactExports.useMemo(_,tt),useLayoutEffect(function(){return et(!0)},tt)},useCompatibleInsertionEffect=useInsertionEffect$1?function(_e,_,et){return useInsertionEffect$1(function(){return _e(),_()},et)}:useInsertionEffectPolyfill,fullClone$2=_objectSpread2({},React$1),useInsertionEffect=fullClone$2.useInsertionEffect,useCleanupRegister=function _e(_){var et=[],tt=!1;function rt(nt){tt||et.push(nt)}return reactExports.useEffect(function(){return tt=!1,function(){tt=!0,et.length&&et.forEach(function(nt){return nt()})}},_),rt},useRun=function _e(){return function(_){_()}},useEffectCleanupRegister=typeof useInsertionEffect<"u"?useCleanupRegister:useRun;function useGlobalCache(_e,_,et,tt,rt){var nt=reactExports.useContext(StyleContext),it=nt.cache,at=[_e].concat(_toConsumableArray(_)),lt=pathKey(at),ct=useEffectCleanupRegister([lt]),ut=function(ft){it.opUpdate(lt,function(ht){var mt=ht||[void 0,void 0],gt=_slicedToArray(mt,2),yt=gt[0],vt=yt===void 0?0:yt,bt=gt[1],xt=bt,_t=xt||et(),St=[vt,_t];return ft?ft(St):St})};reactExports.useMemo(function(){ut()},[lt]);var st=it.opGet(lt),ot=st[1];return useCompatibleInsertionEffect(function(){rt==null||rt(ot)},function(dt){return ut(function(ft){var ht=_slicedToArray(ft,2),mt=ht[0],gt=ht[1];return dt&&mt===0&&(rt==null||rt(ot)),[mt+1,gt]}),function(){it.opUpdate(lt,function(ft){var ht=ft||[],mt=_slicedToArray(ht,2),gt=mt[0],yt=gt===void 0?0:gt,vt=mt[1],bt=yt-1;return bt===0?(ct(function(){(dt||!it.opGet(lt))&&(tt==null||tt(vt,!1))}),null):[yt-1,vt]})}},[lt]),ot}var EMPTY_OVERRIDE={},hashPrefix="css",tokenKeys=new Map;function recordCleanToken(_e){tokenKeys.set(_e,(tokenKeys.get(_e)||0)+1)}function removeStyleTags(_e,_){if(typeof document<"u"){var et=document.querySelectorAll("style[".concat(ATTR_TOKEN,'="').concat(_e,'"]'));et.forEach(function(tt){if(tt[CSS_IN_JS_INSTANCE]===_){var rt;(rt=tt.parentNode)===null||rt===void 0||rt.removeChild(tt)}})}}var TOKEN_THRESHOLD=0;function cleanTokenStyle(_e,_){tokenKeys.set(_e,(tokenKeys.get(_e)||0)-1);var et=Array.from(tokenKeys.keys()),tt=et.filter(function(rt){var nt=tokenKeys.get(rt)||0;return nt<=0});et.length-tt.length>TOKEN_THRESHOLD&&tt.forEach(function(rt){removeStyleTags(rt,_),tokenKeys.delete(rt)})}var getComputedToken$1=function _e(_,et,tt,rt){var nt=tt.getDerivativeToken(_),it=_objectSpread2(_objectSpread2({},nt),et);return rt&&(it=rt(it)),it},TOKEN_PREFIX="token";function useCacheToken(_e,_){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},tt=reactExports.useContext(StyleContext),rt=tt.cache.instanceId,nt=tt.container,it=et.salt,at=it===void 0?"":it,lt=et.override,ct=lt===void 0?EMPTY_OVERRIDE:lt,ut=et.formatToken,st=et.getComputedToken,ot=et.cssVar,dt=memoResult(function(){return Object.assign.apply(Object,[{}].concat(_toConsumableArray(_)))},_),ft=flattenToken(dt),ht=flattenToken(ct),mt=ot?flattenToken(ot):"",gt=useGlobalCache(TOKEN_PREFIX,[at,_e.id,ft,ht,mt],function(){var yt,vt=st?st(dt,ct,_e):getComputedToken$1(dt,ct,_e,ut),bt=_objectSpread2({},vt),xt="";if(ot){var _t=transformToken(vt,ot.key,{prefix:ot.prefix,ignore:ot.ignore,unitless:ot.unitless,preserve:ot.preserve}),St=_slicedToArray(_t,2);vt=St[0],xt=St[1]}var wt=token2key(vt,at);vt._tokenKey=wt,bt._tokenKey=token2key(bt,at);var Et=(yt=ot==null?void 0:ot.key)!==null&&yt!==void 0?yt:wt;vt._themeKey=Et,recordCleanToken(Et);var Tt="".concat(hashPrefix,"-").concat(murmur2(wt));return vt._hashId=Tt,[vt,Tt,bt,xt,(ot==null?void 0:ot.key)||""]},function(yt){cleanTokenStyle(yt[0]._themeKey,rt)},function(yt){var vt=_slicedToArray(yt,4),bt=vt[0],xt=vt[3];if(ot&&xt){var _t=updateCSS(xt,murmur2("css-variables-".concat(bt._themeKey)),{mark:ATTR_MARK,prepend:"queue",attachTo:nt,priority:-999});_t[CSS_IN_JS_INSTANCE]=rt,_t.setAttribute(ATTR_TOKEN,bt._themeKey)}});return gt}var extract$2=function _e(_,et,tt){var rt=_slicedToArray(_,5),nt=rt[2],it=rt[3],at=rt[4],lt=tt||{},ct=lt.plain;if(!it)return null;var ut=nt._tokenKey,st=-999,ot={"data-rc-order":"prependQueue","data-rc-priority":"".concat(st)},dt=toStyleStr(it,at,ut,ot,ct);return[st,ut,dt]},unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",NAMESPACE="@namespace",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(_e){return _e.trim()}function replace(_e,_,et){return _e.replace(_,et)}function indexof(_e,_,et){return _e.indexOf(_,et)}function charat(_e,_){return _e.charCodeAt(_)|0}function substr(_e,_,et){return _e.slice(_,et)}function strlen(_e){return _e.length}function sizeof(_e){return _e.length}function append(_e,_){return _.push(_e),_e}var line=1,column=1,length=0,position=0,character=0,characters="";function node(_e,_,et,tt,rt,nt,it,at){return{value:_e,root:_,parent:et,type:tt,props:rt,children:nt,line,column,length:it,return:"",siblings:at}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(_e,_){return substr(characters,_e,_)}function token(_e){switch(_e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(_e){return line=column=1,length=strlen(characters=_e),position=0,[]}function dealloc(_e){return characters="",_e}function delimit(_e){return trim(slice(position-1,delimiter(_e===91?_e+2:_e===40?_e+1:_e)))}function whitespace$1(_e){for(;(character=peek())&&character<33;)next();return token(_e)>2||token(character)>3?"":" "}function escaping(_e,_){for(;--_&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(_e,caret()+(_<6&&peek()==32&&next()==32))}function delimiter(_e){for(;next();)switch(character){case _e:return position;case 34:case 39:_e!==34&&_e!==39&&delimiter(character);break;case 40:_e===41&&delimiter(_e);break;case 92:next();break}return position}function commenter(_e,_){for(;next()&&_e+character!==57;)if(_e+character===84&&peek()===47)break;return"/*"+slice(_,position-1)+"*"+from(_e===47?_e:next())}function identifier(_e){for(;!token(peek());)next();return slice(_e,position)}function compile(_e){return dealloc(parse("",null,null,null,[""],_e=alloc(_e),0,[0],_e))}function parse(_e,_,et,tt,rt,nt,it,at,lt){for(var ct=0,ut=0,st=it,ot=0,dt=0,ft=0,ht=1,mt=1,gt=1,yt=0,vt="",bt=rt,xt=nt,_t=tt,St=vt;mt;)switch(ft=yt,yt=next()){case 40:if(ft!=108&&charat(St,st-1)==58){indexof(St+=replace(delimit(yt),"&","&\f"),"&\f",abs(ct?at[ct-1]:0))!=-1&&(gt=-1);break}case 34:case 39:case 91:St+=delimit(yt);break;case 9:case 10:case 13:case 32:St+=whitespace$1(ft);break;case 92:St+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),_,et,lt),lt),(token(ft||1)==5||token(peek()||1)==5)&&strlen(St)&&substr(St,-1,void 0)!==" "&&(St+=" ");break;default:St+="/"}break;case 123*ht:at[ct++]=strlen(St)*gt;case 125*ht:case 59:case 0:switch(yt){case 0:case 125:mt=0;case 59+ut:gt==-1&&(St=replace(St,/\f/g,"")),dt>0&&(strlen(St)-st||ht===0&&ft===47)&&append(dt>32?declaration(St+";",tt,et,st-1,lt):declaration(replace(St," ","")+";",tt,et,st-2,lt),lt);break;case 59:St+=";";default:if(append(_t=ruleset(St,_,et,ct,ut,rt,at,vt,bt=[],xt=[],st,nt),nt),yt===123)if(ut===0)parse(St,_,_t,_t,bt,nt,st,at,xt);else{switch(ot){case 99:if(charat(St,3)===110)break;case 108:if(charat(St,2)===97)break;default:ut=0;case 100:case 109:case 115:}ut?parse(_e,_t,_t,tt&&append(ruleset(_e,_t,_t,0,0,rt,at,vt,rt,bt=[],st,xt),xt),rt,xt,st,at,tt?bt:xt):parse(St,_t,_t,_t,[""],xt,0,at,xt)}}ct=ut=dt=0,ht=gt=1,vt=St="",st=it;break;case 58:st=1+strlen(St),dt=ft;default:if(ht<1){if(yt==123)--ht;else if(yt==125&&ht++==0&&prev()==125)continue}switch(St+=from(yt),yt*ht){case 38:gt=ut>0?1:(St+="\f",-1);break;case 44:at[ct++]=(strlen(St)-1)*gt,gt=1;break;case 64:peek()===45&&(St+=delimit(next())),ot=peek(),ut=st=strlen(vt=St+=identifier(caret())),yt++;break;case 45:ft===45&&strlen(St)==2&&(ht=0)}}return nt}function ruleset(_e,_,et,tt,rt,nt,it,at,lt,ct,ut,st){for(var ot=rt-1,dt=rt===0?nt:[""],ft=sizeof(dt),ht=0,mt=0,gt=0;ht<tt;++ht)for(var yt=0,vt=substr(_e,ot+1,ot=abs(mt=it[ht])),bt=_e;yt<ft;++yt)(bt=trim(mt>0?dt[yt]+" "+vt:replace(vt,/&\f/g,dt[yt])))&&(lt[gt++]=bt);return node(_e,_,et,rt===0?RULESET:at,lt,ct,ut,st)}function comment(_e,_,et,tt){return node(_e,_,et,COMMENT,from(char()),substr(_e,2,-2),0,tt)}function declaration(_e,_,et,tt,rt){return node(_e,_,et,DECLARATION,substr(_e,0,tt),substr(_e,tt+1,-1),tt,rt)}function serialize(_e,_){for(var et="",tt=0;tt<_e.length;tt++)et+=_(_e[tt],tt,_e,_)||"";return et}function stringify$2(_e,_,et,tt){switch(_e.type){case LAYER:if(_e.children.length)break;case IMPORT:case NAMESPACE:case DECLARATION:return _e.return=_e.return||_e.value;case COMMENT:return"";case KEYFRAMES:return _e.return=_e.value+"{"+serialize(_e.children,tt)+"}";case RULESET:if(!strlen(_e.value=_e.props.join(",")))return""}return strlen(et=serialize(_e.children,tt))?_e.return=_e.value+"{"+et+"}":""}var ATTR_CACHE_MAP="data-ant-cssinjs-cache-path",CSS_FILE_STYLE="_FILE_STYLE__",cachePathMap,fromCSSFile=!0;function prepare(){if(!cachePathMap&&(cachePathMap={},canUseDom())){var _e=document.createElement("div");_e.className=ATTR_CACHE_MAP,_e.style.position="fixed",_e.style.visibility="hidden",_e.style.top="-9999px",document.body.appendChild(_e);var _=getComputedStyle(_e).content||"";_=_.replace(/^"/,"").replace(/"$/,""),_.split(";").forEach(function(rt){var nt=rt.split(":"),it=_slicedToArray(nt,2),at=it[0],lt=it[1];cachePathMap[at]=lt});var et=document.querySelector("style[".concat(ATTR_CACHE_MAP,"]"));if(et){var tt;fromCSSFile=!1,(tt=et.parentNode)===null||tt===void 0||tt.removeChild(et)}document.body.removeChild(_e)}}function existPath(_e){return prepare(),!!cachePathMap[_e]}function getStyleAndHash(_e){var _=cachePathMap[_e],et=null;if(_&&canUseDom())if(fromCSSFile)et=CSS_FILE_STYLE;else{var tt=document.querySelector("style[".concat(ATTR_MARK,'="').concat(cachePathMap[_e],'"]'));tt?et=tt.innerHTML:delete cachePathMap[_e]}return[et,_]}var SKIP_CHECK="_skip_check_",MULTI_VALUE="_multi_value_";function normalizeStyle(_e){var _=serialize(compile(_e),stringify$2);return _.replace(/\{%%%\:[^;];}/g,";")}function isCompoundCSSProperty(_e){return _typeof(_e)==="object"&&_e&&(SKIP_CHECK in _e||MULTI_VALUE in _e)}function injectSelectorHash(_e,_,et){if(!_)return _e;var tt=".".concat(_),rt=et==="low"?":where(".concat(tt,")"):tt,nt=_e.split(",").map(function(it){var at,lt=it.trim().split(/\s+/),ct=lt[0]||"",ut=((at=ct.match(/^\w+/))===null||at===void 0?void 0:at[0])||"";return ct="".concat(ut).concat(rt).concat(ct.slice(ut.length)),[ct].concat(_toConsumableArray(lt.slice(1))).join(" ")});return nt.join(",")}var parseStyle=function _e(_){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},rt=tt.root,nt=tt.injectHash,it=tt.parentSelectors,at=et.hashId,lt=et.layer;et.path;var ct=et.hashPriority,ut=et.transformers,st=ut===void 0?[]:ut;et.linters;var ot="",dt={};function ft(gt){var yt=gt.getName(at);if(!dt[yt]){var vt=_e(gt.style,et,{root:!1,parentSelectors:it}),bt=_slicedToArray(vt,1),xt=bt[0];dt[yt]="@keyframes ".concat(gt.getName(at)).concat(xt)}}function ht(gt){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return gt.forEach(function(vt){Array.isArray(vt)?ht(vt,yt):vt&&yt.push(vt)}),yt}var mt=ht(Array.isArray(_)?_:[_]);return mt.forEach(function(gt){var yt=typeof gt=="string"&&!rt?{}:gt;if(typeof yt=="string")ot+="".concat(yt,`
`);else if(yt._keyframe)ft(yt);else{var vt=st.reduce(function(bt,xt){var _t;return(xt==null||(_t=xt.visit)===null||_t===void 0?void 0:_t.call(xt,bt))||bt},yt);Object.keys(vt).forEach(function(bt){var xt=vt[bt];if(_typeof(xt)==="object"&&xt&&(bt!=="animationName"||!xt._keyframe)&&!isCompoundCSSProperty(xt)){var _t=!1,St=bt.trim(),wt=!1;(rt||nt)&&at?St.startsWith("@")?_t=!0:St==="&"?St=injectSelectorHash("",at,ct):St=injectSelectorHash(bt,at,ct):rt&&!at&&(St==="&"||St==="")&&(St="",wt=!0);var Et=_e(xt,et,{root:wt,injectHash:_t,parentSelectors:[].concat(_toConsumableArray(it),[St])}),Tt=_slicedToArray(Et,2),Ct=Tt[0],It=Tt[1];dt=_objectSpread2(_objectSpread2({},dt),It),ot+="".concat(St).concat(Ct)}else{let kt=function(Rt,$t){var Mt=Rt.replace(/[A-Z]/g,function(Dt){return"-".concat(Dt.toLowerCase())}),Nt=$t;!unitlessKeys[Rt]&&typeof Nt=="number"&&Nt!==0&&(Nt="".concat(Nt,"px")),Rt==="animationName"&&$t!==null&&$t!==void 0&&$t._keyframe&&(ft($t),Nt=$t.getName(at)),ot+="".concat(Mt,":").concat(Nt,";")};var Pt,At=(Pt=xt==null?void 0:xt.value)!==null&&Pt!==void 0?Pt:xt;_typeof(xt)==="object"&&xt!==null&&xt!==void 0&&xt[MULTI_VALUE]&&Array.isArray(At)?At.forEach(function(Rt){kt(bt,Rt)}):kt(bt,At)}})}}),rt?lt&&(ot&&(ot="@layer ".concat(lt.name," {").concat(ot,"}")),lt.dependencies&&(dt["@layer ".concat(lt.name)]=lt.dependencies.map(function(gt){return"@layer ".concat(gt,", ").concat(lt.name,";")}).join(`
`))):ot="{".concat(ot,"}"),[ot,dt]};function uniqueHash(_e,_){return murmur2("".concat(_e.join("%")).concat(_))}function Empty(){return null}var STYLE_PREFIX="style";function useStyleRegister(_e,_){var et=_e.token,tt=_e.path,rt=_e.hashId,nt=_e.layer,it=_e.nonce,at=_e.clientOnly,lt=_e.order,ct=lt===void 0?0:lt,ut=reactExports.useContext(StyleContext),st=ut.autoClear;ut.mock;var ot=ut.defaultCache,dt=ut.hashPriority,ft=ut.container,ht=ut.ssrInline,mt=ut.transformers,gt=ut.linters,yt=ut.cache,vt=ut.layer,bt=et._tokenKey,xt=[bt];vt&&xt.push("layer"),xt.push.apply(xt,_toConsumableArray(tt));var _t=isClientSide,St=useGlobalCache(STYLE_PREFIX,xt,function(){var It=xt.join("|");if(existPath(It)){var Pt=getStyleAndHash(It),At=_slicedToArray(Pt,2),kt=At[0],Rt=At[1];if(kt)return[kt,bt,Rt,{},at,ct]}var $t=_(),Mt=parseStyle($t,{hashId:rt,hashPriority:dt,layer:vt?nt:void 0,path:tt.join("-"),transformers:mt,linters:gt}),Nt=_slicedToArray(Mt,2),Dt=Nt[0],jt=Nt[1],Ut=normalizeStyle(Dt),Xt=uniqueHash(xt,Ut);return[Ut,bt,Xt,jt,at,ct]},function(It,Pt){var At=_slicedToArray(It,3),kt=At[2];(Pt||st)&&isClientSide&&removeCSS(kt,{mark:ATTR_MARK})},function(It){var Pt=_slicedToArray(It,4),At=Pt[0];Pt[1];var kt=Pt[2],Rt=Pt[3];if(_t&&At!==CSS_FILE_STYLE){var $t={mark:ATTR_MARK,prepend:vt?!1:"queue",attachTo:ft,priority:ct},Mt=typeof it=="function"?it():it;Mt&&($t.csp={nonce:Mt});var Nt=[],Dt=[];Object.keys(Rt).forEach(function(Ut){Ut.startsWith("@layer")?Nt.push(Ut):Dt.push(Ut)}),Nt.forEach(function(Ut){updateCSS(normalizeStyle(Rt[Ut]),"_layer-".concat(Ut),_objectSpread2(_objectSpread2({},$t),{},{prepend:!0}))});var jt=updateCSS(At,kt,$t);jt[CSS_IN_JS_INSTANCE]=yt.instanceId,jt.setAttribute(ATTR_TOKEN,bt),Dt.forEach(function(Ut){updateCSS(normalizeStyle(Rt[Ut]),"_effect-".concat(Ut),$t)})}}),wt=_slicedToArray(St,3),Et=wt[0],Tt=wt[1],Ct=wt[2];return function(It){var Pt;if(!ht||_t||!ot)Pt=reactExports.createElement(Empty,null);else{var At;Pt=reactExports.createElement("style",_extends$x({},(At={},_defineProperty(At,ATTR_TOKEN,Tt),_defineProperty(At,ATTR_MARK,Ct),At),{dangerouslySetInnerHTML:{__html:Et}}))}return reactExports.createElement(reactExports.Fragment,null,Pt,It)}}var extract$1=function _e(_,et,tt){var rt=_slicedToArray(_,6),nt=rt[0],it=rt[1],at=rt[2],lt=rt[3],ct=rt[4],ut=rt[5],st=tt||{},ot=st.plain;if(ct)return null;var dt=nt,ft={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ut)};return dt=toStyleStr(nt,it,at,ft,ot),lt&&Object.keys(lt).forEach(function(ht){if(!et[ht]){et[ht]=!0;var mt=normalizeStyle(lt[ht]),gt=toStyleStr(mt,it,"_effect-".concat(ht),ft,ot);ht.startsWith("@layer")?dt=gt+dt:dt+=gt}}),[ut,at,dt]},CSS_VAR_PREFIX="cssVar",useCSSVarRegister=function _e(_,et){var tt=_.key,rt=_.prefix,nt=_.unitless,it=_.ignore,at=_.token,lt=_.scope,ct=lt===void 0?"":lt,ut=reactExports.useContext(StyleContext),st=ut.cache.instanceId,ot=ut.container,dt=at._tokenKey,ft=[].concat(_toConsumableArray(_.path),[tt,ct,dt]),ht=useGlobalCache(CSS_VAR_PREFIX,ft,function(){var mt=et(),gt=transformToken(mt,tt,{prefix:rt,unitless:nt,ignore:it,scope:ct}),yt=_slicedToArray(gt,2),vt=yt[0],bt=yt[1],xt=uniqueHash(ft,bt);return[vt,bt,xt,tt]},function(mt){var gt=_slicedToArray(mt,3),yt=gt[2];isClientSide&&removeCSS(yt,{mark:ATTR_MARK})},function(mt){var gt=_slicedToArray(mt,3),yt=gt[1],vt=gt[2];if(yt){var bt=updateCSS(yt,vt,{mark:ATTR_MARK,prepend:"queue",attachTo:ot,priority:-999});bt[CSS_IN_JS_INSTANCE]=st,bt.setAttribute(ATTR_TOKEN,tt)}});return ht},extract=function _e(_,et,tt){var rt=_slicedToArray(_,4),nt=rt[1],it=rt[2],at=rt[3],lt=tt||{},ct=lt.plain;if(!nt)return null;var ut=-999,st={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ut)},ot=toStyleStr(nt,at,it,st,ct);return[ut,it,ot]},_ExtractStyleFns;_ExtractStyleFns={},_defineProperty(_ExtractStyleFns,STYLE_PREFIX,extract$1),_defineProperty(_ExtractStyleFns,TOKEN_PREFIX,extract$2),_defineProperty(_ExtractStyleFns,CSS_VAR_PREFIX,extract);var Keyframe=function(){function _e(_,et){_classCallCheck(this,_e),_defineProperty(this,"name",void 0),_defineProperty(this,"style",void 0),_defineProperty(this,"_keyframe",!0),this.name=_,this.style=et}return _createClass(_e,[{key:"getName",value:function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return et?"".concat(et,"-").concat(this.name):this.name}}]),_e}();function noSplit(_e){return _e.notSplit=!0,_e}noSplit(["borderTop","borderBottom"]),noSplit(["borderTop"]),noSplit(["borderBottom"]),noSplit(["borderLeft","borderRight"]),noSplit(["borderLeft"]),noSplit(["borderRight"]);var IconContext=reactExports.createContext({});function _toArray(_e){return _arrayWithHoles(_e)||_iterableToArray(_e)||_unsupportedIterableToArray(_e)||_nonIterableRest()}function get(_e,_){for(var et=_e,tt=0;tt<_.length;tt+=1){if(et==null)return;et=et[_[tt]]}return et}function internalSet(_e,_,et,tt){if(!_.length)return et;var rt=_toArray(_),nt=rt[0],it=rt.slice(1),at;return!_e&&typeof nt=="number"?at=[]:Array.isArray(_e)?at=_toConsumableArray(_e):at=_objectSpread2({},_e),tt&&et===void 0&&it.length===1?delete at[nt][it[0]]:at[nt]=internalSet(at[nt],it,et,tt),at}function set(_e,_,et){var tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return _.length&&tt&&et===void 0&&!get(_e,_.slice(0,-1))?_e:internalSet(_e,_,et,tt)}function isObject(_e){return _typeof(_e)==="object"&&_e!==null&&Object.getPrototypeOf(_e)===Object.prototype}function createEmpty(_e){return Array.isArray(_e)?[]:{}}var keys=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function merge$1(){for(var _e=arguments.length,_=new Array(_e),et=0;et<_e;et++)_[et]=arguments[et];var tt=createEmpty(_[0]);return _.forEach(function(rt){function nt(it,at){var lt=new Set(at),ct=get(rt,it),ut=Array.isArray(ct);if(ut||isObject(ct)){if(!lt.has(ct)){lt.add(ct);var st=get(tt,it);ut?tt=set(tt,it,[]):(!st||_typeof(st)!=="object")&&(tt=set(tt,it,createEmpty(ct))),keys(ct).forEach(function(ot){nt([].concat(_toConsumableArray(it),[ot]),lt)})}}else tt=set(tt,it,ct)}nt([])}),tt}const WarningContext=reactExports.createContext({}),ValidateMessagesContext=reactExports.createContext(void 0);var locale$3={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},locale$2=_objectSpread2(_objectSpread2({},commonLocale),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const locale$1={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},locale={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},locale$2),timePickerLocale:Object.assign({},locale$1)},typeTemplate$1="${label} is not a valid ${type}",localeValues={locale:"en",Pagination:locale$3,DatePicker:locale,TimePicker:locale$1,Calendar:locale,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:typeTemplate$1,method:typeTemplate$1,array:typeTemplate$1,object:typeTemplate$1,number:typeTemplate$1,date:typeTemplate$1,boolean:typeTemplate$1,integer:typeTemplate$1,float:typeTemplate$1,regexp:typeTemplate$1,email:typeTemplate$1,url:typeTemplate$1,hex:typeTemplate$1},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Object.assign({},localeValues.Modal);let localeList=[];const generateLocale=()=>localeList.reduce((_e,_)=>Object.assign(Object.assign({},_e),_),localeValues.Modal);function changeConfirmLocale(_e){if(_e){const _=Object.assign({},_e);return localeList.push(_),generateLocale(),()=>{localeList=localeList.filter(et=>et!==_),generateLocale()}}Object.assign({},localeValues.Modal)}const LocaleContext=reactExports.createContext(void 0),useLocale=(_e,_)=>{const et=reactExports.useContext(LocaleContext),tt=reactExports.useMemo(()=>{var nt;const it=localeValues[_e],at=(nt=et==null?void 0:et[_e])!==null&&nt!==void 0?nt:{};return Object.assign(Object.assign({},typeof it=="function"?it():it),at||{})},[_e,_,et]),rt=reactExports.useMemo(()=>{const nt=et==null?void 0:et.locale;return et!=null&&et.exist&&!nt?localeValues.locale:nt},[et]);return[tt,rt]},ANT_MARK="internalMark",LocaleProvider=_e=>{const{locale:_={},children:et,_ANT_MARK__:tt}=_e;reactExports.useEffect(()=>changeConfirmLocale(_==null?void 0:_.Modal),[_]);const rt=reactExports.useMemo(()=>Object.assign(Object.assign({},_),{exist:!0}),[_]);return reactExports.createElement(LocaleContext.Provider,{value:rt},et)},defaultPresetColors={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},seedToken=Object.assign(Object.assign({},defaultPresetColors),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),round=Math.round;function splitColorStr(_e,_){const et=_e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],tt=et.map(rt=>parseFloat(rt));for(let rt=0;rt<3;rt+=1)tt[rt]=_(tt[rt]||0,et[rt]||"",rt);return et[3]?tt[3]=et[3].includes("%")?tt[3]/100:tt[3]:tt[3]=1,tt}const parseHSVorHSL=(_e,_,et)=>et===0?_e:_e/100;function limitRange(_e,_){const et=_||255;return _e>et?et:_e<0?0:_e}class FastColor{constructor(_){_defineProperty(this,"isValid",!0),_defineProperty(this,"r",0),_defineProperty(this,"g",0),_defineProperty(this,"b",0),_defineProperty(this,"a",1),_defineProperty(this,"_h",void 0),_defineProperty(this,"_s",void 0),_defineProperty(this,"_l",void 0),_defineProperty(this,"_v",void 0),_defineProperty(this,"_max",void 0),_defineProperty(this,"_min",void 0),_defineProperty(this,"_brightness",void 0);function et(tt){return tt[0]in _&&tt[1]in _&&tt[2]in _}if(_)if(typeof _=="string"){let rt=function(nt){return tt.startsWith(nt)};const tt=_.trim();/^#?[A-F\d]{3,8}$/i.test(tt)?this.fromHexString(tt):rt("rgb")?this.fromRgbString(tt):rt("hsl")?this.fromHslString(tt):(rt("hsv")||rt("hsb"))&&this.fromHsvString(tt)}else if(_ instanceof FastColor)this.r=_.r,this.g=_.g,this.b=_.b,this.a=_.a,this._h=_._h,this._s=_._s,this._l=_._l,this._v=_._v;else if(et("rgb"))this.r=limitRange(_.r),this.g=limitRange(_.g),this.b=limitRange(_.b),this.a=typeof _.a=="number"?limitRange(_.a,1):1;else if(et("hsl"))this.fromHsl(_);else if(et("hsv"))this.fromHsv(_);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(_))}setR(_){return this._sc("r",_)}setG(_){return this._sc("g",_)}setB(_){return this._sc("b",_)}setA(_){return this._sc("a",_,1)}setHue(_){const et=this.toHsv();return et.h=_,this._c(et)}getLuminance(){function _(nt){const it=nt/255;return it<=.03928?it/12.92:Math.pow((it+.055)/1.055,2.4)}const et=_(this.r),tt=_(this.g),rt=_(this.b);return .2126*et+.7152*tt+.0722*rt}getHue(){if(typeof this._h>"u"){const _=this.getMax()-this.getMin();_===0?this._h=0:this._h=round(60*(this.r===this.getMax()?(this.g-this.b)/_+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/_+2:(this.r-this.g)/_+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const _=this.getMax()-this.getMin();_===0?this._s=0:this._s=_/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(_=10){const et=this.getHue(),tt=this.getSaturation();let rt=this.getLightness()-_/100;return rt<0&&(rt=0),this._c({h:et,s:tt,l:rt,a:this.a})}lighten(_=10){const et=this.getHue(),tt=this.getSaturation();let rt=this.getLightness()+_/100;return rt>1&&(rt=1),this._c({h:et,s:tt,l:rt,a:this.a})}mix(_,et=50){const tt=this._c(_),rt=et/100,nt=at=>(tt[at]-this[at])*rt+this[at],it={r:round(nt("r")),g:round(nt("g")),b:round(nt("b")),a:round(nt("a")*100)/100};return this._c(it)}tint(_=10){return this.mix({r:255,g:255,b:255,a:1},_)}shade(_=10){return this.mix({r:0,g:0,b:0,a:1},_)}onBackground(_){const et=this._c(_),tt=this.a+et.a*(1-this.a),rt=nt=>round((this[nt]*this.a+et[nt]*et.a*(1-this.a))/tt);return this._c({r:rt("r"),g:rt("g"),b:rt("b"),a:tt})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(_){return this.r===_.r&&this.g===_.g&&this.b===_.b&&this.a===_.a}clone(){return this._c(this)}toHexString(){let _="#";const et=(this.r||0).toString(16);_+=et.length===2?et:"0"+et;const tt=(this.g||0).toString(16);_+=tt.length===2?tt:"0"+tt;const rt=(this.b||0).toString(16);if(_+=rt.length===2?rt:"0"+rt,typeof this.a=="number"&&this.a>=0&&this.a<1){const nt=round(this.a*255).toString(16);_+=nt.length===2?nt:"0"+nt}return _}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const _=this.getHue(),et=round(this.getSaturation()*100),tt=round(this.getLightness()*100);return this.a!==1?`hsla(${_},${et}%,${tt}%,${this.a})`:`hsl(${_},${et}%,${tt}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(_,et,tt){const rt=this.clone();return rt[_]=limitRange(et,tt),rt}_c(_){return new this.constructor(_)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(_){const et=_.replace("#","");function tt(rt,nt){return parseInt(et[rt]+et[nt||rt],16)}et.length<6?(this.r=tt(0),this.g=tt(1),this.b=tt(2),this.a=et[3]?tt(3)/255:1):(this.r=tt(0,1),this.g=tt(2,3),this.b=tt(4,5),this.a=et[6]?tt(6,7)/255:1)}fromHsl({h:_,s:et,l:tt,a:rt}){if(this._h=_%360,this._s=et,this._l=tt,this.a=typeof rt=="number"?rt:1,et<=0){const ot=round(tt*255);this.r=ot,this.g=ot,this.b=ot}let nt=0,it=0,at=0;const lt=_/60,ct=(1-Math.abs(2*tt-1))*et,ut=ct*(1-Math.abs(lt%2-1));lt>=0&&lt<1?(nt=ct,it=ut):lt>=1&&lt<2?(nt=ut,it=ct):lt>=2&&lt<3?(it=ct,at=ut):lt>=3&&lt<4?(it=ut,at=ct):lt>=4&&lt<5?(nt=ut,at=ct):lt>=5&&lt<6&&(nt=ct,at=ut);const st=tt-ct/2;this.r=round((nt+st)*255),this.g=round((it+st)*255),this.b=round((at+st)*255)}fromHsv({h:_,s:et,v:tt,a:rt}){this._h=_%360,this._s=et,this._v=tt,this.a=typeof rt=="number"?rt:1;const nt=round(tt*255);if(this.r=nt,this.g=nt,this.b=nt,et<=0)return;const it=_/60,at=Math.floor(it),lt=it-at,ct=round(tt*(1-et)*255),ut=round(tt*(1-et*lt)*255),st=round(tt*(1-et*(1-lt))*255);switch(at){case 0:this.g=st,this.b=ct;break;case 1:this.r=ut,this.b=ct;break;case 2:this.r=ct,this.b=st;break;case 3:this.r=ct,this.g=ut;break;case 4:this.r=st,this.g=ct;break;case 5:default:this.g=ct,this.b=ut;break}}fromHsvString(_){const et=splitColorStr(_,parseHSVorHSL);this.fromHsv({h:et[0],s:et[1],v:et[2],a:et[3]})}fromHslString(_){const et=splitColorStr(_,parseHSVorHSL);this.fromHsl({h:et[0],s:et[1],l:et[2],a:et[3]})}fromRgbString(_){const et=splitColorStr(_,(tt,rt)=>rt.includes("%")?round(tt/100*255):tt);this.r=et[0],this.g=et[1],this.b=et[2],this.a=et[3]}}var hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function getHue(_e,_,et){var tt;return Math.round(_e.h)>=60&&Math.round(_e.h)<=240?tt=et?Math.round(_e.h)-hueStep*_:Math.round(_e.h)+hueStep*_:tt=et?Math.round(_e.h)+hueStep*_:Math.round(_e.h)-hueStep*_,tt<0?tt+=360:tt>=360&&(tt-=360),tt}function getSaturation(_e,_,et){if(_e.h===0&&_e.s===0)return _e.s;var tt;return et?tt=_e.s-saturationStep*_:_===darkColorCount?tt=_e.s+saturationStep:tt=_e.s+saturationStep2*_,tt>1&&(tt=1),et&&_===lightColorCount&&tt>.1&&(tt=.1),tt<.06&&(tt=.06),Math.round(tt*100)/100}function getValue$1(_e,_,et){var tt;return et?tt=_e.v+brightnessStep1*_:tt=_e.v-brightnessStep2*_,tt=Math.max(0,Math.min(1,tt)),Math.round(tt*100)/100}function generate$1(_e){for(var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=[],tt=new FastColor(_e),rt=tt.toHsv(),nt=lightColorCount;nt>0;nt-=1){var it=new FastColor({h:getHue(rt,nt,!0),s:getSaturation(rt,nt,!0),v:getValue$1(rt,nt,!0)});et.push(it)}et.push(tt);for(var at=1;at<=darkColorCount;at+=1){var lt=new FastColor({h:getHue(rt,at),s:getSaturation(rt,at),v:getValue$1(rt,at)});et.push(lt)}return _.theme==="dark"?darkColorMap.map(function(ct){var ut=ct.index,st=ct.amount;return new FastColor(_.backgroundColor||"#141414").mix(et[ut],st).toHexString()}):et.map(function(ct){return ct.toHexString()})}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},red=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];red.primary=red[5];var volcano=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];volcano.primary=volcano[5];var orange=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];orange.primary=orange[5];var gold=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];gold.primary=gold[5];var yellow=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];yellow.primary=yellow[5];var lime=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];lime.primary=lime[5];var green=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];green.primary=green[5];var cyan=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];cyan.primary=cyan[5];var blue=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];blue.primary=blue[5];var geekblue=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];geekblue.primary=geekblue[5];var purple=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];purple.primary=purple[5];var magenta=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];magenta.primary=magenta[5];var grey=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];grey.primary=grey[5];var presetPalettes={red,volcano,orange,gold,yellow,lime,green,cyan,blue,geekblue,purple,magenta,grey};function genColorMapToken(_e,_){let{generateColorPalettes:et,generateNeutralColorPalettes:tt}=_;const{colorSuccess:rt,colorWarning:nt,colorError:it,colorInfo:at,colorPrimary:lt,colorBgBase:ct,colorTextBase:ut}=_e,st=et(lt),ot=et(rt),dt=et(nt),ft=et(it),ht=et(at),mt=tt(ct,ut),gt=_e.colorLink||_e.colorInfo,yt=et(gt),vt=new FastColor(ft[1]).mix(new FastColor(ft[3]),50).toHexString();return Object.assign(Object.assign({},mt),{colorPrimaryBg:st[1],colorPrimaryBgHover:st[2],colorPrimaryBorder:st[3],colorPrimaryBorderHover:st[4],colorPrimaryHover:st[5],colorPrimary:st[6],colorPrimaryActive:st[7],colorPrimaryTextHover:st[8],colorPrimaryText:st[9],colorPrimaryTextActive:st[10],colorSuccessBg:ot[1],colorSuccessBgHover:ot[2],colorSuccessBorder:ot[3],colorSuccessBorderHover:ot[4],colorSuccessHover:ot[4],colorSuccess:ot[6],colorSuccessActive:ot[7],colorSuccessTextHover:ot[8],colorSuccessText:ot[9],colorSuccessTextActive:ot[10],colorErrorBg:ft[1],colorErrorBgHover:ft[2],colorErrorBgFilledHover:vt,colorErrorBgActive:ft[3],colorErrorBorder:ft[3],colorErrorBorderHover:ft[4],colorErrorHover:ft[5],colorError:ft[6],colorErrorActive:ft[7],colorErrorTextHover:ft[8],colorErrorText:ft[9],colorErrorTextActive:ft[10],colorWarningBg:dt[1],colorWarningBgHover:dt[2],colorWarningBorder:dt[3],colorWarningBorderHover:dt[4],colorWarningHover:dt[4],colorWarning:dt[6],colorWarningActive:dt[7],colorWarningTextHover:dt[8],colorWarningText:dt[9],colorWarningTextActive:dt[10],colorInfoBg:ht[1],colorInfoBgHover:ht[2],colorInfoBorder:ht[3],colorInfoBorderHover:ht[4],colorInfoHover:ht[4],colorInfo:ht[6],colorInfoActive:ht[7],colorInfoTextHover:ht[8],colorInfoText:ht[9],colorInfoTextActive:ht[10],colorLinkHover:yt[4],colorLink:yt[6],colorLinkActive:yt[7],colorBgMask:new FastColor("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const genRadius=_e=>{let _=_e,et=_e,tt=_e,rt=_e;return _e<6&&_e>=5?_=_e+1:_e<16&&_e>=6?_=_e+2:_e>=16&&(_=16),_e<7&&_e>=5?et=4:_e<8&&_e>=7?et=5:_e<14&&_e>=8?et=6:_e<16&&_e>=14?et=7:_e>=16&&(et=8),_e<6&&_e>=2?tt=1:_e>=6&&(tt=2),_e>4&&_e<8?rt=4:_e>=8&&(rt=6),{borderRadius:_e,borderRadiusXS:tt,borderRadiusSM:et,borderRadiusLG:_,borderRadiusOuter:rt}};function genCommonMapToken(_e){const{motionUnit:_,motionBase:et,borderRadius:tt,lineWidth:rt}=_e;return Object.assign({motionDurationFast:`${(et+_).toFixed(1)}s`,motionDurationMid:`${(et+_*2).toFixed(1)}s`,motionDurationSlow:`${(et+_*3).toFixed(1)}s`,lineWidthBold:rt+1},genRadius(tt))}const genControlHeight=_e=>{const{controlHeight:_}=_e;return{controlHeightSM:_*.75,controlHeightXS:_*.5,controlHeightLG:_*1.25}};function getLineHeight(_e){return(_e+8)/_e}function getFontSizes(_e){const _=Array.from({length:10}).map((et,tt)=>{const rt=tt-1,nt=_e*Math.pow(Math.E,rt/5),it=tt>1?Math.floor(nt):Math.ceil(nt);return Math.floor(it/2)*2});return _[1]=_e,_.map(et=>({size:et,lineHeight:getLineHeight(et)}))}const genFontMapToken=_e=>{const _=getFontSizes(_e),et=_.map(ut=>ut.size),tt=_.map(ut=>ut.lineHeight),rt=et[1],nt=et[0],it=et[2],at=tt[1],lt=tt[0],ct=tt[2];return{fontSizeSM:nt,fontSize:rt,fontSizeLG:it,fontSizeXL:et[3],fontSizeHeading1:et[6],fontSizeHeading2:et[5],fontSizeHeading3:et[4],fontSizeHeading4:et[3],fontSizeHeading5:et[2],lineHeight:at,lineHeightLG:ct,lineHeightSM:lt,fontHeight:Math.round(at*rt),fontHeightLG:Math.round(ct*it),fontHeightSM:Math.round(lt*nt),lineHeightHeading1:tt[6],lineHeightHeading2:tt[5],lineHeightHeading3:tt[4],lineHeightHeading4:tt[3],lineHeightHeading5:tt[2]}};function genSizeMapToken(_e){const{sizeUnit:_,sizeStep:et}=_e;return{sizeXXL:_*(et+8),sizeXL:_*(et+4),sizeLG:_*(et+2),sizeMD:_*(et+1),sizeMS:_*et,size:_*et,sizeSM:_*(et-1),sizeXS:_*(et-2),sizeXXS:_*(et-3)}}const getAlphaColor$1=(_e,_)=>new FastColor(_e).setA(_).toRgbString(),getSolidColor=(_e,_)=>new FastColor(_e).darken(_).toHexString(),generateColorPalettes=_e=>{const _=generate$1(_e);return{1:_[0],2:_[1],3:_[2],4:_[3],5:_[4],6:_[5],7:_[6],8:_[4],9:_[5],10:_[6]}},generateNeutralColorPalettes=(_e,_)=>{const et=_e||"#fff",tt=_||"#000";return{colorBgBase:et,colorTextBase:tt,colorText:getAlphaColor$1(tt,.88),colorTextSecondary:getAlphaColor$1(tt,.65),colorTextTertiary:getAlphaColor$1(tt,.45),colorTextQuaternary:getAlphaColor$1(tt,.25),colorFill:getAlphaColor$1(tt,.15),colorFillSecondary:getAlphaColor$1(tt,.06),colorFillTertiary:getAlphaColor$1(tt,.04),colorFillQuaternary:getAlphaColor$1(tt,.02),colorBgSolid:getAlphaColor$1(tt,1),colorBgSolidHover:getAlphaColor$1(tt,.75),colorBgSolidActive:getAlphaColor$1(tt,.95),colorBgLayout:getSolidColor(et,4),colorBgContainer:getSolidColor(et,0),colorBgElevated:getSolidColor(et,0),colorBgSpotlight:getAlphaColor$1(tt,.85),colorBgBlur:"transparent",colorBorder:getSolidColor(et,15),colorBorderSecondary:getSolidColor(et,6)}};function derivative(_e){presetPrimaryColors.pink=presetPrimaryColors.magenta,presetPalettes.pink=presetPalettes.magenta;const _=Object.keys(defaultPresetColors).map(et=>{const tt=_e[et]===presetPrimaryColors[et]?presetPalettes[et]:generate$1(_e[et]);return Array.from({length:10},()=>1).reduce((rt,nt,it)=>(rt[`${et}-${it+1}`]=tt[it],rt[`${et}${it+1}`]=tt[it],rt),{})}).reduce((et,tt)=>(et=Object.assign(Object.assign({},et),tt),et),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},_e),_),genColorMapToken(_e,{generateColorPalettes,generateNeutralColorPalettes})),genFontMapToken(_e.fontSize)),genSizeMapToken(_e)),genControlHeight(_e)),genCommonMapToken(_e))}const defaultTheme=createTheme(derivative),defaultConfig={token:seedToken,override:{override:seedToken},hashed:!0},DesignTokenContext=React.createContext(defaultConfig),defaultPrefixCls="ant",defaultIconPrefixCls="anticon",Variants=["outlined","borderless","filled","underlined"],defaultGetPrefixCls=(_e,_)=>_||(_e?`${defaultPrefixCls}-${_e}`:defaultPrefixCls),ConfigContext=reactExports.createContext({getPrefixCls:defaultGetPrefixCls,iconPrefixCls:defaultIconPrefixCls}),EMPTY_OBJECT={};function useComponentConfig(_e){const _=reactExports.useContext(ConfigContext),{getPrefixCls:et,direction:tt,getPopupContainer:rt}=_,nt=_[_e];return Object.assign(Object.assign({classNames:EMPTY_OBJECT,styles:EMPTY_OBJECT},nt),{getPrefixCls:et,direction:tt,getPopupContainer:rt})}const dynamicStyleMark=`-ant-${Date.now()}-${Math.random()}`;function getStyle(_e,_){const et={},tt=(it,at)=>{let lt=it.clone();return lt=(at==null?void 0:at(lt))||lt,lt.toRgbString()},rt=(it,at)=>{const lt=new FastColor(it),ct=generate$1(lt.toRgbString());et[`${at}-color`]=tt(lt),et[`${at}-color-disabled`]=ct[1],et[`${at}-color-hover`]=ct[4],et[`${at}-color-active`]=ct[6],et[`${at}-color-outline`]=lt.clone().setA(.2).toRgbString(),et[`${at}-color-deprecated-bg`]=ct[0],et[`${at}-color-deprecated-border`]=ct[2]};if(_.primaryColor){rt(_.primaryColor,"primary");const it=new FastColor(_.primaryColor),at=generate$1(it.toRgbString());at.forEach((ct,ut)=>{et[`primary-${ut+1}`]=ct}),et["primary-color-deprecated-l-35"]=tt(it,ct=>ct.lighten(35)),et["primary-color-deprecated-l-20"]=tt(it,ct=>ct.lighten(20)),et["primary-color-deprecated-t-20"]=tt(it,ct=>ct.tint(20)),et["primary-color-deprecated-t-50"]=tt(it,ct=>ct.tint(50)),et["primary-color-deprecated-f-12"]=tt(it,ct=>ct.setA(ct.a*.12));const lt=new FastColor(at[0]);et["primary-color-active-deprecated-f-30"]=tt(lt,ct=>ct.setA(ct.a*.3)),et["primary-color-active-deprecated-d-02"]=tt(lt,ct=>ct.darken(2))}return _.successColor&&rt(_.successColor,"success"),_.warningColor&&rt(_.warningColor,"warning"),_.errorColor&&rt(_.errorColor,"error"),_.infoColor&&rt(_.infoColor,"info"),`
  :root {
    ${Object.keys(et).map(it=>`--${_e}-${it}: ${et[it]};`).join(`
`)}
  }
  `.trim()}function registerTheme(_e,_){const et=getStyle(_e,_);canUseDom()&&updateCSS(et,`${dynamicStyleMark}-dynamic-theme`)}const DisabledContext=reactExports.createContext(!1),DisabledContextProvider=_e=>{let{children:_,disabled:et}=_e;const tt=reactExports.useContext(DisabledContext);return reactExports.createElement(DisabledContext.Provider,{value:et??tt},_)},SizeContext=reactExports.createContext(void 0),SizeContextProvider=_e=>{let{children:_,size:et}=_e;const tt=reactExports.useContext(SizeContext);return reactExports.createElement(SizeContext.Provider,{value:et||tt},_)};function useConfig(){const _e=reactExports.useContext(DisabledContext),_=reactExports.useContext(SizeContext);return{componentDisabled:_e,componentSize:_}}var AbstractCalculator=_createClass(function _e(){_classCallCheck(this,_e)}),CALC_UNIT="CALC_UNIT",regexp$1=new RegExp(CALC_UNIT,"g");function unit(_e){return typeof _e=="number"?"".concat(_e).concat(CALC_UNIT):_e}var CSSCalculator=function(_e){_inherits(et,_e);var _=_createSuper(et);function et(tt,rt){var nt;_classCallCheck(this,et),nt=_.call(this),_defineProperty(_assertThisInitialized(nt),"result",""),_defineProperty(_assertThisInitialized(nt),"unitlessCssVar",void 0),_defineProperty(_assertThisInitialized(nt),"lowPriority",void 0);var it=_typeof(tt);return nt.unitlessCssVar=rt,tt instanceof et?nt.result="(".concat(tt.result,")"):it==="number"?nt.result=unit(tt):it==="string"&&(nt.result=tt),nt}return _createClass(et,[{key:"add",value:function(rt){return rt instanceof et?this.result="".concat(this.result," + ").concat(rt.getResult()):(typeof rt=="number"||typeof rt=="string")&&(this.result="".concat(this.result," + ").concat(unit(rt))),this.lowPriority=!0,this}},{key:"sub",value:function(rt){return rt instanceof et?this.result="".concat(this.result," - ").concat(rt.getResult()):(typeof rt=="number"||typeof rt=="string")&&(this.result="".concat(this.result," - ").concat(unit(rt))),this.lowPriority=!0,this}},{key:"mul",value:function(rt){return this.lowPriority&&(this.result="(".concat(this.result,")")),rt instanceof et?this.result="".concat(this.result," * ").concat(rt.getResult(!0)):(typeof rt=="number"||typeof rt=="string")&&(this.result="".concat(this.result," * ").concat(rt)),this.lowPriority=!1,this}},{key:"div",value:function(rt){return this.lowPriority&&(this.result="(".concat(this.result,")")),rt instanceof et?this.result="".concat(this.result," / ").concat(rt.getResult(!0)):(typeof rt=="number"||typeof rt=="string")&&(this.result="".concat(this.result," / ").concat(rt)),this.lowPriority=!1,this}},{key:"getResult",value:function(rt){return this.lowPriority||rt?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(rt){var nt=this,it=rt||{},at=it.unit,lt=!0;return typeof at=="boolean"?lt=at:Array.from(this.unitlessCssVar).some(function(ct){return nt.result.includes(ct)})&&(lt=!1),this.result=this.result.replace(regexp$1,lt?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),et}(AbstractCalculator),NumCalculator=function(_e){_inherits(et,_e);var _=_createSuper(et);function et(tt){var rt;return _classCallCheck(this,et),rt=_.call(this),_defineProperty(_assertThisInitialized(rt),"result",0),tt instanceof et?rt.result=tt.result:typeof tt=="number"&&(rt.result=tt),rt}return _createClass(et,[{key:"add",value:function(rt){return rt instanceof et?this.result+=rt.result:typeof rt=="number"&&(this.result+=rt),this}},{key:"sub",value:function(rt){return rt instanceof et?this.result-=rt.result:typeof rt=="number"&&(this.result-=rt),this}},{key:"mul",value:function(rt){return rt instanceof et?this.result*=rt.result:typeof rt=="number"&&(this.result*=rt),this}},{key:"div",value:function(rt){return rt instanceof et?this.result/=rt.result:typeof rt=="number"&&(this.result/=rt),this}},{key:"equal",value:function(){return this.result}}]),et}(AbstractCalculator),genCalc=function _e(_,et){var tt=_==="css"?CSSCalculator:NumCalculator;return function(rt){return new tt(rt,et)}},getCompVarPrefix=function _e(_,et){return"".concat([et,_.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function useEvent(_e){var _=reactExports.useRef();_.current=_e;var et=reactExports.useCallback(function(){for(var tt,rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];return(tt=_.current)===null||tt===void 0?void 0:tt.call.apply(tt,[_].concat(nt))},[]);return et}function useSafeState(_e){var _=reactExports.useRef(!1),et=reactExports.useState(_e),tt=_slicedToArray(et,2),rt=tt[0],nt=tt[1];reactExports.useEffect(function(){return _.current=!1,function(){_.current=!0}},[]);function it(at,lt){lt&&_.current||nt(at)}return[rt,it]}function hasValue(_e){return _e!==void 0}function useMergedState(_e,_){var et=_||{},tt=et.defaultValue,rt=et.value,nt=et.onChange,it=et.postState,at=useSafeState(function(){return hasValue(rt)?rt:hasValue(tt)?typeof tt=="function"?tt():tt:typeof _e=="function"?_e():_e}),lt=_slicedToArray(at,2),ct=lt[0],ut=lt[1],st=rt!==void 0?rt:ct,ot=it?it(st):st,dt=useEvent(nt),ft=useSafeState([st]),ht=_slicedToArray(ft,2),mt=ht[0],gt=ht[1];useLayoutUpdateEffect(function(){var vt=mt[0];ct!==vt&&dt(ct,vt)},[mt]),useLayoutUpdateEffect(function(){hasValue(rt)||ut(rt)},[rt]);var yt=useEvent(function(vt,bt){ut(vt,bt),gt([st],bt)});return[ot,yt]}function getComponentToken(_e,_,et,tt){var rt=_objectSpread2({},_[_e]);if(tt!=null&&tt.deprecatedTokens){var nt=tt.deprecatedTokens;nt.forEach(function(at){var lt=_slicedToArray(at,2),ct=lt[0],ut=lt[1];if(rt!=null&&rt[ct]||rt!=null&&rt[ut]){var st;(st=rt[ut])!==null&&st!==void 0||(rt[ut]=rt==null?void 0:rt[ct])}})}var it=_objectSpread2(_objectSpread2({},et),rt);return Object.keys(it).forEach(function(at){it[at]===_[at]&&delete it[at]}),it}var enableStatistic=typeof CSSINJS_STATISTIC<"u",recording=!0;function merge(){for(var _e=arguments.length,_=new Array(_e),et=0;et<_e;et++)_[et]=arguments[et];if(!enableStatistic)return Object.assign.apply(Object,[{}].concat(_));recording=!1;var tt={};return _.forEach(function(rt){if(_typeof(rt)==="object"){var nt=Object.keys(rt);nt.forEach(function(it){Object.defineProperty(tt,it,{configurable:!0,enumerable:!0,get:function(){return rt[it]}})})}}),recording=!0,tt}var statistic={};function noop(){}var statisticToken=function _e(_){var et,tt=_,rt=noop;return enableStatistic&&typeof Proxy<"u"&&(et=new Set,tt=new Proxy(_,{get:function(it,at){if(recording){var lt;(lt=et)===null||lt===void 0||lt.add(at)}return it[at]}}),rt=function(it,at){var lt;statistic[it]={global:Array.from(et),component:_objectSpread2(_objectSpread2({},(lt=statistic[it])===null||lt===void 0?void 0:lt.component),at)}}),{token:tt,keys:et,flush:rt}};function getDefaultComponentToken(_e,_,et){if(typeof et=="function"){var tt;return et(merge(_,(tt=_[_e])!==null&&tt!==void 0?tt:{}))}return et??{}}function genMaxMin(_e){return _e==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return"max(".concat(tt.map(function(nt){return unit$1(nt)}).join(","),")")},min:function(){for(var et=arguments.length,tt=new Array(et),rt=0;rt<et;rt++)tt[rt]=arguments[rt];return"min(".concat(tt.map(function(nt){return unit$1(nt)}).join(","),")")}}}var BEAT_LIMIT=1e3*60*10,ArrayKeyMap=function(){function _e(){_classCallCheck(this,_e),_defineProperty(this,"map",new Map),_defineProperty(this,"objectIDMap",new WeakMap),_defineProperty(this,"nextID",0),_defineProperty(this,"lastAccessBeat",new Map),_defineProperty(this,"accessBeat",0)}return _createClass(_e,[{key:"set",value:function(et,tt){this.clear();var rt=this.getCompositeKey(et);this.map.set(rt,tt),this.lastAccessBeat.set(rt,Date.now())}},{key:"get",value:function(et){var tt=this.getCompositeKey(et),rt=this.map.get(tt);return this.lastAccessBeat.set(tt,Date.now()),this.accessBeat+=1,rt}},{key:"getCompositeKey",value:function(et){var tt=this,rt=et.map(function(nt){return nt&&_typeof(nt)==="object"?"obj_".concat(tt.getObjectID(nt)):"".concat(_typeof(nt),"_").concat(nt)});return rt.join("|")}},{key:"getObjectID",value:function(et){if(this.objectIDMap.has(et))return this.objectIDMap.get(et);var tt=this.nextID;return this.objectIDMap.set(et,tt),this.nextID+=1,tt}},{key:"clear",value:function(){var et=this;if(this.accessBeat>1e4){var tt=Date.now();this.lastAccessBeat.forEach(function(rt,nt){tt-rt>BEAT_LIMIT&&(et.map.delete(nt),et.lastAccessBeat.delete(nt))}),this.accessBeat=0}}}]),_e}(),uniqueMap=new ArrayKeyMap;function useUniqueMemo(_e,_){return React.useMemo(function(){var et=uniqueMap.get(_);if(et)return et;var tt=_e();return uniqueMap.set(_,tt),tt},_)}var useDefaultCSP=function _e(){return{}};function genStyleUtils(_e){var _=_e.useCSP,et=_===void 0?useDefaultCSP:_,tt=_e.useToken,rt=_e.usePrefix,nt=_e.getResetStyles,it=_e.getCommonStyle,at=_e.getCompUnitless;function lt(ot,dt,ft,ht){var mt=Array.isArray(ot)?ot[0]:ot;function gt(wt){return"".concat(String(mt)).concat(wt.slice(0,1).toUpperCase()).concat(wt.slice(1))}var yt=(ht==null?void 0:ht.unitless)||{},vt=typeof at=="function"?at(ot):{},bt=_objectSpread2(_objectSpread2({},vt),{},_defineProperty({},gt("zIndexPopup"),!0));Object.keys(yt).forEach(function(wt){bt[gt(wt)]=yt[wt]});var xt=_objectSpread2(_objectSpread2({},ht),{},{unitless:bt,prefixToken:gt}),_t=ut(ot,dt,ft,xt),St=ct(mt,ft,xt);return function(wt){var Et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wt,Tt=_t(wt,Et),Ct=_slicedToArray(Tt,2),It=Ct[1],Pt=St(Et),At=_slicedToArray(Pt,2),kt=At[0],Rt=At[1];return[kt,It,Rt]}}function ct(ot,dt,ft){var ht=ft.unitless,mt=ft.injectStyle,gt=mt===void 0?!0:mt,yt=ft.prefixToken,vt=ft.ignore,bt=function(St){var wt=St.rootCls,Et=St.cssVar,Tt=Et===void 0?{}:Et,Ct=tt(),It=Ct.realToken;return useCSSVarRegister({path:[ot],prefix:Tt.prefix,key:Tt.key,unitless:ht,ignore:vt,token:It,scope:wt},function(){var Pt=getDefaultComponentToken(ot,It,dt),At=getComponentToken(ot,It,Pt,{deprecatedTokens:ft==null?void 0:ft.deprecatedTokens});return Object.keys(Pt).forEach(function(kt){At[yt(kt)]=At[kt],delete At[kt]}),At}),null},xt=function(St){var wt=tt(),Et=wt.cssVar;return[function(Tt){return gt&&Et?React.createElement(React.Fragment,null,React.createElement(bt,{rootCls:St,cssVar:Et,component:ot}),Tt):Tt},Et==null?void 0:Et.key]};return xt}function ut(ot,dt,ft){var ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},mt=Array.isArray(ot)?ot:[ot,ot],gt=_slicedToArray(mt,1),yt=gt[0],vt=mt.join("-"),bt=_e.layer||{name:"antd"};return function(xt){var _t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt,St=tt(),wt=St.theme,Et=St.realToken,Tt=St.hashId,Ct=St.token,It=St.cssVar,Pt=rt(),At=Pt.rootPrefixCls,kt=Pt.iconPrefixCls,Rt=et(),$t=It?"css":"js",Mt=useUniqueMemo(function(){var Wt=new Set;return It&&Object.keys(ht.unitless||{}).forEach(function(Vt){Wt.add(token2CSSVar(Vt,It.prefix)),Wt.add(token2CSSVar(Vt,getCompVarPrefix(yt,It.prefix)))}),genCalc($t,Wt)},[$t,yt,It==null?void 0:It.prefix]),Nt=genMaxMin($t),Dt=Nt.max,jt=Nt.min,Ut={theme:wt,token:Ct,hashId:Tt,nonce:function(){return Rt.nonce},clientOnly:ht.clientOnly,layer:bt,order:ht.order||-999};typeof nt=="function"&&useStyleRegister(_objectSpread2(_objectSpread2({},Ut),{},{clientOnly:!1,path:["Shared",At]}),function(){return nt(Ct,{prefix:{rootPrefixCls:At,iconPrefixCls:kt},csp:Rt})});var Xt=useStyleRegister(_objectSpread2(_objectSpread2({},Ut),{},{path:[vt,xt,kt]}),function(){if(ht.injectStyle===!1)return[];var Wt=statisticToken(Ct),Vt=Wt.token,qt=Wt.flush,tr=getDefaultComponentToken(yt,Et,ft),Kt=".".concat(xt),Yt=getComponentToken(yt,Et,tr,{deprecatedTokens:ht.deprecatedTokens});It&&tr&&_typeof(tr)==="object"&&Object.keys(tr).forEach(function(ar){tr[ar]="var(".concat(token2CSSVar(ar,getCompVarPrefix(yt,It.prefix)),")")});var rr=merge(Vt,{componentCls:Kt,prefixCls:xt,iconCls:".".concat(kt),antCls:".".concat(At),calc:Mt,max:Dt,min:jt},It?tr:Yt),ir=dt(rr,{hashId:Tt,prefixCls:xt,rootPrefixCls:At,iconPrefixCls:kt});qt(yt,Yt);var lr=typeof it=="function"?it(rr,xt,_t,ht.resetFont):null;return[ht.resetStyle===!1?null:lr,ir]});return[Xt,Tt]}}function st(ot,dt,ft){var ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},mt=ut(ot,dt,ft,_objectSpread2({resetStyle:!1,order:-998},ht)),gt=function(vt){var bt=vt.prefixCls,xt=vt.rootCls,_t=xt===void 0?bt:xt;return mt(bt,_t),null};return gt}return{genStyleHooks:lt,genSubStyleComponent:st,genComponentStyleHook:ut}}const version$1="5.24.6";function isStableColor(_e){return _e>=0&&_e<=255}function getAlphaColor(_e,_){const{r:et,g:tt,b:rt,a:nt}=new FastColor(_e).toRgb();if(nt<1)return _e;const{r:it,g:at,b:lt}=new FastColor(_).toRgb();for(let ct=.01;ct<=1;ct+=.01){const ut=Math.round((et-it*(1-ct))/ct),st=Math.round((tt-at*(1-ct))/ct),ot=Math.round((rt-lt*(1-ct))/ct);if(isStableColor(ut)&&isStableColor(st)&&isStableColor(ot))return new FastColor({r:ut,g:st,b:ot,a:Math.round(ct*100)/100}).toRgbString()}return new FastColor({r:et,g:tt,b:rt,a:1}).toRgbString()}var __rest$e=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};function formatToken(_e){const{override:_}=_e,et=__rest$e(_e,["override"]),tt=Object.assign({},_);Object.keys(seedToken).forEach(ot=>{delete tt[ot]});const rt=Object.assign(Object.assign({},et),tt),nt=480,it=576,at=768,lt=992,ct=1200,ut=1600;if(rt.motion===!1){const ot="0s";rt.motionDurationFast=ot,rt.motionDurationMid=ot,rt.motionDurationSlow=ot}return Object.assign(Object.assign(Object.assign({},rt),{colorFillContent:rt.colorFillSecondary,colorFillContentHover:rt.colorFill,colorFillAlter:rt.colorFillQuaternary,colorBgContainerDisabled:rt.colorFillTertiary,colorBorderBg:rt.colorBgContainer,colorSplit:getAlphaColor(rt.colorBorderSecondary,rt.colorBgContainer),colorTextPlaceholder:rt.colorTextQuaternary,colorTextDisabled:rt.colorTextQuaternary,colorTextHeading:rt.colorText,colorTextLabel:rt.colorTextSecondary,colorTextDescription:rt.colorTextTertiary,colorTextLightSolid:rt.colorWhite,colorHighlight:rt.colorError,colorBgTextHover:rt.colorFillSecondary,colorBgTextActive:rt.colorFill,colorIcon:rt.colorTextTertiary,colorIconHover:rt.colorText,colorErrorOutline:getAlphaColor(rt.colorErrorBg,rt.colorBgContainer),colorWarningOutline:getAlphaColor(rt.colorWarningBg,rt.colorBgContainer),fontSizeIcon:rt.fontSizeSM,lineWidthFocus:rt.lineWidth*3,lineWidth:rt.lineWidth,controlOutlineWidth:rt.lineWidth*2,controlInteractiveSize:rt.controlHeight/2,controlItemBgHover:rt.colorFillTertiary,controlItemBgActive:rt.colorPrimaryBg,controlItemBgActiveHover:rt.colorPrimaryBgHover,controlItemBgActiveDisabled:rt.colorFill,controlTmpOutline:rt.colorFillQuaternary,controlOutline:getAlphaColor(rt.colorPrimaryBg,rt.colorBgContainer),lineType:rt.lineType,borderRadius:rt.borderRadius,borderRadiusXS:rt.borderRadiusXS,borderRadiusSM:rt.borderRadiusSM,borderRadiusLG:rt.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:rt.sizeXXS,paddingXS:rt.sizeXS,paddingSM:rt.sizeSM,padding:rt.size,paddingMD:rt.sizeMD,paddingLG:rt.sizeLG,paddingXL:rt.sizeXL,paddingContentHorizontalLG:rt.sizeLG,paddingContentVerticalLG:rt.sizeMS,paddingContentHorizontal:rt.sizeMS,paddingContentVertical:rt.sizeSM,paddingContentHorizontalSM:rt.size,paddingContentVerticalSM:rt.sizeXS,marginXXS:rt.sizeXXS,marginXS:rt.sizeXS,marginSM:rt.sizeSM,margin:rt.size,marginMD:rt.sizeMD,marginLG:rt.sizeLG,marginXL:rt.sizeXL,marginXXL:rt.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:nt,screenXSMin:nt,screenXSMax:it-1,screenSM:it,screenSMMin:it,screenSMMax:at-1,screenMD:at,screenMDMin:at,screenMDMax:lt-1,screenLG:lt,screenLGMin:lt,screenLGMax:ct-1,screenXL:ct,screenXLMin:ct,screenXLMax:ut-1,screenXXL:ut,screenXXLMin:ut,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new FastColor("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new FastColor("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new FastColor("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),tt)}var __rest$d=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const unitless={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},ignore={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},preserve={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},getComputedToken=(_e,_,et)=>{const tt=et.getDerivativeToken(_e),{override:rt}=_,nt=__rest$d(_,["override"]);let it=Object.assign(Object.assign({},tt),{override:rt});return it=formatToken(it),nt&&Object.entries(nt).forEach(at=>{let[lt,ct]=at;const{theme:ut}=ct,st=__rest$d(ct,["theme"]);let ot=st;ut&&(ot=getComputedToken(Object.assign(Object.assign({},it),st),{override:st},ut)),it[lt]=ot}),it};function useToken(){const{token:_e,hashed:_,theme:et,override:tt,cssVar:rt}=React.useContext(DesignTokenContext),nt=`${version$1}-${_||""}`,it=et||defaultTheme,[at,lt,ct]=useCacheToken(it,[seedToken,_e],{salt:nt,override:tt,getComputedToken,formatToken,cssVar:rt&&{prefix:rt.prefix,key:rt.key,unitless,ignore,preserve}});return[it,ct,_?lt:"",at,rt]}const textEllipsis={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},resetComponent=function(_e){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:_e.colorText,fontSize:_e.fontSize,lineHeight:_e.lineHeight,listStyle:"none",fontFamily:_?"inherit":_e.fontFamily}},resetIcon=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),clearFix=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),genLinkStyle=_e=>({a:{color:_e.colorLink,textDecoration:_e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${_e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:_e.colorLinkHover},"&:active":{color:_e.colorLinkActive},"&:active, &:hover":{textDecoration:_e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:_e.linkFocusDecoration,outline:0},"&[disabled]":{color:_e.colorTextDisabled,cursor:"not-allowed"}}}),genCommonStyle=(_e,_,et,tt)=>{const rt=`[class^="${_}"], [class*=" ${_}"]`,nt=et?`.${et}`:rt,it={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let at={};return tt!==!1&&(at={fontFamily:_e.fontFamily,fontSize:_e.fontSize}),{[nt]:Object.assign(Object.assign(Object.assign({},at),it),{[rt]:it})}},genFocusOutline=(_e,_)=>({outline:`${unit$1(_e.lineWidthFocus)} solid ${_e.colorPrimaryBorder}`,outlineOffset:_??1,transition:"outline-offset 0s, outline 0s"}),genFocusStyle=(_e,_)=>({"&:focus-visible":Object.assign({},genFocusOutline(_e,_))}),genIconStyle=_e=>({[`.${_e}`]:Object.assign(Object.assign({},resetIcon()),{[`.${_e} .${_e}-icon`]:{display:"block"}})}),{genStyleHooks,genComponentStyleHook,genSubStyleComponent}=genStyleUtils({usePrefix:()=>{const{getPrefixCls:_e,iconPrefixCls:_}=reactExports.useContext(ConfigContext);return{rootPrefixCls:_e(),iconPrefixCls:_}},useToken:()=>{const[_e,_,et,tt,rt]=useToken();return{theme:_e,realToken:_,hashId:et,token:tt,cssVar:rt}},useCSP:()=>{const{csp:_e}=reactExports.useContext(ConfigContext);return _e??{}},getResetStyles:(_e,_)=>{var et;const tt=genLinkStyle(_e);return[tt,{"&":tt},genIconStyle((et=_==null?void 0:_.prefix.iconPrefixCls)!==null&&et!==void 0?et:defaultIconPrefixCls)]},getCommonStyle:genCommonStyle,getCompUnitless:()=>unitless}),useResetIconStyle=(_e,_)=>{const[et,tt]=useToken();return useStyleRegister({theme:et,token:tt,hashId:"",path:["ant-design-icons",_e],nonce:()=>_==null?void 0:_.nonce,layer:{name:"antd"}},()=>[genIconStyle(_e)])},fullClone$1=Object.assign({},React$1),{useId:useId$1}=fullClone$1,useEmptyId=()=>"",useThemeKey=typeof useId$1>"u"?useEmptyId:useId$1;function useTheme(_e,_,et){var tt;const rt=_e||{},nt=rt.inherit===!1||!_?Object.assign(Object.assign({},defaultConfig),{hashed:(tt=_==null?void 0:_.hashed)!==null&&tt!==void 0?tt:defaultConfig.hashed,cssVar:_==null?void 0:_.cssVar}):_,it=useThemeKey();return useMemo(()=>{var at,lt;if(!_e)return _;const ct=Object.assign({},nt.components);Object.keys(_e.components||{}).forEach(ot=>{ct[ot]=Object.assign(Object.assign({},ct[ot]),_e.components[ot])});const ut=`css-var-${it.replace(/:/g,"")}`,st=((at=rt.cssVar)!==null&&at!==void 0?at:nt.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:et==null?void 0:et.prefixCls},typeof nt.cssVar=="object"?nt.cssVar:{}),typeof rt.cssVar=="object"?rt.cssVar:{}),{key:typeof rt.cssVar=="object"&&((lt=rt.cssVar)===null||lt===void 0?void 0:lt.key)||ut});return Object.assign(Object.assign(Object.assign({},nt),rt),{token:Object.assign(Object.assign({},nt.token),rt.token),components:ct,cssVar:st})},[rt,nt],(at,lt)=>at.some((ct,ut)=>{const st=lt[ut];return!isEqual(ct,st,!0)}))}var _excluded$s=["children"],Context$1=reactExports.createContext({});function MotionProvider(_e){var _=_e.children,et=_objectWithoutProperties(_e,_excluded$s);return reactExports.createElement(Context$1.Provider,{value:et},_)}var DomWrapper=function(_e){_inherits(et,_e);var _=_createSuper(et);function et(){return _classCallCheck(this,et),_.apply(this,arguments)}return _createClass(et,[{key:"render",value:function(){return this.props.children}}]),et}(reactExports.Component);function useSyncState$1(_e){var _=reactExports.useReducer(function(at){return at+1},0),et=_slicedToArray(_,2),tt=et[1],rt=reactExports.useRef(_e),nt=useEvent(function(){return rt.current}),it=useEvent(function(at){rt.current=typeof at=="function"?at(rt.current):at,tt()});return[nt,it]}var STATUS_NONE="none",STATUS_APPEAR="appear",STATUS_ENTER="enter",STATUS_LEAVE="leave",STEP_NONE="none",STEP_PREPARE="prepare",STEP_START="start",STEP_ACTIVE="active",STEP_ACTIVATED="end",STEP_PREPARED="prepared";function makePrefixMap(_e,_){var et={};return et[_e.toLowerCase()]=_.toLowerCase(),et["Webkit".concat(_e)]="webkit".concat(_),et["Moz".concat(_e)]="moz".concat(_),et["ms".concat(_e)]="MS".concat(_),et["O".concat(_e)]="o".concat(_.toLowerCase()),et}function getVendorPrefixes(_e,_){var et={animationend:makePrefixMap("Animation","AnimationEnd"),transitionend:makePrefixMap("Transition","TransitionEnd")};return _e&&("AnimationEvent"in _||delete et.animationend.animation,"TransitionEvent"in _||delete et.transitionend.transition),et}var vendorPrefixes=getVendorPrefixes(canUseDom(),typeof window<"u"?window:{}),style={};if(canUseDom()){var _document$createEleme=document.createElement("div");style=_document$createEleme.style}var prefixedEventNames={};function getVendorPrefixedEventName(_e){if(prefixedEventNames[_e])return prefixedEventNames[_e];var _=vendorPrefixes[_e];if(_)for(var et=Object.keys(_),tt=et.length,rt=0;rt<tt;rt+=1){var nt=et[rt];if(Object.prototype.hasOwnProperty.call(_,nt)&&nt in style)return prefixedEventNames[_e]=_[nt],prefixedEventNames[_e]}return""}var internalAnimationEndName=getVendorPrefixedEventName("animationend"),internalTransitionEndName=getVendorPrefixedEventName("transitionend"),supportTransition=!!(internalAnimationEndName&&internalTransitionEndName),animationEndName=internalAnimationEndName||"animationend",transitionEndName=internalTransitionEndName||"transitionend";function getTransitionName$1(_e,_){if(!_e)return null;if(_typeof(_e)==="object"){var et=_.replace(/-\w/g,function(tt){return tt[1].toUpperCase()});return _e[et]}return"".concat(_e,"-").concat(_)}const useDomMotionEvents=function(_e){var _=reactExports.useRef();function et(rt){rt&&(rt.removeEventListener(transitionEndName,_e),rt.removeEventListener(animationEndName,_e))}function tt(rt){_.current&&_.current!==rt&&et(_.current),rt&&rt!==_.current&&(rt.addEventListener(transitionEndName,_e),rt.addEventListener(animationEndName,_e),_.current=rt)}return reactExports.useEffect(function(){return function(){et(_.current)}},[]),[tt,et]};var useIsomorphicLayoutEffect=canUseDom()?reactExports.useLayoutEffect:reactExports.useEffect;const useNextFrame=function(){var _e=reactExports.useRef(null);function _(){wrapperRaf.cancel(_e.current)}function et(tt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;_();var nt=wrapperRaf(function(){rt<=1?tt({isCanceled:function(){return nt!==_e.current}}):et(tt,rt-1)});_e.current=nt}return reactExports.useEffect(function(){return function(){_()}},[]),[et,_]};var FULL_STEP_QUEUE=[STEP_PREPARE,STEP_START,STEP_ACTIVE,STEP_ACTIVATED],SIMPLE_STEP_QUEUE=[STEP_PREPARE,STEP_PREPARED],SkipStep=!1,DoStep=!0;function isActive(_e){return _e===STEP_ACTIVE||_e===STEP_ACTIVATED}const useStepQueue=function(_e,_,et){var tt=useSafeState(STEP_NONE),rt=_slicedToArray(tt,2),nt=rt[0],it=rt[1],at=useNextFrame(),lt=_slicedToArray(at,2),ct=lt[0],ut=lt[1];function st(){it(STEP_PREPARE,!0)}var ot=_?SIMPLE_STEP_QUEUE:FULL_STEP_QUEUE;return useIsomorphicLayoutEffect(function(){if(nt!==STEP_NONE&&nt!==STEP_ACTIVATED){var dt=ot.indexOf(nt),ft=ot[dt+1],ht=et(nt);ht===SkipStep?it(ft,!0):ft&&ct(function(mt){function gt(){mt.isCanceled()||it(ft,!0)}ht===!0?gt():Promise.resolve(ht).then(gt)})}},[_e,nt]),reactExports.useEffect(function(){return function(){ut()}},[]),[st,nt]};function useStatus$1(_e,_,et,tt){var rt=tt.motionEnter,nt=rt===void 0?!0:rt,it=tt.motionAppear,at=it===void 0?!0:it,lt=tt.motionLeave,ct=lt===void 0?!0:lt,ut=tt.motionDeadline,st=tt.motionLeaveImmediately,ot=tt.onAppearPrepare,dt=tt.onEnterPrepare,ft=tt.onLeavePrepare,ht=tt.onAppearStart,mt=tt.onEnterStart,gt=tt.onLeaveStart,yt=tt.onAppearActive,vt=tt.onEnterActive,bt=tt.onLeaveActive,xt=tt.onAppearEnd,_t=tt.onEnterEnd,St=tt.onLeaveEnd,wt=tt.onVisibleChanged,Et=useSafeState(),Tt=_slicedToArray(Et,2),Ct=Tt[0],It=Tt[1],Pt=useSyncState$1(STATUS_NONE),At=_slicedToArray(Pt,2),kt=At[0],Rt=At[1],$t=useSafeState(null),Mt=_slicedToArray($t,2),Nt=Mt[0],Dt=Mt[1],jt=kt(),Ut=reactExports.useRef(!1),Xt=reactExports.useRef(null);function Wt(){return et()}var Vt=reactExports.useRef(!1);function qt(){Rt(STATUS_NONE),Dt(null,!0)}var tr=useEvent(function(dr){var gr=kt();if(gr!==STATUS_NONE){var mr=Wt();if(!(dr&&!dr.deadline&&dr.target!==mr)){var Fr=Vt.current,_r;gr===STATUS_APPEAR&&Fr?_r=xt==null?void 0:xt(mr,dr):gr===STATUS_ENTER&&Fr?_r=_t==null?void 0:_t(mr,dr):gr===STATUS_LEAVE&&Fr&&(_r=St==null?void 0:St(mr,dr)),Fr&&_r!==!1&&qt()}}}),Kt=useDomMotionEvents(tr),Yt=_slicedToArray(Kt,1),rr=Yt[0],ir=function(gr){switch(gr){case STATUS_APPEAR:return _defineProperty(_defineProperty(_defineProperty({},STEP_PREPARE,ot),STEP_START,ht),STEP_ACTIVE,yt);case STATUS_ENTER:return _defineProperty(_defineProperty(_defineProperty({},STEP_PREPARE,dt),STEP_START,mt),STEP_ACTIVE,vt);case STATUS_LEAVE:return _defineProperty(_defineProperty(_defineProperty({},STEP_PREPARE,ft),STEP_START,gt),STEP_ACTIVE,bt);default:return{}}},lr=reactExports.useMemo(function(){return ir(jt)},[jt]),ar=useStepQueue(jt,!_e,function(dr){if(dr===STEP_PREPARE){var gr=lr[STEP_PREPARE];return gr?gr(Wt()):SkipStep}if(yr in lr){var mr;Dt(((mr=lr[yr])===null||mr===void 0?void 0:mr.call(lr,Wt(),null))||null)}return yr===STEP_ACTIVE&&jt!==STATUS_NONE&&(rr(Wt()),ut>0&&(clearTimeout(Xt.current),Xt.current=setTimeout(function(){tr({deadline:!0})},ut))),yr===STEP_PREPARED&&qt(),DoStep}),ur=_slicedToArray(ar,2),fr=ur[0],yr=ur[1],Tr=isActive(yr);Vt.current=Tr;var Sr=reactExports.useRef(null);useIsomorphicLayoutEffect(function(){if(!(Ut.current&&Sr.current===_)){It(_);var dr=Ut.current;Ut.current=!0;var gr;!dr&&_&&at&&(gr=STATUS_APPEAR),dr&&_&&nt&&(gr=STATUS_ENTER),(dr&&!_&&ct||!dr&&st&&!_&&ct)&&(gr=STATUS_LEAVE);var mr=ir(gr);gr&&(_e||mr[STEP_PREPARE])?(Rt(gr),fr()):Rt(STATUS_NONE),Sr.current=_}},[_]),reactExports.useEffect(function(){(jt===STATUS_APPEAR&&!at||jt===STATUS_ENTER&&!nt||jt===STATUS_LEAVE&&!ct)&&Rt(STATUS_NONE)},[at,nt,ct]),reactExports.useEffect(function(){return function(){Ut.current=!1,clearTimeout(Xt.current)}},[]);var kr=reactExports.useRef(!1);reactExports.useEffect(function(){Ct&&(kr.current=!0),Ct!==void 0&&jt===STATUS_NONE&&((kr.current||Ct)&&(wt==null||wt(Ct)),kr.current=!0)},[Ct,jt]);var xr=Nt;return lr[STEP_PREPARE]&&yr===STEP_START&&(xr=_objectSpread2({transition:"none"},xr)),[jt,yr,xr,Ct??_]}function genCSSMotion(_e){var _=_e;_typeof(_e)==="object"&&(_=_e.transitionSupport);function et(rt,nt){return!!(rt.motionName&&_&&nt!==!1)}var tt=reactExports.forwardRef(function(rt,nt){var it=rt.visible,at=it===void 0?!0:it,lt=rt.removeOnLeave,ct=lt===void 0?!0:lt,ut=rt.forceRender,st=rt.children,ot=rt.motionName,dt=rt.leavedClassName,ft=rt.eventProps,ht=reactExports.useContext(Context$1),mt=ht.motion,gt=et(rt,mt),yt=reactExports.useRef(),vt=reactExports.useRef();function bt(){try{return yt.current instanceof HTMLElement?yt.current:findDOMNode(vt.current)}catch{return null}}var xt=useStatus$1(gt,at,bt,rt),_t=_slicedToArray(xt,4),St=_t[0],wt=_t[1],Et=_t[2],Tt=_t[3],Ct=reactExports.useRef(Tt);Tt&&(Ct.current=!0);var It=reactExports.useCallback(function(Mt){yt.current=Mt,fillRef(nt,Mt)},[nt]),Pt,At=_objectSpread2(_objectSpread2({},ft),{},{visible:at});if(!st)Pt=null;else if(St===STATUS_NONE)Tt?Pt=st(_objectSpread2({},At),It):!ct&&Ct.current&&dt?Pt=st(_objectSpread2(_objectSpread2({},At),{},{className:dt}),It):ut||!ct&&!dt?Pt=st(_objectSpread2(_objectSpread2({},At),{},{style:{display:"none"}}),It):Pt=null;else{var kt;wt===STEP_PREPARE?kt="prepare":isActive(wt)?kt="active":wt===STEP_START&&(kt="start");var Rt=getTransitionName$1(ot,"".concat(St,"-").concat(kt));Pt=st(_objectSpread2(_objectSpread2({},At),{},{className:classNames(getTransitionName$1(ot,St),_defineProperty(_defineProperty({},Rt,Rt&&kt),ot,typeof ot=="string")),style:Et}),It)}if(reactExports.isValidElement(Pt)&&supportRef(Pt)){var $t=getNodeRef(Pt);$t||(Pt=reactExports.cloneElement(Pt,{ref:It}))}return reactExports.createElement(DomWrapper,{ref:vt},Pt)});return tt.displayName="CSSMotion",tt}const CSSMotion=genCSSMotion(supportTransition);var STATUS_ADD="add",STATUS_KEEP="keep",STATUS_REMOVE="remove",STATUS_REMOVED="removed";function wrapKeyToObject(_e){var _;return _e&&_typeof(_e)==="object"&&"key"in _e?_=_e:_={key:_e},_objectSpread2(_objectSpread2({},_),{},{key:String(_.key)})}function parseKeys(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _e.map(wrapKeyToObject)}function diffKeys(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],et=[],tt=0,rt=_.length,nt=parseKeys(_e),it=parseKeys(_);nt.forEach(function(ct){for(var ut=!1,st=tt;st<rt;st+=1){var ot=it[st];if(ot.key===ct.key){tt<st&&(et=et.concat(it.slice(tt,st).map(function(dt){return _objectSpread2(_objectSpread2({},dt),{},{status:STATUS_ADD})})),tt=st),et.push(_objectSpread2(_objectSpread2({},ot),{},{status:STATUS_KEEP})),tt+=1,ut=!0;break}}ut||et.push(_objectSpread2(_objectSpread2({},ct),{},{status:STATUS_REMOVE}))}),tt<rt&&(et=et.concat(it.slice(tt).map(function(ct){return _objectSpread2(_objectSpread2({},ct),{},{status:STATUS_ADD})})));var at={};et.forEach(function(ct){var ut=ct.key;at[ut]=(at[ut]||0)+1});var lt=Object.keys(at).filter(function(ct){return at[ct]>1});return lt.forEach(function(ct){et=et.filter(function(ut){var st=ut.key,ot=ut.status;return st!==ct||ot!==STATUS_REMOVE}),et.forEach(function(ut){ut.key===ct&&(ut.status=STATUS_KEEP)})}),et}var _excluded$r=["component","children","onVisibleChanged","onAllRemoved"],_excluded2$7=["status"],MOTION_PROP_NAMES=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function genCSSMotionList(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CSSMotion,et=function(tt){_inherits(nt,tt);var rt=_createSuper(nt);function nt(){var it;_classCallCheck(this,nt);for(var at=arguments.length,lt=new Array(at),ct=0;ct<at;ct++)lt[ct]=arguments[ct];return it=rt.call.apply(rt,[this].concat(lt)),_defineProperty(_assertThisInitialized(it),"state",{keyEntities:[]}),_defineProperty(_assertThisInitialized(it),"removeKey",function(ut){it.setState(function(st){var ot=st.keyEntities.map(function(dt){return dt.key!==ut?dt:_objectSpread2(_objectSpread2({},dt),{},{status:STATUS_REMOVED})});return{keyEntities:ot}},function(){var st=it.state.keyEntities,ot=st.filter(function(dt){var ft=dt.status;return ft!==STATUS_REMOVED}).length;ot===0&&it.props.onAllRemoved&&it.props.onAllRemoved()})}),it}return _createClass(nt,[{key:"render",value:function(){var at=this,lt=this.state.keyEntities,ct=this.props,ut=ct.component,st=ct.children,ot=ct.onVisibleChanged;ct.onAllRemoved;var dt=_objectWithoutProperties(ct,_excluded$r),ft=ut||reactExports.Fragment,ht={};return MOTION_PROP_NAMES.forEach(function(mt){ht[mt]=dt[mt],delete dt[mt]}),delete dt.keys,reactExports.createElement(ft,dt,lt.map(function(mt,gt){var yt=mt.status,vt=_objectWithoutProperties(mt,_excluded2$7),bt=yt===STATUS_ADD||yt===STATUS_KEEP;return reactExports.createElement(_,_extends$x({},ht,{key:vt.key,visible:bt,eventProps:vt,onVisibleChanged:function(_t){ot==null||ot(_t,{key:vt.key}),_t||at.removeKey(vt.key)}}),function(xt,_t){return st(_objectSpread2(_objectSpread2({},xt),{},{index:gt}),_t)})}))}}],[{key:"getDerivedStateFromProps",value:function(at,lt){var ct=at.keys,ut=lt.keyEntities,st=parseKeys(ct),ot=diffKeys(ut,st);return{keyEntities:ot.filter(function(dt){var ft=ut.find(function(ht){var mt=ht.key;return dt.key===mt});return!(ft&&ft.status===STATUS_REMOVED&&dt.status===STATUS_REMOVE)})}}}]),nt}(reactExports.Component);return _defineProperty(et,"defaultProps",{component:"div"}),et}const CSSMotionList=genCSSMotionList(supportTransition);function MotionWrapper(_e){const{children:_}=_e,[,et]=useToken(),{motion:tt}=et,rt=reactExports.useRef(!1);return rt.current=rt.current||tt===!1,rt.current?reactExports.createElement(MotionProvider,{motion:tt},_):_}const PropWarning=()=>null;var __rest$c=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const PASSED_PROPS=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let globalPrefixCls,globalIconPrefixCls,globalTheme,globalHolderRender;function getGlobalPrefixCls(){return globalPrefixCls||defaultPrefixCls}function getGlobalIconPrefixCls(){return globalIconPrefixCls||defaultIconPrefixCls}function isLegacyTheme(_e){return Object.keys(_e).some(_=>_.endsWith("Color"))}const setGlobalConfig=_e=>{const{prefixCls:_,iconPrefixCls:et,theme:tt,holderRender:rt}=_e;_!==void 0&&(globalPrefixCls=_),et!==void 0&&(globalIconPrefixCls=et),"holderRender"in _e&&(globalHolderRender=rt),tt&&(isLegacyTheme(tt)?registerTheme(getGlobalPrefixCls(),tt):globalTheme=tt)},globalConfig=()=>({getPrefixCls:(_e,_)=>_||(_e?`${getGlobalPrefixCls()}-${_e}`:getGlobalPrefixCls()),getIconPrefixCls:getGlobalIconPrefixCls,getRootPrefixCls:()=>globalPrefixCls||getGlobalPrefixCls(),getTheme:()=>globalTheme,holderRender:globalHolderRender}),ProviderChildren=_e=>{const{children:_,csp:et,autoInsertSpaceInButton:tt,alert:rt,anchor:nt,form:it,locale:at,componentSize:lt,direction:ct,space:ut,splitter:st,virtual:ot,dropdownMatchSelectWidth:dt,popupMatchSelectWidth:ft,popupOverflow:ht,legacyLocale:mt,parentContext:gt,iconPrefixCls:yt,theme:vt,componentDisabled:bt,segmented:xt,statistic:_t,spin:St,calendar:wt,carousel:Et,cascader:Tt,collapse:Ct,typography:It,checkbox:Pt,descriptions:At,divider:kt,drawer:Rt,skeleton:$t,steps:Mt,image:Nt,layout:Dt,list:jt,mentions:Ut,modal:Xt,progress:Wt,result:Vt,slider:qt,breadcrumb:tr,menu:Kt,pagination:Yt,input:rr,textArea:ir,empty:lr,badge:ar,radio:ur,rate:fr,switch:yr,transfer:Tr,avatar:Sr,message:kr,tag:xr,table:dr,card:gr,tabs:mr,timeline:Fr,timePicker:_r,upload:Nr,notification:mn,tree:qr,colorPicker:Gr,datePicker:gn,rangePicker:ln,flex:Hr,wave:en,dropdown:vr,warning:un,tour:an,tooltip:yn,popover:hn,popconfirm:Lr,floatButtonGroup:bn,variant:Sn,inputNumber:On,treeSelect:$r}=_e,wr=reactExports.useCallback((Jr,rn)=>{const{prefixCls:Tn}=_e;if(rn)return rn;const En=Tn||gt.getPrefixCls("");return Jr?`${En}-${Jr}`:En},[gt.getPrefixCls,_e.prefixCls]),Ar=yt||gt.iconPrefixCls||defaultIconPrefixCls,tn=et||gt.csp;useResetIconStyle(Ar,tn);const Mr=useTheme(vt,gt.theme,{prefixCls:wr("")}),Cr={csp:tn,autoInsertSpaceInButton:tt,alert:rt,anchor:nt,locale:at||mt,direction:ct,space:ut,splitter:st,virtual:ot,popupMatchSelectWidth:ft??dt,popupOverflow:ht,getPrefixCls:wr,iconPrefixCls:Ar,theme:Mr,segmented:xt,statistic:_t,spin:St,calendar:wt,carousel:Et,cascader:Tt,collapse:Ct,typography:It,checkbox:Pt,descriptions:At,divider:kt,drawer:Rt,skeleton:$t,steps:Mt,image:Nt,input:rr,textArea:ir,layout:Dt,list:jt,mentions:Ut,modal:Xt,progress:Wt,result:Vt,slider:qt,breadcrumb:tr,menu:Kt,pagination:Yt,empty:lr,badge:ar,radio:ur,rate:fr,switch:yr,transfer:Tr,avatar:Sr,message:kr,tag:xr,table:dr,card:gr,tabs:mr,timeline:Fr,timePicker:_r,upload:Nr,notification:mn,tree:qr,colorPicker:Gr,datePicker:gn,rangePicker:ln,flex:Hr,wave:en,dropdown:vr,warning:un,tour:an,tooltip:yn,popover:hn,popconfirm:Lr,floatButtonGroup:bn,variant:Sn,inputNumber:On,treeSelect:$r},Rr=Object.assign({},gt);Object.keys(Cr).forEach(Jr=>{Cr[Jr]!==void 0&&(Rr[Jr]=Cr[Jr])}),PASSED_PROPS.forEach(Jr=>{const rn=_e[Jr];rn&&(Rr[Jr]=rn)}),typeof tt<"u"&&(Rr.button=Object.assign({autoInsertSpace:tt},Rr.button));const Zr=useMemo(()=>Rr,Rr,(Jr,rn)=>{const Tn=Object.keys(Jr),En=Object.keys(rn);return Tn.length!==En.length||Tn.some(Ft=>Jr[Ft]!==rn[Ft])}),{layer:dn}=reactExports.useContext(StyleContext),Cn=reactExports.useMemo(()=>({prefixCls:Ar,csp:tn,layer:dn?"antd":void 0}),[Ar,tn,dn]);let Qr=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(PropWarning,{dropdownMatchSelectWidth:dt}),_);const Mn=reactExports.useMemo(()=>{var Jr,rn,Tn,En;return merge$1(((Jr=localeValues.Form)===null||Jr===void 0?void 0:Jr.defaultValidateMessages)||{},((Tn=(rn=Zr.locale)===null||rn===void 0?void 0:rn.Form)===null||Tn===void 0?void 0:Tn.defaultValidateMessages)||{},((En=Zr.form)===null||En===void 0?void 0:En.validateMessages)||{},(it==null?void 0:it.validateMessages)||{})},[Zr,it==null?void 0:it.validateMessages]);Object.keys(Mn).length>0&&(Qr=reactExports.createElement(ValidateMessagesContext.Provider,{value:Mn},Qr)),at&&(Qr=reactExports.createElement(LocaleProvider,{locale:at,_ANT_MARK__:ANT_MARK},Qr)),Qr=reactExports.createElement(IconContext.Provider,{value:Cn},Qr),lt&&(Qr=reactExports.createElement(SizeContextProvider,{size:lt},Qr)),Qr=reactExports.createElement(MotionWrapper,null,Qr);const Fn=reactExports.useMemo(()=>{const Jr=Mr||{},{algorithm:rn,token:Tn,components:En,cssVar:Ft}=Jr,zt=__rest$c(Jr,["algorithm","token","components","cssVar"]),Ht=rn&&(!Array.isArray(rn)||rn.length>0)?createTheme(rn):defaultTheme,Zt={};Object.entries(En||{}).forEach(nr=>{let[hr,Pr]=nr;const pr=Object.assign({},Pr);"algorithm"in pr&&(pr.algorithm===!0?pr.theme=Ht:(Array.isArray(pr.algorithm)||typeof pr.algorithm=="function")&&(pr.theme=createTheme(pr.algorithm)),delete pr.algorithm),Zt[hr]=pr});const Jt=Object.assign(Object.assign({},seedToken),Tn);return Object.assign(Object.assign({},zt),{theme:Ht,token:Jt,components:Zt,override:Object.assign({override:Jt},Zt),cssVar:Ft})},[Mr]);return vt&&(Qr=reactExports.createElement(DesignTokenContext.Provider,{value:Fn},Qr)),Zr.warning&&(Qr=reactExports.createElement(WarningContext.Provider,{value:Zr.warning},Qr)),bt!==void 0&&(Qr=reactExports.createElement(DisabledContextProvider,{disabled:bt},Qr)),reactExports.createElement(ConfigContext.Provider,{value:Zr},Qr)},ConfigProvider=_e=>{const _=reactExports.useContext(ConfigContext),et=reactExports.useContext(LocaleContext);return reactExports.createElement(ProviderChildren,Object.assign({parentContext:_,legacyLocale:et},_e))};ConfigProvider.ConfigContext=ConfigContext;ConfigProvider.SizeContext=SizeContext;ConfigProvider.config=setGlobalConfig;ConfigProvider.useConfig=useConfig;Object.defineProperty(ConfigProvider,"SizeContext",{get:()=>SizeContext});var CheckCircleFilled$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function getRoot(_e){var _;return _e==null||(_=_e.getRootNode)===null||_===void 0?void 0:_.call(_e)}function inShadow(_e){return getRoot(_e)instanceof ShadowRoot}function getShadowRoot(_e){return inShadow(_e)?getRoot(_e):null}function camelCase(_e){return _e.replace(/-(.)/g,function(_,et){return et.toUpperCase()})}function warning$1(_e,_){warningOnce(_e,"[@ant-design/icons] ".concat(_))}function isIconDefinition(_e){return _typeof(_e)==="object"&&typeof _e.name=="string"&&typeof _e.theme=="string"&&(_typeof(_e.icon)==="object"||typeof _e.icon=="function")}function normalizeAttrs(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(_e).reduce(function(_,et){var tt=_e[et];switch(et){case"class":_.className=tt,delete _.class;break;default:delete _[et],_[camelCase(et)]=tt}return _},{})}function generate(_e,_,et){return et?React.createElement(_e.tag,_objectSpread2(_objectSpread2({key:_},normalizeAttrs(_e.attrs)),et),(_e.children||[]).map(function(tt,rt){return generate(tt,"".concat(_,"-").concat(_e.tag,"-").concat(rt))})):React.createElement(_e.tag,_objectSpread2({key:_},normalizeAttrs(_e.attrs)),(_e.children||[]).map(function(tt,rt){return generate(tt,"".concat(_,"-").concat(_e.tag,"-").concat(rt))}))}function getSecondaryColor(_e){return generate$1(_e)[0]}function normalizeTwoToneColors(_e){return _e?Array.isArray(_e)?_e:[_e]:[]}var iconStyles=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,useInsertStyles=function _e(_){var et=reactExports.useContext(IconContext),tt=et.csp,rt=et.prefixCls,nt=et.layer,it=iconStyles;rt&&(it=it.replace(/anticon/g,rt)),nt&&(it="@layer ".concat(nt,` {
`).concat(it,`
}`)),reactExports.useEffect(function(){var at=_.current,lt=getShadowRoot(at);updateCSS(it,"@ant-design-icons",{prepend:!nt,csp:tt,attachTo:lt})},[])},_excluded$q=["icon","className","onClick","style","primaryColor","secondaryColor"],twoToneColorPalette={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function setTwoToneColors(_e){var _=_e.primaryColor,et=_e.secondaryColor;twoToneColorPalette.primaryColor=_,twoToneColorPalette.secondaryColor=et||getSecondaryColor(_),twoToneColorPalette.calculated=!!et}function getTwoToneColors(){return _objectSpread2({},twoToneColorPalette)}var IconBase=function _e(_){var et=_.icon,tt=_.className,rt=_.onClick,nt=_.style,it=_.primaryColor,at=_.secondaryColor,lt=_objectWithoutProperties(_,_excluded$q),ct=reactExports.useRef(),ut=twoToneColorPalette;if(it&&(ut={primaryColor:it,secondaryColor:at||getSecondaryColor(it)}),useInsertStyles(ct),warning$1(isIconDefinition(et),"icon should be icon definiton, but got ".concat(et)),!isIconDefinition(et))return null;var st=et;return st&&typeof st.icon=="function"&&(st=_objectSpread2(_objectSpread2({},st),{},{icon:st.icon(ut.primaryColor,ut.secondaryColor)})),generate(st.icon,"svg-".concat(st.name),_objectSpread2(_objectSpread2({className:tt,onClick:rt,style:nt,"data-icon":st.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},lt),{},{ref:ct}))};IconBase.displayName="IconReact";IconBase.getTwoToneColors=getTwoToneColors;IconBase.setTwoToneColors=setTwoToneColors;function setTwoToneColor(_e){var _=normalizeTwoToneColors(_e),et=_slicedToArray(_,2),tt=et[0],rt=et[1];return IconBase.setTwoToneColors({primaryColor:tt,secondaryColor:rt})}function getTwoToneColor(){var _e=IconBase.getTwoToneColors();return _e.calculated?[_e.primaryColor,_e.secondaryColor]:_e.primaryColor}var _excluded$p=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];setTwoToneColor(blue.primary);var Icon$1=reactExports.forwardRef(function(_e,_){var et=_e.className,tt=_e.icon,rt=_e.spin,nt=_e.rotate,it=_e.tabIndex,at=_e.onClick,lt=_e.twoToneColor,ct=_objectWithoutProperties(_e,_excluded$p),ut=reactExports.useContext(IconContext),st=ut.prefixCls,ot=st===void 0?"anticon":st,dt=ut.rootClassName,ft=classNames(dt,ot,_defineProperty(_defineProperty({},"".concat(ot,"-").concat(tt.name),!!tt.name),"".concat(ot,"-spin"),!!rt||tt.name==="loading"),et),ht=it;ht===void 0&&at&&(ht=-1);var mt=nt?{msTransform:"rotate(".concat(nt,"deg)"),transform:"rotate(".concat(nt,"deg)")}:void 0,gt=normalizeTwoToneColors(lt),yt=_slicedToArray(gt,2),vt=yt[0],bt=yt[1];return reactExports.createElement("span",_extends$x({role:"img","aria-label":tt.name},ct,{ref:_,tabIndex:ht,onClick:at,className:ft}),reactExports.createElement(IconBase,{icon:tt,primaryColor:vt,secondaryColor:bt,style:mt}))});Icon$1.displayName="AntdIcon";Icon$1.getTwoToneColor=getTwoToneColor;Icon$1.setTwoToneColor=setTwoToneColor;var CheckCircleFilled=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:CheckCircleFilled$1}))},RefIcon$f=reactExports.forwardRef(CheckCircleFilled),CloseCircleFilled$1={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},CloseCircleFilled=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:CloseCircleFilled$1}))},RefIcon$e=reactExports.forwardRef(CloseCircleFilled),CloseOutlined$1={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},CloseOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:CloseOutlined$1}))},RefIcon$d=reactExports.forwardRef(CloseOutlined),ExclamationCircleFilled$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},ExclamationCircleFilled=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:ExclamationCircleFilled$1}))},RefIcon$c=reactExports.forwardRef(ExclamationCircleFilled),InfoCircleFilled$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},InfoCircleFilled=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:InfoCircleFilled$1}))},RefIcon$b=reactExports.forwardRef(InfoCircleFilled),attributes=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,eventsName=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,propList="".concat(attributes," ").concat(eventsName).split(/[\s\n]+/),ariaPrefix="aria-",dataPrefix="data-";function match$1(_e,_){return _e.indexOf(_)===0}function pickAttrs(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,et;_===!1?et={aria:!0,data:!0,attr:!0}:_===!0?et={aria:!0}:et=_objectSpread2({},_);var tt={};return Object.keys(_e).forEach(function(rt){(et.aria&&(rt==="role"||match$1(rt,ariaPrefix))||et.data&&match$1(rt,dataPrefix)||et.attr&&propList.includes(rt))&&(tt[rt]=_e[rt])}),tt}const useCSSVarCls=_e=>{const[,,,,_]=useToken();return _?`${_e}-css-var`:""};var KeyCode={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function _e(_){var et=_.keyCode;if(_.altKey&&!_.ctrlKey||_.metaKey||et>=KeyCode.F1&&et<=KeyCode.F12)return!1;switch(et){case KeyCode.ALT:case KeyCode.CAPS_LOCK:case KeyCode.CONTEXT_MENU:case KeyCode.CTRL:case KeyCode.DOWN:case KeyCode.END:case KeyCode.ESC:case KeyCode.HOME:case KeyCode.INSERT:case KeyCode.LEFT:case KeyCode.MAC_FF_META:case KeyCode.META:case KeyCode.NUMLOCK:case KeyCode.NUM_CENTER:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAUSE:case KeyCode.PRINT_SCREEN:case KeyCode.RIGHT:case KeyCode.SHIFT:case KeyCode.UP:case KeyCode.WIN_KEY:case KeyCode.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function _e(_){if(_>=KeyCode.ZERO&&_<=KeyCode.NINE||_>=KeyCode.NUM_ZERO&&_<=KeyCode.NUM_MULTIPLY||_>=KeyCode.A&&_<=KeyCode.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&_===0)return!0;switch(_){case KeyCode.SPACE:case KeyCode.QUESTION_MARK:case KeyCode.NUM_PLUS:case KeyCode.NUM_MINUS:case KeyCode.NUM_PERIOD:case KeyCode.NUM_DIVISION:case KeyCode.SEMICOLON:case KeyCode.DASH:case KeyCode.EQUALS:case KeyCode.COMMA:case KeyCode.PERIOD:case KeyCode.SLASH:case KeyCode.APOSTROPHE:case KeyCode.SINGLE_QUOTE:case KeyCode.OPEN_SQUARE_BRACKET:case KeyCode.BACKSLASH:case KeyCode.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Notify=reactExports.forwardRef(function(_e,_){var et=_e.prefixCls,tt=_e.style,rt=_e.className,nt=_e.duration,it=nt===void 0?4.5:nt,at=_e.showProgress,lt=_e.pauseOnHover,ct=lt===void 0?!0:lt,ut=_e.eventKey,st=_e.content,ot=_e.closable,dt=_e.closeIcon,ft=dt===void 0?"x":dt,ht=_e.props,mt=_e.onClick,gt=_e.onNoticeClose,yt=_e.times,vt=_e.hovering,bt=reactExports.useState(!1),xt=_slicedToArray(bt,2),_t=xt[0],St=xt[1],wt=reactExports.useState(0),Et=_slicedToArray(wt,2),Tt=Et[0],Ct=Et[1],It=reactExports.useState(0),Pt=_slicedToArray(It,2),At=Pt[0],kt=Pt[1],Rt=vt||_t,$t=it>0&&at,Mt=function(){gt(ut)},Nt=function(Vt){(Vt.key==="Enter"||Vt.code==="Enter"||Vt.keyCode===KeyCode.ENTER)&&Mt()};reactExports.useEffect(function(){if(!Rt&&it>0){var Wt=Date.now()-At,Vt=setTimeout(function(){Mt()},it*1e3-At);return function(){ct&&clearTimeout(Vt),kt(Date.now()-Wt)}}},[it,Rt,yt]),reactExports.useEffect(function(){if(!Rt&&$t&&(ct||At===0)){var Wt=performance.now(),Vt,qt=function tr(){cancelAnimationFrame(Vt),Vt=requestAnimationFrame(function(Kt){var Yt=Kt+At-Wt,rr=Math.min(Yt/(it*1e3),1);Ct(rr*100),rr<1&&tr()})};return qt(),function(){ct&&cancelAnimationFrame(Vt)}}},[it,At,Rt,$t,yt]);var Dt=reactExports.useMemo(function(){return _typeof(ot)==="object"&&ot!==null?ot:ot?{closeIcon:ft}:{}},[ot,ft]),jt=pickAttrs(Dt,!0),Ut=100-(!Tt||Tt<0?0:Tt>100?100:Tt),Xt="".concat(et,"-notice");return reactExports.createElement("div",_extends$x({},ht,{ref:_,className:classNames(Xt,rt,_defineProperty({},"".concat(Xt,"-closable"),ot)),style:tt,onMouseEnter:function(Vt){var qt;St(!0),ht==null||(qt=ht.onMouseEnter)===null||qt===void 0||qt.call(ht,Vt)},onMouseLeave:function(Vt){var qt;St(!1),ht==null||(qt=ht.onMouseLeave)===null||qt===void 0||qt.call(ht,Vt)},onClick:mt}),reactExports.createElement("div",{className:"".concat(Xt,"-content")},st),ot&&reactExports.createElement("a",_extends$x({tabIndex:0,className:"".concat(Xt,"-close"),onKeyDown:Nt,"aria-label":"Close"},jt,{onClick:function(Vt){Vt.preventDefault(),Vt.stopPropagation(),Mt()}}),Dt.closeIcon),$t&&reactExports.createElement("progress",{className:"".concat(Xt,"-progress"),max:"100",value:Ut},Ut+"%"))}),NotificationContext=React.createContext({}),NotificationProvider=function _e(_){var et=_.children,tt=_.classNames;return React.createElement(NotificationContext.Provider,{value:{classNames:tt}},et)},DEFAULT_OFFSET$1=8,DEFAULT_THRESHOLD=3,DEFAULT_GAP=16,useStack=function _e(_){var et={offset:DEFAULT_OFFSET$1,threshold:DEFAULT_THRESHOLD,gap:DEFAULT_GAP};if(_&&_typeof(_)==="object"){var tt,rt,nt;et.offset=(tt=_.offset)!==null&&tt!==void 0?tt:DEFAULT_OFFSET$1,et.threshold=(rt=_.threshold)!==null&&rt!==void 0?rt:DEFAULT_THRESHOLD,et.gap=(nt=_.gap)!==null&&nt!==void 0?nt:DEFAULT_GAP}return[!!_,et]},_excluded$o=["className","style","classNames","styles"],NoticeList=function _e(_){var et=_.configList,tt=_.placement,rt=_.prefixCls,nt=_.className,it=_.style,at=_.motion,lt=_.onAllNoticeRemoved,ct=_.onNoticeClose,ut=_.stack,st=reactExports.useContext(NotificationContext),ot=st.classNames,dt=reactExports.useRef({}),ft=reactExports.useState(null),ht=_slicedToArray(ft,2),mt=ht[0],gt=ht[1],yt=reactExports.useState([]),vt=_slicedToArray(yt,2),bt=vt[0],xt=vt[1],_t=et.map(function(Rt){return{config:Rt,key:String(Rt.key)}}),St=useStack(ut),wt=_slicedToArray(St,2),Et=wt[0],Tt=wt[1],Ct=Tt.offset,It=Tt.threshold,Pt=Tt.gap,At=Et&&(bt.length>0||_t.length<=It),kt=typeof at=="function"?at(tt):at;return reactExports.useEffect(function(){Et&&bt.length>1&&xt(function(Rt){return Rt.filter(function($t){return _t.some(function(Mt){var Nt=Mt.key;return $t===Nt})})})},[bt,_t,Et]),reactExports.useEffect(function(){var Rt;if(Et&&dt.current[(Rt=_t[_t.length-1])===null||Rt===void 0?void 0:Rt.key]){var $t;gt(dt.current[($t=_t[_t.length-1])===null||$t===void 0?void 0:$t.key])}},[_t,Et]),React.createElement(CSSMotionList,_extends$x({key:tt,className:classNames(rt,"".concat(rt,"-").concat(tt),ot==null?void 0:ot.list,nt,_defineProperty(_defineProperty({},"".concat(rt,"-stack"),!!Et),"".concat(rt,"-stack-expanded"),At)),style:it,keys:_t,motionAppear:!0},kt,{onAllRemoved:function(){lt(tt)}}),function(Rt,$t){var Mt=Rt.config,Nt=Rt.className,Dt=Rt.style,jt=Rt.index,Ut=Mt,Xt=Ut.key,Wt=Ut.times,Vt=String(Xt),qt=Mt,tr=qt.className,Kt=qt.style,Yt=qt.classNames,rr=qt.styles,ir=_objectWithoutProperties(qt,_excluded$o),lr=_t.findIndex(function(Fr){return Fr.key===Vt}),ar={};if(Et){var ur=_t.length-1-(lr>-1?lr:jt-1),fr=tt==="top"||tt==="bottom"?"-50%":"0";if(ur>0){var yr,Tr,Sr;ar.height=At?(yr=dt.current[Vt])===null||yr===void 0?void 0:yr.offsetHeight:mt==null?void 0:mt.offsetHeight;for(var kr=0,xr=0;xr<ur;xr++){var dr;kr+=((dr=dt.current[_t[_t.length-1-xr].key])===null||dr===void 0?void 0:dr.offsetHeight)+Pt}var gr=(At?kr:ur*Ct)*(tt.startsWith("top")?1:-1),mr=!At&&mt!==null&&mt!==void 0&&mt.offsetWidth&&(Tr=dt.current[Vt])!==null&&Tr!==void 0&&Tr.offsetWidth?((mt==null?void 0:mt.offsetWidth)-Ct*2*(ur<3?ur:3))/((Sr=dt.current[Vt])===null||Sr===void 0?void 0:Sr.offsetWidth):1;ar.transform="translate3d(".concat(fr,", ").concat(gr,"px, 0) scaleX(").concat(mr,")")}else ar.transform="translate3d(".concat(fr,", 0, 0)")}return React.createElement("div",{ref:$t,className:classNames("".concat(rt,"-notice-wrapper"),Nt,Yt==null?void 0:Yt.wrapper),style:_objectSpread2(_objectSpread2(_objectSpread2({},Dt),ar),rr==null?void 0:rr.wrapper),onMouseEnter:function(){return xt(function(_r){return _r.includes(Vt)?_r:[].concat(_toConsumableArray(_r),[Vt])})},onMouseLeave:function(){return xt(function(_r){return _r.filter(function(Nr){return Nr!==Vt})})}},React.createElement(Notify,_extends$x({},ir,{ref:function(_r){lr>-1?dt.current[Vt]=_r:delete dt.current[Vt]},prefixCls:rt,classNames:Yt,styles:rr,className:classNames(tr,ot==null?void 0:ot.notice),style:Kt,times:Wt,key:Xt,eventKey:Xt,onNoticeClose:ct,hovering:Et&&bt.length>0})))})},Notifications=reactExports.forwardRef(function(_e,_){var et=_e.prefixCls,tt=et===void 0?"rc-notification":et,rt=_e.container,nt=_e.motion,it=_e.maxCount,at=_e.className,lt=_e.style,ct=_e.onAllRemoved,ut=_e.stack,st=_e.renderNotifications,ot=reactExports.useState([]),dt=_slicedToArray(ot,2),ft=dt[0],ht=dt[1],mt=function(Et){var Tt,Ct=ft.find(function(It){return It.key===Et});Ct==null||(Tt=Ct.onClose)===null||Tt===void 0||Tt.call(Ct),ht(function(It){return It.filter(function(Pt){return Pt.key!==Et})})};reactExports.useImperativeHandle(_,function(){return{open:function(Et){ht(function(Tt){var Ct=_toConsumableArray(Tt),It=Ct.findIndex(function(kt){return kt.key===Et.key}),Pt=_objectSpread2({},Et);if(It>=0){var At;Pt.times=(((At=Tt[It])===null||At===void 0?void 0:At.times)||0)+1,Ct[It]=Pt}else Pt.times=0,Ct.push(Pt);return it>0&&Ct.length>it&&(Ct=Ct.slice(-it)),Ct})},close:function(Et){mt(Et)},destroy:function(){ht([])}}});var gt=reactExports.useState({}),yt=_slicedToArray(gt,2),vt=yt[0],bt=yt[1];reactExports.useEffect(function(){var wt={};ft.forEach(function(Et){var Tt=Et.placement,Ct=Tt===void 0?"topRight":Tt;Ct&&(wt[Ct]=wt[Ct]||[],wt[Ct].push(Et))}),Object.keys(vt).forEach(function(Et){wt[Et]=wt[Et]||[]}),bt(wt)},[ft]);var xt=function(Et){bt(function(Tt){var Ct=_objectSpread2({},Tt),It=Ct[Et]||[];return It.length||delete Ct[Et],Ct})},_t=reactExports.useRef(!1);if(reactExports.useEffect(function(){Object.keys(vt).length>0?_t.current=!0:_t.current&&(ct==null||ct(),_t.current=!1)},[vt]),!rt)return null;var St=Object.keys(vt);return reactDomExports.createPortal(reactExports.createElement(reactExports.Fragment,null,St.map(function(wt){var Et=vt[wt],Tt=reactExports.createElement(NoticeList,{key:wt,configList:Et,placement:wt,prefixCls:tt,className:at==null?void 0:at(wt),style:lt==null?void 0:lt(wt),motion:nt,onNoticeClose:mt,onAllNoticeRemoved:xt,stack:ut});return st?st(Tt,{prefixCls:tt,key:wt}):Tt})),rt)}),_excluded$n=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],defaultGetContainer=function _e(){return document.body},uniqueKey=0;function mergeConfig(){for(var _e={},_=arguments.length,et=new Array(_),tt=0;tt<_;tt++)et[tt]=arguments[tt];return et.forEach(function(rt){rt&&Object.keys(rt).forEach(function(nt){var it=rt[nt];it!==void 0&&(_e[nt]=it)})}),_e}function useNotification(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=_e.getContainer,et=_===void 0?defaultGetContainer:_,tt=_e.motion,rt=_e.prefixCls,nt=_e.maxCount,it=_e.className,at=_e.style,lt=_e.onAllRemoved,ct=_e.stack,ut=_e.renderNotifications,st=_objectWithoutProperties(_e,_excluded$n),ot=reactExports.useState(),dt=_slicedToArray(ot,2),ft=dt[0],ht=dt[1],mt=reactExports.useRef(),gt=reactExports.createElement(Notifications,{container:ft,ref:mt,prefixCls:rt,motion:tt,maxCount:nt,className:it,style:at,onAllRemoved:lt,stack:ct,renderNotifications:ut}),yt=reactExports.useState([]),vt=_slicedToArray(yt,2),bt=vt[0],xt=vt[1],_t=reactExports.useMemo(function(){return{open:function(wt){var Et=mergeConfig(st,wt);(Et.key===null||Et.key===void 0)&&(Et.key="rc-notification-".concat(uniqueKey),uniqueKey+=1),xt(function(Tt){return[].concat(_toConsumableArray(Tt),[{type:"open",config:Et}])})},close:function(wt){xt(function(Et){return[].concat(_toConsumableArray(Et),[{type:"close",key:wt}])})},destroy:function(){xt(function(wt){return[].concat(_toConsumableArray(wt),[{type:"destroy"}])})}}},[]);return reactExports.useEffect(function(){ht(et())}),reactExports.useEffect(function(){if(mt.current&&bt.length){bt.forEach(function(Et){switch(Et.type){case"open":mt.current.open(Et.config);break;case"close":mt.current.close(Et.key);break;case"destroy":mt.current.destroy();break}});var St,wt;xt(function(Et){return(St!==Et||!wt)&&(St=Et,wt=Et.filter(function(Tt){return!bt.includes(Tt)})),wt})}},[bt]),[_t,gt]}var LoadingOutlined$1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},LoadingOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:LoadingOutlined$1}))},RefIcon$a=reactExports.forwardRef(LoadingOutlined);const zIndexContext=React.createContext(void 0),CONTAINER_OFFSET=100,CONTAINER_OFFSET_MAX_COUNT=10,CONTAINER_MAX_OFFSET=CONTAINER_OFFSET*CONTAINER_OFFSET_MAX_COUNT,containerBaseZIndexOffset={Modal:CONTAINER_OFFSET,Drawer:CONTAINER_OFFSET,Popover:CONTAINER_OFFSET,Popconfirm:CONTAINER_OFFSET,Tooltip:CONTAINER_OFFSET,Tour:CONTAINER_OFFSET,FloatButton:CONTAINER_OFFSET},consumerBaseZIndexOffset={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function isContainerType(_e){return _e in containerBaseZIndexOffset}const useZIndex=(_e,_)=>{const[,et]=useToken(),tt=React.useContext(zIndexContext),rt=isContainerType(_e);let nt;if(_!==void 0)nt=[_,_];else{let it=tt??0;rt?it+=(tt?0:et.zIndexPopupBase)+containerBaseZIndexOffset[_e]:it+=consumerBaseZIndexOffset[_e],nt=[tt===void 0?_:it,it]}return nt},genMessageStyle=_e=>{const{componentCls:_,iconCls:et,boxShadow:tt,colorText:rt,colorSuccess:nt,colorError:it,colorWarning:at,colorInfo:lt,fontSizeLG:ct,motionEaseInOutCirc:ut,motionDurationSlow:st,marginXS:ot,paddingXS:dt,borderRadiusLG:ft,zIndexPopup:ht,contentPadding:mt,contentBg:gt}=_e,yt=`${_}-notice`,vt=new Keyframe("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:dt,transform:"translateY(0)",opacity:1}}),bt=new Keyframe("MessageMoveOut",{"0%":{maxHeight:_e.height,padding:dt,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),xt={padding:dt,textAlign:"center",[`${_}-custom-content`]:{display:"flex",alignItems:"center"},[`${_}-custom-content > ${et}`]:{marginInlineEnd:ot,fontSize:ct},[`${yt}-content`]:{display:"inline-block",padding:mt,background:gt,borderRadius:ft,boxShadow:tt,pointerEvents:"all"},[`${_}-success > ${et}`]:{color:nt},[`${_}-error > ${et}`]:{color:it},[`${_}-warning > ${et}`]:{color:at},[`${_}-info > ${et},
      ${_}-loading > ${et}`]:{color:lt}};return[{[_]:Object.assign(Object.assign({},resetComponent(_e)),{color:rt,position:"fixed",top:ot,width:"100%",pointerEvents:"none",zIndex:ht,[`${_}-move-up`]:{animationFillMode:"forwards"},[`
        ${_}-move-up-appear,
        ${_}-move-up-enter
      `]:{animationName:vt,animationDuration:st,animationPlayState:"paused",animationTimingFunction:ut},[`
        ${_}-move-up-appear${_}-move-up-appear-active,
        ${_}-move-up-enter${_}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${_}-move-up-leave`]:{animationName:bt,animationDuration:st,animationPlayState:"paused",animationTimingFunction:ut},[`${_}-move-up-leave${_}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[_]:{[`${yt}-wrapper`]:Object.assign({},xt)}},{[`${_}-notice-pure-panel`]:Object.assign(Object.assign({},xt),{padding:0,textAlign:"start"})}]},prepareComponentToken$6=_e=>({zIndexPopup:_e.zIndexPopupBase+CONTAINER_MAX_OFFSET+10,contentBg:_e.colorBgElevated,contentPadding:`${(_e.controlHeightLG-_e.fontSize*_e.lineHeight)/2}px ${_e.paddingSM}px`}),useStyle$5=genStyleHooks("Message",_e=>{const _=merge(_e,{height:150});return[genMessageStyle(_)]},prepareComponentToken$6);var __rest$b=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const TypeIcon={info:reactExports.createElement(RefIcon$b,null),success:reactExports.createElement(RefIcon$f,null),error:reactExports.createElement(RefIcon$e,null),warning:reactExports.createElement(RefIcon$c,null),loading:reactExports.createElement(RefIcon$a,null)},PureContent=_e=>{let{prefixCls:_,type:et,icon:tt,children:rt}=_e;return reactExports.createElement("div",{className:classNames(`${_}-custom-content`,`${_}-${et}`)},tt||TypeIcon[et],reactExports.createElement("span",null,rt))},PurePanel$1=_e=>{const{prefixCls:_,className:et,type:tt,icon:rt,content:nt}=_e,it=__rest$b(_e,["prefixCls","className","type","icon","content"]),{getPrefixCls:at}=reactExports.useContext(ConfigContext),lt=_||at("message"),ct=useCSSVarCls(lt),[ut,st,ot]=useStyle$5(lt,ct);return ut(reactExports.createElement(Notify,Object.assign({},it,{prefixCls:lt,className:classNames(et,st,`${lt}-notice-pure-panel`,ot,ct),eventKey:"pure",duration:null,content:reactExports.createElement(PureContent,{prefixCls:lt,type:tt,icon:rt},nt)})))};function getMotion$2(_e,_){return{motionName:_??`${_e}-move-up`}}function wrapPromiseFn(_e){let _;const et=new Promise(rt=>{_=_e(()=>{rt(!0)})}),tt=()=>{_==null||_()};return tt.then=(rt,nt)=>et.then(rt,nt),tt.promise=et,tt}var __rest$a=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const DEFAULT_OFFSET=8,DEFAULT_DURATION=3,Wrapper=_e=>{let{children:_,prefixCls:et}=_e;const tt=useCSSVarCls(et),[rt,nt,it]=useStyle$5(et,tt);return rt(reactExports.createElement(NotificationProvider,{classNames:{list:classNames(nt,it,tt)}},_))},renderNotifications=(_e,_)=>{let{prefixCls:et,key:tt}=_;return reactExports.createElement(Wrapper,{prefixCls:et,key:tt},_e)},Holder=reactExports.forwardRef((_e,_)=>{const{top:et,prefixCls:tt,getContainer:rt,maxCount:nt,duration:it=DEFAULT_DURATION,rtl:at,transitionName:lt,onAllRemoved:ct}=_e,{getPrefixCls:ut,getPopupContainer:st,message:ot,direction:dt}=reactExports.useContext(ConfigContext),ft=tt||ut("message"),ht=()=>({left:"50%",transform:"translateX(-50%)",top:et??DEFAULT_OFFSET}),mt=()=>classNames({[`${ft}-rtl`]:at??dt==="rtl"}),gt=()=>getMotion$2(ft,lt),yt=reactExports.createElement("span",{className:`${ft}-close-x`},reactExports.createElement(RefIcon$d,{className:`${ft}-close-icon`})),[vt,bt]=useNotification({prefixCls:ft,style:ht,className:mt,motion:gt,closable:!1,closeIcon:yt,duration:it,getContainer:()=>(rt==null?void 0:rt())||(st==null?void 0:st())||document.body,maxCount:nt,onAllRemoved:ct,renderNotifications});return reactExports.useImperativeHandle(_,()=>Object.assign(Object.assign({},vt),{prefixCls:ft,message:ot})),bt});let keyIndex=0;function useInternalMessage(_e){const _=reactExports.useRef(null);return[reactExports.useMemo(()=>{const tt=lt=>{var ct;(ct=_.current)===null||ct===void 0||ct.close(lt)},rt=lt=>{if(!_.current){const _t=()=>{};return _t.then=()=>{},_t}const{open:ct,prefixCls:ut,message:st}=_.current,ot=`${ut}-notice`,{content:dt,icon:ft,type:ht,key:mt,className:gt,style:yt,onClose:vt}=lt,bt=__rest$a(lt,["content","icon","type","key","className","style","onClose"]);let xt=mt;return xt==null&&(keyIndex+=1,xt=`antd-message-${keyIndex}`),wrapPromiseFn(_t=>(ct(Object.assign(Object.assign({},bt),{key:xt,content:reactExports.createElement(PureContent,{prefixCls:ut,type:ht,icon:ft},dt),placement:"top",className:classNames(ht&&`${ot}-${ht}`,gt,st==null?void 0:st.className),style:Object.assign(Object.assign({},st==null?void 0:st.style),yt),onClose:()=>{vt==null||vt(),_t()}})),()=>{tt(xt)}))},it={open:rt,destroy:lt=>{var ct;lt!==void 0?tt(lt):(ct=_.current)===null||ct===void 0||ct.destroy()}};return["info","success","warning","error","loading"].forEach(lt=>{const ct=(ut,st,ot)=>{let dt;ut&&typeof ut=="object"&&"content"in ut?dt=ut:dt={content:ut};let ft,ht;typeof st=="function"?ht=st:(ft=st,ht=ot);const mt=Object.assign(Object.assign({onClose:ht,duration:ft},dt),{type:lt});return rt(mt)};it[lt]=ct}),it},[]),reactExports.createElement(Holder,Object.assign({key:"message-holder"},_e,{ref:_}))]}function useMessage(_e){return useInternalMessage(_e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return _};var _e,_={},et=Object.prototype,tt=et.hasOwnProperty,rt=Object.defineProperty||function(Rt,$t,Mt){Rt[$t]=Mt.value},nt=typeof Symbol=="function"?Symbol:{},it=nt.iterator||"@@iterator",at=nt.asyncIterator||"@@asyncIterator",lt=nt.toStringTag||"@@toStringTag";function ct(Rt,$t,Mt){return Object.defineProperty(Rt,$t,{value:Mt,enumerable:!0,configurable:!0,writable:!0}),Rt[$t]}try{ct({},"")}catch{ct=function(Mt,Nt,Dt){return Mt[Nt]=Dt}}function ut(Rt,$t,Mt,Nt){var Dt=$t&&$t.prototype instanceof gt?$t:gt,jt=Object.create(Dt.prototype),Ut=new At(Nt||[]);return rt(jt,"_invoke",{value:Tt(Rt,Mt,Ut)}),jt}function st(Rt,$t,Mt){try{return{type:"normal",arg:Rt.call($t,Mt)}}catch(Nt){return{type:"throw",arg:Nt}}}_.wrap=ut;var ot="suspendedStart",dt="suspendedYield",ft="executing",ht="completed",mt={};function gt(){}function yt(){}function vt(){}var bt={};ct(bt,it,function(){return this});var xt=Object.getPrototypeOf,_t=xt&&xt(xt(kt([])));_t&&_t!==et&&tt.call(_t,it)&&(bt=_t);var St=vt.prototype=gt.prototype=Object.create(bt);function wt(Rt){["next","throw","return"].forEach(function($t){ct(Rt,$t,function(Mt){return this._invoke($t,Mt)})})}function Et(Rt,$t){function Mt(Dt,jt,Ut,Xt){var Wt=st(Rt[Dt],Rt,jt);if(Wt.type!=="throw"){var Vt=Wt.arg,qt=Vt.value;return qt&&_typeof(qt)=="object"&&tt.call(qt,"__await")?$t.resolve(qt.__await).then(function(tr){Mt("next",tr,Ut,Xt)},function(tr){Mt("throw",tr,Ut,Xt)}):$t.resolve(qt).then(function(tr){Vt.value=tr,Ut(Vt)},function(tr){return Mt("throw",tr,Ut,Xt)})}Xt(Wt.arg)}var Nt;rt(this,"_invoke",{value:function(jt,Ut){function Xt(){return new $t(function(Wt,Vt){Mt(jt,Ut,Wt,Vt)})}return Nt=Nt?Nt.then(Xt,Xt):Xt()}})}function Tt(Rt,$t,Mt){var Nt=ot;return function(Dt,jt){if(Nt===ft)throw Error("Generator is already running");if(Nt===ht){if(Dt==="throw")throw jt;return{value:_e,done:!0}}for(Mt.method=Dt,Mt.arg=jt;;){var Ut=Mt.delegate;if(Ut){var Xt=Ct(Ut,Mt);if(Xt){if(Xt===mt)continue;return Xt}}if(Mt.method==="next")Mt.sent=Mt._sent=Mt.arg;else if(Mt.method==="throw"){if(Nt===ot)throw Nt=ht,Mt.arg;Mt.dispatchException(Mt.arg)}else Mt.method==="return"&&Mt.abrupt("return",Mt.arg);Nt=ft;var Wt=st(Rt,$t,Mt);if(Wt.type==="normal"){if(Nt=Mt.done?ht:dt,Wt.arg===mt)continue;return{value:Wt.arg,done:Mt.done}}Wt.type==="throw"&&(Nt=ht,Mt.method="throw",Mt.arg=Wt.arg)}}}function Ct(Rt,$t){var Mt=$t.method,Nt=Rt.iterator[Mt];if(Nt===_e)return $t.delegate=null,Mt==="throw"&&Rt.iterator.return&&($t.method="return",$t.arg=_e,Ct(Rt,$t),$t.method==="throw")||Mt!=="return"&&($t.method="throw",$t.arg=new TypeError("The iterator does not provide a '"+Mt+"' method")),mt;var Dt=st(Nt,Rt.iterator,$t.arg);if(Dt.type==="throw")return $t.method="throw",$t.arg=Dt.arg,$t.delegate=null,mt;var jt=Dt.arg;return jt?jt.done?($t[Rt.resultName]=jt.value,$t.next=Rt.nextLoc,$t.method!=="return"&&($t.method="next",$t.arg=_e),$t.delegate=null,mt):jt:($t.method="throw",$t.arg=new TypeError("iterator result is not an object"),$t.delegate=null,mt)}function It(Rt){var $t={tryLoc:Rt[0]};1 in Rt&&($t.catchLoc=Rt[1]),2 in Rt&&($t.finallyLoc=Rt[2],$t.afterLoc=Rt[3]),this.tryEntries.push($t)}function Pt(Rt){var $t=Rt.completion||{};$t.type="normal",delete $t.arg,Rt.completion=$t}function At(Rt){this.tryEntries=[{tryLoc:"root"}],Rt.forEach(It,this),this.reset(!0)}function kt(Rt){if(Rt||Rt===""){var $t=Rt[it];if($t)return $t.call(Rt);if(typeof Rt.next=="function")return Rt;if(!isNaN(Rt.length)){var Mt=-1,Nt=function Dt(){for(;++Mt<Rt.length;)if(tt.call(Rt,Mt))return Dt.value=Rt[Mt],Dt.done=!1,Dt;return Dt.value=_e,Dt.done=!0,Dt};return Nt.next=Nt}}throw new TypeError(_typeof(Rt)+" is not iterable")}return yt.prototype=vt,rt(St,"constructor",{value:vt,configurable:!0}),rt(vt,"constructor",{value:yt,configurable:!0}),yt.displayName=ct(vt,lt,"GeneratorFunction"),_.isGeneratorFunction=function(Rt){var $t=typeof Rt=="function"&&Rt.constructor;return!!$t&&($t===yt||($t.displayName||$t.name)==="GeneratorFunction")},_.mark=function(Rt){return Object.setPrototypeOf?Object.setPrototypeOf(Rt,vt):(Rt.__proto__=vt,ct(Rt,lt,"GeneratorFunction")),Rt.prototype=Object.create(St),Rt},_.awrap=function(Rt){return{__await:Rt}},wt(Et.prototype),ct(Et.prototype,at,function(){return this}),_.AsyncIterator=Et,_.async=function(Rt,$t,Mt,Nt,Dt){Dt===void 0&&(Dt=Promise);var jt=new Et(ut(Rt,$t,Mt,Nt),Dt);return _.isGeneratorFunction($t)?jt:jt.next().then(function(Ut){return Ut.done?Ut.value:jt.next()})},wt(St),ct(St,lt,"Generator"),ct(St,it,function(){return this}),ct(St,"toString",function(){return"[object Generator]"}),_.keys=function(Rt){var $t=Object(Rt),Mt=[];for(var Nt in $t)Mt.push(Nt);return Mt.reverse(),function Dt(){for(;Mt.length;){var jt=Mt.pop();if(jt in $t)return Dt.value=jt,Dt.done=!1,Dt}return Dt.done=!0,Dt}},_.values=kt,At.prototype={constructor:At,reset:function($t){if(this.prev=0,this.next=0,this.sent=this._sent=_e,this.done=!1,this.delegate=null,this.method="next",this.arg=_e,this.tryEntries.forEach(Pt),!$t)for(var Mt in this)Mt.charAt(0)==="t"&&tt.call(this,Mt)&&!isNaN(+Mt.slice(1))&&(this[Mt]=_e)},stop:function(){this.done=!0;var $t=this.tryEntries[0].completion;if($t.type==="throw")throw $t.arg;return this.rval},dispatchException:function($t){if(this.done)throw $t;var Mt=this;function Nt(Vt,qt){return Ut.type="throw",Ut.arg=$t,Mt.next=Vt,qt&&(Mt.method="next",Mt.arg=_e),!!qt}for(var Dt=this.tryEntries.length-1;Dt>=0;--Dt){var jt=this.tryEntries[Dt],Ut=jt.completion;if(jt.tryLoc==="root")return Nt("end");if(jt.tryLoc<=this.prev){var Xt=tt.call(jt,"catchLoc"),Wt=tt.call(jt,"finallyLoc");if(Xt&&Wt){if(this.prev<jt.catchLoc)return Nt(jt.catchLoc,!0);if(this.prev<jt.finallyLoc)return Nt(jt.finallyLoc)}else if(Xt){if(this.prev<jt.catchLoc)return Nt(jt.catchLoc,!0)}else{if(!Wt)throw Error("try statement without catch or finally");if(this.prev<jt.finallyLoc)return Nt(jt.finallyLoc)}}}},abrupt:function($t,Mt){for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var Dt=this.tryEntries[Nt];if(Dt.tryLoc<=this.prev&&tt.call(Dt,"finallyLoc")&&this.prev<Dt.finallyLoc){var jt=Dt;break}}jt&&($t==="break"||$t==="continue")&&jt.tryLoc<=Mt&&Mt<=jt.finallyLoc&&(jt=null);var Ut=jt?jt.completion:{};return Ut.type=$t,Ut.arg=Mt,jt?(this.method="next",this.next=jt.finallyLoc,mt):this.complete(Ut)},complete:function($t,Mt){if($t.type==="throw")throw $t.arg;return $t.type==="break"||$t.type==="continue"?this.next=$t.arg:$t.type==="return"?(this.rval=this.arg=$t.arg,this.method="return",this.next="end"):$t.type==="normal"&&Mt&&(this.next=Mt),mt},finish:function($t){for(var Mt=this.tryEntries.length-1;Mt>=0;--Mt){var Nt=this.tryEntries[Mt];if(Nt.finallyLoc===$t)return this.complete(Nt.completion,Nt.afterLoc),Pt(Nt),mt}},catch:function($t){for(var Mt=this.tryEntries.length-1;Mt>=0;--Mt){var Nt=this.tryEntries[Mt];if(Nt.tryLoc===$t){var Dt=Nt.completion;if(Dt.type==="throw"){var jt=Dt.arg;Pt(Nt)}return jt}}throw Error("illegal catch attempt")},delegateYield:function($t,Mt,Nt){return this.delegate={iterator:kt($t),resultName:Mt,nextLoc:Nt},this.method==="next"&&(this.arg=_e),mt}},_}function asyncGeneratorStep(_e,_,et,tt,rt,nt,it){try{var at=_e[nt](it),lt=at.value}catch(ct){return void et(ct)}at.done?_(lt):Promise.resolve(lt).then(tt,rt)}function _asyncToGenerator(_e){return function(){var _=this,et=arguments;return new Promise(function(tt,rt){var nt=_e.apply(_,et);function it(lt){asyncGeneratorStep(nt,tt,rt,it,at,"next",lt)}function at(lt){asyncGeneratorStep(nt,tt,rt,it,at,"throw",lt)}it(void 0)})}}var fullClone=_objectSpread2({},ReactDOM$1),version=fullClone.version,reactRender=fullClone.render,unmountComponentAtNode=fullClone.unmountComponentAtNode,createRoot;try{var mainVersion=Number((version||"").split(".")[0]);mainVersion>=18&&(createRoot=fullClone.createRoot)}catch(_e){}function toggleWarning(_e){var _=fullClone.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;_&&_typeof(_)==="object"&&(_.usingClientEntryPoint=_e)}var MARK="__rc_react_root__";function modernRender(_e,_){toggleWarning(!0);var et=_[MARK]||createRoot(_);toggleWarning(!1),et.render(_e),_[MARK]=et}function legacyRender(_e,_){reactRender==null||reactRender(_e,_)}function render(_e,_){if(createRoot){modernRender(_e,_);return}legacyRender(_e,_)}function modernUnmount(_e){return _modernUnmount.apply(this,arguments)}function _modernUnmount(){return _modernUnmount=_asyncToGenerator(_regeneratorRuntime().mark(function _e(_){return _regeneratorRuntime().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",Promise.resolve().then(function(){var rt;(rt=_[MARK])===null||rt===void 0||rt.unmount(),delete _[MARK]}));case 1:case"end":return tt.stop()}},_e)})),_modernUnmount.apply(this,arguments)}function legacyUnmount(_e){unmountComponentAtNode(_e)}function unmount(_e){return _unmount.apply(this,arguments)}function _unmount(){return _unmount=_asyncToGenerator(_regeneratorRuntime().mark(function _e(_){return _regeneratorRuntime().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(createRoot===void 0){tt.next=2;break}return tt.abrupt("return",modernUnmount(_));case 2:legacyUnmount(_);case 3:case"end":return tt.stop()}},_e)})),_unmount.apply(this,arguments)}const defaultReactRender=(_e,_)=>(render(_e,_),()=>unmount(_));let unstableRender=defaultReactRender;function getReactRender(){return unstableRender}const getTransitionName=(_e,_,et)=>et!==void 0?et:`${_e}-${_}`;function omit(_e,_){var et=Object.assign({},_e);return Array.isArray(_)&&_.forEach(function(tt){delete et[tt]}),et}const isVisible=function(_e){if(!_e)return!1;if(_e instanceof Element){if(_e.offsetParent)return!0;if(_e.getBBox){var _=_e.getBBox(),et=_.width,tt=_.height;if(et||tt)return!0}if(_e.getBoundingClientRect){var rt=_e.getBoundingClientRect(),nt=rt.width,it=rt.height;if(nt||it)return!0}}return!1},useSize=_e=>{const _=React.useContext(SizeContext);return React.useMemo(()=>_e?typeof _e=="string"?_e??_:typeof _e=="function"?_e(_):_:_,[_e,_])},SpaceCompactItemContext=reactExports.createContext(null),NoCompactStyle=_e=>{const{children:_}=_e;return reactExports.createElement(SpaceCompactItemContext.Provider,{value:null},_)};var RightOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},RightOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:RightOutlined$1}))},RefIcon$9=reactExports.forwardRef(RightOutlined);const initMotionCommon=_e=>({animationDuration:_e,animationFillMode:"both"}),initMotionCommonLeave=_e=>({animationDuration:_e,animationFillMode:"both"}),initMotion=function(_e,_,et,tt){const nt=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${nt}${_e}-enter,
      ${nt}${_e}-appear
    `]:Object.assign(Object.assign({},initMotionCommon(tt)),{animationPlayState:"paused"}),[`${nt}${_e}-leave`]:Object.assign(Object.assign({},initMotionCommonLeave(tt)),{animationPlayState:"paused"}),[`
      ${nt}${_e}-enter${_e}-enter-active,
      ${nt}${_e}-appear${_e}-appear-active
    `]:{animationName:_,animationPlayState:"running"},[`${nt}${_e}-leave${_e}-leave-active`]:{animationName:et,animationPlayState:"running",pointerEvents:"none"}}},fadeIn=new Keyframe("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),fadeOut=new Keyframe("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),initFadeMotion=function(_e){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:et}=_e,tt=`${et}-fade`,rt=_?"&":"";return[initMotion(tt,fadeIn,fadeOut,_e.motionDurationMid,_),{[`
        ${rt}${tt}-enter,
        ${rt}${tt}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${rt}${tt}-leave`]:{animationTimingFunction:"linear"}}]},slideUpIn=new Keyframe("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),slideUpOut=new Keyframe("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),slideDownIn=new Keyframe("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),slideDownOut=new Keyframe("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),slideLeftIn=new Keyframe("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),slideLeftOut=new Keyframe("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),slideRightIn=new Keyframe("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),slideRightOut=new Keyframe("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),slideMotion={"slide-up":{inKeyframes:slideUpIn,outKeyframes:slideUpOut},"slide-down":{inKeyframes:slideDownIn,outKeyframes:slideDownOut},"slide-left":{inKeyframes:slideLeftIn,outKeyframes:slideLeftOut},"slide-right":{inKeyframes:slideRightIn,outKeyframes:slideRightOut}},initSlideMotion=(_e,_)=>{const{antCls:et}=_e,tt=`${et}-${_}`,{inKeyframes:rt,outKeyframes:nt}=slideMotion[_];return[initMotion(tt,rt,nt,_e.motionDurationMid),{[`
      ${tt}-enter,
      ${tt}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:_e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${tt}-leave`]:{animationTimingFunction:_e.motionEaseInQuint}}]},zoomIn=new Keyframe("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),zoomOut=new Keyframe("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),zoomBigIn=new Keyframe("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),zoomBigOut=new Keyframe("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),zoomUpIn=new Keyframe("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),zoomUpOut=new Keyframe("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),zoomLeftIn=new Keyframe("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),zoomLeftOut=new Keyframe("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),zoomRightIn=new Keyframe("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),zoomRightOut=new Keyframe("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),zoomDownIn=new Keyframe("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),zoomDownOut=new Keyframe("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),zoomMotion={zoom:{inKeyframes:zoomIn,outKeyframes:zoomOut},"zoom-big":{inKeyframes:zoomBigIn,outKeyframes:zoomBigOut},"zoom-big-fast":{inKeyframes:zoomBigIn,outKeyframes:zoomBigOut},"zoom-left":{inKeyframes:zoomLeftIn,outKeyframes:zoomLeftOut},"zoom-right":{inKeyframes:zoomRightIn,outKeyframes:zoomRightOut},"zoom-up":{inKeyframes:zoomUpIn,outKeyframes:zoomUpOut},"zoom-down":{inKeyframes:zoomDownIn,outKeyframes:zoomDownOut}},initZoomMotion=(_e,_)=>{const{antCls:et}=_e,tt=`${et}-${_}`,{inKeyframes:rt,outKeyframes:nt}=zoomMotion[_];return[initMotion(tt,rt,nt,_e.motionDurationMid),{[`
        ${tt}-enter,
        ${tt}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:_e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${tt}-leave`]:{animationTimingFunction:_e.motionEaseInOutCirc}}]};var OrderContext=reactExports.createContext(null),EMPTY_LIST$1=[];function useDom(_e,_){var et=reactExports.useState(function(){if(!canUseDom())return null;var ft=document.createElement("div");return ft}),tt=_slicedToArray(et,1),rt=tt[0],nt=reactExports.useRef(!1),it=reactExports.useContext(OrderContext),at=reactExports.useState(EMPTY_LIST$1),lt=_slicedToArray(at,2),ct=lt[0],ut=lt[1],st=it||(nt.current?void 0:function(ft){ut(function(ht){var mt=[ft].concat(_toConsumableArray(ht));return mt})});function ot(){rt.parentElement||document.body.appendChild(rt),nt.current=!0}function dt(){var ft;(ft=rt.parentElement)===null||ft===void 0||ft.removeChild(rt),nt.current=!1}return useLayoutEffect(function(){return _e?it?it(ot):ot():dt(),dt},[_e]),useLayoutEffect(function(){ct.length&&(ct.forEach(function(ft){return ft()}),ut(EMPTY_LIST$1))},[ct]),[rt,st]}function measureScrollbarSize(_e){var _="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),et=document.createElement("div");et.id=_;var tt=et.style;tt.position="absolute",tt.left="0",tt.top="0",tt.width="100px",tt.height="100px",tt.overflow="scroll";var rt,nt;if(_e){var it=getComputedStyle(_e);tt.scrollbarColor=it.scrollbarColor,tt.scrollbarWidth=it.scrollbarWidth;var at=getComputedStyle(_e,"::-webkit-scrollbar"),lt=parseInt(at.width,10),ct=parseInt(at.height,10);try{var ut=lt?"width: ".concat(at.width,";"):"",st=ct?"height: ".concat(at.height,";"):"";updateCSS(`
#`.concat(_,`::-webkit-scrollbar {
`).concat(ut,`
`).concat(st,`
}`),_)}catch(ft){console.error(ft),rt=lt,nt=ct}}document.body.appendChild(et);var ot=_e&&rt&&!isNaN(rt)?rt:et.offsetWidth-et.clientWidth,dt=_e&&nt&&!isNaN(nt)?nt:et.offsetHeight-et.clientHeight;return document.body.removeChild(et),removeCSS(_),{width:ot,height:dt}}function getTargetScrollBarSize(_e){return typeof document>"u"||!_e||!(_e instanceof Element)?{width:0,height:0}:measureScrollbarSize(_e)}function isBodyOverflowing(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var UNIQUE_ID="rc-util-locker-".concat(Date.now()),uuid$2=0;function useScrollLocker(_e){var _=!!_e,et=reactExports.useState(function(){return uuid$2+=1,"".concat(UNIQUE_ID,"_").concat(uuid$2)}),tt=_slicedToArray(et,1),rt=tt[0];useLayoutEffect(function(){if(_){var nt=getTargetScrollBarSize(document.body).width,it=isBodyOverflowing();updateCSS(`
html body {
  overflow-y: hidden;
  `.concat(it?"width: calc(100% - ".concat(nt,"px);"):"",`
}`),rt)}else removeCSS(rt);return function(){removeCSS(rt)}},[_,rt])}var inline=!1;function inlineMock(_e){return inline}var getPortalContainer=function _e(_){return _===!1?!1:!canUseDom()||!_?null:typeof _=="string"?document.querySelector(_):typeof _=="function"?_():_},Portal=reactExports.forwardRef(function(_e,_){var et=_e.open,tt=_e.autoLock,rt=_e.getContainer;_e.debug;var nt=_e.autoDestroy,it=nt===void 0?!0:nt,at=_e.children,lt=reactExports.useState(et),ct=_slicedToArray(lt,2),ut=ct[0],st=ct[1],ot=ut||et;reactExports.useEffect(function(){(it||et)&&st(et)},[et,it]);var dt=reactExports.useState(function(){return getPortalContainer(rt)}),ft=_slicedToArray(dt,2),ht=ft[0],mt=ft[1];reactExports.useEffect(function(){var Ct=getPortalContainer(rt);mt(Ct??null)});var gt=useDom(ot&&!ht),yt=_slicedToArray(gt,2),vt=yt[0],bt=yt[1],xt=ht??vt;useScrollLocker(tt&&et&&canUseDom()&&(xt===vt||xt===document.body));var _t=null;if(at&&supportRef(at)&&_){var St=at;_t=St.ref}var wt=useComposeRef(_t,_);if(!ot||!canUseDom()||ht===void 0)return null;var Et=xt===!1||inlineMock(),Tt=at;return _&&(Tt=reactExports.cloneElement(at,{ref:wt})),reactExports.createElement(OrderContext.Provider,{value:bt},Et?Tt:reactDomExports.createPortal(Tt,xt))}),RefContext$1=reactExports.createContext({});function getUseId(){var _e=_objectSpread2({},React$1);return _e.useId}var uuid$1=0,useOriginId=getUseId();const useId=useOriginId?function _e(_){var et=useOriginId();return _||et}:function _e(_){var et=reactExports.useState("ssr-id"),tt=_slicedToArray(et,2),rt=tt[0],nt=tt[1];return reactExports.useEffect(function(){var it=uuid$1;uuid$1+=1,nt("rc_unique_".concat(it))},[]),_||rt};function getMotionName(_e,_,et){var tt=_;return!tt&&et&&(tt="".concat(_e,"-").concat(et)),tt}function getScroll(_e,_){var et=_e["page".concat(_?"Y":"X","Offset")],tt="scroll".concat(_?"Top":"Left");if(typeof et!="number"){var rt=_e.document;et=rt.documentElement[tt],typeof et!="number"&&(et=rt.body[tt])}return et}function offset(_e){var _=_e.getBoundingClientRect(),et={left:_.left,top:_.top},tt=_e.ownerDocument,rt=tt.defaultView||tt.parentWindow;return et.left+=getScroll(rt),et.top+=getScroll(rt,!0),et}const MemoChildren=reactExports.memo(function(_e){var _=_e.children;return _},function(_e,_){var et=_.shouldUpdate;return!et});var sentinelStyle$1={width:0,height:0,overflow:"hidden",outline:"none"},entityStyle={outline:"none"},Panel=React.forwardRef(function(_e,_){var et=_e.prefixCls,tt=_e.className,rt=_e.style,nt=_e.title,it=_e.ariaId,at=_e.footer,lt=_e.closable,ct=_e.closeIcon,ut=_e.onClose,st=_e.children,ot=_e.bodyStyle,dt=_e.bodyProps,ft=_e.modalRender,ht=_e.onMouseDown,mt=_e.onMouseUp,gt=_e.holderRef,yt=_e.visible,vt=_e.forceRender,bt=_e.width,xt=_e.height,_t=_e.classNames,St=_e.styles,wt=React.useContext(RefContext$1),Et=wt.panel,Tt=useComposeRef(gt,Et),Ct=reactExports.useRef(),It=reactExports.useRef();React.useImperativeHandle(_,function(){return{focus:function(){var Ut;(Ut=Ct.current)===null||Ut===void 0||Ut.focus({preventScroll:!0})},changeActive:function(Ut){var Xt=document,Wt=Xt.activeElement;Ut&&Wt===It.current?Ct.current.focus({preventScroll:!0}):!Ut&&Wt===Ct.current&&It.current.focus({preventScroll:!0})}}});var Pt={};bt!==void 0&&(Pt.width=bt),xt!==void 0&&(Pt.height=xt);var At=at?React.createElement("div",{className:classNames("".concat(et,"-footer"),_t==null?void 0:_t.footer),style:_objectSpread2({},St==null?void 0:St.footer)},at):null,kt=nt?React.createElement("div",{className:classNames("".concat(et,"-header"),_t==null?void 0:_t.header),style:_objectSpread2({},St==null?void 0:St.header)},React.createElement("div",{className:"".concat(et,"-title"),id:it},nt)):null,Rt=reactExports.useMemo(function(){return _typeof(lt)==="object"&&lt!==null?lt:lt?{closeIcon:ct??React.createElement("span",{className:"".concat(et,"-close-x")})}:{}},[lt,ct,et]),$t=pickAttrs(Rt,!0),Mt=_typeof(lt)==="object"&&lt.disabled,Nt=lt?React.createElement("button",_extends$x({type:"button",onClick:ut,"aria-label":"Close"},$t,{className:"".concat(et,"-close"),disabled:Mt}),Rt.closeIcon):null,Dt=React.createElement("div",{className:classNames("".concat(et,"-content"),_t==null?void 0:_t.content),style:St==null?void 0:St.content},Nt,kt,React.createElement("div",_extends$x({className:classNames("".concat(et,"-body"),_t==null?void 0:_t.body),style:_objectSpread2(_objectSpread2({},ot),St==null?void 0:St.body)},dt),st),At);return React.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":nt?it:null,"aria-modal":"true",ref:Tt,style:_objectSpread2(_objectSpread2({},rt),Pt),className:classNames(et,tt),onMouseDown:ht,onMouseUp:mt},React.createElement("div",{ref:Ct,tabIndex:0,style:entityStyle},React.createElement(MemoChildren,{shouldUpdate:yt||vt},ft?ft(Dt):Dt)),React.createElement("div",{tabIndex:0,ref:It,style:sentinelStyle$1}))}),Content=reactExports.forwardRef(function(_e,_){var et=_e.prefixCls,tt=_e.title,rt=_e.style,nt=_e.className,it=_e.visible,at=_e.forceRender,lt=_e.destroyOnClose,ct=_e.motionName,ut=_e.ariaId,st=_e.onVisibleChanged,ot=_e.mousePosition,dt=reactExports.useRef(),ft=reactExports.useState(),ht=_slicedToArray(ft,2),mt=ht[0],gt=ht[1],yt={};mt&&(yt.transformOrigin=mt);function vt(){var bt=offset(dt.current);gt(ot&&(ot.x||ot.y)?"".concat(ot.x-bt.left,"px ").concat(ot.y-bt.top,"px"):"")}return reactExports.createElement(CSSMotion,{visible:it,onVisibleChanged:st,onAppearPrepare:vt,onEnterPrepare:vt,forceRender:at,motionName:ct,removeOnLeave:lt,ref:dt},function(bt,xt){var _t=bt.className,St=bt.style;return reactExports.createElement(Panel,_extends$x({},_e,{ref:_,title:tt,ariaId:ut,prefixCls:et,holderRef:xt,style:_objectSpread2(_objectSpread2(_objectSpread2({},St),rt),yt),className:classNames(nt,_t)}))})});Content.displayName="Content";var Mask$1=function _e(_){var et=_.prefixCls,tt=_.style,rt=_.visible,nt=_.maskProps,it=_.motionName,at=_.className;return reactExports.createElement(CSSMotion,{key:"mask",visible:rt,motionName:it,leavedClassName:"".concat(et,"-mask-hidden")},function(lt,ct){var ut=lt.className,st=lt.style;return reactExports.createElement("div",_extends$x({ref:ct,style:_objectSpread2(_objectSpread2({},st),tt),className:classNames("".concat(et,"-mask"),ut,at)},nt))})},Dialog=function _e(_){var et=_.prefixCls,tt=et===void 0?"rc-dialog":et,rt=_.zIndex,nt=_.visible,it=nt===void 0?!1:nt,at=_.keyboard,lt=at===void 0?!0:at,ct=_.focusTriggerAfterClose,ut=ct===void 0?!0:ct,st=_.wrapStyle,ot=_.wrapClassName,dt=_.wrapProps,ft=_.onClose,ht=_.afterOpenChange,mt=_.afterClose,gt=_.transitionName,yt=_.animation,vt=_.closable,bt=vt===void 0?!0:vt,xt=_.mask,_t=xt===void 0?!0:xt,St=_.maskTransitionName,wt=_.maskAnimation,Et=_.maskClosable,Tt=Et===void 0?!0:Et,Ct=_.maskStyle,It=_.maskProps,Pt=_.rootClassName,At=_.classNames,kt=_.styles,Rt=reactExports.useRef(),$t=reactExports.useRef(),Mt=reactExports.useRef(),Nt=reactExports.useState(it),Dt=_slicedToArray(Nt,2),jt=Dt[0],Ut=Dt[1],Xt=useId();function Wt(){contains($t.current,document.activeElement)||(Rt.current=document.activeElement)}function Vt(){if(!contains($t.current,document.activeElement)){var fr;(fr=Mt.current)===null||fr===void 0||fr.focus()}}function qt(fr){if(fr)Vt();else{if(Ut(!1),_t&&Rt.current&&ut){try{Rt.current.focus({preventScroll:!0})}catch{}Rt.current=null}jt&&(mt==null||mt())}ht==null||ht(fr)}function tr(fr){ft==null||ft(fr)}var Kt=reactExports.useRef(!1),Yt=reactExports.useRef(),rr=function(){clearTimeout(Yt.current),Kt.current=!0},ir=function(){Yt.current=setTimeout(function(){Kt.current=!1})},lr=null;Tt&&(lr=function(yr){Kt.current?Kt.current=!1:$t.current===yr.target&&tr(yr)});function ar(fr){if(lt&&fr.keyCode===KeyCode.ESC){fr.stopPropagation(),tr(fr);return}it&&fr.keyCode===KeyCode.TAB&&Mt.current.changeActive(!fr.shiftKey)}reactExports.useEffect(function(){it&&(Ut(!0),Wt())},[it]),reactExports.useEffect(function(){return function(){clearTimeout(Yt.current)}},[]);var ur=_objectSpread2(_objectSpread2(_objectSpread2({zIndex:rt},st),kt==null?void 0:kt.wrapper),{},{display:jt?null:"none"});return reactExports.createElement("div",_extends$x({className:classNames("".concat(tt,"-root"),Pt)},pickAttrs(_,{data:!0})),reactExports.createElement(Mask$1,{prefixCls:tt,visible:_t&&it,motionName:getMotionName(tt,St,wt),style:_objectSpread2(_objectSpread2({zIndex:rt},Ct),kt==null?void 0:kt.mask),maskProps:It,className:At==null?void 0:At.mask}),reactExports.createElement("div",_extends$x({tabIndex:-1,onKeyDown:ar,className:classNames("".concat(tt,"-wrap"),ot,At==null?void 0:At.wrapper),ref:$t,onClick:lr,style:ur},dt),reactExports.createElement(Content,_extends$x({},_,{onMouseDown:rr,onMouseUp:ir,ref:Mt,closable:bt,ariaId:Xt,prefixCls:tt,visible:it&&jt,onClose:tr,onVisibleChanged:qt,motionName:getMotionName(tt,gt,yt)}))))},DialogWrap=function _e(_){var et=_.visible,tt=_.getContainer,rt=_.forceRender,nt=_.destroyOnClose,it=nt===void 0?!1:nt,at=_.afterClose,lt=_.panelRef,ct=reactExports.useState(et),ut=_slicedToArray(ct,2),st=ut[0],ot=ut[1],dt=reactExports.useMemo(function(){return{panel:lt}},[lt]);return reactExports.useEffect(function(){et&&ot(!0)},[et]),!rt&&it&&!st?null:reactExports.createElement(RefContext$1.Provider,{value:dt},reactExports.createElement(Portal,{open:et||rt||st,autoDestroy:!1,getContainer:tt,autoLock:et||st},reactExports.createElement(Dialog,_extends$x({},_,{destroyOnClose:it,afterClose:function(){at==null||at(),ot(!1)}}))))};DialogWrap.displayName="Dialog";var HOOK_MARK="RC_FORM_INTERNAL_HOOKS",warningFunc=function _e(){warningOnce(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Context=reactExports.createContext({getFieldValue:warningFunc,getFieldsValue:warningFunc,getFieldError:warningFunc,getFieldWarning:warningFunc,getFieldsError:warningFunc,isFieldsTouched:warningFunc,isFieldTouched:warningFunc,isFieldValidating:warningFunc,isFieldsValidating:warningFunc,resetFields:warningFunc,setFields:warningFunc,setFieldValue:warningFunc,setFieldsValue:warningFunc,validateFields:warningFunc,submit:warningFunc,getInternalHooks:function _e(){return warningFunc(),{dispatch:warningFunc,initEntityValue:warningFunc,registerField:warningFunc,useSubscribe:warningFunc,setInitialValues:warningFunc,destroyForm:warningFunc,setCallbacks:warningFunc,registerWatch:warningFunc,getFields:warningFunc,setValidateMessages:warningFunc,setPreserve:warningFunc,getInitialValue:warningFunc}}}),ListContext=reactExports.createContext(null);function toArray$1(_e){return _e==null?[]:Array.isArray(_e)?_e:[_e]}function isFormInstance(_e){return _e&&!!_e._init}function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var _=JSON.parse(JSON.stringify(this));return _.clone=this.clone,_}}}var messages=newMessages();function _isNativeFunction(_e){try{return Function.toString.call(_e).indexOf("[native code]")!==-1}catch{return typeof _e=="function"}}function _construct(_e,_,et){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var tt=[null];tt.push.apply(tt,_);var rt=new(_e.bind.apply(_e,tt));return et&&_setPrototypeOf(rt,et.prototype),rt}function _wrapNativeSuper(_e){var _=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(tt){if(tt===null||!_isNativeFunction(tt))return tt;if(typeof tt!="function")throw new TypeError("Super expression must either be null or a function");if(_!==void 0){if(_.has(tt))return _.get(tt);_.set(tt,rt)}function rt(){return _construct(tt,arguments,_getPrototypeOf(this).constructor)}return rt.prototype=Object.create(tt.prototype,{constructor:{value:rt,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(rt,tt)},_wrapNativeSuper(_e)}var formatRegExp=/%[sdj%]/g,warning=function _e(){};function convertFieldsError(_e){if(!_e||!_e.length)return null;var _={};return _e.forEach(function(et){var tt=et.field;_[tt]=_[tt]||[],_[tt].push(et)}),_}function format(_e){for(var _=arguments.length,et=new Array(_>1?_-1:0),tt=1;tt<_;tt++)et[tt-1]=arguments[tt];var rt=0,nt=et.length;if(typeof _e=="function")return _e.apply(null,et);if(typeof _e=="string"){var it=_e.replace(formatRegExp,function(at){if(at==="%%")return"%";if(rt>=nt)return at;switch(at){case"%s":return String(et[rt++]);case"%d":return Number(et[rt++]);case"%j":try{return JSON.stringify(et[rt++])}catch{return"[Circular]"}break;default:return at}});return it}return _e}function isNativeStringType(_e){return _e==="string"||_e==="url"||_e==="hex"||_e==="email"||_e==="date"||_e==="pattern"}function isEmptyValue(_e,_){return!!(_e==null||_==="array"&&Array.isArray(_e)&&!_e.length||isNativeStringType(_)&&typeof _e=="string"&&!_e)}function asyncParallelArray(_e,_,et){var tt=[],rt=0,nt=_e.length;function it(at){tt.push.apply(tt,_toConsumableArray(at||[])),rt++,rt===nt&&et(tt)}_e.forEach(function(at){_(at,it)})}function asyncSerialArray(_e,_,et){var tt=0,rt=_e.length;function nt(it){if(it&&it.length){et(it);return}var at=tt;tt=tt+1,at<rt?_(_e[at],nt):et([])}nt([])}function flattenObjArr(_e){var _=[];return Object.keys(_e).forEach(function(et){_.push.apply(_,_toConsumableArray(_e[et]||[]))}),_}var AsyncValidationError=function(_e){_inherits(et,_e);var _=_createSuper(et);function et(tt,rt){var nt;return _classCallCheck(this,et),nt=_.call(this,"Async Validation Error"),_defineProperty(_assertThisInitialized(nt),"errors",void 0),_defineProperty(_assertThisInitialized(nt),"fields",void 0),nt.errors=tt,nt.fields=rt,nt}return _createClass(et)}(_wrapNativeSuper(Error));function asyncMap(_e,_,et,tt,rt){if(_.first){var nt=new Promise(function(ot,dt){var ft=function(gt){return tt(gt),gt.length?dt(new AsyncValidationError(gt,convertFieldsError(gt))):ot(rt)},ht=flattenObjArr(_e);asyncSerialArray(ht,et,ft)});return nt.catch(function(ot){return ot}),nt}var it=_.firstFields===!0?Object.keys(_e):_.firstFields||[],at=Object.keys(_e),lt=at.length,ct=0,ut=[],st=new Promise(function(ot,dt){var ft=function(mt){if(ut.push.apply(ut,mt),ct++,ct===lt)return tt(ut),ut.length?dt(new AsyncValidationError(ut,convertFieldsError(ut))):ot(rt)};at.length||(tt(ut),ot(rt)),at.forEach(function(ht){var mt=_e[ht];it.indexOf(ht)!==-1?asyncSerialArray(mt,et,ft):asyncParallelArray(mt,et,ft)})});return st.catch(function(ot){return ot}),st}function isErrorObj(_e){return!!(_e&&_e.message!==void 0)}function getValue(_e,_){for(var et=_e,tt=0;tt<_.length;tt++){if(et==null)return et;et=et[_[tt]]}return et}function complementError(_e,_){return function(et){var tt;return _e.fullFields?tt=getValue(_,_e.fullFields):tt=_[et.field||_e.fullField],isErrorObj(et)?(et.field=et.field||_e.fullField,et.fieldValue=tt,et):{message:typeof et=="function"?et():et,fieldValue:tt,field:et.field||_e.fullField}}}function deepMerge(_e,_){if(_){for(var et in _)if(_.hasOwnProperty(et)){var tt=_[et];_typeof(tt)==="object"&&_typeof(_e[et])==="object"?_e[et]=_objectSpread2(_objectSpread2({},_e[et]),tt):_e[et]=tt}}return _e}var ENUM$1="enum",enumerable$1=function _e(_,et,tt,rt,nt){_[ENUM$1]=Array.isArray(_[ENUM$1])?_[ENUM$1]:[],_[ENUM$1].indexOf(et)===-1&&rt.push(format(nt.messages[ENUM$1],_.fullField,_[ENUM$1].join(", ")))},pattern$2=function _e(_,et,tt,rt,nt){if(_.pattern){if(_.pattern instanceof RegExp)_.pattern.lastIndex=0,_.pattern.test(et)||rt.push(format(nt.messages.pattern.mismatch,_.fullField,et,_.pattern));else if(typeof _.pattern=="string"){var it=new RegExp(_.pattern);it.test(et)||rt.push(format(nt.messages.pattern.mismatch,_.fullField,et,_.pattern))}}},range=function _e(_,et,tt,rt,nt){var it=typeof _.len=="number",at=typeof _.min=="number",lt=typeof _.max=="number",ct=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ut=et,st=null,ot=typeof et=="number",dt=typeof et=="string",ft=Array.isArray(et);if(ot?st="number":dt?st="string":ft&&(st="array"),!st)return!1;ft&&(ut=et.length),dt&&(ut=et.replace(ct,"_").length),it?ut!==_.len&&rt.push(format(nt.messages[st].len,_.fullField,_.len)):at&&!lt&&ut<_.min?rt.push(format(nt.messages[st].min,_.fullField,_.min)):lt&&!at&&ut>_.max?rt.push(format(nt.messages[st].max,_.fullField,_.max)):at&&lt&&(ut<_.min||ut>_.max)&&rt.push(format(nt.messages[st].range,_.fullField,_.min,_.max))},required$1=function _e(_,et,tt,rt,nt,it){_.required&&(!tt.hasOwnProperty(_.field)||isEmptyValue(et,it||_.type))&&rt.push(format(nt.messages.required,_.fullField))},urlReg;const getUrlRegex=function(){if(urlReg)return urlReg;var _e="[a-fA-F\\d:]",_=function(_t){return _t&&_t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(_e,")|(?<=").concat(_e,")(?=\\s|$))"):""},et="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",tt="[a-fA-F\\d]{1,4}",rt=["(?:".concat(tt,":){7}(?:").concat(tt,"|:)"),"(?:".concat(tt,":){6}(?:").concat(et,"|:").concat(tt,"|:)"),"(?:".concat(tt,":){5}(?::").concat(et,"|(?::").concat(tt,"){1,2}|:)"),"(?:".concat(tt,":){4}(?:(?::").concat(tt,"){0,1}:").concat(et,"|(?::").concat(tt,"){1,3}|:)"),"(?:".concat(tt,":){3}(?:(?::").concat(tt,"){0,2}:").concat(et,"|(?::").concat(tt,"){1,4}|:)"),"(?:".concat(tt,":){2}(?:(?::").concat(tt,"){0,3}:").concat(et,"|(?::").concat(tt,"){1,5}|:)"),"(?:".concat(tt,":){1}(?:(?::").concat(tt,"){0,4}:").concat(et,"|(?::").concat(tt,"){1,6}|:)"),"(?::(?:(?::".concat(tt,"){0,5}:").concat(et,"|(?::").concat(tt,"){1,7}|:))")],nt="(?:%[0-9a-zA-Z]{1,})?",it="(?:".concat(rt.join("|"),")").concat(nt),at=new RegExp("(?:^".concat(et,"$)|(?:^").concat(it,"$)")),lt=new RegExp("^".concat(et,"$")),ct=new RegExp("^".concat(it,"$")),ut=function(_t){return _t&&_t.exact?at:new RegExp("(?:".concat(_(_t)).concat(et).concat(_(_t),")|(?:").concat(_(_t)).concat(it).concat(_(_t),")"),"g")};ut.v4=function(xt){return xt&&xt.exact?lt:new RegExp("".concat(_(xt)).concat(et).concat(_(xt)),"g")},ut.v6=function(xt){return xt&&xt.exact?ct:new RegExp("".concat(_(xt)).concat(it).concat(_(xt)),"g")};var st="(?:(?:[a-z]+:)?//)",ot="(?:\\S+(?::\\S*)?@)?",dt=ut.v4().source,ft=ut.v6().source,ht="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",mt="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",gt="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",yt="(?::\\d{2,5})?",vt='(?:[/?#][^\\s"]*)?',bt="(?:".concat(st,"|www\\.)").concat(ot,"(?:localhost|").concat(dt,"|").concat(ft,"|").concat(ht).concat(mt).concat(gt,")").concat(yt).concat(vt);return urlReg=new RegExp("(?:^".concat(bt,"$)"),"i"),urlReg};var pattern$1={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function _e(_){return types.number(_)&&parseInt(_,10)===_},float:function _e(_){return types.number(_)&&!types.integer(_)},array:function _e(_){return Array.isArray(_)},regexp:function _e(_){if(_ instanceof RegExp)return!0;try{return!!new RegExp(_)}catch{return!1}},date:function _e(_){return typeof _.getTime=="function"&&typeof _.getMonth=="function"&&typeof _.getYear=="function"&&!isNaN(_.getTime())},number:function _e(_){return isNaN(_)?!1:typeof _=="number"},object:function _e(_){return _typeof(_)==="object"&&!types.array(_)},method:function _e(_){return typeof _=="function"},email:function _e(_){return typeof _=="string"&&_.length<=320&&!!_.match(pattern$1.email)},url:function _e(_){return typeof _=="string"&&_.length<=2048&&!!_.match(getUrlRegex())},hex:function _e(_){return typeof _=="string"&&!!_.match(pattern$1.hex)}},type$1=function _e(_,et,tt,rt,nt){if(_.required&&et===void 0){required$1(_,et,tt,rt,nt);return}var it=["integer","float","array","regexp","object","method","email","number","date","url","hex"],at=_.type;it.indexOf(at)>-1?types[at](et)||rt.push(format(nt.messages.types[at],_.fullField,_.type)):at&&_typeof(et)!==_.type&&rt.push(format(nt.messages.types[at],_.fullField,_.type))},whitespace=function _e(_,et,tt,rt,nt){(/^\s+$/.test(et)||et==="")&&rt.push(format(nt.messages.whitespace,_.fullField))};const rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$2};var any=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt)}tt(it)},array=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(et==null&&!_.required)return tt();rules.required(_,et,rt,it,nt,"array"),et!=null&&(rules.type(_,et,rt,it,nt),rules.range(_,et,rt,it,nt))}tt(it)},boolean=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt),et!==void 0&&rules.type(_,et,rt,it,nt)}tt(it)},date=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et,"date")&&!_.required)return tt();if(rules.required(_,et,rt,it,nt),!isEmptyValue(et,"date")){var lt;et instanceof Date?lt=et:lt=new Date(et),rules.type(_,lt,rt,it,nt),lt&&rules.range(_,lt.getTime(),rt,it,nt)}}tt(it)},ENUM="enum",enumerable=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt),et!==void 0&&rules[ENUM](_,et,rt,it,nt)}tt(it)},floatFn=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt),et!==void 0&&(rules.type(_,et,rt,it,nt),rules.range(_,et,rt,it,nt))}tt(it)},integer=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt),et!==void 0&&(rules.type(_,et,rt,it,nt),rules.range(_,et,rt,it,nt))}tt(it)},method=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt),et!==void 0&&rules.type(_,et,rt,it,nt)}tt(it)},number=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(et===""&&(et=void 0),isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt),et!==void 0&&(rules.type(_,et,rt,it,nt),rules.range(_,et,rt,it,nt))}tt(it)},object=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt),et!==void 0&&rules.type(_,et,rt,it,nt)}tt(it)},pattern=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et,"string")&&!_.required)return tt();rules.required(_,et,rt,it,nt),isEmptyValue(et,"string")||rules.pattern(_,et,rt,it,nt)}tt(it)},regexp=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et)&&!_.required)return tt();rules.required(_,et,rt,it,nt),isEmptyValue(et)||rules.type(_,et,rt,it,nt)}tt(it)},required=function _e(_,et,tt,rt,nt){var it=[],at=Array.isArray(et)?"array":_typeof(et);rules.required(_,et,rt,it,nt,at),tt(it)},string=function _e(_,et,tt,rt,nt){var it=[],at=_.required||!_.required&&rt.hasOwnProperty(_.field);if(at){if(isEmptyValue(et,"string")&&!_.required)return tt();rules.required(_,et,rt,it,nt,"string"),isEmptyValue(et,"string")||(rules.type(_,et,rt,it,nt),rules.range(_,et,rt,it,nt),rules.pattern(_,et,rt,it,nt),_.whitespace===!0&&rules.whitespace(_,et,rt,it,nt))}tt(it)},type=function _e(_,et,tt,rt,nt){var it=_.type,at=[],lt=_.required||!_.required&&rt.hasOwnProperty(_.field);if(lt){if(isEmptyValue(et,it)&&!_.required)return tt();rules.required(_,et,rt,at,nt,it),isEmptyValue(et,it)||rules.type(_,et,rt,at,nt)}tt(at)};const validators={string,method,number,boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};var Schema=function(){function _e(_){_classCallCheck(this,_e),_defineProperty(this,"rules",null),_defineProperty(this,"_messages",messages),this.define(_)}return _createClass(_e,[{key:"define",value:function(et){var tt=this;if(!et)throw new Error("Cannot configure a schema with no rules");if(_typeof(et)!=="object"||Array.isArray(et))throw new Error("Rules must be an object");this.rules={},Object.keys(et).forEach(function(rt){var nt=et[rt];tt.rules[rt]=Array.isArray(nt)?nt:[nt]})}},{key:"messages",value:function(et){return et&&(this._messages=deepMerge(newMessages(),et)),this._messages}},{key:"validate",value:function(et){var tt=this,rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},it=et,at=rt,lt=nt;if(typeof at=="function"&&(lt=at,at={}),!this.rules||Object.keys(this.rules).length===0)return lt&&lt(null,it),Promise.resolve(it);function ct(ft){var ht=[],mt={};function gt(vt){if(Array.isArray(vt)){var bt;ht=(bt=ht).concat.apply(bt,_toConsumableArray(vt))}else ht.push(vt)}for(var yt=0;yt<ft.length;yt++)gt(ft[yt]);ht.length?(mt=convertFieldsError(ht),lt(ht,mt)):lt(null,it)}if(at.messages){var ut=this.messages();ut===messages&&(ut=newMessages()),deepMerge(ut,at.messages),at.messages=ut}else at.messages=this.messages();var st={},ot=at.keys||Object.keys(this.rules);ot.forEach(function(ft){var ht=tt.rules[ft],mt=it[ft];ht.forEach(function(gt){var yt=gt;typeof yt.transform=="function"&&(it===et&&(it=_objectSpread2({},it)),mt=it[ft]=yt.transform(mt),mt!=null&&(yt.type=yt.type||(Array.isArray(mt)?"array":_typeof(mt)))),typeof yt=="function"?yt={validator:yt}:yt=_objectSpread2({},yt),yt.validator=tt.getValidationMethod(yt),yt.validator&&(yt.field=ft,yt.fullField=yt.fullField||ft,yt.type=tt.getType(yt),st[ft]=st[ft]||[],st[ft].push({rule:yt,value:mt,source:it,field:ft}))})});var dt={};return asyncMap(st,at,function(ft,ht){var mt=ft.rule,gt=(mt.type==="object"||mt.type==="array")&&(_typeof(mt.fields)==="object"||_typeof(mt.defaultField)==="object");gt=gt&&(mt.required||!mt.required&&ft.value),mt.field=ft.field;function yt(St,wt){return _objectSpread2(_objectSpread2({},wt),{},{fullField:"".concat(mt.fullField,".").concat(St),fullFields:mt.fullFields?[].concat(_toConsumableArray(mt.fullFields),[St]):[St]})}function vt(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],wt=Array.isArray(St)?St:[St];!at.suppressWarning&&wt.length&&_e.warning("async-validator:",wt),wt.length&&mt.message!==void 0&&(wt=[].concat(mt.message));var Et=wt.map(complementError(mt,it));if(at.first&&Et.length)return dt[mt.field]=1,ht(Et);if(!gt)ht(Et);else{if(mt.required&&!ft.value)return mt.message!==void 0?Et=[].concat(mt.message).map(complementError(mt,it)):at.error&&(Et=[at.error(mt,format(at.messages.required,mt.field))]),ht(Et);var Tt={};mt.defaultField&&Object.keys(ft.value).map(function(Pt){Tt[Pt]=mt.defaultField}),Tt=_objectSpread2(_objectSpread2({},Tt),ft.rule.fields);var Ct={};Object.keys(Tt).forEach(function(Pt){var At=Tt[Pt],kt=Array.isArray(At)?At:[At];Ct[Pt]=kt.map(yt.bind(null,Pt))});var It=new _e(Ct);It.messages(at.messages),ft.rule.options&&(ft.rule.options.messages=at.messages,ft.rule.options.error=at.error),It.validate(ft.value,ft.rule.options||at,function(Pt){var At=[];Et&&Et.length&&At.push.apply(At,_toConsumableArray(Et)),Pt&&Pt.length&&At.push.apply(At,_toConsumableArray(Pt)),ht(At.length?At:null)})}}var bt;if(mt.asyncValidator)bt=mt.asyncValidator(mt,ft.value,vt,ft.source,at);else if(mt.validator){try{bt=mt.validator(mt,ft.value,vt,ft.source,at)}catch(St){var xt,_t;(xt=(_t=console).error)===null||xt===void 0||xt.call(_t,St),at.suppressValidatorError||setTimeout(function(){throw St},0),vt(St.message)}bt===!0?vt():bt===!1?vt(typeof mt.message=="function"?mt.message(mt.fullField||mt.field):mt.message||"".concat(mt.fullField||mt.field," fails")):bt instanceof Array?vt(bt):bt instanceof Error&&vt(bt.message)}bt&&bt.then&&bt.then(function(){return vt()},function(St){return vt(St)})},function(ft){ct(ft)},it)}},{key:"getType",value:function(et){if(et.type===void 0&&et.pattern instanceof RegExp&&(et.type="pattern"),typeof et.validator!="function"&&et.type&&!validators.hasOwnProperty(et.type))throw new Error(format("Unknown rule type %s",et.type));return et.type||"string"}},{key:"getValidationMethod",value:function(et){if(typeof et.validator=="function")return et.validator;var tt=Object.keys(et),rt=tt.indexOf("message");return rt!==-1&&tt.splice(rt,1),tt.length===1&&tt[0]==="required"?validators.required:validators[this.getType(et)]||void 0}}]),_e}();_defineProperty(Schema,"register",function _e(_,et){if(typeof et!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[_]=et});_defineProperty(Schema,"warning",warning);_defineProperty(Schema,"messages",messages);_defineProperty(Schema,"validators",validators);var typeTemplate="'${name}' is not a valid ${type}",defaultValidateMessages={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:typeTemplate,method:typeTemplate,array:typeTemplate,object:typeTemplate,number:typeTemplate,date:typeTemplate,boolean:typeTemplate,integer:typeTemplate,float:typeTemplate,regexp:typeTemplate,email:typeTemplate,url:typeTemplate,hex:typeTemplate},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},AsyncValidator=Schema;function replaceMessage(_e,_){return _e.replace(/\\?\$\{\w+\}/g,function(et){if(et.startsWith("\\"))return et.slice(1);var tt=et.slice(2,-1);return _[tt]})}var CODE_LOGIC_ERROR="CODE_LOGIC_ERROR";function validateRule(_e,_,et,tt,rt){return _validateRule.apply(this,arguments)}function _validateRule(){return _validateRule=_asyncToGenerator(_regeneratorRuntime().mark(function _e(_,et,tt,rt,nt){var it,at,lt,ct,ut,st,ot,dt,ft;return _regeneratorRuntime().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return it=_objectSpread2({},tt),delete it.ruleIndex,AsyncValidator.warning=function(){},it.validator&&(at=it.validator,it.validator=function(){try{return at.apply(void 0,arguments)}catch(gt){return console.error(gt),Promise.reject(CODE_LOGIC_ERROR)}}),lt=null,it&&it.type==="array"&&it.defaultField&&(lt=it.defaultField,delete it.defaultField),ct=new AsyncValidator(_defineProperty({},_,[it])),ut=merge$1(defaultValidateMessages,rt.validateMessages),ct.messages(ut),st=[],mt.prev=10,mt.next=13,Promise.resolve(ct.validate(_defineProperty({},_,et),_objectSpread2({},rt)));case 13:mt.next=18;break;case 15:mt.prev=15,mt.t0=mt.catch(10),mt.t0.errors&&(st=mt.t0.errors.map(function(gt,yt){var vt=gt.message,bt=vt===CODE_LOGIC_ERROR?ut.default:vt;return reactExports.isValidElement(bt)?reactExports.cloneElement(bt,{key:"error_".concat(yt)}):bt}));case 18:if(!(!st.length&&lt)){mt.next=23;break}return mt.next=21,Promise.all(et.map(function(gt,yt){return validateRule("".concat(_,".").concat(yt),gt,lt,rt,nt)}));case 21:return ot=mt.sent,mt.abrupt("return",ot.reduce(function(gt,yt){return[].concat(_toConsumableArray(gt),_toConsumableArray(yt))},[]));case 23:return dt=_objectSpread2(_objectSpread2({},tt),{},{name:_,enum:(tt.enum||[]).join(", ")},nt),ft=st.map(function(gt){return typeof gt=="string"?replaceMessage(gt,dt):gt}),mt.abrupt("return",ft);case 26:case"end":return mt.stop()}},_e,null,[[10,15]])})),_validateRule.apply(this,arguments)}function validateRules(_e,_,et,tt,rt,nt){var it=_e.join("."),at=et.map(function(ut,st){var ot=ut.validator,dt=_objectSpread2(_objectSpread2({},ut),{},{ruleIndex:st});return ot&&(dt.validator=function(ft,ht,mt){var gt=!1,yt=function(){for(var xt=arguments.length,_t=new Array(xt),St=0;St<xt;St++)_t[St]=arguments[St];Promise.resolve().then(function(){warningOnce(!gt,"Your validator function has already return a promise. `callback` will be ignored."),gt||mt.apply(void 0,_t)})},vt=ot(ft,ht,yt);gt=vt&&typeof vt.then=="function"&&typeof vt.catch=="function",warningOnce(gt,"`callback` is deprecated. Please return a promise instead."),gt&&vt.then(function(){mt()}).catch(function(bt){mt(bt||" ")})}),dt}).sort(function(ut,st){var ot=ut.warningOnly,dt=ut.ruleIndex,ft=st.warningOnly,ht=st.ruleIndex;return!!ot==!!ft?dt-ht:ot?1:-1}),lt;if(rt===!0)lt=new Promise(function(){var ut=_asyncToGenerator(_regeneratorRuntime().mark(function st(ot,dt){var ft,ht,mt;return _regeneratorRuntime().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:ft=0;case 1:if(!(ft<at.length)){yt.next=12;break}return ht=at[ft],yt.next=5,validateRule(it,_,ht,tt,nt);case 5:if(mt=yt.sent,!mt.length){yt.next=9;break}return dt([{errors:mt,rule:ht}]),yt.abrupt("return");case 9:ft+=1,yt.next=1;break;case 12:ot([]);case 13:case"end":return yt.stop()}},st)}));return function(st,ot){return ut.apply(this,arguments)}}());else{var ct=at.map(function(ut){return validateRule(it,_,ut,tt,nt).then(function(st){return{errors:st,rule:ut}})});lt=(rt?finishOnFirstFailed(ct):finishOnAllFailed(ct)).then(function(ut){return Promise.reject(ut)})}return lt.catch(function(ut){return ut}),lt}function finishOnAllFailed(_e){return _finishOnAllFailed.apply(this,arguments)}function _finishOnAllFailed(){return _finishOnAllFailed=_asyncToGenerator(_regeneratorRuntime().mark(function _e(_){return _regeneratorRuntime().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return tt.abrupt("return",Promise.all(_).then(function(rt){var nt,it=(nt=[]).concat.apply(nt,_toConsumableArray(rt));return it}));case 1:case"end":return tt.stop()}},_e)})),_finishOnAllFailed.apply(this,arguments)}function finishOnFirstFailed(_e){return _finishOnFirstFailed.apply(this,arguments)}function _finishOnFirstFailed(){return _finishOnFirstFailed=_asyncToGenerator(_regeneratorRuntime().mark(function _e(_){var et;return _regeneratorRuntime().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:return et=0,rt.abrupt("return",new Promise(function(nt){_.forEach(function(it){it.then(function(at){at.errors.length&&nt([at]),et+=1,et===_.length&&nt([])})})}));case 2:case"end":return rt.stop()}},_e)})),_finishOnFirstFailed.apply(this,arguments)}function getNamePath(_e){return toArray$1(_e)}function cloneByNamePathList(_e,_){var et={};return _.forEach(function(tt){var rt=get(_e,tt);et=set(et,tt,rt)}),et}function containsNamePath(_e,_){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return _e&&_e.some(function(tt){return matchNamePath(_,tt,et)})}function matchNamePath(_e,_){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!_e||!_||!et&&_e.length!==_.length?!1:_.every(function(tt,rt){return _e[rt]===tt})}function isSimilar(_e,_){if(_e===_)return!0;if(!_e&&_||!_||!_e||!_||_typeof(_e)!=="object"||_typeof(_)!=="object")return!1;var et=Object.keys(_e),tt=Object.keys(_),rt=new Set([].concat(et,tt));return _toConsumableArray(rt).every(function(nt){var it=_e[nt],at=_[nt];return typeof it=="function"&&typeof at=="function"?!0:it===at})}function defaultGetValueFromEvent(_e){var _=arguments.length<=1?void 0:arguments[1];return _&&_.target&&_typeof(_.target)==="object"&&_e in _.target?_.target[_e]:_}function move(_e,_,et){var tt=_e.length;if(_<0||_>=tt||et<0||et>=tt)return _e;var rt=_e[_],nt=_-et;return nt>0?[].concat(_toConsumableArray(_e.slice(0,et)),[rt],_toConsumableArray(_e.slice(et,_)),_toConsumableArray(_e.slice(_+1,tt))):nt<0?[].concat(_toConsumableArray(_e.slice(0,_)),_toConsumableArray(_e.slice(_+1,et+1)),[rt],_toConsumableArray(_e.slice(et+1,tt))):_e}var _excluded$m=["name"],EMPTY_ERRORS=[];function requireUpdate(_e,_,et,tt,rt,nt){return typeof _e=="function"?_e(_,et,"source"in nt?{source:nt.source}:{}):tt!==rt}var Field=function(_e){_inherits(et,_e);var _=_createSuper(et);function et(tt){var rt;if(_classCallCheck(this,et),rt=_.call(this,tt),_defineProperty(_assertThisInitialized(rt),"state",{resetCount:0}),_defineProperty(_assertThisInitialized(rt),"cancelRegisterFunc",null),_defineProperty(_assertThisInitialized(rt),"mounted",!1),_defineProperty(_assertThisInitialized(rt),"touched",!1),_defineProperty(_assertThisInitialized(rt),"dirty",!1),_defineProperty(_assertThisInitialized(rt),"validatePromise",void 0),_defineProperty(_assertThisInitialized(rt),"prevValidating",void 0),_defineProperty(_assertThisInitialized(rt),"errors",EMPTY_ERRORS),_defineProperty(_assertThisInitialized(rt),"warnings",EMPTY_ERRORS),_defineProperty(_assertThisInitialized(rt),"cancelRegister",function(){var lt=rt.props,ct=lt.preserve,ut=lt.isListField,st=lt.name;rt.cancelRegisterFunc&&rt.cancelRegisterFunc(ut,ct,getNamePath(st)),rt.cancelRegisterFunc=null}),_defineProperty(_assertThisInitialized(rt),"getNamePath",function(){var lt=rt.props,ct=lt.name,ut=lt.fieldContext,st=ut.prefixName,ot=st===void 0?[]:st;return ct!==void 0?[].concat(_toConsumableArray(ot),_toConsumableArray(ct)):[]}),_defineProperty(_assertThisInitialized(rt),"getRules",function(){var lt=rt.props,ct=lt.rules,ut=ct===void 0?[]:ct,st=lt.fieldContext;return ut.map(function(ot){return typeof ot=="function"?ot(st):ot})}),_defineProperty(_assertThisInitialized(rt),"refresh",function(){rt.mounted&&rt.setState(function(lt){var ct=lt.resetCount;return{resetCount:ct+1}})}),_defineProperty(_assertThisInitialized(rt),"metaCache",null),_defineProperty(_assertThisInitialized(rt),"triggerMetaEvent",function(lt){var ct=rt.props.onMetaChange;if(ct){var ut=_objectSpread2(_objectSpread2({},rt.getMeta()),{},{destroy:lt});isEqual(rt.metaCache,ut)||ct(ut),rt.metaCache=ut}else rt.metaCache=null}),_defineProperty(_assertThisInitialized(rt),"onStoreChange",function(lt,ct,ut){var st=rt.props,ot=st.shouldUpdate,dt=st.dependencies,ft=dt===void 0?[]:dt,ht=st.onReset,mt=ut.store,gt=rt.getNamePath(),yt=rt.getValue(lt),vt=rt.getValue(mt),bt=ct&&containsNamePath(ct,gt);switch(ut.type==="valueUpdate"&&ut.source==="external"&&!isEqual(yt,vt)&&(rt.touched=!0,rt.dirty=!0,rt.validatePromise=null,rt.errors=EMPTY_ERRORS,rt.warnings=EMPTY_ERRORS,rt.triggerMetaEvent()),ut.type){case"reset":if(!ct||bt){rt.touched=!1,rt.dirty=!1,rt.validatePromise=void 0,rt.errors=EMPTY_ERRORS,rt.warnings=EMPTY_ERRORS,rt.triggerMetaEvent(),ht==null||ht(),rt.refresh();return}break;case"remove":{if(ot&&requireUpdate(ot,lt,mt,yt,vt,ut)){rt.reRender();return}break}case"setField":{var xt=ut.data;if(bt){"touched"in xt&&(rt.touched=xt.touched),"validating"in xt&&!("originRCField"in xt)&&(rt.validatePromise=xt.validating?Promise.resolve([]):null),"errors"in xt&&(rt.errors=xt.errors||EMPTY_ERRORS),"warnings"in xt&&(rt.warnings=xt.warnings||EMPTY_ERRORS),rt.dirty=!0,rt.triggerMetaEvent(),rt.reRender();return}else if("value"in xt&&containsNamePath(ct,gt,!0)){rt.reRender();return}if(ot&&!gt.length&&requireUpdate(ot,lt,mt,yt,vt,ut)){rt.reRender();return}break}case"dependenciesUpdate":{var _t=ft.map(getNamePath);if(_t.some(function(St){return containsNamePath(ut.relatedFields,St)})){rt.reRender();return}break}default:if(bt||(!ft.length||gt.length||ot)&&requireUpdate(ot,lt,mt,yt,vt,ut)){rt.reRender();return}break}ot===!0&&rt.reRender()}),_defineProperty(_assertThisInitialized(rt),"validateRules",function(lt){var ct=rt.getNamePath(),ut=rt.getValue(),st=lt||{},ot=st.triggerName,dt=st.validateOnly,ft=dt===void 0?!1:dt,ht=Promise.resolve().then(_asyncToGenerator(_regeneratorRuntime().mark(function mt(){var gt,yt,vt,bt,xt,_t,St;return _regeneratorRuntime().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(rt.mounted){Et.next=2;break}return Et.abrupt("return",[]);case 2:if(gt=rt.props,yt=gt.validateFirst,vt=yt===void 0?!1:yt,bt=gt.messageVariables,xt=gt.validateDebounce,_t=rt.getRules(),ot&&(_t=_t.filter(function(Tt){return Tt}).filter(function(Tt){var Ct=Tt.validateTrigger;if(!Ct)return!0;var It=toArray$1(Ct);return It.includes(ot)})),!(xt&&ot)){Et.next=10;break}return Et.next=8,new Promise(function(Tt){setTimeout(Tt,xt)});case 8:if(rt.validatePromise===ht){Et.next=10;break}return Et.abrupt("return",[]);case 10:return St=validateRules(ct,ut,_t,lt,vt,bt),St.catch(function(Tt){return Tt}).then(function(){var Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:EMPTY_ERRORS;if(rt.validatePromise===ht){var Ct;rt.validatePromise=null;var It=[],Pt=[];(Ct=Tt.forEach)===null||Ct===void 0||Ct.call(Tt,function(At){var kt=At.rule.warningOnly,Rt=At.errors,$t=Rt===void 0?EMPTY_ERRORS:Rt;kt?Pt.push.apply(Pt,_toConsumableArray($t)):It.push.apply(It,_toConsumableArray($t))}),rt.errors=It,rt.warnings=Pt,rt.triggerMetaEvent(),rt.reRender()}}),Et.abrupt("return",St);case 13:case"end":return Et.stop()}},mt)})));return ft||(rt.validatePromise=ht,rt.dirty=!0,rt.errors=EMPTY_ERRORS,rt.warnings=EMPTY_ERRORS,rt.triggerMetaEvent(),rt.reRender()),ht}),_defineProperty(_assertThisInitialized(rt),"isFieldValidating",function(){return!!rt.validatePromise}),_defineProperty(_assertThisInitialized(rt),"isFieldTouched",function(){return rt.touched}),_defineProperty(_assertThisInitialized(rt),"isFieldDirty",function(){if(rt.dirty||rt.props.initialValue!==void 0)return!0;var lt=rt.props.fieldContext,ct=lt.getInternalHooks(HOOK_MARK),ut=ct.getInitialValue;return ut(rt.getNamePath())!==void 0}),_defineProperty(_assertThisInitialized(rt),"getErrors",function(){return rt.errors}),_defineProperty(_assertThisInitialized(rt),"getWarnings",function(){return rt.warnings}),_defineProperty(_assertThisInitialized(rt),"isListField",function(){return rt.props.isListField}),_defineProperty(_assertThisInitialized(rt),"isList",function(){return rt.props.isList}),_defineProperty(_assertThisInitialized(rt),"isPreserve",function(){return rt.props.preserve}),_defineProperty(_assertThisInitialized(rt),"getMeta",function(){rt.prevValidating=rt.isFieldValidating();var lt={touched:rt.isFieldTouched(),validating:rt.prevValidating,errors:rt.errors,warnings:rt.warnings,name:rt.getNamePath(),validated:rt.validatePromise===null};return lt}),_defineProperty(_assertThisInitialized(rt),"getOnlyChild",function(lt){if(typeof lt=="function"){var ct=rt.getMeta();return _objectSpread2(_objectSpread2({},rt.getOnlyChild(lt(rt.getControlled(),ct,rt.props.fieldContext))),{},{isFunction:!0})}var ut=toArray$2(lt);return ut.length!==1||!reactExports.isValidElement(ut[0])?{child:ut,isFunction:!1}:{child:ut[0],isFunction:!1}}),_defineProperty(_assertThisInitialized(rt),"getValue",function(lt){var ct=rt.props.fieldContext.getFieldsValue,ut=rt.getNamePath();return get(lt||ct(!0),ut)}),_defineProperty(_assertThisInitialized(rt),"getControlled",function(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=rt.props,ut=ct.name,st=ct.trigger,ot=ct.validateTrigger,dt=ct.getValueFromEvent,ft=ct.normalize,ht=ct.valuePropName,mt=ct.getValueProps,gt=ct.fieldContext,yt=ot!==void 0?ot:gt.validateTrigger,vt=rt.getNamePath(),bt=gt.getInternalHooks,xt=gt.getFieldsValue,_t=bt(HOOK_MARK),St=_t.dispatch,wt=rt.getValue(),Et=mt||function(At){return _defineProperty({},ht,At)},Tt=lt[st],Ct=ut!==void 0?Et(wt):{},It=_objectSpread2(_objectSpread2({},lt),Ct);It[st]=function(){rt.touched=!0,rt.dirty=!0,rt.triggerMetaEvent();for(var At,kt=arguments.length,Rt=new Array(kt),$t=0;$t<kt;$t++)Rt[$t]=arguments[$t];dt?At=dt.apply(void 0,Rt):At=defaultGetValueFromEvent.apply(void 0,[ht].concat(Rt)),ft&&(At=ft(At,wt,xt(!0))),At!==wt&&St({type:"updateValue",namePath:vt,value:At}),Tt&&Tt.apply(void 0,Rt)};var Pt=toArray$1(yt||[]);return Pt.forEach(function(At){var kt=It[At];It[At]=function(){kt&&kt.apply(void 0,arguments);var Rt=rt.props.rules;Rt&&Rt.length&&St({type:"validateField",namePath:vt,triggerName:At})}}),It}),tt.fieldContext){var nt=tt.fieldContext.getInternalHooks,it=nt(HOOK_MARK),at=it.initEntityValue;at(_assertThisInitialized(rt))}return rt}return _createClass(et,[{key:"componentDidMount",value:function(){var rt=this.props,nt=rt.shouldUpdate,it=rt.fieldContext;if(this.mounted=!0,it){var at=it.getInternalHooks,lt=at(HOOK_MARK),ct=lt.registerField;this.cancelRegisterFunc=ct(this)}nt===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var rt=this.state.resetCount,nt=this.props.children,it=this.getOnlyChild(nt),at=it.child,lt=it.isFunction,ct;return lt?ct=at:reactExports.isValidElement(at)?ct=reactExports.cloneElement(at,this.getControlled(at.props)):(warningOnce(!at,"`children` of Field is not validate ReactElement."),ct=at),reactExports.createElement(reactExports.Fragment,{key:rt},ct)}}]),et}(reactExports.Component);_defineProperty(Field,"contextType",Context);_defineProperty(Field,"defaultProps",{trigger:"onChange",valuePropName:"value"});function WrapperField(_e){var _,et=_e.name,tt=_objectWithoutProperties(_e,_excluded$m),rt=reactExports.useContext(Context),nt=reactExports.useContext(ListContext),it=et!==void 0?getNamePath(et):void 0,at=(_=tt.isListField)!==null&&_!==void 0?_:!!nt,lt="keep";return at||(lt="_".concat((it||[]).join("_"))),reactExports.createElement(Field,_extends$x({key:lt,name:it,isListField:at},tt,{fieldContext:rt}))}function List(_e){var _=_e.name,et=_e.initialValue,tt=_e.children,rt=_e.rules,nt=_e.validateTrigger,it=_e.isListField,at=reactExports.useContext(Context),lt=reactExports.useContext(ListContext),ct=reactExports.useRef({keys:[],id:0}),ut=ct.current,st=reactExports.useMemo(function(){var ht=getNamePath(at.prefixName)||[];return[].concat(_toConsumableArray(ht),_toConsumableArray(getNamePath(_)))},[at.prefixName,_]),ot=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},at),{},{prefixName:st})},[at,st]),dt=reactExports.useMemo(function(){return{getKey:function(mt){var gt=st.length,yt=mt[gt];return[ut.keys[yt],mt.slice(gt+1)]}}},[st]);if(typeof tt!="function")return warningOnce(!1,"Form.List only accepts function as children."),null;var ft=function(mt,gt,yt){var vt=yt.source;return vt==="internal"?!1:mt!==gt};return reactExports.createElement(ListContext.Provider,{value:dt},reactExports.createElement(Context.Provider,{value:ot},reactExports.createElement(WrapperField,{name:[],shouldUpdate:ft,rules:rt,validateTrigger:nt,initialValue:et,isList:!0,isListField:it??!!lt},function(ht,mt){var gt=ht.value,yt=gt===void 0?[]:gt,vt=ht.onChange,bt=at.getFieldValue,xt=function(){var Et=bt(st||[]);return Et||[]},_t={add:function(Et,Tt){var Ct=xt();Tt>=0&&Tt<=Ct.length?(ut.keys=[].concat(_toConsumableArray(ut.keys.slice(0,Tt)),[ut.id],_toConsumableArray(ut.keys.slice(Tt))),vt([].concat(_toConsumableArray(Ct.slice(0,Tt)),[Et],_toConsumableArray(Ct.slice(Tt))))):(ut.keys=[].concat(_toConsumableArray(ut.keys),[ut.id]),vt([].concat(_toConsumableArray(Ct),[Et]))),ut.id+=1},remove:function(Et){var Tt=xt(),Ct=new Set(Array.isArray(Et)?Et:[Et]);Ct.size<=0||(ut.keys=ut.keys.filter(function(It,Pt){return!Ct.has(Pt)}),vt(Tt.filter(function(It,Pt){return!Ct.has(Pt)})))},move:function(Et,Tt){if(Et!==Tt){var Ct=xt();Et<0||Et>=Ct.length||Tt<0||Tt>=Ct.length||(ut.keys=move(ut.keys,Et,Tt),vt(move(Ct,Et,Tt)))}}},St=yt||[];return Array.isArray(St)||(St=[]),tt(St.map(function(wt,Et){var Tt=ut.keys[Et];return Tt===void 0&&(ut.keys[Et]=ut.id,Tt=ut.keys[Et],ut.id+=1),{name:Et,key:Tt,isListField:!0}}),_t,mt)})))}function allPromiseFinish(_e){var _=!1,et=_e.length,tt=[];return _e.length?new Promise(function(rt,nt){_e.forEach(function(it,at){it.catch(function(lt){return _=!0,lt}).then(function(lt){et-=1,tt[at]=lt,!(et>0)&&(_&&nt(tt),rt(tt))})})}):Promise.resolve([])}var SPLIT="__@field_split__";function normalize(_e){return _e.map(function(_){return"".concat(_typeof(_),":").concat(_)}).join(SPLIT)}var NameMap=function(){function _e(){_classCallCheck(this,_e),_defineProperty(this,"kvs",new Map)}return _createClass(_e,[{key:"set",value:function(et,tt){this.kvs.set(normalize(et),tt)}},{key:"get",value:function(et){return this.kvs.get(normalize(et))}},{key:"update",value:function(et,tt){var rt=this.get(et),nt=tt(rt);nt?this.set(et,nt):this.delete(et)}},{key:"delete",value:function(et){this.kvs.delete(normalize(et))}},{key:"map",value:function(et){return _toConsumableArray(this.kvs.entries()).map(function(tt){var rt=_slicedToArray(tt,2),nt=rt[0],it=rt[1],at=nt.split(SPLIT);return et({key:at.map(function(lt){var ct=lt.match(/^([^:]*):(.*)$/),ut=_slicedToArray(ct,3),st=ut[1],ot=ut[2];return st==="number"?Number(ot):ot}),value:it})})}},{key:"toJSON",value:function(){var et={};return this.map(function(tt){var rt=tt.key,nt=tt.value;return et[rt.join(".")]=nt,null}),et}}]),_e}(),_excluded$l=["name"],FormStore=_createClass(function _e(_){var et=this;_classCallCheck(this,_e),_defineProperty(this,"formHooked",!1),_defineProperty(this,"forceRootUpdate",void 0),_defineProperty(this,"subscribable",!0),_defineProperty(this,"store",{}),_defineProperty(this,"fieldEntities",[]),_defineProperty(this,"initialValues",{}),_defineProperty(this,"callbacks",{}),_defineProperty(this,"validateMessages",null),_defineProperty(this,"preserve",null),_defineProperty(this,"lastValidatePromise",null),_defineProperty(this,"getForm",function(){return{getFieldValue:et.getFieldValue,getFieldsValue:et.getFieldsValue,getFieldError:et.getFieldError,getFieldWarning:et.getFieldWarning,getFieldsError:et.getFieldsError,isFieldsTouched:et.isFieldsTouched,isFieldTouched:et.isFieldTouched,isFieldValidating:et.isFieldValidating,isFieldsValidating:et.isFieldsValidating,resetFields:et.resetFields,setFields:et.setFields,setFieldValue:et.setFieldValue,setFieldsValue:et.setFieldsValue,validateFields:et.validateFields,submit:et.submit,_init:!0,getInternalHooks:et.getInternalHooks}}),_defineProperty(this,"getInternalHooks",function(tt){return tt===HOOK_MARK?(et.formHooked=!0,{dispatch:et.dispatch,initEntityValue:et.initEntityValue,registerField:et.registerField,useSubscribe:et.useSubscribe,setInitialValues:et.setInitialValues,destroyForm:et.destroyForm,setCallbacks:et.setCallbacks,setValidateMessages:et.setValidateMessages,getFields:et.getFields,setPreserve:et.setPreserve,getInitialValue:et.getInitialValue,registerWatch:et.registerWatch}):(warningOnce(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),_defineProperty(this,"useSubscribe",function(tt){et.subscribable=tt}),_defineProperty(this,"prevWithoutPreserves",null),_defineProperty(this,"setInitialValues",function(tt,rt){if(et.initialValues=tt||{},rt){var nt,it=merge$1(tt,et.store);(nt=et.prevWithoutPreserves)===null||nt===void 0||nt.map(function(at){var lt=at.key;it=set(it,lt,get(tt,lt))}),et.prevWithoutPreserves=null,et.updateStore(it)}}),_defineProperty(this,"destroyForm",function(tt){if(tt)et.updateStore({});else{var rt=new NameMap;et.getFieldEntities(!0).forEach(function(nt){et.isMergedPreserve(nt.isPreserve())||rt.set(nt.getNamePath(),!0)}),et.prevWithoutPreserves=rt}}),_defineProperty(this,"getInitialValue",function(tt){var rt=get(et.initialValues,tt);return tt.length?merge$1(rt):rt}),_defineProperty(this,"setCallbacks",function(tt){et.callbacks=tt}),_defineProperty(this,"setValidateMessages",function(tt){et.validateMessages=tt}),_defineProperty(this,"setPreserve",function(tt){et.preserve=tt}),_defineProperty(this,"watchList",[]),_defineProperty(this,"registerWatch",function(tt){return et.watchList.push(tt),function(){et.watchList=et.watchList.filter(function(rt){return rt!==tt})}}),_defineProperty(this,"notifyWatch",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(et.watchList.length){var rt=et.getFieldsValue(),nt=et.getFieldsValue(!0);et.watchList.forEach(function(it){it(rt,nt,tt)})}}),_defineProperty(this,"timeoutId",null),_defineProperty(this,"warningUnhooked",function(){}),_defineProperty(this,"updateStore",function(tt){et.store=tt}),_defineProperty(this,"getFieldEntities",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return tt?et.fieldEntities.filter(function(rt){return rt.getNamePath().length}):et.fieldEntities}),_defineProperty(this,"getFieldsMap",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,rt=new NameMap;return et.getFieldEntities(tt).forEach(function(nt){var it=nt.getNamePath();rt.set(it,nt)}),rt}),_defineProperty(this,"getFieldEntitiesForNamePathList",function(tt){if(!tt)return et.getFieldEntities(!0);var rt=et.getFieldsMap(!0);return tt.map(function(nt){var it=getNamePath(nt);return rt.get(it)||{INVALIDATE_NAME_PATH:getNamePath(nt)}})}),_defineProperty(this,"getFieldsValue",function(tt,rt){et.warningUnhooked();var nt,it,at;if(tt===!0||Array.isArray(tt)?(nt=tt,it=rt):tt&&_typeof(tt)==="object"&&(at=tt.strict,it=tt.filter),nt===!0&&!it)return et.store;var lt=et.getFieldEntitiesForNamePathList(Array.isArray(nt)?nt:null),ct=[];return lt.forEach(function(ut){var st,ot,dt="INVALIDATE_NAME_PATH"in ut?ut.INVALIDATE_NAME_PATH:ut.getNamePath();if(at){var ft,ht;if((ft=(ht=ut).isList)!==null&&ft!==void 0&&ft.call(ht))return}else if(!nt&&(st=(ot=ut).isListField)!==null&&st!==void 0&&st.call(ot))return;if(!it)ct.push(dt);else{var mt="getMeta"in ut?ut.getMeta():null;it(mt)&&ct.push(dt)}}),cloneByNamePathList(et.store,ct.map(getNamePath))}),_defineProperty(this,"getFieldValue",function(tt){et.warningUnhooked();var rt=getNamePath(tt);return get(et.store,rt)}),_defineProperty(this,"getFieldsError",function(tt){et.warningUnhooked();var rt=et.getFieldEntitiesForNamePathList(tt);return rt.map(function(nt,it){return nt&&!("INVALIDATE_NAME_PATH"in nt)?{name:nt.getNamePath(),errors:nt.getErrors(),warnings:nt.getWarnings()}:{name:getNamePath(tt[it]),errors:[],warnings:[]}})}),_defineProperty(this,"getFieldError",function(tt){et.warningUnhooked();var rt=getNamePath(tt),nt=et.getFieldsError([rt])[0];return nt.errors}),_defineProperty(this,"getFieldWarning",function(tt){et.warningUnhooked();var rt=getNamePath(tt),nt=et.getFieldsError([rt])[0];return nt.warnings}),_defineProperty(this,"isFieldsTouched",function(){et.warningUnhooked();for(var tt=arguments.length,rt=new Array(tt),nt=0;nt<tt;nt++)rt[nt]=arguments[nt];var it=rt[0],at=rt[1],lt,ct=!1;rt.length===0?lt=null:rt.length===1?Array.isArray(it)?(lt=it.map(getNamePath),ct=!1):(lt=null,ct=it):(lt=it.map(getNamePath),ct=at);var ut=et.getFieldEntities(!0),st=function(mt){return mt.isFieldTouched()};if(!lt)return ct?ut.every(function(ht){return st(ht)||ht.isList()}):ut.some(st);var ot=new NameMap;lt.forEach(function(ht){ot.set(ht,[])}),ut.forEach(function(ht){var mt=ht.getNamePath();lt.forEach(function(gt){gt.every(function(yt,vt){return mt[vt]===yt})&&ot.update(gt,function(yt){return[].concat(_toConsumableArray(yt),[ht])})})});var dt=function(mt){return mt.some(st)},ft=ot.map(function(ht){var mt=ht.value;return mt});return ct?ft.every(dt):ft.some(dt)}),_defineProperty(this,"isFieldTouched",function(tt){return et.warningUnhooked(),et.isFieldsTouched([tt])}),_defineProperty(this,"isFieldsValidating",function(tt){et.warningUnhooked();var rt=et.getFieldEntities();if(!tt)return rt.some(function(it){return it.isFieldValidating()});var nt=tt.map(getNamePath);return rt.some(function(it){var at=it.getNamePath();return containsNamePath(nt,at)&&it.isFieldValidating()})}),_defineProperty(this,"isFieldValidating",function(tt){return et.warningUnhooked(),et.isFieldsValidating([tt])}),_defineProperty(this,"resetWithFieldInitialValue",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=new NameMap,nt=et.getFieldEntities(!0);nt.forEach(function(lt){var ct=lt.props.initialValue,ut=lt.getNamePath();if(ct!==void 0){var st=rt.get(ut)||new Set;st.add({entity:lt,value:ct}),rt.set(ut,st)}});var it=function(ct){ct.forEach(function(ut){var st=ut.props.initialValue;if(st!==void 0){var ot=ut.getNamePath(),dt=et.getInitialValue(ot);if(dt!==void 0)warningOnce(!1,"Form already set 'initialValues' with path '".concat(ot.join("."),"'. Field can not overwrite it."));else{var ft=rt.get(ot);if(ft&&ft.size>1)warningOnce(!1,"Multiple Field with path '".concat(ot.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(ft){var ht=et.getFieldValue(ot),mt=ut.isListField();!mt&&(!tt.skipExist||ht===void 0)&&et.updateStore(set(et.store,ot,_toConsumableArray(ft)[0].value))}}}})},at;tt.entities?at=tt.entities:tt.namePathList?(at=[],tt.namePathList.forEach(function(lt){var ct=rt.get(lt);if(ct){var ut;(ut=at).push.apply(ut,_toConsumableArray(_toConsumableArray(ct).map(function(st){return st.entity})))}})):at=nt,it(at)}),_defineProperty(this,"resetFields",function(tt){et.warningUnhooked();var rt=et.store;if(!tt){et.updateStore(merge$1(et.initialValues)),et.resetWithFieldInitialValue(),et.notifyObservers(rt,null,{type:"reset"}),et.notifyWatch();return}var nt=tt.map(getNamePath);nt.forEach(function(it){var at=et.getInitialValue(it);et.updateStore(set(et.store,it,at))}),et.resetWithFieldInitialValue({namePathList:nt}),et.notifyObservers(rt,nt,{type:"reset"}),et.notifyWatch(nt)}),_defineProperty(this,"setFields",function(tt){et.warningUnhooked();var rt=et.store,nt=[];tt.forEach(function(it){var at=it.name,lt=_objectWithoutProperties(it,_excluded$l),ct=getNamePath(at);nt.push(ct),"value"in lt&&et.updateStore(set(et.store,ct,lt.value)),et.notifyObservers(rt,[ct],{type:"setField",data:it})}),et.notifyWatch(nt)}),_defineProperty(this,"getFields",function(){var tt=et.getFieldEntities(!0),rt=tt.map(function(nt){var it=nt.getNamePath(),at=nt.getMeta(),lt=_objectSpread2(_objectSpread2({},at),{},{name:it,value:et.getFieldValue(it)});return Object.defineProperty(lt,"originRCField",{value:!0}),lt});return rt}),_defineProperty(this,"initEntityValue",function(tt){var rt=tt.props.initialValue;if(rt!==void 0){var nt=tt.getNamePath(),it=get(et.store,nt);it===void 0&&et.updateStore(set(et.store,nt,rt))}}),_defineProperty(this,"isMergedPreserve",function(tt){var rt=tt!==void 0?tt:et.preserve;return rt??!0}),_defineProperty(this,"registerField",function(tt){et.fieldEntities.push(tt);var rt=tt.getNamePath();if(et.notifyWatch([rt]),tt.props.initialValue!==void 0){var nt=et.store;et.resetWithFieldInitialValue({entities:[tt],skipExist:!0}),et.notifyObservers(nt,[tt.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(it,at){var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(et.fieldEntities=et.fieldEntities.filter(function(st){return st!==tt}),!et.isMergedPreserve(at)&&(!it||lt.length>1)){var ct=it?void 0:et.getInitialValue(rt);if(rt.length&&et.getFieldValue(rt)!==ct&&et.fieldEntities.every(function(st){return!matchNamePath(st.getNamePath(),rt)})){var ut=et.store;et.updateStore(set(ut,rt,ct,!0)),et.notifyObservers(ut,[rt],{type:"remove"}),et.triggerDependenciesUpdate(ut,rt)}}et.notifyWatch([rt])}}),_defineProperty(this,"dispatch",function(tt){switch(tt.type){case"updateValue":{var rt=tt.namePath,nt=tt.value;et.updateValue(rt,nt);break}case"validateField":{var it=tt.namePath,at=tt.triggerName;et.validateFields([it],{triggerName:at});break}}}),_defineProperty(this,"notifyObservers",function(tt,rt,nt){if(et.subscribable){var it=_objectSpread2(_objectSpread2({},nt),{},{store:et.getFieldsValue(!0)});et.getFieldEntities().forEach(function(at){var lt=at.onStoreChange;lt(tt,rt,it)})}else et.forceRootUpdate()}),_defineProperty(this,"triggerDependenciesUpdate",function(tt,rt){var nt=et.getDependencyChildrenFields(rt);return nt.length&&et.validateFields(nt),et.notifyObservers(tt,nt,{type:"dependenciesUpdate",relatedFields:[rt].concat(_toConsumableArray(nt))}),nt}),_defineProperty(this,"updateValue",function(tt,rt){var nt=getNamePath(tt),it=et.store;et.updateStore(set(et.store,nt,rt)),et.notifyObservers(it,[nt],{type:"valueUpdate",source:"internal"}),et.notifyWatch([nt]);var at=et.triggerDependenciesUpdate(it,nt),lt=et.callbacks.onValuesChange;if(lt){var ct=cloneByNamePathList(et.store,[nt]);lt(ct,et.getFieldsValue())}et.triggerOnFieldsChange([nt].concat(_toConsumableArray(at)))}),_defineProperty(this,"setFieldsValue",function(tt){et.warningUnhooked();var rt=et.store;if(tt){var nt=merge$1(et.store,tt);et.updateStore(nt)}et.notifyObservers(rt,null,{type:"valueUpdate",source:"external"}),et.notifyWatch()}),_defineProperty(this,"setFieldValue",function(tt,rt){et.setFields([{name:tt,value:rt,errors:[],warnings:[]}])}),_defineProperty(this,"getDependencyChildrenFields",function(tt){var rt=new Set,nt=[],it=new NameMap;et.getFieldEntities().forEach(function(lt){var ct=lt.props.dependencies;(ct||[]).forEach(function(ut){var st=getNamePath(ut);it.update(st,function(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return ot.add(lt),ot})})});var at=function lt(ct){var ut=it.get(ct)||new Set;ut.forEach(function(st){if(!rt.has(st)){rt.add(st);var ot=st.getNamePath();st.isFieldDirty()&&ot.length&&(nt.push(ot),lt(ot))}})};return at(tt),nt}),_defineProperty(this,"triggerOnFieldsChange",function(tt,rt){var nt=et.callbacks.onFieldsChange;if(nt){var it=et.getFields();if(rt){var at=new NameMap;rt.forEach(function(ct){var ut=ct.name,st=ct.errors;at.set(ut,st)}),it.forEach(function(ct){ct.errors=at.get(ct.name)||ct.errors})}var lt=it.filter(function(ct){var ut=ct.name;return containsNamePath(tt,ut)});lt.length&&nt(lt,it)}}),_defineProperty(this,"validateFields",function(tt,rt){et.warningUnhooked();var nt,it;Array.isArray(tt)||typeof tt=="string"||typeof rt=="string"?(nt=tt,it=rt):it=tt;var at=!!nt,lt=at?nt.map(getNamePath):[],ct=[],ut=String(Date.now()),st=new Set,ot=it||{},dt=ot.recursive,ft=ot.dirty;et.getFieldEntities(!0).forEach(function(yt){if(at||lt.push(yt.getNamePath()),!(!yt.props.rules||!yt.props.rules.length)&&!(ft&&!yt.isFieldDirty())){var vt=yt.getNamePath();if(st.add(vt.join(ut)),!at||containsNamePath(lt,vt,dt)){var bt=yt.validateRules(_objectSpread2({validateMessages:_objectSpread2(_objectSpread2({},defaultValidateMessages),et.validateMessages)},it));ct.push(bt.then(function(){return{name:vt,errors:[],warnings:[]}}).catch(function(xt){var _t,St=[],wt=[];return(_t=xt.forEach)===null||_t===void 0||_t.call(xt,function(Et){var Tt=Et.rule.warningOnly,Ct=Et.errors;Tt?wt.push.apply(wt,_toConsumableArray(Ct)):St.push.apply(St,_toConsumableArray(Ct))}),St.length?Promise.reject({name:vt,errors:St,warnings:wt}):{name:vt,errors:St,warnings:wt}}))}}});var ht=allPromiseFinish(ct);et.lastValidatePromise=ht,ht.catch(function(yt){return yt}).then(function(yt){var vt=yt.map(function(bt){var xt=bt.name;return xt});et.notifyObservers(et.store,vt,{type:"validateFinish"}),et.triggerOnFieldsChange(vt,yt)});var mt=ht.then(function(){return et.lastValidatePromise===ht?Promise.resolve(et.getFieldsValue(lt)):Promise.reject([])}).catch(function(yt){var vt=yt.filter(function(bt){return bt&&bt.errors.length});return Promise.reject({values:et.getFieldsValue(lt),errorFields:vt,outOfDate:et.lastValidatePromise!==ht})});mt.catch(function(yt){return yt});var gt=lt.filter(function(yt){return st.has(yt.join(ut))});return et.triggerOnFieldsChange(gt),mt}),_defineProperty(this,"submit",function(){et.warningUnhooked(),et.validateFields().then(function(tt){var rt=et.callbacks.onFinish;if(rt)try{rt(tt)}catch(nt){console.error(nt)}}).catch(function(tt){var rt=et.callbacks.onFinishFailed;rt&&rt(tt)})}),this.forceRootUpdate=_});function useForm(_e){var _=reactExports.useRef(),et=reactExports.useState({}),tt=_slicedToArray(et,2),rt=tt[1];if(!_.current)if(_e)_.current=_e;else{var nt=function(){rt({})},it=new FormStore(nt);_.current=it.getForm()}return[_.current]}var FormContext=reactExports.createContext({triggerFormChange:function _e(){},triggerFormFinish:function _e(){},registerForm:function _e(){},unregisterForm:function _e(){}}),FormProvider=function _e(_){var et=_.validateMessages,tt=_.onFormChange,rt=_.onFormFinish,nt=_.children,it=reactExports.useContext(FormContext),at=reactExports.useRef({});return reactExports.createElement(FormContext.Provider,{value:_objectSpread2(_objectSpread2({},it),{},{validateMessages:_objectSpread2(_objectSpread2({},it.validateMessages),et),triggerFormChange:function(ct,ut){tt&&tt(ct,{changedFields:ut,forms:at.current}),it.triggerFormChange(ct,ut)},triggerFormFinish:function(ct,ut){rt&&rt(ct,{values:ut,forms:at.current}),it.triggerFormFinish(ct,ut)},registerForm:function(ct,ut){ct&&(at.current=_objectSpread2(_objectSpread2({},at.current),{},_defineProperty({},ct,ut))),it.registerForm(ct,ut)},unregisterForm:function(ct){var ut=_objectSpread2({},at.current);delete ut[ct],at.current=ut,it.unregisterForm(ct)}})},nt)},_excluded$k=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Form=function _e(_,et){var tt=_.name,rt=_.initialValues,nt=_.fields,it=_.form,at=_.preserve,lt=_.children,ct=_.component,ut=ct===void 0?"form":ct,st=_.validateMessages,ot=_.validateTrigger,dt=ot===void 0?"onChange":ot,ft=_.onValuesChange,ht=_.onFieldsChange,mt=_.onFinish,gt=_.onFinishFailed,yt=_.clearOnDestroy,vt=_objectWithoutProperties(_,_excluded$k),bt=reactExports.useRef(null),xt=reactExports.useContext(FormContext),_t=useForm(it),St=_slicedToArray(_t,1),wt=St[0],Et=wt.getInternalHooks(HOOK_MARK),Tt=Et.useSubscribe,Ct=Et.setInitialValues,It=Et.setCallbacks,Pt=Et.setValidateMessages,At=Et.setPreserve,kt=Et.destroyForm;reactExports.useImperativeHandle(et,function(){return _objectSpread2(_objectSpread2({},wt),{},{nativeElement:bt.current})}),reactExports.useEffect(function(){return xt.registerForm(tt,wt),function(){xt.unregisterForm(tt)}},[xt,wt,tt]),Pt(_objectSpread2(_objectSpread2({},xt.validateMessages),st)),It({onValuesChange:ft,onFieldsChange:function(Wt){if(xt.triggerFormChange(tt,Wt),ht){for(var Vt=arguments.length,qt=new Array(Vt>1?Vt-1:0),tr=1;tr<Vt;tr++)qt[tr-1]=arguments[tr];ht.apply(void 0,[Wt].concat(qt))}},onFinish:function(Wt){xt.triggerFormFinish(tt,Wt),mt&&mt(Wt)},onFinishFailed:gt}),At(at);var Rt=reactExports.useRef(null);Ct(rt,!Rt.current),Rt.current||(Rt.current=!0),reactExports.useEffect(function(){return function(){return kt(yt)}},[]);var $t,Mt=typeof lt=="function";if(Mt){var Nt=wt.getFieldsValue(!0);$t=lt(Nt,wt)}else $t=lt;Tt(!Mt);var Dt=reactExports.useRef();reactExports.useEffect(function(){isSimilar(Dt.current||[],nt||[])||wt.setFields(nt||[]),Dt.current=nt},[nt,wt]);var jt=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},wt),{},{validateTrigger:dt})},[wt,dt]),Ut=reactExports.createElement(ListContext.Provider,{value:null},reactExports.createElement(Context.Provider,{value:jt},$t));return ut===!1?Ut:reactExports.createElement(ut,_extends$x({},vt,{ref:bt,onSubmit:function(Wt){Wt.preventDefault(),Wt.stopPropagation(),wt.submit()},onReset:function(Wt){var Vt;Wt.preventDefault(),wt.resetFields(),(Vt=vt.onReset)===null||Vt===void 0||Vt.call(vt,Wt)}}),Ut)};function stringify$1(_e){try{return JSON.stringify(_e)}catch{return Math.random()}}function useWatch$1(){for(var _e=arguments.length,_=new Array(_e),et=0;et<_e;et++)_[et]=arguments[et];var tt=_[0],rt=_[1],nt=rt===void 0?{}:rt,it=isFormInstance(nt)?{form:nt}:nt,at=it.form,lt=reactExports.useState(),ct=_slicedToArray(lt,2),ut=ct[0],st=ct[1],ot=reactExports.useMemo(function(){return stringify$1(ut)},[ut]),dt=reactExports.useRef(ot);dt.current=ot;var ft=reactExports.useContext(Context),ht=at||ft,mt=ht&&ht._init,gt=getNamePath(tt),yt=reactExports.useRef(gt);return yt.current=gt,reactExports.useEffect(function(){if(mt){var vt=ht.getFieldsValue,bt=ht.getInternalHooks,xt=bt(HOOK_MARK),_t=xt.registerWatch,St=function(Ct,It){var Pt=it.preserve?It:Ct;return typeof tt=="function"?tt(Pt):get(Pt,yt.current)},wt=_t(function(Tt,Ct){var It=St(Tt,Ct),Pt=stringify$1(It);dt.current!==Pt&&(dt.current=Pt,st(It))}),Et=St(vt(),vt(!0));return ut!==Et&&st(Et),wt}},[mt]),ut}var InternalForm=reactExports.forwardRef(Form),RefForm=InternalForm;RefForm.FormProvider=FormProvider;RefForm.Field=WrapperField;RefForm.List=List;RefForm.useForm=useForm;RefForm.useWatch=useWatch$1;const FormItemInputContext=reactExports.createContext({}),NoFormStyle=_e=>{let{children:_,status:et,override:tt}=_e;const rt=reactExports.useContext(FormItemInputContext),nt=reactExports.useMemo(()=>{const it=Object.assign({},rt);return tt&&delete it.isFormItemInput,et&&(delete it.status,delete it.hasFeedback,delete it.feedbackIcon),it},[et,tt,rt]);return reactExports.createElement(FormItemInputContext.Provider,{value:nt},_)},VariantContext=reactExports.createContext(void 0),ContextIsolator=_e=>{const{space:_,form:et,children:tt}=_e;if(tt==null)return null;let rt=tt;return et&&(rt=React.createElement(NoFormStyle,{override:!0,status:!0},rt)),_&&(rt=React.createElement(NoCompactStyle,null,rt)),rt};function pickClosable(_e){if(_e)return{closable:_e.closable,closeIcon:_e.closeIcon}}function useClosableConfig(_e){const{closable:_,closeIcon:et}=_e||{};return React.useMemo(()=>{if(!_&&(_===!1||et===!1||et===null))return!1;if(_===void 0&&et===void 0)return null;let tt={closeIcon:typeof et!="boolean"&&et!==null?et:void 0};return _&&typeof _=="object"&&(tt=Object.assign(Object.assign({},tt),_)),tt},[_,et])}function assignWithoutUndefined(){const _e={};for(var _=arguments.length,et=new Array(_),tt=0;tt<_;tt++)et[tt]=arguments[tt];return et.forEach(rt=>{rt&&Object.keys(rt).forEach(nt=>{rt[nt]!==void 0&&(_e[nt]=rt[nt])})}),_e}const EmptyFallbackCloseCollection={};function useClosable(_e,_){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:EmptyFallbackCloseCollection;const tt=useClosableConfig(_e),rt=useClosableConfig(_),nt=typeof tt!="boolean"?!!(tt!=null&&tt.disabled):!1,it=React.useMemo(()=>Object.assign({closeIcon:React.createElement(RefIcon$d,null)},et),[et]),at=React.useMemo(()=>tt===!1?!1:tt?assignWithoutUndefined(it,rt,tt):rt===!1?!1:rt?assignWithoutUndefined(it,rt):it.closable?it:!1,[tt,rt,it]);return React.useMemo(()=>{if(at===!1)return[!1,null,nt];const{closeIconRender:lt}=it,{closeIcon:ct}=at;let ut=ct;if(ut!=null){lt&&(ut=lt(ct));const st=pickAttrs(at,!0);Object.keys(st).length&&(ut=React.isValidElement(ut)?React.cloneElement(ut,st):React.createElement("span",Object.assign({},st),ut))}return[!0,ut,nt]},[at,it])}const Element$1=_e=>{const{prefixCls:_,className:et,style:tt,size:rt,shape:nt}=_e,it=classNames({[`${_}-lg`]:rt==="large",[`${_}-sm`]:rt==="small"}),at=classNames({[`${_}-circle`]:nt==="circle",[`${_}-square`]:nt==="square",[`${_}-round`]:nt==="round"}),lt=reactExports.useMemo(()=>typeof rt=="number"?{width:rt,height:rt,lineHeight:`${rt}px`}:{},[rt]);return reactExports.createElement("span",{className:classNames(_,it,at,et),style:Object.assign(Object.assign({},lt),tt)})},skeletonClsLoading=new Keyframe("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),genSkeletonElementCommonSize=_e=>({height:_e,lineHeight:unit$1(_e)}),genSkeletonElementAvatarSize=_e=>Object.assign({width:_e},genSkeletonElementCommonSize(_e)),genSkeletonColor=_e=>({background:_e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:skeletonClsLoading,animationDuration:_e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),genSkeletonElementInputSize=(_e,_)=>Object.assign({width:_(_e).mul(5).equal(),minWidth:_(_e).mul(5).equal()},genSkeletonElementCommonSize(_e)),genSkeletonElementAvatar=_e=>{const{skeletonAvatarCls:_,gradientFromColor:et,controlHeight:tt,controlHeightLG:rt,controlHeightSM:nt}=_e;return{[_]:Object.assign({display:"inline-block",verticalAlign:"top",background:et},genSkeletonElementAvatarSize(tt)),[`${_}${_}-circle`]:{borderRadius:"50%"},[`${_}${_}-lg`]:Object.assign({},genSkeletonElementAvatarSize(rt)),[`${_}${_}-sm`]:Object.assign({},genSkeletonElementAvatarSize(nt))}},genSkeletonElementInput=_e=>{const{controlHeight:_,borderRadiusSM:et,skeletonInputCls:tt,controlHeightLG:rt,controlHeightSM:nt,gradientFromColor:it,calc:at}=_e;return{[tt]:Object.assign({display:"inline-block",verticalAlign:"top",background:it,borderRadius:et},genSkeletonElementInputSize(_,at)),[`${tt}-lg`]:Object.assign({},genSkeletonElementInputSize(rt,at)),[`${tt}-sm`]:Object.assign({},genSkeletonElementInputSize(nt,at))}},genSkeletonElementImageSize=_e=>Object.assign({width:_e},genSkeletonElementCommonSize(_e)),genSkeletonElementImage=_e=>{const{skeletonImageCls:_,imageSizeBase:et,gradientFromColor:tt,borderRadiusSM:rt,calc:nt}=_e;return{[_]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:tt,borderRadius:rt},genSkeletonElementImageSize(nt(et).mul(2).equal())),{[`${_}-path`]:{fill:"#bfbfbf"},[`${_}-svg`]:Object.assign(Object.assign({},genSkeletonElementImageSize(et)),{maxWidth:nt(et).mul(4).equal(),maxHeight:nt(et).mul(4).equal()}),[`${_}-svg${_}-svg-circle`]:{borderRadius:"50%"}}),[`${_}${_}-circle`]:{borderRadius:"50%"}}},genSkeletonElementButtonShape=(_e,_,et)=>{const{skeletonButtonCls:tt}=_e;return{[`${et}${tt}-circle`]:{width:_,minWidth:_,borderRadius:"50%"},[`${et}${tt}-round`]:{borderRadius:_}}},genSkeletonElementButtonSize=(_e,_)=>Object.assign({width:_(_e).mul(2).equal(),minWidth:_(_e).mul(2).equal()},genSkeletonElementCommonSize(_e)),genSkeletonElementButton=_e=>{const{borderRadiusSM:_,skeletonButtonCls:et,controlHeight:tt,controlHeightLG:rt,controlHeightSM:nt,gradientFromColor:it,calc:at}=_e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[et]:Object.assign({display:"inline-block",verticalAlign:"top",background:it,borderRadius:_,width:at(tt).mul(2).equal(),minWidth:at(tt).mul(2).equal()},genSkeletonElementButtonSize(tt,at))},genSkeletonElementButtonShape(_e,tt,et)),{[`${et}-lg`]:Object.assign({},genSkeletonElementButtonSize(rt,at))}),genSkeletonElementButtonShape(_e,rt,`${et}-lg`)),{[`${et}-sm`]:Object.assign({},genSkeletonElementButtonSize(nt,at))}),genSkeletonElementButtonShape(_e,nt,`${et}-sm`))},genBaseStyle=_e=>{const{componentCls:_,skeletonAvatarCls:et,skeletonTitleCls:tt,skeletonParagraphCls:rt,skeletonButtonCls:nt,skeletonInputCls:it,skeletonImageCls:at,controlHeight:lt,controlHeightLG:ct,controlHeightSM:ut,gradientFromColor:st,padding:ot,marginSM:dt,borderRadius:ft,titleHeight:ht,blockRadius:mt,paragraphLiHeight:gt,controlHeightXS:yt,paragraphMarginTop:vt}=_e;return{[_]:{display:"table",width:"100%",[`${_}-header`]:{display:"table-cell",paddingInlineEnd:ot,verticalAlign:"top",[et]:Object.assign({display:"inline-block",verticalAlign:"top",background:st},genSkeletonElementAvatarSize(lt)),[`${et}-circle`]:{borderRadius:"50%"},[`${et}-lg`]:Object.assign({},genSkeletonElementAvatarSize(ct)),[`${et}-sm`]:Object.assign({},genSkeletonElementAvatarSize(ut))},[`${_}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[tt]:{width:"100%",height:ht,background:st,borderRadius:mt,[`+ ${rt}`]:{marginBlockStart:ut}},[rt]:{padding:0,"> li":{width:"100%",height:gt,listStyle:"none",background:st,borderRadius:mt,"+ li":{marginBlockStart:yt}}},[`${rt}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${_}-content`]:{[`${tt}, ${rt} > li`]:{borderRadius:ft}}},[`${_}-with-avatar ${_}-content`]:{[tt]:{marginBlockStart:dt,[`+ ${rt}`]:{marginBlockStart:vt}}},[`${_}${_}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},genSkeletonElementButton(_e)),genSkeletonElementAvatar(_e)),genSkeletonElementInput(_e)),genSkeletonElementImage(_e)),[`${_}${_}-block`]:{width:"100%",[nt]:{width:"100%"},[it]:{width:"100%"}},[`${_}${_}-active`]:{[`
        ${tt},
        ${rt} > li,
        ${et},
        ${nt},
        ${it},
        ${at}
      `]:Object.assign({},genSkeletonColor(_e))}}},prepareComponentToken$5=_e=>{const{colorFillContent:_,colorFill:et}=_e,tt=_,rt=et;return{color:tt,colorGradientEnd:rt,gradientFromColor:tt,gradientToColor:rt,titleHeight:_e.controlHeight/2,blockRadius:_e.borderRadiusSM,paragraphMarginTop:_e.marginLG+_e.marginXXS,paragraphLiHeight:_e.controlHeight/2}},useStyle$4=genStyleHooks("Skeleton",_e=>{const{componentCls:_,calc:et}=_e,tt=merge(_e,{skeletonAvatarCls:`${_}-avatar`,skeletonTitleCls:`${_}-title`,skeletonParagraphCls:`${_}-paragraph`,skeletonButtonCls:`${_}-button`,skeletonInputCls:`${_}-input`,skeletonImageCls:`${_}-image`,imageSizeBase:et(_e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${_e.gradientFromColor} 25%, ${_e.gradientToColor} 37%, ${_e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[genBaseStyle(tt)]},prepareComponentToken$5,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),SkeletonAvatar=_e=>{const{prefixCls:_,className:et,rootClassName:tt,active:rt,shape:nt="circle",size:it="default"}=_e,{getPrefixCls:at}=reactExports.useContext(ConfigContext),lt=at("skeleton",_),[ct,ut,st]=useStyle$4(lt),ot=omit(_e,["prefixCls","className"]),dt=classNames(lt,`${lt}-element`,{[`${lt}-active`]:rt},et,tt,ut,st);return ct(reactExports.createElement("div",{className:dt},reactExports.createElement(Element$1,Object.assign({prefixCls:`${lt}-avatar`,shape:nt,size:it},ot))))},SkeletonButton=_e=>{const{prefixCls:_,className:et,rootClassName:tt,active:rt,block:nt=!1,size:it="default"}=_e,{getPrefixCls:at}=reactExports.useContext(ConfigContext),lt=at("skeleton",_),[ct,ut,st]=useStyle$4(lt),ot=omit(_e,["prefixCls"]),dt=classNames(lt,`${lt}-element`,{[`${lt}-active`]:rt,[`${lt}-block`]:nt},et,tt,ut,st);return ct(reactExports.createElement("div",{className:dt},reactExports.createElement(Element$1,Object.assign({prefixCls:`${lt}-button`,size:it},ot))))},path="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",SkeletonImage=_e=>{const{prefixCls:_,className:et,rootClassName:tt,style:rt,active:nt}=_e,{getPrefixCls:it}=reactExports.useContext(ConfigContext),at=it("skeleton",_),[lt,ct,ut]=useStyle$4(at),st=classNames(at,`${at}-element`,{[`${at}-active`]:nt},et,tt,ct,ut);return lt(reactExports.createElement("div",{className:st},reactExports.createElement("div",{className:classNames(`${at}-image`,et),style:rt},reactExports.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${at}-image-svg`},reactExports.createElement("title",null,"Image placeholder"),reactExports.createElement("path",{d:path,className:`${at}-image-path`})))))},SkeletonInput=_e=>{const{prefixCls:_,className:et,rootClassName:tt,active:rt,block:nt,size:it="default"}=_e,{getPrefixCls:at}=reactExports.useContext(ConfigContext),lt=at("skeleton",_),[ct,ut,st]=useStyle$4(lt),ot=omit(_e,["prefixCls"]),dt=classNames(lt,`${lt}-element`,{[`${lt}-active`]:rt,[`${lt}-block`]:nt},et,tt,ut,st);return ct(reactExports.createElement("div",{className:dt},reactExports.createElement(Element$1,Object.assign({prefixCls:`${lt}-input`,size:it},ot))))},SkeletonNode=_e=>{const{prefixCls:_,className:et,rootClassName:tt,style:rt,active:nt,children:it}=_e,{getPrefixCls:at}=reactExports.useContext(ConfigContext),lt=at("skeleton",_),[ct,ut,st]=useStyle$4(lt),ot=classNames(lt,`${lt}-element`,{[`${lt}-active`]:nt},ut,et,tt,st);return ct(reactExports.createElement("div",{className:ot},reactExports.createElement("div",{className:classNames(`${lt}-image`,et),style:rt},it)))},getWidth=(_e,_)=>{const{width:et,rows:tt=2}=_;if(Array.isArray(et))return et[_e];if(tt-1===_e)return et},Paragraph=_e=>{const{prefixCls:_,className:et,style:tt,rows:rt=0}=_e,nt=Array.from({length:rt}).map((it,at)=>reactExports.createElement("li",{key:at,style:{width:getWidth(at,_e)}}));return reactExports.createElement("ul",{className:classNames(_,et),style:tt},nt)},Title=_e=>{let{prefixCls:_,className:et,width:tt,style:rt}=_e;return reactExports.createElement("h3",{className:classNames(_,et),style:Object.assign({width:tt},rt)})};function getComponentProps(_e){return _e&&typeof _e=="object"?_e:{}}function getAvatarBasicProps(_e,_){return _e&&!_?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function getTitleBasicProps(_e,_){return!_e&&_?{width:"38%"}:_e&&_?{width:"50%"}:{}}function getParagraphBasicProps(_e,_){const et={};return(!_e||!_)&&(et.width="61%"),!_e&&_?et.rows=3:et.rows=2,et}const Skeleton=_e=>{const{prefixCls:_,loading:et,className:tt,rootClassName:rt,style:nt,children:it,avatar:at=!1,title:lt=!0,paragraph:ct=!0,active:ut,round:st}=_e,{getPrefixCls:ot,direction:dt,className:ft,style:ht}=useComponentConfig("skeleton"),mt=ot("skeleton",_),[gt,yt,vt]=useStyle$4(mt);if(et||!("loading"in _e)){const bt=!!at,xt=!!lt,_t=!!ct;let St;if(bt){const Tt=Object.assign(Object.assign({prefixCls:`${mt}-avatar`},getAvatarBasicProps(xt,_t)),getComponentProps(at));St=reactExports.createElement("div",{className:`${mt}-header`},reactExports.createElement(Element$1,Object.assign({},Tt)))}let wt;if(xt||_t){let Tt;if(xt){const It=Object.assign(Object.assign({prefixCls:`${mt}-title`},getTitleBasicProps(bt,_t)),getComponentProps(lt));Tt=reactExports.createElement(Title,Object.assign({},It))}let Ct;if(_t){const It=Object.assign(Object.assign({prefixCls:`${mt}-paragraph`},getParagraphBasicProps(bt,xt)),getComponentProps(ct));Ct=reactExports.createElement(Paragraph,Object.assign({},It))}wt=reactExports.createElement("div",{className:`${mt}-content`},Tt,Ct)}const Et=classNames(mt,{[`${mt}-with-avatar`]:bt,[`${mt}-active`]:ut,[`${mt}-rtl`]:dt==="rtl",[`${mt}-round`]:st},ft,tt,rt,yt,vt);return gt(reactExports.createElement("div",{className:Et,style:Object.assign(Object.assign({},ht),nt)},St,wt))}return it??null};Skeleton.Button=SkeletonButton;Skeleton.Avatar=SkeletonAvatar;Skeleton.Input=SkeletonInput;Skeleton.Image=SkeletonImage;Skeleton.Node=SkeletonNode;function voidFunc(){}const WatermarkContext=reactExports.createContext({add:voidFunc,remove:voidFunc});function usePanelRef(_e){const _=reactExports.useContext(WatermarkContext),et=reactExports.useRef(null);return useEvent(rt=>{if(rt){const nt=rt;_.add(nt),et.current=nt}else _.remove(et.current)})}const genGridRowStyle=_e=>{const{componentCls:_}=_e;return{[_]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},genGridColStyle=_e=>{const{componentCls:_}=_e;return{[_]:{position:"relative",maxWidth:"100%",minHeight:1}}},genLoopGridColumnsStyle=(_e,_)=>{const{prefixCls:et,componentCls:tt,gridColumns:rt}=_e,nt={};for(let it=rt;it>=0;it--)it===0?(nt[`${tt}${_}-${it}`]={display:"none"},nt[`${tt}-push-${it}`]={insetInlineStart:"auto"},nt[`${tt}-pull-${it}`]={insetInlineEnd:"auto"},nt[`${tt}${_}-push-${it}`]={insetInlineStart:"auto"},nt[`${tt}${_}-pull-${it}`]={insetInlineEnd:"auto"},nt[`${tt}${_}-offset-${it}`]={marginInlineStart:0},nt[`${tt}${_}-order-${it}`]={order:0}):(nt[`${tt}${_}-${it}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${it/rt*100}%`,maxWidth:`${it/rt*100}%`}],nt[`${tt}${_}-push-${it}`]={insetInlineStart:`${it/rt*100}%`},nt[`${tt}${_}-pull-${it}`]={insetInlineEnd:`${it/rt*100}%`},nt[`${tt}${_}-offset-${it}`]={marginInlineStart:`${it/rt*100}%`},nt[`${tt}${_}-order-${it}`]={order:it});return nt[`${tt}${_}-flex`]={flex:`var(--${et}${_}-flex)`},nt},genGridStyle=(_e,_)=>genLoopGridColumnsStyle(_e,_),genGridMediaStyle=(_e,_,et)=>({[`@media (min-width: ${unit$1(_)})`]:Object.assign({},genGridStyle(_e,et))}),prepareRowComponentToken=()=>({}),prepareColComponentToken=()=>({}),useRowStyle=genStyleHooks("Grid",genGridRowStyle,prepareRowComponentToken),getMediaSize=_e=>({xs:_e.screenXSMin,sm:_e.screenSMMin,md:_e.screenMDMin,lg:_e.screenLGMin,xl:_e.screenXLMin,xxl:_e.screenXXLMin}),useColStyle=genStyleHooks("Grid",_e=>{const _=merge(_e,{gridColumns:24}),et=getMediaSize(_);return delete et.xs,[genGridColStyle(_),genGridStyle(_,""),genGridStyle(_,"-xs"),Object.keys(et).map(tt=>genGridMediaStyle(_,et[tt],`-${tt}`)).reduce((tt,rt)=>Object.assign(Object.assign({},tt),rt),{})]},prepareColComponentToken);function box(_e){return{position:_e,inset:0}}const genModalMaskStyle=_e=>{const{componentCls:_,antCls:et}=_e;return[{[`${_}-root`]:{[`${_}${et}-zoom-enter, ${_}${et}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:_e.motionDurationSlow,userSelect:"none"},[`${_}${et}-zoom-leave ${_}-content`]:{pointerEvents:"none"},[`${_}-mask`]:Object.assign(Object.assign({},box("fixed")),{zIndex:_e.zIndexPopupBase,height:"100%",backgroundColor:_e.colorBgMask,pointerEvents:"none",[`${_}-hidden`]:{display:"none"}}),[`${_}-wrap`]:Object.assign(Object.assign({},box("fixed")),{zIndex:_e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${_}-root`]:initFadeMotion(_e)}]},genModalStyle=_e=>{const{componentCls:_}=_e;return[{[`${_}-root`]:{[`${_}-wrap-rtl`]:{direction:"rtl"},[`${_}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[_]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${_e.screenSMMax}px)`]:{[_]:{maxWidth:"calc(100vw - 16px)",margin:`${unit$1(_e.marginXS)} auto`},[`${_}-centered`]:{[_]:{flex:1}}}}},{[_]:Object.assign(Object.assign({},resetComponent(_e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${unit$1(_e.calc(_e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:_e.paddingLG,[`${_}-title`]:{margin:0,color:_e.titleColor,fontWeight:_e.fontWeightStrong,fontSize:_e.titleFontSize,lineHeight:_e.titleLineHeight,wordWrap:"break-word"},[`${_}-content`]:{position:"relative",backgroundColor:_e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:_e.borderRadiusLG,boxShadow:_e.boxShadow,pointerEvents:"auto",padding:_e.contentPadding},[`${_}-close`]:Object.assign({position:"absolute",top:_e.calc(_e.modalHeaderHeight).sub(_e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:_e.calc(_e.modalHeaderHeight).sub(_e.modalCloseBtnSize).div(2).equal(),zIndex:_e.calc(_e.zIndexPopupBase).add(10).equal(),padding:0,color:_e.modalCloseIconColor,fontWeight:_e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:_e.borderRadiusSM,width:_e.modalCloseBtnSize,height:_e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${_e.motionDurationMid}, background-color ${_e.motionDurationMid}`,"&-x":{display:"flex",fontSize:_e.fontSizeLG,fontStyle:"normal",lineHeight:unit$1(_e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:_e.modalCloseIconHoverColor,backgroundColor:_e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:_e.colorBgTextActive}},genFocusStyle(_e)),[`${_}-header`]:{color:_e.colorText,background:_e.headerBg,borderRadius:`${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)} 0 0`,marginBottom:_e.headerMarginBottom,padding:_e.headerPadding,borderBottom:_e.headerBorderBottom},[`${_}-body`]:{fontSize:_e.fontSize,lineHeight:_e.lineHeight,wordWrap:"break-word",padding:_e.bodyPadding,[`${_}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${unit$1(_e.margin)} auto`}},[`${_}-footer`]:{textAlign:"end",background:_e.footerBg,marginTop:_e.footerMarginTop,padding:_e.footerPadding,borderTop:_e.footerBorderTop,borderRadius:_e.footerBorderRadius,[`> ${_e.antCls}-btn + ${_e.antCls}-btn`]:{marginInlineStart:_e.marginXS}},[`${_}-open`]:{overflow:"hidden"}})},{[`${_}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${_}-content,
          ${_}-body,
          ${_}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${_}-confirm-body`]:{marginBottom:"auto"}}}]},genRTLStyle=_e=>{const{componentCls:_}=_e;return{[`${_}-root`]:{[`${_}-wrap-rtl`]:{direction:"rtl",[`${_}-confirm-body`]:{direction:"rtl"}}}}},genResponsiveWidthStyle=_e=>{const{componentCls:_}=_e,et=getMediaSize(_e);delete et.xs;const tt=Object.keys(et).map(rt=>({[`@media (min-width: ${unit$1(et[rt])})`]:{width:`var(--${_.replace(".","")}-${rt}-width)`}}));return{[`${_}-root`]:{[_]:[{width:`var(--${_.replace(".","")}-xs-width)`}].concat(_toConsumableArray(tt))}}},prepareToken=_e=>{const _=_e.padding,et=_e.fontSizeHeading5,tt=_e.lineHeightHeading5;return merge(_e,{modalHeaderHeight:_e.calc(_e.calc(tt).mul(et).equal()).add(_e.calc(_).mul(2).equal()).equal(),modalFooterBorderColorSplit:_e.colorSplit,modalFooterBorderStyle:_e.lineType,modalFooterBorderWidth:_e.lineWidth,modalCloseIconColor:_e.colorIcon,modalCloseIconHoverColor:_e.colorIconHover,modalCloseBtnSize:_e.controlHeight,modalConfirmIconSize:_e.fontHeight,modalTitleHeight:_e.calc(_e.titleFontSize).mul(_e.titleLineHeight).equal()})},prepareComponentToken$4=_e=>({footerBg:"transparent",headerBg:_e.colorBgElevated,titleLineHeight:_e.lineHeightHeading5,titleFontSize:_e.fontSizeHeading5,contentBg:_e.colorBgElevated,titleColor:_e.colorTextHeading,contentPadding:_e.wireframe?0:`${unit$1(_e.paddingMD)} ${unit$1(_e.paddingContentHorizontalLG)}`,headerPadding:_e.wireframe?`${unit$1(_e.padding)} ${unit$1(_e.paddingLG)}`:0,headerBorderBottom:_e.wireframe?`${unit$1(_e.lineWidth)} ${_e.lineType} ${_e.colorSplit}`:"none",headerMarginBottom:_e.wireframe?0:_e.marginXS,bodyPadding:_e.wireframe?_e.paddingLG:0,footerPadding:_e.wireframe?`${unit$1(_e.paddingXS)} ${unit$1(_e.padding)}`:0,footerBorderTop:_e.wireframe?`${unit$1(_e.lineWidth)} ${_e.lineType} ${_e.colorSplit}`:"none",footerBorderRadius:_e.wireframe?`0 0 ${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)}`:0,footerMarginTop:_e.wireframe?0:_e.marginSM,confirmBodyPadding:_e.wireframe?`${unit$1(_e.padding*2)} ${unit$1(_e.padding*2)} ${unit$1(_e.paddingLG)}`:0,confirmIconMarginInlineEnd:_e.wireframe?_e.margin:_e.marginSM,confirmBtnsMarginTop:_e.wireframe?_e.marginLG:_e.marginSM});genStyleHooks("Modal",_e=>{const _=prepareToken(_e);return[genModalStyle(_),genRTLStyle(_),genModalMaskStyle(_),initZoomMotion(_,"zoom"),genResponsiveWidthStyle(_)]},prepareComponentToken$4,{unitless:{titleLineHeight:!0}});const AppConfigContext=React.createContext({}),isMobile=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var _e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(_e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(_e==null?void 0:_e.substr(0,4))};var _excluded$j=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],UNDEFINED=void 0;function InternalItem(_e,_){var et=_e.prefixCls,tt=_e.invalidate,rt=_e.item,nt=_e.renderItem,it=_e.responsive,at=_e.responsiveDisabled,lt=_e.registerSize,ct=_e.itemKey,ut=_e.className,st=_e.style,ot=_e.children,dt=_e.display,ft=_e.order,ht=_e.component,mt=ht===void 0?"div":ht,gt=_objectWithoutProperties(_e,_excluded$j),yt=it&&!dt;function vt(wt){lt(ct,wt)}reactExports.useEffect(function(){return function(){vt(null)}},[]);var bt=nt&&rt!==UNDEFINED?nt(rt,{index:ft}):ot,xt;tt||(xt={opacity:yt?0:1,height:yt?0:UNDEFINED,overflowY:yt?"hidden":UNDEFINED,order:it?ft:UNDEFINED,pointerEvents:yt?"none":UNDEFINED,position:yt?"absolute":UNDEFINED});var _t={};yt&&(_t["aria-hidden"]=!0);var St=reactExports.createElement(mt,_extends$x({className:classNames(!tt&&et,ut),style:_objectSpread2(_objectSpread2({},xt),st)},_t,gt,{ref:_}),bt);return it&&(St=reactExports.createElement(RefResizeObserver,{onResize:function(Et){var Tt=Et.offsetWidth;vt(Tt)},disabled:at},St)),St}var Item=reactExports.forwardRef(InternalItem);Item.displayName="Item";function channelUpdate(_e){if(typeof MessageChannel>"u")wrapperRaf(_e);else{var _=new MessageChannel;_.port1.onmessage=function(){return _e()},_.port2.postMessage(void 0)}}function useBatcher(){var _e=reactExports.useRef(null),_=function(tt){_e.current||(_e.current=[],channelUpdate(function(){reactDomExports.unstable_batchedUpdates(function(){_e.current.forEach(function(rt){rt()}),_e.current=null})})),_e.current.push(tt)};return _}function useEffectState(_e,_){var et=reactExports.useState(_),tt=_slicedToArray(et,2),rt=tt[0],nt=tt[1],it=useEvent(function(at){_e(function(){nt(at)})});return[rt,it]}var OverflowContext=React.createContext(null),_excluded$i=["component"],_excluded2$6=["className"],_excluded3$1=["className"],InternalRawItem=function _e(_,et){var tt=reactExports.useContext(OverflowContext);if(!tt){var rt=_.component,nt=rt===void 0?"div":rt,it=_objectWithoutProperties(_,_excluded$i);return reactExports.createElement(nt,_extends$x({},it,{ref:et}))}var at=tt.className,lt=_objectWithoutProperties(tt,_excluded2$6),ct=_.className,ut=_objectWithoutProperties(_,_excluded3$1);return reactExports.createElement(OverflowContext.Provider,{value:null},reactExports.createElement(Item,_extends$x({ref:et,className:classNames(at,ct)},lt,ut)))},RawItem=reactExports.forwardRef(InternalRawItem);RawItem.displayName="RawItem";var _excluded$h=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],RESPONSIVE="responsive",INVALIDATE="invalidate";function defaultRenderRest(_e){return"+ ".concat(_e.length," ...")}function Overflow(_e,_){var et=_e.prefixCls,tt=et===void 0?"rc-overflow":et,rt=_e.data,nt=rt===void 0?[]:rt,it=_e.renderItem,at=_e.renderRawItem,lt=_e.itemKey,ct=_e.itemWidth,ut=ct===void 0?10:ct,st=_e.ssr,ot=_e.style,dt=_e.className,ft=_e.maxCount,ht=_e.renderRest,mt=_e.renderRawRest,gt=_e.suffix,yt=_e.component,vt=yt===void 0?"div":yt,bt=_e.itemComponent,xt=_e.onVisibleChange,_t=_objectWithoutProperties(_e,_excluded$h),St=st==="full",wt=useBatcher(),Et=useEffectState(wt,null),Tt=_slicedToArray(Et,2),Ct=Tt[0],It=Tt[1],Pt=Ct||0,At=useEffectState(wt,new Map),kt=_slicedToArray(At,2),Rt=kt[0],$t=kt[1],Mt=useEffectState(wt,0),Nt=_slicedToArray(Mt,2),Dt=Nt[0],jt=Nt[1],Ut=useEffectState(wt,0),Xt=_slicedToArray(Ut,2),Wt=Xt[0],Vt=Xt[1],qt=useEffectState(wt,0),tr=_slicedToArray(qt,2),Kt=tr[0],Yt=tr[1],rr=reactExports.useState(null),ir=_slicedToArray(rr,2),lr=ir[0],ar=ir[1],ur=reactExports.useState(null),fr=_slicedToArray(ur,2),yr=fr[0],Tr=fr[1],Sr=reactExports.useMemo(function(){return yr===null&&St?Number.MAX_SAFE_INTEGER:yr||0},[yr,Ct]),kr=reactExports.useState(!1),xr=_slicedToArray(kr,2),dr=xr[0],gr=xr[1],mr="".concat(tt,"-item"),Fr=Math.max(Dt,Wt),_r=ft===RESPONSIVE,Nr=nt.length&&_r,mn=ft===INVALIDATE,qr=Nr||typeof ft=="number"&&nt.length>ft,Gr=reactExports.useMemo(function(){var Mr=nt;return Nr?Ct===null&&St?Mr=nt:Mr=nt.slice(0,Math.min(nt.length,Pt/ut)):typeof ft=="number"&&(Mr=nt.slice(0,ft)),Mr},[nt,ut,Ct,ft,Nr]),gn=reactExports.useMemo(function(){return Nr?nt.slice(Sr+1):nt.slice(Gr.length)},[nt,Gr,Nr,Sr]),ln=reactExports.useCallback(function(Mr,Cr){var Rr;return typeof lt=="function"?lt(Mr):(Rr=lt&&(Mr==null?void 0:Mr[lt]))!==null&&Rr!==void 0?Rr:Cr},[lt]),Hr=reactExports.useCallback(it||function(Mr){return Mr},[it]);function en(Mr,Cr,Rr){yr===Mr&&(Cr===void 0||Cr===lr)||(Tr(Mr),Rr||(gr(Mr<nt.length-1),xt==null||xt(Mr)),Cr!==void 0&&ar(Cr))}function vr(Mr,Cr){It(Cr.clientWidth)}function un(Mr,Cr){$t(function(Rr){var Zr=new Map(Rr);return Cr===null?Zr.delete(Mr):Zr.set(Mr,Cr),Zr})}function an(Mr,Cr){Vt(Cr),jt(Wt)}function yn(Mr,Cr){Yt(Cr)}function hn(Mr){return Rt.get(ln(Gr[Mr],Mr))}useLayoutEffect(function(){if(Pt&&typeof Fr=="number"&&Gr){var Mr=Kt,Cr=Gr.length,Rr=Cr-1;if(!Cr){en(0,null);return}for(var Zr=0;Zr<Cr;Zr+=1){var dn=hn(Zr);if(St&&(dn=dn||0),dn===void 0){en(Zr-1,void 0,!0);break}if(Mr+=dn,Rr===0&&Mr<=Pt||Zr===Rr-1&&Mr+hn(Rr)<=Pt){en(Rr,null);break}else if(Mr+Fr>Pt){en(Zr-1,Mr-dn-Kt+Wt);break}}gt&&hn(0)+Kt>Pt&&ar(null)}},[Pt,Rt,Wt,Kt,ln,Gr]);var Lr=dr&&!!gn.length,bn={};lr!==null&&Nr&&(bn={position:"absolute",left:lr,top:0});var Sn={prefixCls:mr,responsive:Nr,component:bt,invalidate:mn},On=at?function(Mr,Cr){var Rr=ln(Mr,Cr);return reactExports.createElement(OverflowContext.Provider,{key:Rr,value:_objectSpread2(_objectSpread2({},Sn),{},{order:Cr,item:Mr,itemKey:Rr,registerSize:un,display:Cr<=Sr})},at(Mr,Cr))}:function(Mr,Cr){var Rr=ln(Mr,Cr);return reactExports.createElement(Item,_extends$x({},Sn,{order:Cr,key:Rr,item:Mr,renderItem:Hr,itemKey:Rr,registerSize:un,display:Cr<=Sr}))},$r={order:Lr?Sr:Number.MAX_SAFE_INTEGER,className:"".concat(mr,"-rest"),registerSize:an,display:Lr},wr=ht||defaultRenderRest,Ar=mt?reactExports.createElement(OverflowContext.Provider,{value:_objectSpread2(_objectSpread2({},Sn),$r)},mt(gn)):reactExports.createElement(Item,_extends$x({},Sn,$r),typeof wr=="function"?wr(gn):wr),tn=reactExports.createElement(vt,_extends$x({className:classNames(!mn&&tt,dt),style:ot,ref:_},_t),Gr.map(On),qr?Ar:null,gt&&reactExports.createElement(Item,_extends$x({},Sn,{responsive:_r,responsiveDisabled:!Nr,order:Sr,className:"".concat(mr,"-suffix"),registerSize:yn,display:!0,style:bn}),gt));return _r?reactExports.createElement(RefResizeObserver,{onResize:vr,disabled:!Nr},tn):tn}var ForwardOverflow=reactExports.forwardRef(Overflow);ForwardOverflow.displayName="Overflow";ForwardOverflow.Item=RawItem;ForwardOverflow.RESPONSIVE=RESPONSIVE;ForwardOverflow.INVALIDATE=INVALIDATE;function Arrow(_e){var _=_e.prefixCls,et=_e.align,tt=_e.arrow,rt=_e.arrowPos,nt=tt||{},it=nt.className,at=nt.content,lt=rt.x,ct=lt===void 0?0:lt,ut=rt.y,st=ut===void 0?0:ut,ot=reactExports.useRef();if(!et||!et.points)return null;var dt={position:"absolute"};if(et.autoArrow!==!1){var ft=et.points[0],ht=et.points[1],mt=ft[0],gt=ft[1],yt=ht[0],vt=ht[1];mt===yt||!["t","b"].includes(mt)?dt.top=st:mt==="t"?dt.top=0:dt.bottom=0,gt===vt||!["l","r"].includes(gt)?dt.left=ct:gt==="l"?dt.left=0:dt.right=0}return reactExports.createElement("div",{ref:ot,className:classNames("".concat(_,"-arrow"),it),style:dt},at)}function Mask(_e){var _=_e.prefixCls,et=_e.open,tt=_e.zIndex,rt=_e.mask,nt=_e.motion;return rt?reactExports.createElement(CSSMotion,_extends$x({},nt,{motionAppear:!0,visible:et,removeOnLeave:!0}),function(it){var at=it.className;return reactExports.createElement("div",{style:{zIndex:tt},className:classNames("".concat(_,"-mask"),at)})}):null}var PopupContent=reactExports.memo(function(_e){var _=_e.children;return _},function(_e,_){return _.cache}),Popup=reactExports.forwardRef(function(_e,_){var et=_e.popup,tt=_e.className,rt=_e.prefixCls,nt=_e.style,it=_e.target,at=_e.onVisibleChanged,lt=_e.open,ct=_e.keepDom,ut=_e.fresh,st=_e.onClick,ot=_e.mask,dt=_e.arrow,ft=_e.arrowPos,ht=_e.align,mt=_e.motion,gt=_e.maskMotion,yt=_e.forceRender,vt=_e.getPopupContainer,bt=_e.autoDestroy,xt=_e.portal,_t=_e.zIndex,St=_e.onMouseEnter,wt=_e.onMouseLeave,Et=_e.onPointerEnter,Tt=_e.onPointerDownCapture,Ct=_e.ready,It=_e.offsetX,Pt=_e.offsetY,At=_e.offsetR,kt=_e.offsetB,Rt=_e.onAlign,$t=_e.onPrepare,Mt=_e.stretch,Nt=_e.targetWidth,Dt=_e.targetHeight,jt=typeof et=="function"?et():et,Ut=lt||ct,Xt=(vt==null?void 0:vt.length)>0,Wt=reactExports.useState(!vt||!Xt),Vt=_slicedToArray(Wt,2),qt=Vt[0],tr=Vt[1];if(useLayoutEffect(function(){!qt&&Xt&&it&&tr(!0)},[qt,Xt,it]),!qt)return null;var Kt="auto",Yt={left:"-1000vw",top:"-1000vh",right:Kt,bottom:Kt};if(Ct||!lt){var rr,ir=ht.points,lr=ht.dynamicInset||((rr=ht._experimental)===null||rr===void 0?void 0:rr.dynamicInset),ar=lr&&ir[0][1]==="r",ur=lr&&ir[0][0]==="b";ar?(Yt.right=At,Yt.left=Kt):(Yt.left=It,Yt.right=Kt),ur?(Yt.bottom=kt,Yt.top=Kt):(Yt.top=Pt,Yt.bottom=Kt)}var fr={};return Mt&&(Mt.includes("height")&&Dt?fr.height=Dt:Mt.includes("minHeight")&&Dt&&(fr.minHeight=Dt),Mt.includes("width")&&Nt?fr.width=Nt:Mt.includes("minWidth")&&Nt&&(fr.minWidth=Nt)),lt||(fr.pointerEvents="none"),reactExports.createElement(xt,{open:yt||Ut,getContainer:vt&&function(){return vt(it)},autoDestroy:bt},reactExports.createElement(Mask,{prefixCls:rt,open:lt,zIndex:_t,mask:ot,motion:gt}),reactExports.createElement(RefResizeObserver,{onResize:Rt,disabled:!lt},function(yr){return reactExports.createElement(CSSMotion,_extends$x({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:yt,leavedClassName:"".concat(rt,"-hidden")},mt,{onAppearPrepare:$t,onEnterPrepare:$t,visible:lt,onVisibleChanged:function(Sr){var kr;mt==null||(kr=mt.onVisibleChanged)===null||kr===void 0||kr.call(mt,Sr),at(Sr)}}),function(Tr,Sr){var kr=Tr.className,xr=Tr.style,dr=classNames(rt,kr,tt);return reactExports.createElement("div",{ref:composeRef(yr,_,Sr),className:dr,style:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({"--arrow-x":"".concat(ft.x||0,"px"),"--arrow-y":"".concat(ft.y||0,"px")},Yt),fr),xr),{},{boxSizing:"border-box",zIndex:_t},nt),onMouseEnter:St,onMouseLeave:wt,onPointerEnter:Et,onClick:st,onPointerDownCapture:Tt},dt&&reactExports.createElement(Arrow,{prefixCls:rt,arrow:dt,arrowPos:ft,align:ht}),reactExports.createElement(PopupContent,{cache:!lt&&!ut},jt))})}))}),TriggerWrapper=reactExports.forwardRef(function(_e,_){var et=_e.children,tt=_e.getTriggerDOMNode,rt=supportRef(et),nt=reactExports.useCallback(function(at){fillRef(_,tt?tt(at):at)},[tt]),it=useComposeRef(nt,getNodeRef(et));return rt?reactExports.cloneElement(et,{ref:it}):et}),TriggerContext=reactExports.createContext(null);function toArray(_e){return _e?Array.isArray(_e)?_e:[_e]:[]}function useAction(_e,_,et,tt){return reactExports.useMemo(function(){var rt=toArray(et??_),nt=toArray(tt??_),it=new Set(rt),at=new Set(nt);return _e&&(it.has("hover")&&(it.delete("hover"),it.add("click")),at.has("hover")&&(at.delete("hover"),at.add("click"))),[it,at]},[_e,_,et,tt])}function isPointsEq(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],et=arguments.length>2?arguments[2]:void 0;return et?_e[0]===_[0]:_e[0]===_[0]&&_e[1]===_[1]}function getAlignPopupClassName(_e,_,et,tt){for(var rt=et.points,nt=Object.keys(_e),it=0;it<nt.length;it+=1){var at,lt=nt[it];if(isPointsEq((at=_e[lt])===null||at===void 0?void 0:at.points,rt,tt))return"".concat(_,"-placement-").concat(lt)}return""}function getMotion$1(_e,_,et,tt){return _||(et?{motionName:"".concat(_e,"-").concat(et)}:tt?{motionName:tt}:null)}function getWin(_e){return _e.ownerDocument.defaultView}function collectScroller(_e){for(var _=[],et=_e==null?void 0:_e.parentElement,tt=["hidden","scroll","clip","auto"];et;){var rt=getWin(et).getComputedStyle(et),nt=rt.overflowX,it=rt.overflowY,at=rt.overflow;[nt,it,at].some(function(lt){return tt.includes(lt)})&&_.push(et),et=et.parentElement}return _}function toNum(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(_e)?_:_e}function getPxValue(_e){return toNum(parseFloat(_e),0)}function getVisibleArea(_e,_){var et=_objectSpread2({},_e);return(_||[]).forEach(function(tt){if(!(tt instanceof HTMLBodyElement||tt instanceof HTMLHtmlElement)){var rt=getWin(tt).getComputedStyle(tt),nt=rt.overflow,it=rt.overflowClipMargin,at=rt.borderTopWidth,lt=rt.borderBottomWidth,ct=rt.borderLeftWidth,ut=rt.borderRightWidth,st=tt.getBoundingClientRect(),ot=tt.offsetHeight,dt=tt.clientHeight,ft=tt.offsetWidth,ht=tt.clientWidth,mt=getPxValue(at),gt=getPxValue(lt),yt=getPxValue(ct),vt=getPxValue(ut),bt=toNum(Math.round(st.width/ft*1e3)/1e3),xt=toNum(Math.round(st.height/ot*1e3)/1e3),_t=(ft-ht-yt-vt)*bt,St=(ot-dt-mt-gt)*xt,wt=mt*xt,Et=gt*xt,Tt=yt*bt,Ct=vt*bt,It=0,Pt=0;if(nt==="clip"){var At=getPxValue(it);It=At*bt,Pt=At*xt}var kt=st.x+Tt-It,Rt=st.y+wt-Pt,$t=kt+st.width+2*It-Tt-Ct-_t,Mt=Rt+st.height+2*Pt-wt-Et-St;et.left=Math.max(et.left,kt),et.top=Math.max(et.top,Rt),et.right=Math.min(et.right,$t),et.bottom=Math.min(et.bottom,Mt)}}),et}function getUnitOffset(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et="".concat(_),tt=et.match(/^(.*)\%$/);return tt?_e*(parseFloat(tt[1])/100):parseFloat(et)}function getNumberOffset(_e,_){var et=_||[],tt=_slicedToArray(et,2),rt=tt[0],nt=tt[1];return[getUnitOffset(_e.width,rt),getUnitOffset(_e.height,nt)]}function splitPoints(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[_e[0],_e[1]]}function getAlignPoint(_e,_){var et=_[0],tt=_[1],rt,nt;return et==="t"?nt=_e.y:et==="b"?nt=_e.y+_e.height:nt=_e.y+_e.height/2,tt==="l"?rt=_e.x:tt==="r"?rt=_e.x+_e.width:rt=_e.x+_e.width/2,{x:rt,y:nt}}function reversePoints(_e,_){var et={t:"b",b:"t",l:"r",r:"l"};return _e.map(function(tt,rt){return rt===_?et[tt]||"c":tt}).join("")}function useAlign(_e,_,et,tt,rt,nt,it){var at=reactExports.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:rt[tt]||{}}),lt=_slicedToArray(at,2),ct=lt[0],ut=lt[1],st=reactExports.useRef(0),ot=reactExports.useMemo(function(){return _?collectScroller(_):[]},[_]),dt=reactExports.useRef({}),ft=function(){dt.current={}};_e||ft();var ht=useEvent(function(){if(_&&et&&_e){let Un=function(so,Jn){var _i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Fr,uo=Wt.x+so,ho=Wt.y+Jn,go=uo+ar,yo=ho+lr,vo=Math.max(uo,_i.left),Ir=Math.max(ho,_i.top),zr=Math.min(go,_i.right),wn=Math.min(yo,_i.bottom);return Math.max(0,(zr-vo)*(wn-Ir))},ao=function(){Ht=Wt.y+Rr,Zt=Ht+lr,Jt=Wt.x+Cr,nr=Jt+ar};var yt,vt,bt,xt,_t=_,St=_t.ownerDocument,wt=getWin(_t),Et=wt.getComputedStyle(_t),Tt=Et.width,Ct=Et.height,It=Et.position,Pt=_t.style.left,At=_t.style.top,kt=_t.style.right,Rt=_t.style.bottom,$t=_t.style.overflow,Mt=_objectSpread2(_objectSpread2({},rt[tt]),nt),Nt=St.createElement("div");(yt=_t.parentElement)===null||yt===void 0||yt.appendChild(Nt),Nt.style.left="".concat(_t.offsetLeft,"px"),Nt.style.top="".concat(_t.offsetTop,"px"),Nt.style.position=It,Nt.style.height="".concat(_t.offsetHeight,"px"),Nt.style.width="".concat(_t.offsetWidth,"px"),_t.style.left="0",_t.style.top="0",_t.style.right="auto",_t.style.bottom="auto",_t.style.overflow="hidden";var Dt;if(Array.isArray(et))Dt={x:et[0],y:et[1],width:0,height:0};else{var jt,Ut,Xt=et.getBoundingClientRect();Xt.x=(jt=Xt.x)!==null&&jt!==void 0?jt:Xt.left,Xt.y=(Ut=Xt.y)!==null&&Ut!==void 0?Ut:Xt.top,Dt={x:Xt.x,y:Xt.y,width:Xt.width,height:Xt.height}}var Wt=_t.getBoundingClientRect();Wt.x=(vt=Wt.x)!==null&&vt!==void 0?vt:Wt.left,Wt.y=(bt=Wt.y)!==null&&bt!==void 0?bt:Wt.top;var Vt=St.documentElement,qt=Vt.clientWidth,tr=Vt.clientHeight,Kt=Vt.scrollWidth,Yt=Vt.scrollHeight,rr=Vt.scrollTop,ir=Vt.scrollLeft,lr=Wt.height,ar=Wt.width,ur=Dt.height,fr=Dt.width,yr={left:0,top:0,right:qt,bottom:tr},Tr={left:-ir,top:-rr,right:Kt-ir,bottom:Yt-rr},Sr=Mt.htmlRegion,kr="visible",xr="visibleFirst";Sr!=="scroll"&&Sr!==xr&&(Sr=kr);var dr=Sr===xr,gr=getVisibleArea(Tr,ot),mr=getVisibleArea(yr,ot),Fr=Sr===kr?mr:gr,_r=dr?mr:Fr;_t.style.left="auto",_t.style.top="auto",_t.style.right="0",_t.style.bottom="0";var Nr=_t.getBoundingClientRect();_t.style.left=Pt,_t.style.top=At,_t.style.right=kt,_t.style.bottom=Rt,_t.style.overflow=$t,(xt=_t.parentElement)===null||xt===void 0||xt.removeChild(Nt);var mn=toNum(Math.round(ar/parseFloat(Tt)*1e3)/1e3),qr=toNum(Math.round(lr/parseFloat(Ct)*1e3)/1e3);if(mn===0||qr===0||isDOM(et)&&!isVisible(et))return;var Gr=Mt.offset,gn=Mt.targetOffset,ln=getNumberOffset(Wt,Gr),Hr=_slicedToArray(ln,2),en=Hr[0],vr=Hr[1],un=getNumberOffset(Dt,gn),an=_slicedToArray(un,2),yn=an[0],hn=an[1];Dt.x-=yn,Dt.y-=hn;var Lr=Mt.points||[],bn=_slicedToArray(Lr,2),Sn=bn[0],On=bn[1],$r=splitPoints(On),wr=splitPoints(Sn),Ar=getAlignPoint(Dt,$r),tn=getAlignPoint(Wt,wr),Mr=_objectSpread2({},Mt),Cr=Ar.x-tn.x+en,Rr=Ar.y-tn.y+vr,Zr=Un(Cr,Rr),dn=Un(Cr,Rr,mr),Cn=getAlignPoint(Dt,["t","l"]),Qr=getAlignPoint(Wt,["t","l"]),Mn=getAlignPoint(Dt,["b","r"]),Fn=getAlignPoint(Wt,["b","r"]),Jr=Mt.overflow||{},rn=Jr.adjustX,Tn=Jr.adjustY,En=Jr.shiftX,Ft=Jr.shiftY,zt=function(Jn){return typeof Jn=="boolean"?Jn:Jn>=0},Ht,Zt,Jt,nr;ao();var hr=zt(Tn),Pr=wr[0]===$r[0];if(hr&&wr[0]==="t"&&(Zt>_r.bottom||dt.current.bt)){var pr=Rr;Pr?pr-=lr-ur:pr=Cn.y-Fn.y-vr;var Vr=Un(Cr,pr),Or=Un(Cr,pr,mr);Vr>Zr||Vr===Zr&&(!dr||Or>=dn)?(dt.current.bt=!0,Rr=pr,vr=-vr,Mr.points=[reversePoints(wr,0),reversePoints($r,0)]):dt.current.bt=!1}if(hr&&wr[0]==="b"&&(Ht<_r.top||dt.current.tb)){var Er=Rr;Pr?Er+=lr-ur:Er=Mn.y-Qr.y-vr;var Br=Un(Cr,Er),er=Un(Cr,Er,mr);Br>Zr||Br===Zr&&(!dr||er>=dn)?(dt.current.tb=!0,Rr=Er,vr=-vr,Mr.points=[reversePoints(wr,0),reversePoints($r,0)]):dt.current.tb=!1}var Ur=zt(rn),Xr=wr[1]===$r[1];if(Ur&&wr[1]==="l"&&(nr>_r.right||dt.current.rl)){var _n=Cr;Xr?_n-=ar-fr:_n=Cn.x-Fn.x-en;var xn=Un(_n,Rr),Ln=Un(_n,Rr,mr);xn>Zr||xn===Zr&&(!dr||Ln>=dn)?(dt.current.rl=!0,Cr=_n,en=-en,Mr.points=[reversePoints(wr,1),reversePoints($r,1)]):dt.current.rl=!1}if(Ur&&wr[1]==="r"&&(Jt<_r.left||dt.current.lr)){var Rn=Cr;Xr?Rn+=ar-fr:Rn=Mn.x-Qr.x-en;var Yn=Un(Rn,Rr),Pn=Un(Rn,Rr,mr);Yn>Zr||Yn===Zr&&(!dr||Pn>=dn)?(dt.current.lr=!0,Cr=Rn,en=-en,Mr.points=[reversePoints(wr,1),reversePoints($r,1)]):dt.current.lr=!1}ao();var kn=En===!0?0:En;typeof kn=="number"&&(Jt<mr.left&&(Cr-=Jt-mr.left-en,Dt.x+fr<mr.left+kn&&(Cr+=Dt.x-mr.left+fr-kn)),nr>mr.right&&(Cr-=nr-mr.right-en,Dt.x>mr.right-kn&&(Cr+=Dt.x-mr.right+kn)));var jn=Ft===!0?0:Ft;typeof jn=="number"&&(Ht<mr.top&&(Rr-=Ht-mr.top-vr,Dt.y+ur<mr.top+jn&&(Rr+=Dt.y-mr.top+ur-jn)),Zt>mr.bottom&&(Rr-=Zt-mr.bottom-vr,Dt.y>mr.bottom-jn&&(Rr+=Dt.y-mr.bottom+jn)));var Kn=Wt.x+Cr,qn=Kn+ar,zn=Wt.y+Rr,fo=zn+lr,pn=Dt.x,sn=pn+fr,fn=Dt.y,Dn=fn+ur,Nn=Math.max(Kn,pn),Zn=Math.min(qn,sn),Wn=(Nn+Zn)/2,co=Wn-Kn,oo=Math.max(zn,fn),Qn=Math.min(fo,Dn),Hn=(oo+Qn)/2,Yr=Hn-zn;it==null||it(_,Mr);var ro=Nr.right-Wt.x-(Cr+Wt.width),Wr=Nr.bottom-Wt.y-(Rr+Wt.height);mn===1&&(Cr=Math.round(Cr),ro=Math.round(ro)),qr===1&&(Rr=Math.round(Rr),Wr=Math.round(Wr));var Kr={ready:!0,offsetX:Cr/mn,offsetY:Rr/qr,offsetR:ro/mn,offsetB:Wr/qr,arrowX:co/mn,arrowY:Yr/qr,scaleX:mn,scaleY:qr,align:Mr};ut(Kr)}}),mt=function(){st.current+=1;var vt=st.current;Promise.resolve().then(function(){st.current===vt&&ht()})},gt=function(){ut(function(vt){return _objectSpread2(_objectSpread2({},vt),{},{ready:!1})})};return useLayoutEffect(gt,[tt]),useLayoutEffect(function(){_e||gt()},[_e]),[ct.ready,ct.offsetX,ct.offsetY,ct.offsetR,ct.offsetB,ct.arrowX,ct.arrowY,ct.scaleX,ct.scaleY,ct.align,mt]}function useWatch(_e,_,et,tt,rt){useLayoutEffect(function(){if(_e&&_&&et){let st=function(){tt(),rt()};var nt=_,it=et,at=collectScroller(nt),lt=collectScroller(it),ct=getWin(it),ut=new Set([ct].concat(_toConsumableArray(at),_toConsumableArray(lt)));return ut.forEach(function(ot){ot.addEventListener("scroll",st,{passive:!0})}),ct.addEventListener("resize",st,{passive:!0}),tt(),function(){ut.forEach(function(ot){ot.removeEventListener("scroll",st),ct.removeEventListener("resize",st)})}}},[_e,_,et])}function useWinClick(_e,_,et,tt,rt,nt,it,at){var lt=reactExports.useRef(_e);lt.current=_e;var ct=reactExports.useRef(!1);reactExports.useEffect(function(){if(_&&tt&&(!rt||nt)){var st=function(){ct.current=!1},ot=function(mt){var gt;lt.current&&!it(((gt=mt.composedPath)===null||gt===void 0||(gt=gt.call(mt))===null||gt===void 0?void 0:gt[0])||mt.target)&&!ct.current&&at(!1)},dt=getWin(tt);dt.addEventListener("pointerdown",st,!0),dt.addEventListener("mousedown",ot,!0),dt.addEventListener("contextmenu",ot,!0);var ft=getShadowRoot(et);return ft&&(ft.addEventListener("mousedown",ot,!0),ft.addEventListener("contextmenu",ot,!0)),function(){dt.removeEventListener("pointerdown",st,!0),dt.removeEventListener("mousedown",ot,!0),dt.removeEventListener("contextmenu",ot,!0),ft&&(ft.removeEventListener("mousedown",ot,!0),ft.removeEventListener("contextmenu",ot,!0))}}},[_,et,tt,rt,nt]);function ut(){ct.current=!0}return ut}var _excluded$g=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function generateTrigger(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Portal,_=reactExports.forwardRef(function(et,tt){var rt=et.prefixCls,nt=rt===void 0?"rc-trigger-popup":rt,it=et.children,at=et.action,lt=at===void 0?"hover":at,ct=et.showAction,ut=et.hideAction,st=et.popupVisible,ot=et.defaultPopupVisible,dt=et.onPopupVisibleChange,ft=et.afterPopupVisibleChange,ht=et.mouseEnterDelay,mt=et.mouseLeaveDelay,gt=mt===void 0?.1:mt,yt=et.focusDelay,vt=et.blurDelay,bt=et.mask,xt=et.maskClosable,_t=xt===void 0?!0:xt,St=et.getPopupContainer,wt=et.forceRender,Et=et.autoDestroy,Tt=et.destroyPopupOnHide,Ct=et.popup,It=et.popupClassName,Pt=et.popupStyle,At=et.popupPlacement,kt=et.builtinPlacements,Rt=kt===void 0?{}:kt,$t=et.popupAlign,Mt=et.zIndex,Nt=et.stretch,Dt=et.getPopupClassNameFromAlign,jt=et.fresh,Ut=et.alignPoint,Xt=et.onPopupClick,Wt=et.onPopupAlign,Vt=et.arrow,qt=et.popupMotion,tr=et.maskMotion,Kt=et.popupTransitionName,Yt=et.popupAnimation,rr=et.maskTransitionName,ir=et.maskAnimation,lr=et.className,ar=et.getTriggerDOMNode,ur=_objectWithoutProperties(et,_excluded$g),fr=Et||Tt||!1,yr=reactExports.useState(!1),Tr=_slicedToArray(yr,2),Sr=Tr[0],kr=Tr[1];useLayoutEffect(function(){kr(isMobile())},[]);var xr=reactExports.useRef({}),dr=reactExports.useContext(TriggerContext),gr=reactExports.useMemo(function(){return{registerSubPopup:function(zr,wn){xr.current[zr]=wn,dr==null||dr.registerSubPopup(zr,wn)}}},[dr]),mr=useId(),Fr=reactExports.useState(null),_r=_slicedToArray(Fr,2),Nr=_r[0],mn=_r[1],qr=reactExports.useRef(null),Gr=useEvent(function(Ir){qr.current=Ir,isDOM(Ir)&&Nr!==Ir&&mn(Ir),dr==null||dr.registerSubPopup(mr,Ir)}),gn=reactExports.useState(null),ln=_slicedToArray(gn,2),Hr=ln[0],en=ln[1],vr=reactExports.useRef(null),un=useEvent(function(Ir){isDOM(Ir)&&Hr!==Ir&&(en(Ir),vr.current=Ir)}),an=reactExports.Children.only(it),yn=(an==null?void 0:an.props)||{},hn={},Lr=useEvent(function(Ir){var zr,wn,In=Hr;return(In==null?void 0:In.contains(Ir))||((zr=getShadowRoot(In))===null||zr===void 0?void 0:zr.host)===Ir||Ir===In||(Nr==null?void 0:Nr.contains(Ir))||((wn=getShadowRoot(Nr))===null||wn===void 0?void 0:wn.host)===Ir||Ir===Nr||Object.values(xr.current).some(function(Ot){return(Ot==null?void 0:Ot.contains(Ir))||Ir===Ot})}),bn=getMotion$1(nt,qt,Yt,Kt),Sn=getMotion$1(nt,tr,ir,rr),On=reactExports.useState(ot||!1),$r=_slicedToArray(On,2),wr=$r[0],Ar=$r[1],tn=st??wr,Mr=useEvent(function(Ir){st===void 0&&Ar(Ir)});useLayoutEffect(function(){Ar(st||!1)},[st]);var Cr=reactExports.useRef(tn);Cr.current=tn;var Rr=reactExports.useRef([]);Rr.current=[];var Zr=useEvent(function(Ir){var zr;Mr(Ir),((zr=Rr.current[Rr.current.length-1])!==null&&zr!==void 0?zr:tn)!==Ir&&(Rr.current.push(Ir),dt==null||dt(Ir))}),dn=reactExports.useRef(),Cn=function(){clearTimeout(dn.current)},Qr=function(zr){var wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Cn(),wn===0?Zr(zr):dn.current=setTimeout(function(){Zr(zr)},wn*1e3)};reactExports.useEffect(function(){return Cn},[]);var Mn=reactExports.useState(!1),Fn=_slicedToArray(Mn,2),Jr=Fn[0],rn=Fn[1];useLayoutEffect(function(Ir){(!Ir||tn)&&rn(!0)},[tn]);var Tn=reactExports.useState(null),En=_slicedToArray(Tn,2),Ft=En[0],zt=En[1],Ht=reactExports.useState(null),Zt=_slicedToArray(Ht,2),Jt=Zt[0],nr=Zt[1],hr=function(zr){nr([zr.clientX,zr.clientY])},Pr=useAlign(tn,Nr,Ut&&Jt!==null?Jt:Hr,At,Rt,$t,Wt),pr=_slicedToArray(Pr,11),Vr=pr[0],Or=pr[1],Er=pr[2],Br=pr[3],er=pr[4],Ur=pr[5],Xr=pr[6],_n=pr[7],xn=pr[8],Ln=pr[9],Rn=pr[10],Yn=useAction(Sr,lt,ct,ut),Pn=_slicedToArray(Yn,2),kn=Pn[0],jn=Pn[1],Kn=kn.has("click"),qn=jn.has("click")||jn.has("contextMenu"),zn=useEvent(function(){Jr||Rn()}),fo=function(){Cr.current&&Ut&&qn&&Qr(!1)};useWatch(tn,Hr,Nr,zn,fo),useLayoutEffect(function(){zn()},[Jt,At]),useLayoutEffect(function(){tn&&!(Rt!=null&&Rt[At])&&zn()},[JSON.stringify($t)]);var pn=reactExports.useMemo(function(){var Ir=getAlignPopupClassName(Rt,nt,Ln,Ut);return classNames(Ir,Dt==null?void 0:Dt(Ln))},[Ln,Dt,Rt,nt,Ut]);reactExports.useImperativeHandle(tt,function(){return{nativeElement:vr.current,popupElement:qr.current,forceAlign:zn}});var sn=reactExports.useState(0),fn=_slicedToArray(sn,2),Dn=fn[0],Nn=fn[1],Zn=reactExports.useState(0),Wn=_slicedToArray(Zn,2),co=Wn[0],oo=Wn[1],Qn=function(){if(Nt&&Hr){var zr=Hr.getBoundingClientRect();Nn(zr.width),oo(zr.height)}},Hn=function(){Qn(),zn()},Yr=function(zr){rn(!1),Rn(),ft==null||ft(zr)},ro=function(){return new Promise(function(zr){Qn(),zt(function(){return zr})})};useLayoutEffect(function(){Ft&&(Rn(),Ft(),zt(null))},[Ft]);function Wr(Ir,zr,wn,In){hn[Ir]=function(Ot){var Lt;In==null||In(Ot),Qr(zr,wn);for(var Bt=arguments.length,Gt=new Array(Bt>1?Bt-1:0),Qt=1;Qt<Bt;Qt++)Gt[Qt-1]=arguments[Qt];(Lt=yn[Ir])===null||Lt===void 0||Lt.call.apply(Lt,[yn,Ot].concat(Gt))}}(Kn||qn)&&(hn.onClick=function(Ir){var zr;Cr.current&&qn?Qr(!1):!Cr.current&&Kn&&(hr(Ir),Qr(!0));for(var wn=arguments.length,In=new Array(wn>1?wn-1:0),Ot=1;Ot<wn;Ot++)In[Ot-1]=arguments[Ot];(zr=yn.onClick)===null||zr===void 0||zr.call.apply(zr,[yn,Ir].concat(In))});var Kr=useWinClick(tn,qn,Hr,Nr,bt,_t,Lr,Qr),Un=kn.has("hover"),ao=jn.has("hover"),so,Jn;Un&&(Wr("onMouseEnter",!0,ht,function(Ir){hr(Ir)}),Wr("onPointerEnter",!0,ht,function(Ir){hr(Ir)}),so=function(zr){(tn||Jr)&&Nr!==null&&Nr!==void 0&&Nr.contains(zr.target)&&Qr(!0,ht)},Ut&&(hn.onMouseMove=function(Ir){var zr;(zr=yn.onMouseMove)===null||zr===void 0||zr.call(yn,Ir)})),ao&&(Wr("onMouseLeave",!1,gt),Wr("onPointerLeave",!1,gt),Jn=function(){Qr(!1,gt)}),kn.has("focus")&&Wr("onFocus",!0,yt),jn.has("focus")&&Wr("onBlur",!1,vt),kn.has("contextMenu")&&(hn.onContextMenu=function(Ir){var zr;Cr.current&&jn.has("contextMenu")?Qr(!1):(hr(Ir),Qr(!0)),Ir.preventDefault();for(var wn=arguments.length,In=new Array(wn>1?wn-1:0),Ot=1;Ot<wn;Ot++)In[Ot-1]=arguments[Ot];(zr=yn.onContextMenu)===null||zr===void 0||zr.call.apply(zr,[yn,Ir].concat(In))}),lr&&(hn.className=classNames(yn.className,lr));var _i=_objectSpread2(_objectSpread2({},yn),hn),uo={},ho=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];ho.forEach(function(Ir){ur[Ir]&&(uo[Ir]=function(){for(var zr,wn=arguments.length,In=new Array(wn),Ot=0;Ot<wn;Ot++)In[Ot]=arguments[Ot];(zr=_i[Ir])===null||zr===void 0||zr.call.apply(zr,[_i].concat(In)),ur[Ir].apply(ur,In)})});var go=reactExports.cloneElement(an,_objectSpread2(_objectSpread2({},_i),uo)),yo={x:Ur,y:Xr},vo=Vt?_objectSpread2({},Vt!==!0?Vt:{}):null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(RefResizeObserver,{disabled:!tn,ref:un,onResize:Hn},reactExports.createElement(TriggerWrapper,{getTriggerDOMNode:ar},go)),reactExports.createElement(TriggerContext.Provider,{value:gr},reactExports.createElement(Popup,{portal:_e,ref:Gr,prefixCls:nt,popup:Ct,className:classNames(It,pn),style:Pt,target:Hr,onMouseEnter:so,onMouseLeave:Jn,onPointerEnter:so,zIndex:Mt,open:tn,keepDom:Jr,fresh:jt,onClick:Xt,onPointerDownCapture:Kr,mask:bt,motion:bn,maskMotion:Sn,onVisibleChanged:Yr,onPrepare:ro,forceRender:wt,autoDestroy:fr,getPopupContainer:St,align:Ln,arrow:vo,arrowPos:yo,ready:Vr,offsetX:Or,offsetY:Er,offsetR:Br,offsetB:er,onAlign:zn,stretch:Nt,targetWidth:Dn/_n,targetHeight:co/xn})))});return _}const Trigger=generateTrigger(Portal),useVariant=function(_e,_){let et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var tt,rt;const{variant:nt,[_e]:it}=reactExports.useContext(ConfigContext),at=reactExports.useContext(VariantContext),lt=it==null?void 0:it.variant;let ct;typeof _<"u"?ct=_:et===!1?ct="borderless":ct=(rt=(tt=at??lt)!==null&&tt!==void 0?tt:nt)!==null&&rt!==void 0?rt:"outlined";const ut=Variants.includes(ct);return[ct,ut]},responsiveArray=["xxl","xl","lg","md","sm","xs"],getResponsiveMap=_e=>({xs:`(max-width: ${_e.screenXSMax}px)`,sm:`(min-width: ${_e.screenSM}px)`,md:`(min-width: ${_e.screenMD}px)`,lg:`(min-width: ${_e.screenLG}px)`,xl:`(min-width: ${_e.screenXL}px)`,xxl:`(min-width: ${_e.screenXXL}px)`}),validateBreakpoints=_e=>{const _=_e,et=[].concat(responsiveArray).reverse();return et.forEach((tt,rt)=>{const nt=tt.toUpperCase(),it=`screen${nt}Min`,at=`screen${nt}`;if(!(_[it]<=_[at]))throw new Error(`${it}<=${at} fails : !(${_[it]}<=${_[at]})`);if(rt<et.length-1){const lt=`screen${nt}Max`;if(!(_[at]<=_[lt]))throw new Error(`${at}<=${lt} fails : !(${_[at]}<=${_[lt]})`);const ut=`screen${et[rt+1].toUpperCase()}Min`;if(!(_[lt]<=_[ut]))throw new Error(`${lt}<=${ut} fails : !(${_[lt]}<=${_[ut]})`)}}),_e},useResponsiveObserver=()=>{const[,_e]=useToken(),_=getResponsiveMap(validateBreakpoints(_e));return React.useMemo(()=>{const et=new Map;let tt=-1,rt={};return{responsiveMap:_,matchHandlers:{},dispatch(nt){return rt=nt,et.forEach(it=>it(rt)),et.size>=1},subscribe(nt){return et.size||this.register(),tt+=1,et.set(tt,nt),nt(rt),tt},unsubscribe(nt){et.delete(nt),et.size||this.unregister()},register(){Object.keys(_).forEach(nt=>{const it=_[nt],at=ct=>{let{matches:ut}=ct;this.dispatch(Object.assign(Object.assign({},rt),{[nt]:ut}))},lt=window.matchMedia(it);lt.addListener(at),this.matchHandlers[it]={mql:lt,listener:at},at(lt)})},unregister(){Object.keys(_).forEach(nt=>{const it=_[nt],at=this.matchHandlers[it];at==null||at.mql.removeListener(at==null?void 0:at.listener)}),et.clear()}}},[_e])};function useForceUpdate(){const[,_e]=reactExports.useReducer(_=>_+1,0);return _e}function useBreakpoint(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const et=reactExports.useRef(_),tt=useForceUpdate(),rt=useResponsiveObserver();return useLayoutEffect(()=>{const nt=rt.subscribe(it=>{et.current=it,_e&&tt()});return()=>rt.unsubscribe(nt)},[]),et.current}var LeftOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},LeftOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:LeftOutlined$1}))},RefIcon$8=reactExports.forwardRef(LeftOutlined),ESC$1=KeyCode.ESC,TAB=KeyCode.TAB;function useAccessibility$1(_e){var _=_e.visible,et=_e.triggerRef,tt=_e.onVisibleChange,rt=_e.autoFocus,nt=_e.overlayRef,it=reactExports.useRef(!1),at=function(){if(_){var st,ot;(st=et.current)===null||st===void 0||(ot=st.focus)===null||ot===void 0||ot.call(st),tt==null||tt(!1)}},lt=function(){var st;return(st=nt.current)!==null&&st!==void 0&&st.focus?(nt.current.focus(),it.current=!0,!0):!1},ct=function(st){switch(st.keyCode){case ESC$1:at();break;case TAB:{var ot=!1;it.current||(ot=lt()),ot?st.preventDefault():at();break}}};reactExports.useEffect(function(){return _?(window.addEventListener("keydown",ct),rt&&wrapperRaf(lt,3),function(){window.removeEventListener("keydown",ct),it.current=!1}):function(){it.current=!1}},[_])}var Overlay=reactExports.forwardRef(function(_e,_){var et=_e.overlay,tt=_e.arrow,rt=_e.prefixCls,nt=reactExports.useMemo(function(){var at;return typeof et=="function"?at=et():at=et,at},[et]),it=composeRef(_,getNodeRef(nt));return React.createElement(React.Fragment,null,tt&&React.createElement("div",{className:"".concat(rt,"-arrow")}),React.cloneElement(nt,{ref:supportRef(nt)?it:void 0}))}),autoAdjustOverflow$1={adjustX:1,adjustY:1},targetOffset=[0,0],placements$1={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow$1,offset:[0,-4],targetOffset},top:{points:["bc","tc"],overflow:autoAdjustOverflow$1,offset:[0,-4],targetOffset},topRight:{points:["br","tr"],overflow:autoAdjustOverflow$1,offset:[0,-4],targetOffset},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow$1,offset:[0,4],targetOffset},bottom:{points:["tc","bc"],overflow:autoAdjustOverflow$1,offset:[0,4],targetOffset},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflow$1,offset:[0,4],targetOffset}},_excluded$f=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Dropdown(_e,_){var et,tt=_e.arrow,rt=tt===void 0?!1:tt,nt=_e.prefixCls,it=nt===void 0?"rc-dropdown":nt,at=_e.transitionName,lt=_e.animation,ct=_e.align,ut=_e.placement,st=ut===void 0?"bottomLeft":ut,ot=_e.placements,dt=ot===void 0?placements$1:ot,ft=_e.getPopupContainer,ht=_e.showAction,mt=_e.hideAction,gt=_e.overlayClassName,yt=_e.overlayStyle,vt=_e.visible,bt=_e.trigger,xt=bt===void 0?["hover"]:bt,_t=_e.autoFocus,St=_e.overlay,wt=_e.children,Et=_e.onVisibleChange,Tt=_objectWithoutProperties(_e,_excluded$f),Ct=React.useState(),It=_slicedToArray(Ct,2),Pt=It[0],At=It[1],kt="visible"in _e?vt:Pt,Rt=React.useRef(null),$t=React.useRef(null),Mt=React.useRef(null);React.useImperativeHandle(_,function(){return Rt.current});var Nt=function(Kt){At(Kt),Et==null||Et(Kt)};useAccessibility$1({visible:kt,triggerRef:Mt,onVisibleChange:Nt,autoFocus:_t,overlayRef:$t});var Dt=function(Kt){var Yt=_e.onOverlayClick;At(!1),Yt&&Yt(Kt)},jt=function(){return React.createElement(Overlay,{ref:$t,overlay:St,prefixCls:it,arrow:rt})},Ut=function(){return typeof St=="function"?jt:jt()},Xt=function(){var Kt=_e.minOverlayWidthMatchTrigger,Yt=_e.alignPoint;return"minOverlayWidthMatchTrigger"in _e?Kt:!Yt},Wt=function(){var Kt=_e.openClassName;return Kt!==void 0?Kt:"".concat(it,"-open")},Vt=React.cloneElement(wt,{className:classNames((et=wt.props)===null||et===void 0?void 0:et.className,kt&&Wt()),ref:supportRef(wt)?composeRef(Mt,getNodeRef(wt)):void 0}),qt=mt;return!qt&&xt.indexOf("contextMenu")!==-1&&(qt=["click"]),React.createElement(Trigger,_extends$x({builtinPlacements:dt},Tt,{prefixCls:it,ref:Rt,popupClassName:classNames(gt,_defineProperty({},"".concat(it,"-show-arrow"),rt)),popupStyle:yt,action:xt,showAction:ht,hideAction:qt,popupPlacement:st,popupAlign:ct,popupTransitionName:at,popupAnimation:lt,popupVisible:kt,stretch:Xt()?"minWidth":"",popup:Ut(),onPopupVisibleChange:Nt,onPopupClick:Dt,getPopupContainer:ft}),Vt)}const Dropdown$1=React.forwardRef(Dropdown);var IdContext=reactExports.createContext(null);function getMenuId(_e,_){return _e===void 0?null:"".concat(_e,"-").concat(_)}function useMenuId(_e){var _=reactExports.useContext(IdContext);return getMenuId(_,_e)}var _excluded$e=["children","locked"],MenuContext=reactExports.createContext(null);function mergeProps(_e,_){var et=_objectSpread2({},_e);return Object.keys(_).forEach(function(tt){var rt=_[tt];rt!==void 0&&(et[tt]=rt)}),et}function InheritableContextProvider(_e){var _=_e.children,et=_e.locked,tt=_objectWithoutProperties(_e,_excluded$e),rt=reactExports.useContext(MenuContext),nt=useMemo(function(){return mergeProps(rt,tt)},[rt,tt],function(it,at){return!et&&(it[0]!==at[0]||!isEqual(it[1],at[1],!0))});return reactExports.createElement(MenuContext.Provider,{value:nt},_)}var EmptyList=[],PathRegisterContext=reactExports.createContext(null);function useMeasure(){return reactExports.useContext(PathRegisterContext)}var PathTrackerContext=reactExports.createContext(EmptyList);function useFullPath(_e){var _=reactExports.useContext(PathTrackerContext);return reactExports.useMemo(function(){return _e!==void 0?[].concat(_toConsumableArray(_),[_e]):_},[_,_e])}var PathUserContext=reactExports.createContext(null),PrivateContext=reactExports.createContext({});function focusable(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(isVisible(_e)){var et=_e.nodeName.toLowerCase(),tt=["input","select","textarea","button"].includes(et)||_e.isContentEditable||et==="a"&&!!_e.getAttribute("href"),rt=_e.getAttribute("tabindex"),nt=Number(rt),it=null;return rt&&!Number.isNaN(nt)?it=nt:tt&&it===null&&(it=0),tt&&_e.disabled&&(it=null),it!==null&&(it>=0||_&&it<0)}return!1}function getFocusNodeList(_e){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,et=_toConsumableArray(_e.querySelectorAll("*")).filter(function(tt){return focusable(tt,_)});return focusable(_e,_)&&et.unshift(_e),et}var LEFT=KeyCode.LEFT,RIGHT=KeyCode.RIGHT,UP=KeyCode.UP,DOWN=KeyCode.DOWN,ENTER=KeyCode.ENTER,ESC=KeyCode.ESC,HOME=KeyCode.HOME,END=KeyCode.END,ArrowKeys=[UP,DOWN,LEFT,RIGHT];function getOffset$1(_e,_,et,tt){var rt,nt="prev",it="next",at="children",lt="parent";if(_e==="inline"&&tt===ENTER)return{inlineTrigger:!0};var ct=_defineProperty(_defineProperty({},UP,nt),DOWN,it),ut=_defineProperty(_defineProperty(_defineProperty(_defineProperty({},LEFT,et?it:nt),RIGHT,et?nt:it),DOWN,at),ENTER,at),st=_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},UP,nt),DOWN,it),ENTER,at),ESC,lt),LEFT,et?at:lt),RIGHT,et?lt:at),ot={inline:ct,horizontal:ut,vertical:st,inlineSub:ct,horizontalSub:st,verticalSub:st},dt=(rt=ot["".concat(_e).concat(_?"":"Sub")])===null||rt===void 0?void 0:rt[tt];switch(dt){case nt:return{offset:-1,sibling:!0};case it:return{offset:1,sibling:!0};case lt:return{offset:-1,sibling:!1};case at:return{offset:1,sibling:!1};default:return null}}function findContainerUL(_e){for(var _=_e;_;){if(_.getAttribute("data-menu-list"))return _;_=_.parentElement}return null}function getFocusElement(_e,_){for(var et=_e||document.activeElement;et;){if(_.has(et))return et;et=et.parentElement}return null}function getFocusableElements(_e,_){var et=getFocusNodeList(_e,!0);return et.filter(function(tt){return _.has(tt)})}function getNextFocusElement(_e,_,et){var tt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!_e)return null;var rt=getFocusableElements(_e,_),nt=rt.length,it=rt.findIndex(function(at){return et===at});return tt<0?it===-1?it=nt-1:it-=1:tt>0&&(it+=1),it=(it+nt)%nt,rt[it]}var refreshElements=function _e(_,et){var tt=new Set,rt=new Map,nt=new Map;return _.forEach(function(it){var at=document.querySelector("[data-menu-id='".concat(getMenuId(et,it),"']"));at&&(tt.add(at),nt.set(at,it),rt.set(it,at))}),{elements:tt,key2element:rt,element2key:nt}};function useAccessibility(_e,_,et,tt,rt,nt,it,at,lt,ct){var ut=reactExports.useRef(),st=reactExports.useRef();st.current=_;var ot=function(){wrapperRaf.cancel(ut.current)};return reactExports.useEffect(function(){return function(){ot()}},[]),function(dt){var ft=dt.which;if([].concat(ArrowKeys,[ENTER,ESC,HOME,END]).includes(ft)){var ht=nt(),mt=refreshElements(ht,tt),gt=mt,yt=gt.elements,vt=gt.key2element,bt=gt.element2key,xt=vt.get(_),_t=getFocusElement(xt,yt),St=bt.get(_t),wt=getOffset$1(_e,it(St,!0).length===1,et,ft);if(!wt&&ft!==HOME&&ft!==END)return;(ArrowKeys.includes(ft)||[HOME,END].includes(ft))&&dt.preventDefault();var Et=function($t){if($t){var Mt=$t,Nt=$t.querySelector("a");Nt!=null&&Nt.getAttribute("href")&&(Mt=Nt);var Dt=bt.get($t);at(Dt),ot(),ut.current=wrapperRaf(function(){st.current===Dt&&Mt.focus()})}};if([HOME,END].includes(ft)||wt.sibling||!_t){var Tt;!_t||_e==="inline"?Tt=rt.current:Tt=findContainerUL(_t);var Ct,It=getFocusableElements(Tt,yt);ft===HOME?Ct=It[0]:ft===END?Ct=It[It.length-1]:Ct=getNextFocusElement(Tt,yt,_t,wt.offset),Et(Ct)}else if(wt.inlineTrigger)lt(St);else if(wt.offset>0)lt(St,!0),ot(),ut.current=wrapperRaf(function(){mt=refreshElements(ht,tt);var Rt=_t.getAttribute("aria-controls"),$t=document.getElementById(Rt),Mt=getNextFocusElement($t,mt.elements);Et(Mt)},5);else if(wt.offset<0){var Pt=it(St,!0),At=Pt[Pt.length-2],kt=vt.get(At);lt(At,!1),Et(kt)}}ct==null||ct(dt)}}function nextSlice(_e){Promise.resolve().then(_e)}var PATH_SPLIT="__RC_UTIL_PATH_SPLIT__",getPathStr=function _e(_){return _.join(PATH_SPLIT)},getPathKeys=function _e(_){return _.split(PATH_SPLIT)},OVERFLOW_KEY="rc-menu-more";function useKeyRecords(){var _e=reactExports.useState({}),_=_slicedToArray(_e,2),et=_[1],tt=reactExports.useRef(new Map),rt=reactExports.useRef(new Map),nt=reactExports.useState([]),it=_slicedToArray(nt,2),at=it[0],lt=it[1],ct=reactExports.useRef(0),ut=reactExports.useRef(!1),st=function(){ut.current||et({})},ot=reactExports.useCallback(function(vt,bt){var xt=getPathStr(bt);rt.current.set(xt,vt),tt.current.set(vt,xt),ct.current+=1;var _t=ct.current;nextSlice(function(){_t===ct.current&&st()})},[]),dt=reactExports.useCallback(function(vt,bt){var xt=getPathStr(bt);rt.current.delete(xt),tt.current.delete(vt)},[]),ft=reactExports.useCallback(function(vt){lt(vt)},[]),ht=reactExports.useCallback(function(vt,bt){var xt=tt.current.get(vt)||"",_t=getPathKeys(xt);return bt&&at.includes(_t[0])&&_t.unshift(OVERFLOW_KEY),_t},[at]),mt=reactExports.useCallback(function(vt,bt){return vt.filter(function(xt){return xt!==void 0}).some(function(xt){var _t=ht(xt,!0);return _t.includes(bt)})},[ht]),gt=function(){var bt=_toConsumableArray(tt.current.keys());return at.length&&bt.push(OVERFLOW_KEY),bt},yt=reactExports.useCallback(function(vt){var bt="".concat(tt.current.get(vt)).concat(PATH_SPLIT),xt=new Set;return _toConsumableArray(rt.current.keys()).forEach(function(_t){_t.startsWith(bt)&&xt.add(rt.current.get(_t))}),xt},[]);return reactExports.useEffect(function(){return function(){ut.current=!0}},[]),{registerPath:ot,unregisterPath:dt,refreshOverflowKeys:ft,isSubPathKey:mt,getKeyPath:ht,getKeys:gt,getSubPathKeys:yt}}function useMemoCallback(_e){var _=reactExports.useRef(_e);_.current=_e;var et=reactExports.useCallback(function(){for(var tt,rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];return(tt=_.current)===null||tt===void 0?void 0:tt.call.apply(tt,[_].concat(nt))},[]);return _e?et:void 0}var uniquePrefix=Math.random().toFixed(5).toString().slice(2),internalId=0;function useUUID(_e){var _=useMergedState(_e,{value:_e}),et=_slicedToArray(_,2),tt=et[0],rt=et[1];return reactExports.useEffect(function(){internalId+=1;var nt="".concat(uniquePrefix,"-").concat(internalId);rt("rc-menu-uuid-".concat(nt))},[]),tt}function useActive(_e,_,et,tt){var rt=reactExports.useContext(MenuContext),nt=rt.activeKey,it=rt.onActive,at=rt.onInactive,lt={active:nt===_e};return _||(lt.onMouseEnter=function(ct){et==null||et({key:_e,domEvent:ct}),it(_e)},lt.onMouseLeave=function(ct){tt==null||tt({key:_e,domEvent:ct}),at(_e)}),lt}function useDirectionStyle(_e){var _=reactExports.useContext(MenuContext),et=_.mode,tt=_.rtl,rt=_.inlineIndent;if(et!=="inline")return null;var nt=_e;return tt?{paddingRight:nt*rt}:{paddingLeft:nt*rt}}function Icon(_e){var _=_e.icon,et=_e.props,tt=_e.children,rt;return _===null||_===!1?null:(typeof _=="function"?rt=reactExports.createElement(_,_objectSpread2({},et)):typeof _!="boolean"&&(rt=_),rt||tt||null)}var _excluded$d=["item"];function warnItemProp(_e){var _=_e.item,et=_objectWithoutProperties(_e,_excluded$d);return Object.defineProperty(et,"item",{get:function(){return warningOnce(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),_}}),et}var _excluded$c=["title","attribute","elementRef"],_excluded2$5=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],_excluded3=["active"],LegacyMenuItem=function(_e){_inherits(et,_e);var _=_createSuper(et);function et(){return _classCallCheck(this,et),_.apply(this,arguments)}return _createClass(et,[{key:"render",value:function(){var rt=this.props,nt=rt.title,it=rt.attribute,at=rt.elementRef,lt=_objectWithoutProperties(rt,_excluded$c),ct=omit(lt,["eventKey","popupClassName","popupOffset","onTitleClick"]);return warningOnce(!it,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),reactExports.createElement(ForwardOverflow.Item,_extends$x({},it,{title:typeof nt=="string"?nt:void 0},ct,{ref:at}))}}]),et}(reactExports.Component),InternalMenuItem=reactExports.forwardRef(function(_e,_){var et=_e.style,tt=_e.className,rt=_e.eventKey;_e.warnKey;var nt=_e.disabled,it=_e.itemIcon,at=_e.children,lt=_e.role,ct=_e.onMouseEnter,ut=_e.onMouseLeave,st=_e.onClick,ot=_e.onKeyDown,dt=_e.onFocus,ft=_objectWithoutProperties(_e,_excluded2$5),ht=useMenuId(rt),mt=reactExports.useContext(MenuContext),gt=mt.prefixCls,yt=mt.onItemClick,vt=mt.disabled,bt=mt.overflowDisabled,xt=mt.itemIcon,_t=mt.selectedKeys,St=mt.onActive,wt=reactExports.useContext(PrivateContext),Et=wt._internalRenderMenuItem,Tt="".concat(gt,"-item"),Ct=reactExports.useRef(),It=reactExports.useRef(),Pt=vt||nt,At=useComposeRef(_,It),kt=useFullPath(rt),Rt=function(Yt){return{key:rt,keyPath:_toConsumableArray(kt).reverse(),item:Ct.current,domEvent:Yt}},$t=it||xt,Mt=useActive(rt,Pt,ct,ut),Nt=Mt.active,Dt=_objectWithoutProperties(Mt,_excluded3),jt=_t.includes(rt),Ut=useDirectionStyle(kt.length),Xt=function(Yt){if(!Pt){var rr=Rt(Yt);st==null||st(warnItemProp(rr)),yt(rr)}},Wt=function(Yt){if(ot==null||ot(Yt),Yt.which===KeyCode.ENTER){var rr=Rt(Yt);st==null||st(warnItemProp(rr)),yt(rr)}},Vt=function(Yt){St(rt),dt==null||dt(Yt)},qt={};_e.role==="option"&&(qt["aria-selected"]=jt);var tr=reactExports.createElement(LegacyMenuItem,_extends$x({ref:Ct,elementRef:At,role:lt===null?"none":lt||"menuitem",tabIndex:nt?null:-1,"data-menu-id":bt&&ht?null:ht},omit(ft,["extra"]),Dt,qt,{component:"li","aria-disabled":nt,style:_objectSpread2(_objectSpread2({},Ut),et),className:classNames(Tt,_defineProperty(_defineProperty(_defineProperty({},"".concat(Tt,"-active"),Nt),"".concat(Tt,"-selected"),jt),"".concat(Tt,"-disabled"),Pt),tt),onClick:Xt,onKeyDown:Wt,onFocus:Vt}),at,reactExports.createElement(Icon,{props:_objectSpread2(_objectSpread2({},_e),{},{isSelected:jt}),icon:$t}));return Et&&(tr=Et(tr,_e,{selected:jt})),tr});function MenuItem(_e,_){var et=_e.eventKey,tt=useMeasure(),rt=useFullPath(et);return reactExports.useEffect(function(){if(tt)return tt.registerPath(et,rt),function(){tt.unregisterPath(et,rt)}},[rt]),tt?null:reactExports.createElement(InternalMenuItem,_extends$x({},_e,{ref:_}))}const MenuItem$1=reactExports.forwardRef(MenuItem);var _excluded$b=["className","children"],InternalSubMenuList=function _e(_,et){var tt=_.className,rt=_.children,nt=_objectWithoutProperties(_,_excluded$b),it=reactExports.useContext(MenuContext),at=it.prefixCls,lt=it.mode,ct=it.rtl;return reactExports.createElement("ul",_extends$x({className:classNames(at,ct&&"".concat(at,"-rtl"),"".concat(at,"-sub"),"".concat(at,"-").concat(lt==="inline"?"inline":"vertical"),tt),role:"menu"},nt,{"data-menu-list":!0,ref:et}),rt)},SubMenuList=reactExports.forwardRef(InternalSubMenuList);SubMenuList.displayName="SubMenuList";function parseChildren(_e,_){return toArray$2(_e).map(function(et,tt){if(reactExports.isValidElement(et)){var rt,nt,it=et.key,at=(rt=(nt=et.props)===null||nt===void 0?void 0:nt.eventKey)!==null&&rt!==void 0?rt:it,lt=at==null;lt&&(at="tmp_key-".concat([].concat(_toConsumableArray(_),[tt]).join("-")));var ct={key:at,eventKey:at};return reactExports.cloneElement(et,ct)}return et})}var autoAdjustOverflow={adjustX:1,adjustY:1},placements={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow},topRight:{points:["br","tr"],overflow:autoAdjustOverflow},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflow},leftTop:{points:["tr","tl"],overflow:autoAdjustOverflow},leftBottom:{points:["br","bl"],overflow:autoAdjustOverflow},rightTop:{points:["tl","tr"],overflow:autoAdjustOverflow},rightBottom:{points:["bl","br"],overflow:autoAdjustOverflow}},placementsRtl={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow},topRight:{points:["br","tr"],overflow:autoAdjustOverflow},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflow},rightTop:{points:["tr","tl"],overflow:autoAdjustOverflow},rightBottom:{points:["br","bl"],overflow:autoAdjustOverflow},leftTop:{points:["tl","tr"],overflow:autoAdjustOverflow},leftBottom:{points:["bl","br"],overflow:autoAdjustOverflow}};function getMotion(_e,_,et){if(_)return _;if(et)return et[_e]||et.other}var popupPlacementMap={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function PopupTrigger(_e){var _=_e.prefixCls,et=_e.visible,tt=_e.children,rt=_e.popup,nt=_e.popupStyle,it=_e.popupClassName,at=_e.popupOffset,lt=_e.disabled,ct=_e.mode,ut=_e.onVisibleChange,st=reactExports.useContext(MenuContext),ot=st.getPopupContainer,dt=st.rtl,ft=st.subMenuOpenDelay,ht=st.subMenuCloseDelay,mt=st.builtinPlacements,gt=st.triggerSubMenuAction,yt=st.forceSubMenuRender,vt=st.rootClassName,bt=st.motion,xt=st.defaultMotions,_t=reactExports.useState(!1),St=_slicedToArray(_t,2),wt=St[0],Et=St[1],Tt=_objectSpread2(dt?_objectSpread2({},placementsRtl):_objectSpread2({},placements),mt),Ct=popupPlacementMap[ct],It=getMotion(ct,bt,xt),Pt=reactExports.useRef(It);ct!=="inline"&&(Pt.current=It);var At=_objectSpread2(_objectSpread2({},Pt.current),{},{leavedClassName:"".concat(_,"-hidden"),removeOnLeave:!1,motionAppear:!0}),kt=reactExports.useRef();return reactExports.useEffect(function(){return kt.current=wrapperRaf(function(){Et(et)}),function(){wrapperRaf.cancel(kt.current)}},[et]),reactExports.createElement(Trigger,{prefixCls:_,popupClassName:classNames("".concat(_,"-popup"),_defineProperty({},"".concat(_,"-rtl"),dt),it,vt),stretch:ct==="horizontal"?"minWidth":null,getPopupContainer:ot,builtinPlacements:Tt,popupPlacement:Ct,popupVisible:wt,popup:rt,popupStyle:nt,popupAlign:at&&{offset:at},action:lt?[]:[gt],mouseEnterDelay:ft,mouseLeaveDelay:ht,onPopupVisibleChange:ut,forceRender:yt,popupMotion:At,fresh:!0},tt)}function InlineSubMenuList(_e){var _=_e.id,et=_e.open,tt=_e.keyPath,rt=_e.children,nt="inline",it=reactExports.useContext(MenuContext),at=it.prefixCls,lt=it.forceSubMenuRender,ct=it.motion,ut=it.defaultMotions,st=it.mode,ot=reactExports.useRef(!1);ot.current=st===nt;var dt=reactExports.useState(!ot.current),ft=_slicedToArray(dt,2),ht=ft[0],mt=ft[1],gt=ot.current?et:!1;reactExports.useEffect(function(){ot.current&&mt(!1)},[st]);var yt=_objectSpread2({},getMotion(nt,ct,ut));tt.length>1&&(yt.motionAppear=!1);var vt=yt.onVisibleChanged;return yt.onVisibleChanged=function(bt){return!ot.current&&!bt&&mt(!0),vt==null?void 0:vt(bt)},ht?null:reactExports.createElement(InheritableContextProvider,{mode:nt,locked:!ot.current},reactExports.createElement(CSSMotion,_extends$x({visible:gt},yt,{forceRender:lt,removeOnLeave:!1,leavedClassName:"".concat(at,"-hidden")}),function(bt){var xt=bt.className,_t=bt.style;return reactExports.createElement(SubMenuList,{id:_,className:xt,style:_t},rt)}))}var _excluded$a=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],_excluded2$4=["active"],InternalSubMenu=reactExports.forwardRef(function(_e,_){var et=_e.style,tt=_e.className,rt=_e.title,nt=_e.eventKey;_e.warnKey;var it=_e.disabled,at=_e.internalPopupClose,lt=_e.children,ct=_e.itemIcon,ut=_e.expandIcon,st=_e.popupClassName,ot=_e.popupOffset,dt=_e.popupStyle,ft=_e.onClick,ht=_e.onMouseEnter,mt=_e.onMouseLeave,gt=_e.onTitleClick,yt=_e.onTitleMouseEnter,vt=_e.onTitleMouseLeave,bt=_objectWithoutProperties(_e,_excluded$a),xt=useMenuId(nt),_t=reactExports.useContext(MenuContext),St=_t.prefixCls,wt=_t.mode,Et=_t.openKeys,Tt=_t.disabled,Ct=_t.overflowDisabled,It=_t.activeKey,Pt=_t.selectedKeys,At=_t.itemIcon,kt=_t.expandIcon,Rt=_t.onItemClick,$t=_t.onOpenChange,Mt=_t.onActive,Nt=reactExports.useContext(PrivateContext),Dt=Nt._internalRenderSubMenuItem,jt=reactExports.useContext(PathUserContext),Ut=jt.isSubPathKey,Xt=useFullPath(),Wt="".concat(St,"-submenu"),Vt=Tt||it,qt=reactExports.useRef(),tr=reactExports.useRef(),Kt=ct??At,Yt=ut??kt,rr=Et.includes(nt),ir=!Ct&&rr,lr=Ut(Pt,nt),ar=useActive(nt,Vt,yt,vt),ur=ar.active,fr=_objectWithoutProperties(ar,_excluded2$4),yr=reactExports.useState(!1),Tr=_slicedToArray(yr,2),Sr=Tr[0],kr=Tr[1],xr=function(an){Vt||kr(an)},dr=function(an){xr(!0),ht==null||ht({key:nt,domEvent:an})},gr=function(an){xr(!1),mt==null||mt({key:nt,domEvent:an})},mr=reactExports.useMemo(function(){return ur||(wt!=="inline"?Sr||Ut([It],nt):!1)},[wt,ur,It,Sr,nt,Ut]),Fr=useDirectionStyle(Xt.length),_r=function(an){Vt||(gt==null||gt({key:nt,domEvent:an}),wt==="inline"&&$t(nt,!rr))},Nr=useMemoCallback(function(un){ft==null||ft(warnItemProp(un)),Rt(un)}),mn=function(an){wt!=="inline"&&$t(nt,an)},qr=function(){Mt(nt)},Gr=xt&&"".concat(xt,"-popup"),gn=reactExports.useMemo(function(){return reactExports.createElement(Icon,{icon:wt!=="horizontal"?Yt:void 0,props:_objectSpread2(_objectSpread2({},_e),{},{isOpen:ir,isSubMenu:!0})},reactExports.createElement("i",{className:"".concat(Wt,"-arrow")}))},[wt,Yt,_e,ir,Wt]),ln=reactExports.createElement("div",_extends$x({role:"menuitem",style:Fr,className:"".concat(Wt,"-title"),tabIndex:Vt?null:-1,ref:qt,title:typeof rt=="string"?rt:null,"data-menu-id":Ct&&xt?null:xt,"aria-expanded":ir,"aria-haspopup":!0,"aria-controls":Gr,"aria-disabled":Vt,onClick:_r,onFocus:qr},fr),rt,gn),Hr=reactExports.useRef(wt);if(wt!=="inline"&&Xt.length>1?Hr.current="vertical":Hr.current=wt,!Ct){var en=Hr.current;ln=reactExports.createElement(PopupTrigger,{mode:en,prefixCls:Wt,visible:!at&&ir&&wt!=="inline",popupClassName:st,popupOffset:ot,popupStyle:dt,popup:reactExports.createElement(InheritableContextProvider,{mode:en==="horizontal"?"vertical":en},reactExports.createElement(SubMenuList,{id:Gr,ref:tr},lt)),disabled:Vt,onVisibleChange:mn},ln)}var vr=reactExports.createElement(ForwardOverflow.Item,_extends$x({ref:_,role:"none"},bt,{component:"li",style:et,className:classNames(Wt,"".concat(Wt,"-").concat(wt),tt,_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"".concat(Wt,"-open"),ir),"".concat(Wt,"-active"),mr),"".concat(Wt,"-selected"),lr),"".concat(Wt,"-disabled"),Vt)),onMouseEnter:dr,onMouseLeave:gr}),ln,!Ct&&reactExports.createElement(InlineSubMenuList,{id:Gr,open:ir,keyPath:Xt},lt));return Dt&&(vr=Dt(vr,_e,{selected:lr,active:mr,open:ir,disabled:Vt})),reactExports.createElement(InheritableContextProvider,{onItemClick:Nr,mode:wt==="horizontal"?"vertical":wt,itemIcon:Kt,expandIcon:Yt},vr)}),SubMenu=reactExports.forwardRef(function(_e,_){var et=_e.eventKey,tt=_e.children,rt=useFullPath(et),nt=parseChildren(tt,rt),it=useMeasure();reactExports.useEffect(function(){if(it)return it.registerPath(et,rt),function(){it.unregisterPath(et,rt)}},[rt]);var at;return it?at=nt:at=reactExports.createElement(InternalSubMenu,_extends$x({ref:_},_e),nt),reactExports.createElement(PathTrackerContext.Provider,{value:rt},at)});function Divider(_e){var _=_e.className,et=_e.style,tt=reactExports.useContext(MenuContext),rt=tt.prefixCls,nt=useMeasure();return nt?null:reactExports.createElement("li",{role:"separator",className:classNames("".concat(rt,"-item-divider"),_),style:et})}var _excluded$9=["className","title","eventKey","children"],InternalMenuItemGroup=reactExports.forwardRef(function(_e,_){var et=_e.className,tt=_e.title;_e.eventKey;var rt=_e.children,nt=_objectWithoutProperties(_e,_excluded$9),it=reactExports.useContext(MenuContext),at=it.prefixCls,lt="".concat(at,"-item-group");return reactExports.createElement("li",_extends$x({ref:_,role:"presentation"},nt,{onClick:function(ut){return ut.stopPropagation()},className:classNames(lt,et)}),reactExports.createElement("div",{role:"presentation",className:"".concat(lt,"-title"),title:typeof tt=="string"?tt:void 0},tt),reactExports.createElement("ul",{role:"group",className:"".concat(lt,"-list")},rt))}),MenuItemGroup=reactExports.forwardRef(function(_e,_){var et=_e.eventKey,tt=_e.children,rt=useFullPath(et),nt=parseChildren(tt,rt),it=useMeasure();return it?nt:reactExports.createElement(InternalMenuItemGroup,_extends$x({ref:_},omit(_e,["warnKey"])),nt)}),_excluded$8=["label","children","key","type","extra"];function convertItemsToNodes(_e,_,et){var tt=_.item,rt=_.group,nt=_.submenu,it=_.divider;return(_e||[]).map(function(at,lt){if(at&&_typeof(at)==="object"){var ct=at,ut=ct.label,st=ct.children,ot=ct.key,dt=ct.type,ft=ct.extra,ht=_objectWithoutProperties(ct,_excluded$8),mt=ot??"tmp-".concat(lt);return st||dt==="group"?dt==="group"?reactExports.createElement(rt,_extends$x({key:mt},ht,{title:ut}),convertItemsToNodes(st,_,et)):reactExports.createElement(nt,_extends$x({key:mt},ht,{title:ut}),convertItemsToNodes(st,_,et)):dt==="divider"?reactExports.createElement(it,_extends$x({key:mt},ht)):reactExports.createElement(tt,_extends$x({key:mt},ht,{extra:ft}),ut,(!!ft||ft===0)&&reactExports.createElement("span",{className:"".concat(et,"-item-extra")},ft))}return null}).filter(function(at){return at})}function parseItems(_e,_,et,tt,rt){var nt=_e,it=_objectSpread2({divider:Divider,item:MenuItem$1,group:MenuItemGroup,submenu:SubMenu},tt);return _&&(nt=convertItemsToNodes(_,it,rt)),parseChildren(nt,et)}var _excluded$7=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],EMPTY_LIST=[],Menu=reactExports.forwardRef(function(_e,_){var et,tt=_e,rt=tt.prefixCls,nt=rt===void 0?"rc-menu":rt,it=tt.rootClassName,at=tt.style,lt=tt.className,ct=tt.tabIndex,ut=ct===void 0?0:ct,st=tt.items,ot=tt.children,dt=tt.direction,ft=tt.id,ht=tt.mode,mt=ht===void 0?"vertical":ht,gt=tt.inlineCollapsed,yt=tt.disabled,vt=tt.disabledOverflow,bt=tt.subMenuOpenDelay,xt=bt===void 0?.1:bt,_t=tt.subMenuCloseDelay,St=_t===void 0?.1:_t,wt=tt.forceSubMenuRender,Et=tt.defaultOpenKeys,Tt=tt.openKeys,Ct=tt.activeKey,It=tt.defaultActiveFirst,Pt=tt.selectable,At=Pt===void 0?!0:Pt,kt=tt.multiple,Rt=kt===void 0?!1:kt,$t=tt.defaultSelectedKeys,Mt=tt.selectedKeys,Nt=tt.onSelect,Dt=tt.onDeselect,jt=tt.inlineIndent,Ut=jt===void 0?24:jt,Xt=tt.motion,Wt=tt.defaultMotions,Vt=tt.triggerSubMenuAction,qt=Vt===void 0?"hover":Vt,tr=tt.builtinPlacements,Kt=tt.itemIcon,Yt=tt.expandIcon,rr=tt.overflowedIndicator,ir=rr===void 0?"...":rr,lr=tt.overflowedIndicatorPopupClassName,ar=tt.getPopupContainer,ur=tt.onClick,fr=tt.onOpenChange,yr=tt.onKeyDown;tt.openAnimation,tt.openTransitionName;var Tr=tt._internalRenderMenuItem,Sr=tt._internalRenderSubMenuItem,kr=tt._internalComponents,xr=_objectWithoutProperties(tt,_excluded$7),dr=reactExports.useMemo(function(){return[parseItems(ot,st,EMPTY_LIST,kr,nt),parseItems(ot,st,EMPTY_LIST,{},nt)]},[ot,st,kr]),gr=_slicedToArray(dr,2),mr=gr[0],Fr=gr[1],_r=reactExports.useState(!1),Nr=_slicedToArray(_r,2),mn=Nr[0],qr=Nr[1],Gr=reactExports.useRef(),gn=useUUID(ft),ln=dt==="rtl",Hr=useMergedState(Et,{value:Tt,postState:function(sn){return sn||EMPTY_LIST}}),en=_slicedToArray(Hr,2),vr=en[0],un=en[1],an=function(sn){var fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Dn(){un(sn),fr==null||fr(sn)}fn?reactDomExports.flushSync(Dn):Dn()},yn=reactExports.useState(vr),hn=_slicedToArray(yn,2),Lr=hn[0],bn=hn[1],Sn=reactExports.useRef(!1),On=reactExports.useMemo(function(){return(mt==="inline"||mt==="vertical")&&gt?["vertical",gt]:[mt,!1]},[mt,gt]),$r=_slicedToArray(On,2),wr=$r[0],Ar=$r[1],tn=wr==="inline",Mr=reactExports.useState(wr),Cr=_slicedToArray(Mr,2),Rr=Cr[0],Zr=Cr[1],dn=reactExports.useState(Ar),Cn=_slicedToArray(dn,2),Qr=Cn[0],Mn=Cn[1];reactExports.useEffect(function(){Zr(wr),Mn(Ar),Sn.current&&(tn?un(Lr):an(EMPTY_LIST))},[wr,Ar]);var Fn=reactExports.useState(0),Jr=_slicedToArray(Fn,2),rn=Jr[0],Tn=Jr[1],En=rn>=mr.length-1||Rr!=="horizontal"||vt;reactExports.useEffect(function(){tn&&bn(vr)},[vr]),reactExports.useEffect(function(){return Sn.current=!0,function(){Sn.current=!1}},[]);var Ft=useKeyRecords(),zt=Ft.registerPath,Ht=Ft.unregisterPath,Zt=Ft.refreshOverflowKeys,Jt=Ft.isSubPathKey,nr=Ft.getKeyPath,hr=Ft.getKeys,Pr=Ft.getSubPathKeys,pr=reactExports.useMemo(function(){return{registerPath:zt,unregisterPath:Ht}},[zt,Ht]),Vr=reactExports.useMemo(function(){return{isSubPathKey:Jt}},[Jt]);reactExports.useEffect(function(){Zt(En?EMPTY_LIST:mr.slice(rn+1).map(function(pn){return pn.key}))},[rn,En]);var Or=useMergedState(Ct||It&&((et=mr[0])===null||et===void 0?void 0:et.key),{value:Ct}),Er=_slicedToArray(Or,2),Br=Er[0],er=Er[1],Ur=useMemoCallback(function(pn){er(pn)}),Xr=useMemoCallback(function(){er(void 0)});reactExports.useImperativeHandle(_,function(){return{list:Gr.current,focus:function(sn){var fn,Dn=hr(),Nn=refreshElements(Dn,gn),Zn=Nn.elements,Wn=Nn.key2element,co=Nn.element2key,oo=getFocusableElements(Gr.current,Zn),Qn=Br??(oo[0]?co.get(oo[0]):(fn=mr.find(function(ro){return!ro.props.disabled}))===null||fn===void 0?void 0:fn.key),Hn=Wn.get(Qn);if(Qn&&Hn){var Yr;Hn==null||(Yr=Hn.focus)===null||Yr===void 0||Yr.call(Hn,sn)}}}});var _n=useMergedState($t||[],{value:Mt,postState:function(sn){return Array.isArray(sn)?sn:sn==null?EMPTY_LIST:[sn]}}),xn=_slicedToArray(_n,2),Ln=xn[0],Rn=xn[1],Yn=function(sn){if(At){var fn=sn.key,Dn=Ln.includes(fn),Nn;Rt?Dn?Nn=Ln.filter(function(Wn){return Wn!==fn}):Nn=[].concat(_toConsumableArray(Ln),[fn]):Nn=[fn],Rn(Nn);var Zn=_objectSpread2(_objectSpread2({},sn),{},{selectedKeys:Nn});Dn?Dt==null||Dt(Zn):Nt==null||Nt(Zn)}!Rt&&vr.length&&Rr!=="inline"&&an(EMPTY_LIST)},Pn=useMemoCallback(function(pn){ur==null||ur(warnItemProp(pn)),Yn(pn)}),kn=useMemoCallback(function(pn,sn){var fn=vr.filter(function(Nn){return Nn!==pn});if(sn)fn.push(pn);else if(Rr!=="inline"){var Dn=Pr(pn);fn=fn.filter(function(Nn){return!Dn.has(Nn)})}isEqual(vr,fn,!0)||an(fn,!0)}),jn=function(sn,fn){var Dn=fn??!vr.includes(sn);kn(sn,Dn)},Kn=useAccessibility(Rr,Br,ln,gn,Gr,hr,nr,er,jn,yr);reactExports.useEffect(function(){qr(!0)},[]);var qn=reactExports.useMemo(function(){return{_internalRenderMenuItem:Tr,_internalRenderSubMenuItem:Sr}},[Tr,Sr]),zn=Rr!=="horizontal"||vt?mr:mr.map(function(pn,sn){return reactExports.createElement(InheritableContextProvider,{key:pn.key,overflowDisabled:sn>rn},pn)}),fo=reactExports.createElement(ForwardOverflow,_extends$x({id:ft,ref:Gr,prefixCls:"".concat(nt,"-overflow"),component:"ul",itemComponent:MenuItem$1,className:classNames(nt,"".concat(nt,"-root"),"".concat(nt,"-").concat(Rr),lt,_defineProperty(_defineProperty({},"".concat(nt,"-inline-collapsed"),Qr),"".concat(nt,"-rtl"),ln),it),dir:dt,style:at,role:"menu",tabIndex:ut,data:zn,renderRawItem:function(sn){return sn},renderRawRest:function(sn){var fn=sn.length,Dn=fn?mr.slice(-fn):null;return reactExports.createElement(SubMenu,{eventKey:OVERFLOW_KEY,title:ir,disabled:En,internalPopupClose:fn===0,popupClassName:lr},Dn)},maxCount:Rr!=="horizontal"||vt?ForwardOverflow.INVALIDATE:ForwardOverflow.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(sn){Tn(sn)},onKeyDown:Kn},xr));return reactExports.createElement(PrivateContext.Provider,{value:qn},reactExports.createElement(IdContext.Provider,{value:gn},reactExports.createElement(InheritableContextProvider,{prefixCls:nt,rootClassName:it,mode:Rr,openKeys:vr,rtl:ln,disabled:yt,motion:mn?Xt:null,defaultMotions:mn?Wt:null,activeKey:Br,onActive:Ur,onInactive:Xr,selectedKeys:Ln,inlineIndent:Ut,subMenuOpenDelay:xt,subMenuCloseDelay:St,forceSubMenuRender:wt,builtinPlacements:tr,triggerSubMenuAction:qt,getPopupContainer:ar,itemIcon:Kt,expandIcon:Yt,onItemClick:Pn,onOpenChange:kn},reactExports.createElement(PathUserContext.Provider,{value:Vr},fo),reactExports.createElement("div",{style:{display:"none"},"aria-hidden":!0},reactExports.createElement(PathRegisterContext.Provider,{value:pr},Fr)))))}),ExportMenu=Menu;ExportMenu.Item=MenuItem$1;ExportMenu.SubMenu=SubMenu;ExportMenu.ItemGroup=MenuItemGroup;ExportMenu.Divider=Divider;var EllipsisOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},EllipsisOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:EllipsisOutlined$1}))},RefIcon$7=reactExports.forwardRef(EllipsisOutlined),PlusOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},PlusOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:PlusOutlined$1}))},RefIcon$6=reactExports.forwardRef(PlusOutlined);const TabContext=reactExports.createContext(null);var useIndicator=function _e(_){var et=_.activeTabOffset,tt=_.horizontal,rt=_.rtl,nt=_.indicator,it=nt===void 0?{}:nt,at=it.size,lt=it.align,ct=lt===void 0?"center":lt,ut=reactExports.useState(),st=_slicedToArray(ut,2),ot=st[0],dt=st[1],ft=reactExports.useRef(),ht=React.useCallback(function(gt){return typeof at=="function"?at(gt):typeof at=="number"?at:gt},[at]);function mt(){wrapperRaf.cancel(ft.current)}return reactExports.useEffect(function(){var gt={};if(et)if(tt){gt.width=ht(et.width);var yt=rt?"right":"left";ct==="start"&&(gt[yt]=et[yt]),ct==="center"&&(gt[yt]=et[yt]+et.width/2,gt.transform=rt?"translateX(50%)":"translateX(-50%)"),ct==="end"&&(gt[yt]=et[yt]+et.width,gt.transform="translateX(-100%)")}else gt.height=ht(et.height),ct==="start"&&(gt.top=et.top),ct==="center"&&(gt.top=et.top+et.height/2,gt.transform="translateY(-50%)"),ct==="end"&&(gt.top=et.top+et.height,gt.transform="translateY(-100%)");return mt(),ft.current=wrapperRaf(function(){dt(gt)}),mt},[et,tt,rt,ct,ht]),{style:ot}},DEFAULT_SIZE$1={width:0,height:0,left:0,top:0};function useOffsets(_e,_,et){return reactExports.useMemo(function(){for(var tt,rt=new Map,nt=_.get((tt=_e[0])===null||tt===void 0?void 0:tt.key)||DEFAULT_SIZE$1,it=nt.left+nt.width,at=0;at<_e.length;at+=1){var lt=_e[at].key,ct=_.get(lt);if(!ct){var ut;ct=_.get((ut=_e[at-1])===null||ut===void 0?void 0:ut.key)||DEFAULT_SIZE$1}var st=rt.get(lt)||_objectSpread2({},ct);st.right=it-st.left-st.width,rt.set(lt,st)}return rt},[_e.map(function(tt){return tt.key}).join("_"),_,et])}function useSyncState(_e,_){var et=reactExports.useRef(_e),tt=reactExports.useState({}),rt=_slicedToArray(tt,2),nt=rt[1];function it(at){var lt=typeof at=="function"?at(et.current):at;lt!==et.current&&_(lt,et.current),et.current=lt,nt({})}return[et.current,it]}var MIN_SWIPE_DISTANCE=.1,STOP_SWIPE_DISTANCE=.01,REFRESH_INTERVAL=20,SPEED_OFF_MULTIPLE=Math.pow(.995,REFRESH_INTERVAL);function useTouchMove(_e,_){var et=reactExports.useState(),tt=_slicedToArray(et,2),rt=tt[0],nt=tt[1],it=reactExports.useState(0),at=_slicedToArray(it,2),lt=at[0],ct=at[1],ut=reactExports.useState(0),st=_slicedToArray(ut,2),ot=st[0],dt=st[1],ft=reactExports.useState(),ht=_slicedToArray(ft,2),mt=ht[0],gt=ht[1],yt=reactExports.useRef();function vt(Et){var Tt=Et.touches[0],Ct=Tt.screenX,It=Tt.screenY;nt({x:Ct,y:It}),window.clearInterval(yt.current)}function bt(Et){if(rt){var Tt=Et.touches[0],Ct=Tt.screenX,It=Tt.screenY;nt({x:Ct,y:It});var Pt=Ct-rt.x,At=It-rt.y;_(Pt,At);var kt=Date.now();ct(kt),dt(kt-lt),gt({x:Pt,y:At})}}function xt(){if(rt&&(nt(null),gt(null),mt)){var Et=mt.x/ot,Tt=mt.y/ot,Ct=Math.abs(Et),It=Math.abs(Tt);if(Math.max(Ct,It)<MIN_SWIPE_DISTANCE)return;var Pt=Et,At=Tt;yt.current=window.setInterval(function(){if(Math.abs(Pt)<STOP_SWIPE_DISTANCE&&Math.abs(At)<STOP_SWIPE_DISTANCE){window.clearInterval(yt.current);return}Pt*=SPEED_OFF_MULTIPLE,At*=SPEED_OFF_MULTIPLE,_(Pt*REFRESH_INTERVAL,At*REFRESH_INTERVAL)},REFRESH_INTERVAL)}}var _t=reactExports.useRef();function St(Et){var Tt=Et.deltaX,Ct=Et.deltaY,It=0,Pt=Math.abs(Tt),At=Math.abs(Ct);Pt===At?It=_t.current==="x"?Tt:Ct:Pt>At?(It=Tt,_t.current="x"):(It=Ct,_t.current="y"),_(-It,-It)&&Et.preventDefault()}var wt=reactExports.useRef(null);wt.current={onTouchStart:vt,onTouchMove:bt,onTouchEnd:xt,onWheel:St},reactExports.useEffect(function(){function Et(Pt){wt.current.onTouchStart(Pt)}function Tt(Pt){wt.current.onTouchMove(Pt)}function Ct(Pt){wt.current.onTouchEnd(Pt)}function It(Pt){wt.current.onWheel(Pt)}return document.addEventListener("touchmove",Tt,{passive:!1}),document.addEventListener("touchend",Ct,{passive:!0}),_e.current.addEventListener("touchstart",Et,{passive:!0}),_e.current.addEventListener("wheel",It,{passive:!1}),function(){document.removeEventListener("touchmove",Tt),document.removeEventListener("touchend",Ct)}},[])}function useUpdate(_e){var _=reactExports.useState(0),et=_slicedToArray(_,2),tt=et[0],rt=et[1],nt=reactExports.useRef(0),it=reactExports.useRef();return it.current=_e,useLayoutUpdateEffect(function(){var at;(at=it.current)===null||at===void 0||at.call(it)},[tt]),function(){nt.current===tt&&(nt.current+=1,rt(nt.current))}}function useUpdateState(_e){var _=reactExports.useRef([]),et=reactExports.useState({}),tt=_slicedToArray(et,2),rt=tt[1],nt=reactExports.useRef(typeof _e=="function"?_e():_e),it=useUpdate(function(){var lt=nt.current;_.current.forEach(function(ct){lt=ct(lt)}),_.current=[],nt.current=lt,rt({})});function at(lt){_.current.push(lt),it()}return[nt.current,at]}var DEFAULT_SIZE={width:0,height:0,left:0,top:0,right:0};function useVisibleRange(_e,_,et,tt,rt,nt,it){var at=it.tabs,lt=it.tabPosition,ct=it.rtl,ut,st,ot;return["top","bottom"].includes(lt)?(ut="width",st=ct?"right":"left",ot=Math.abs(et)):(ut="height",st="top",ot=-et),reactExports.useMemo(function(){if(!at.length)return[0,0];for(var dt=at.length,ft=dt,ht=0;ht<dt;ht+=1){var mt=_e.get(at[ht].key)||DEFAULT_SIZE;if(Math.floor(mt[st]+mt[ut])>Math.floor(ot+_)){ft=ht-1;break}}for(var gt=0,yt=dt-1;yt>=0;yt-=1){var vt=_e.get(at[yt].key)||DEFAULT_SIZE;if(vt[st]<ot){gt=yt+1;break}}return gt>=ft?[0,0]:[gt,ft]},[_e,_,tt,rt,nt,ot,lt,at.map(function(dt){return dt.key}).join("_"),ct])}function stringify(_e){var _;return _e instanceof Map?(_={},_e.forEach(function(et,tt){_[tt]=et})):_=_e,JSON.stringify(_)}var RC_TABS_DOUBLE_QUOTE="TABS_DQ";function genDataNodeKey(_e){return String(_e).replace(/"/g,RC_TABS_DOUBLE_QUOTE)}function getRemovable(_e,_,et,tt){return!(!et||tt||_e===!1||_e===void 0&&(_===!1||_===null))}var AddButton=reactExports.forwardRef(function(_e,_){var et=_e.prefixCls,tt=_e.editable,rt=_e.locale,nt=_e.style;return!tt||tt.showAdd===!1?null:reactExports.createElement("button",{ref:_,type:"button",className:"".concat(et,"-nav-add"),style:nt,"aria-label":(rt==null?void 0:rt.addAriaLabel)||"Add tab",onClick:function(at){tt.onEdit("add",{event:at})}},tt.addIcon||"+")}),ExtraContent=reactExports.forwardRef(function(_e,_){var et=_e.position,tt=_e.prefixCls,rt=_e.extra;if(!rt)return null;var nt,it={};return _typeof(rt)==="object"&&!reactExports.isValidElement(rt)?it=rt:it.right=rt,et==="right"&&(nt=it.right),et==="left"&&(nt=it.left),nt?reactExports.createElement("div",{className:"".concat(tt,"-extra-content"),ref:_},nt):null}),OperationNode=reactExports.forwardRef(function(_e,_){var et=_e.prefixCls,tt=_e.id,rt=_e.tabs,nt=_e.locale,it=_e.mobile,at=_e.more,lt=at===void 0?{}:at,ct=_e.style,ut=_e.className,st=_e.editable,ot=_e.tabBarGutter,dt=_e.rtl,ft=_e.removeAriaLabel,ht=_e.onTabClick,mt=_e.getPopupContainer,gt=_e.popupClassName,yt=reactExports.useState(!1),vt=_slicedToArray(yt,2),bt=vt[0],xt=vt[1],_t=reactExports.useState(null),St=_slicedToArray(_t,2),wt=St[0],Et=St[1],Tt=lt.icon,Ct=Tt===void 0?"More":Tt,It="".concat(tt,"-more-popup"),Pt="".concat(et,"-dropdown"),At=wt!==null?"".concat(It,"-").concat(wt):null,kt=nt==null?void 0:nt.dropdownAriaLabel;function Rt(Xt,Wt){Xt.preventDefault(),Xt.stopPropagation(),st.onEdit("remove",{key:Wt,event:Xt})}var $t=reactExports.createElement(ExportMenu,{onClick:function(Wt){var Vt=Wt.key,qt=Wt.domEvent;ht(Vt,qt),xt(!1)},prefixCls:"".concat(Pt,"-menu"),id:It,tabIndex:-1,role:"listbox","aria-activedescendant":At,selectedKeys:[wt],"aria-label":kt!==void 0?kt:"expanded dropdown"},rt.map(function(Xt){var Wt=Xt.closable,Vt=Xt.disabled,qt=Xt.closeIcon,tr=Xt.key,Kt=Xt.label,Yt=getRemovable(Wt,qt,st,Vt);return reactExports.createElement(MenuItem$1,{key:tr,id:"".concat(It,"-").concat(tr),role:"option","aria-controls":tt&&"".concat(tt,"-panel-").concat(tr),disabled:Vt},reactExports.createElement("span",null,Kt),Yt&&reactExports.createElement("button",{type:"button","aria-label":ft||"remove",tabIndex:0,className:"".concat(Pt,"-menu-item-remove"),onClick:function(ir){ir.stopPropagation(),Rt(ir,tr)}},qt||st.removeIcon||"×"))}));function Mt(Xt){for(var Wt=rt.filter(function(Yt){return!Yt.disabled}),Vt=Wt.findIndex(function(Yt){return Yt.key===wt})||0,qt=Wt.length,tr=0;tr<qt;tr+=1){Vt=(Vt+Xt+qt)%qt;var Kt=Wt[Vt];if(!Kt.disabled){Et(Kt.key);return}}}function Nt(Xt){var Wt=Xt.which;if(!bt){[KeyCode.DOWN,KeyCode.SPACE,KeyCode.ENTER].includes(Wt)&&(xt(!0),Xt.preventDefault());return}switch(Wt){case KeyCode.UP:Mt(-1),Xt.preventDefault();break;case KeyCode.DOWN:Mt(1),Xt.preventDefault();break;case KeyCode.ESC:xt(!1);break;case KeyCode.SPACE:case KeyCode.ENTER:wt!==null&&ht(wt,Xt);break}}reactExports.useEffect(function(){var Xt=document.getElementById(At);Xt&&Xt.scrollIntoView&&Xt.scrollIntoView(!1)},[wt]),reactExports.useEffect(function(){bt||Et(null)},[bt]);var Dt=_defineProperty({},dt?"marginRight":"marginLeft",ot);rt.length||(Dt.visibility="hidden",Dt.order=1);var jt=classNames(_defineProperty({},"".concat(Pt,"-rtl"),dt)),Ut=it?null:reactExports.createElement(Dropdown$1,_extends$x({prefixCls:Pt,overlay:$t,visible:rt.length?bt:!1,onVisibleChange:xt,overlayClassName:classNames(jt,gt),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:mt},lt),reactExports.createElement("button",{type:"button",className:"".concat(et,"-nav-more"),style:Dt,"aria-haspopup":"listbox","aria-controls":It,id:"".concat(tt,"-more"),"aria-expanded":bt,onKeyDown:Nt},Ct));return reactExports.createElement("div",{className:classNames("".concat(et,"-nav-operations"),ut),style:ct,ref:_},Ut,reactExports.createElement(AddButton,{prefixCls:et,locale:nt,editable:st}))});const OperationNode$1=reactExports.memo(OperationNode,function(_e,_){return _.tabMoving});var TabNode=function _e(_){var et=_.prefixCls,tt=_.id,rt=_.active,nt=_.focus,it=_.tab,at=it.key,lt=it.label,ct=it.disabled,ut=it.closeIcon,st=it.icon,ot=_.closable,dt=_.renderWrapper,ft=_.removeAriaLabel,ht=_.editable,mt=_.onClick,gt=_.onFocus,yt=_.onBlur,vt=_.onKeyDown,bt=_.onMouseDown,xt=_.onMouseUp,_t=_.style,St=_.tabCount,wt=_.currentPosition,Et="".concat(et,"-tab"),Tt=getRemovable(ot,ut,ht,ct);function Ct(Rt){ct||mt(Rt)}function It(Rt){Rt.preventDefault(),Rt.stopPropagation(),ht.onEdit("remove",{key:at,event:Rt})}var Pt=reactExports.useMemo(function(){return st&&typeof lt=="string"?reactExports.createElement("span",null,lt):lt},[lt,st]),At=reactExports.useRef(null);reactExports.useEffect(function(){nt&&At.current&&At.current.focus()},[nt]);var kt=reactExports.createElement("div",{key:at,"data-node-key":genDataNodeKey(at),className:classNames(Et,_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"".concat(Et,"-with-remove"),Tt),"".concat(Et,"-active"),rt),"".concat(Et,"-disabled"),ct),"".concat(Et,"-focus"),nt)),style:_t,onClick:Ct},reactExports.createElement("div",{ref:At,role:"tab","aria-selected":rt,id:tt&&"".concat(tt,"-tab-").concat(at),className:"".concat(Et,"-btn"),"aria-controls":tt&&"".concat(tt,"-panel-").concat(at),"aria-disabled":ct,tabIndex:ct?null:rt?0:-1,onClick:function($t){$t.stopPropagation(),Ct($t)},onKeyDown:vt,onMouseDown:bt,onMouseUp:xt,onFocus:gt,onBlur:yt},nt&&reactExports.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(wt," of ").concat(St)),st&&reactExports.createElement("span",{className:"".concat(Et,"-icon")},st),lt&&Pt),Tt&&reactExports.createElement("button",{type:"button",role:"tab","aria-label":ft||"remove",tabIndex:rt?0:-1,className:"".concat(Et,"-remove"),onClick:function($t){$t.stopPropagation(),It($t)}},ut||ht.removeIcon||"×"));return dt?dt(kt):kt},getTabSize=function _e(_,et){var tt=_.offsetWidth,rt=_.offsetHeight,nt=_.offsetTop,it=_.offsetLeft,at=_.getBoundingClientRect(),lt=at.width,ct=at.height,ut=at.left,st=at.top;return Math.abs(lt-tt)<1?[lt,ct,ut-et.left,st-et.top]:[tt,rt,it,nt]},getSize=function _e(_){var et=_.current||{},tt=et.offsetWidth,rt=tt===void 0?0:tt,nt=et.offsetHeight,it=nt===void 0?0:nt;if(_.current){var at=_.current.getBoundingClientRect(),lt=at.width,ct=at.height;if(Math.abs(lt-rt)<1)return[lt,ct]}return[rt,it]},getUnitValue=function _e(_,et){return _[et?0:1]},TabNavList=reactExports.forwardRef(function(_e,_){var et=_e.className,tt=_e.style,rt=_e.id,nt=_e.animated,it=_e.activeKey,at=_e.rtl,lt=_e.extra,ct=_e.editable,ut=_e.locale,st=_e.tabPosition,ot=_e.tabBarGutter,dt=_e.children,ft=_e.onTabClick,ht=_e.onTabScroll,mt=_e.indicator,gt=reactExports.useContext(TabContext),yt=gt.prefixCls,vt=gt.tabs,bt=reactExports.useRef(null),xt=reactExports.useRef(null),_t=reactExports.useRef(null),St=reactExports.useRef(null),wt=reactExports.useRef(null),Et=reactExports.useRef(null),Tt=reactExports.useRef(null),Ct=st==="top"||st==="bottom",It=useSyncState(0,function(Or,Er){Ct&&ht&&ht({direction:Or>Er?"left":"right"})}),Pt=_slicedToArray(It,2),At=Pt[0],kt=Pt[1],Rt=useSyncState(0,function(Or,Er){!Ct&&ht&&ht({direction:Or>Er?"top":"bottom"})}),$t=_slicedToArray(Rt,2),Mt=$t[0],Nt=$t[1],Dt=reactExports.useState([0,0]),jt=_slicedToArray(Dt,2),Ut=jt[0],Xt=jt[1],Wt=reactExports.useState([0,0]),Vt=_slicedToArray(Wt,2),qt=Vt[0],tr=Vt[1],Kt=reactExports.useState([0,0]),Yt=_slicedToArray(Kt,2),rr=Yt[0],ir=Yt[1],lr=reactExports.useState([0,0]),ar=_slicedToArray(lr,2),ur=ar[0],fr=ar[1],yr=useUpdateState(new Map),Tr=_slicedToArray(yr,2),Sr=Tr[0],kr=Tr[1],xr=useOffsets(vt,Sr,qt[0]),dr=getUnitValue(Ut,Ct),gr=getUnitValue(qt,Ct),mr=getUnitValue(rr,Ct),Fr=getUnitValue(ur,Ct),_r=Math.floor(dr)<Math.floor(gr+mr),Nr=_r?dr-Fr:dr-mr,mn="".concat(yt,"-nav-operations-hidden"),qr=0,Gr=0;Ct&&at?(qr=0,Gr=Math.max(0,gr-Nr)):(qr=Math.min(0,Nr-gr),Gr=0);function gn(Or){return Or<qr?qr:Or>Gr?Gr:Or}var ln=reactExports.useRef(null),Hr=reactExports.useState(),en=_slicedToArray(Hr,2),vr=en[0],un=en[1];function an(){un(Date.now())}function yn(){ln.current&&clearTimeout(ln.current)}useTouchMove(St,function(Or,Er){function Br(er,Ur){er(function(Xr){var _n=gn(Xr+Ur);return _n})}return _r?(Ct?Br(kt,Or):Br(Nt,Er),yn(),an(),!0):!1}),reactExports.useEffect(function(){return yn(),vr&&(ln.current=setTimeout(function(){un(0)},100)),yn},[vr]);var hn=useVisibleRange(xr,Nr,Ct?At:Mt,gr,mr,Fr,_objectSpread2(_objectSpread2({},_e),{},{tabs:vt})),Lr=_slicedToArray(hn,2),bn=Lr[0],Sn=Lr[1],On=useEvent(function(){var Or=arguments.length>0&&arguments[0]!==void 0?arguments[0]:it,Er=xr.get(Or)||{width:0,height:0,left:0,right:0,top:0};if(Ct){var Br=At;at?Er.right<At?Br=Er.right:Er.right+Er.width>At+Nr&&(Br=Er.right+Er.width-Nr):Er.left<-At?Br=-Er.left:Er.left+Er.width>-At+Nr&&(Br=-(Er.left+Er.width-Nr)),Nt(0),kt(gn(Br))}else{var er=Mt;Er.top<-Mt?er=-Er.top:Er.top+Er.height>-Mt+Nr&&(er=-(Er.top+Er.height-Nr)),kt(0),Nt(gn(er))}}),$r=reactExports.useState(),wr=_slicedToArray($r,2),Ar=wr[0],tn=wr[1],Mr=reactExports.useState(!1),Cr=_slicedToArray(Mr,2),Rr=Cr[0],Zr=Cr[1],dn=vt.filter(function(Or){return!Or.disabled}).map(function(Or){return Or.key}),Cn=function(Er){var Br=dn.indexOf(Ar||it),er=dn.length,Ur=(Br+Er+er)%er,Xr=dn[Ur];tn(Xr)},Qr=function(Er){var Br=Er.code,er=at&&Ct,Ur=dn[0],Xr=dn[dn.length-1];switch(Br){case"ArrowLeft":{Ct&&Cn(er?1:-1);break}case"ArrowRight":{Ct&&Cn(er?-1:1);break}case"ArrowUp":{Er.preventDefault(),Ct||Cn(-1);break}case"ArrowDown":{Er.preventDefault(),Ct||Cn(1);break}case"Home":{Er.preventDefault(),tn(Ur);break}case"End":{Er.preventDefault(),tn(Xr);break}case"Enter":case"Space":{Er.preventDefault(),ft(it,Er);break}case"Backspace":case"Delete":{var _n=dn.indexOf(Ar),xn=vt.find(function(Rn){return Rn.key===Ar}),Ln=getRemovable(xn==null?void 0:xn.closable,xn==null?void 0:xn.closeIcon,ct,xn==null?void 0:xn.disabled);Ln&&(Er.preventDefault(),Er.stopPropagation(),ct.onEdit("remove",{key:Ar,event:Er}),_n===dn.length-1?Cn(-1):Cn(1));break}}},Mn={};Ct?Mn[at?"marginRight":"marginLeft"]=ot:Mn.marginTop=ot;var Fn=vt.map(function(Or,Er){var Br=Or.key;return reactExports.createElement(TabNode,{id:rt,prefixCls:yt,key:Br,tab:Or,style:Er===0?void 0:Mn,closable:Or.closable,editable:ct,active:Br===it,focus:Br===Ar,renderWrapper:dt,removeAriaLabel:ut==null?void 0:ut.removeAriaLabel,tabCount:dn.length,currentPosition:Er+1,onClick:function(Ur){ft(Br,Ur)},onKeyDown:Qr,onFocus:function(){Rr||tn(Br),On(Br),an(),St.current&&(at||(St.current.scrollLeft=0),St.current.scrollTop=0)},onBlur:function(){tn(void 0)},onMouseDown:function(){Zr(!0)},onMouseUp:function(){Zr(!1)}})}),Jr=function(){return kr(function(){var Er,Br=new Map,er=(Er=wt.current)===null||Er===void 0?void 0:Er.getBoundingClientRect();return vt.forEach(function(Ur){var Xr,_n=Ur.key,xn=(Xr=wt.current)===null||Xr===void 0?void 0:Xr.querySelector('[data-node-key="'.concat(genDataNodeKey(_n),'"]'));if(xn){var Ln=getTabSize(xn,er),Rn=_slicedToArray(Ln,4),Yn=Rn[0],Pn=Rn[1],kn=Rn[2],jn=Rn[3];Br.set(_n,{width:Yn,height:Pn,left:kn,top:jn})}}),Br})};reactExports.useEffect(function(){Jr()},[vt.map(function(Or){return Or.key}).join("_")]);var rn=useUpdate(function(){var Or=getSize(bt),Er=getSize(xt),Br=getSize(_t);Xt([Or[0]-Er[0]-Br[0],Or[1]-Er[1]-Br[1]]);var er=getSize(Tt);ir(er);var Ur=getSize(Et);fr(Ur);var Xr=getSize(wt);tr([Xr[0]-er[0],Xr[1]-er[1]]),Jr()}),Tn=vt.slice(0,bn),En=vt.slice(Sn+1),Ft=[].concat(_toConsumableArray(Tn),_toConsumableArray(En)),zt=xr.get(it),Ht=useIndicator({activeTabOffset:zt,horizontal:Ct,indicator:mt,rtl:at}),Zt=Ht.style;reactExports.useEffect(function(){On()},[it,qr,Gr,stringify(zt),stringify(xr),Ct]),reactExports.useEffect(function(){rn()},[at]);var Jt=!!Ft.length,nr="".concat(yt,"-nav-wrap"),hr,Pr,pr,Vr;return Ct?at?(Pr=At>0,hr=At!==Gr):(hr=At<0,Pr=At!==qr):(pr=Mt<0,Vr=Mt!==qr),reactExports.createElement(RefResizeObserver,{onResize:rn},reactExports.createElement("div",{ref:useComposeRef(_,bt),role:"tablist","aria-orientation":Ct?"horizontal":"vertical",className:classNames("".concat(yt,"-nav"),et),style:tt,onKeyDown:function(){an()}},reactExports.createElement(ExtraContent,{ref:xt,position:"left",extra:lt,prefixCls:yt}),reactExports.createElement(RefResizeObserver,{onResize:rn},reactExports.createElement("div",{className:classNames(nr,_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"".concat(nr,"-ping-left"),hr),"".concat(nr,"-ping-right"),Pr),"".concat(nr,"-ping-top"),pr),"".concat(nr,"-ping-bottom"),Vr)),ref:St},reactExports.createElement(RefResizeObserver,{onResize:rn},reactExports.createElement("div",{ref:wt,className:"".concat(yt,"-nav-list"),style:{transform:"translate(".concat(At,"px, ").concat(Mt,"px)"),transition:vr?"none":void 0}},Fn,reactExports.createElement(AddButton,{ref:Tt,prefixCls:yt,locale:ut,editable:ct,style:_objectSpread2(_objectSpread2({},Fn.length===0?void 0:Mn),{},{visibility:Jt?"hidden":null})}),reactExports.createElement("div",{className:classNames("".concat(yt,"-ink-bar"),_defineProperty({},"".concat(yt,"-ink-bar-animated"),nt.inkBar)),style:Zt}))))),reactExports.createElement(OperationNode$1,_extends$x({},_e,{removeAriaLabel:ut==null?void 0:ut.removeAriaLabel,ref:Et,prefixCls:yt,tabs:Ft,className:!Jt&&mn,tabMoving:!!vr})),reactExports.createElement(ExtraContent,{ref:_t,position:"right",extra:lt,prefixCls:yt})))}),TabPane$1=reactExports.forwardRef(function(_e,_){var et=_e.prefixCls,tt=_e.className,rt=_e.style,nt=_e.id,it=_e.active,at=_e.tabKey,lt=_e.children;return reactExports.createElement("div",{id:nt&&"".concat(nt,"-panel-").concat(at),role:"tabpanel",tabIndex:it?0:-1,"aria-labelledby":nt&&"".concat(nt,"-tab-").concat(at),"aria-hidden":!it,style:rt,className:classNames(et,it&&"".concat(et,"-active"),tt),ref:_},lt)}),_excluded$6=["renderTabBar"],_excluded2$3=["label","key"],TabNavListWrapper=function _e(_){var et=_.renderTabBar,tt=_objectWithoutProperties(_,_excluded$6),rt=reactExports.useContext(TabContext),nt=rt.tabs;if(et){var it=_objectSpread2(_objectSpread2({},tt),{},{panes:nt.map(function(at){var lt=at.label,ct=at.key,ut=_objectWithoutProperties(at,_excluded2$3);return reactExports.createElement(TabPane$1,_extends$x({tab:lt,key:ct,tabKey:ct},ut))})});return et(it,TabNavList)}return reactExports.createElement(TabNavList,tt)},_excluded$5=["key","forceRender","style","className","destroyInactiveTabPane"],TabPanelList=function _e(_){var et=_.id,tt=_.activeKey,rt=_.animated,nt=_.tabPosition,it=_.destroyInactiveTabPane,at=reactExports.useContext(TabContext),lt=at.prefixCls,ct=at.tabs,ut=rt.tabPane,st="".concat(lt,"-tabpane");return reactExports.createElement("div",{className:classNames("".concat(lt,"-content-holder"))},reactExports.createElement("div",{className:classNames("".concat(lt,"-content"),"".concat(lt,"-content-").concat(nt),_defineProperty({},"".concat(lt,"-content-animated"),ut))},ct.map(function(ot){var dt=ot.key,ft=ot.forceRender,ht=ot.style,mt=ot.className,gt=ot.destroyInactiveTabPane,yt=_objectWithoutProperties(ot,_excluded$5),vt=dt===tt;return reactExports.createElement(CSSMotion,_extends$x({key:dt,visible:vt,forceRender:ft,removeOnLeave:!!(it||gt),leavedClassName:"".concat(st,"-hidden")},rt.tabPaneMotion),function(bt,xt){var _t=bt.style,St=bt.className;return reactExports.createElement(TabPane$1,_extends$x({},yt,{prefixCls:st,id:et,tabKey:dt,animated:ut,active:vt,style:_objectSpread2(_objectSpread2({},ht),_t),className:classNames(mt,St),ref:xt}))})})))};function useAnimateConfig$1(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},_;return _e===!1?_={inkBar:!1,tabPane:!1}:_e===!0?_={inkBar:!0,tabPane:!1}:_=_objectSpread2({inkBar:!0},_typeof(_e)==="object"?_e:{}),_.tabPaneMotion&&_.tabPane===void 0&&(_.tabPane=!0),!_.tabPaneMotion&&_.tabPane&&(_.tabPane=!1),_}var _excluded$4=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],uuid=0,Tabs$1=reactExports.forwardRef(function(_e,_){var et=_e.id,tt=_e.prefixCls,rt=tt===void 0?"rc-tabs":tt,nt=_e.className,it=_e.items,at=_e.direction,lt=_e.activeKey,ct=_e.defaultActiveKey,ut=_e.editable,st=_e.animated,ot=_e.tabPosition,dt=ot===void 0?"top":ot,ft=_e.tabBarGutter,ht=_e.tabBarStyle,mt=_e.tabBarExtraContent,gt=_e.locale,yt=_e.more,vt=_e.destroyInactiveTabPane,bt=_e.renderTabBar,xt=_e.onChange,_t=_e.onTabClick,St=_e.onTabScroll,wt=_e.getPopupContainer,Et=_e.popupClassName,Tt=_e.indicator,Ct=_objectWithoutProperties(_e,_excluded$4),It=reactExports.useMemo(function(){return(it||[]).filter(function(ur){return ur&&_typeof(ur)==="object"&&"key"in ur})},[it]),Pt=at==="rtl",At=useAnimateConfig$1(st),kt=reactExports.useState(!1),Rt=_slicedToArray(kt,2),$t=Rt[0],Mt=Rt[1];reactExports.useEffect(function(){Mt(isMobile())},[]);var Nt=useMergedState(function(){var ur;return(ur=It[0])===null||ur===void 0?void 0:ur.key},{value:lt,defaultValue:ct}),Dt=_slicedToArray(Nt,2),jt=Dt[0],Ut=Dt[1],Xt=reactExports.useState(function(){return It.findIndex(function(ur){return ur.key===jt})}),Wt=_slicedToArray(Xt,2),Vt=Wt[0],qt=Wt[1];reactExports.useEffect(function(){var ur=It.findIndex(function(yr){return yr.key===jt});if(ur===-1){var fr;ur=Math.max(0,Math.min(Vt,It.length-1)),Ut((fr=It[ur])===null||fr===void 0?void 0:fr.key)}qt(ur)},[It.map(function(ur){return ur.key}).join("_"),jt,Vt]);var tr=useMergedState(null,{value:et}),Kt=_slicedToArray(tr,2),Yt=Kt[0],rr=Kt[1];reactExports.useEffect(function(){et||(rr("rc-tabs-".concat(uuid)),uuid+=1)},[]);function ir(ur,fr){_t==null||_t(ur,fr);var yr=ur!==jt;Ut(ur),yr&&(xt==null||xt(ur))}var lr={id:Yt,activeKey:jt,animated:At,tabPosition:dt,rtl:Pt,mobile:$t},ar=_objectSpread2(_objectSpread2({},lr),{},{editable:ut,locale:gt,more:yt,tabBarGutter:ft,onTabClick:ir,onTabScroll:St,extra:mt,style:ht,panes:null,getPopupContainer:wt,popupClassName:Et,indicator:Tt});return reactExports.createElement(TabContext.Provider,{value:{tabs:It,prefixCls:rt}},reactExports.createElement("div",_extends$x({ref:_,id:et,className:classNames(rt,"".concat(rt,"-").concat(dt),_defineProperty(_defineProperty(_defineProperty({},"".concat(rt,"-mobile"),$t),"".concat(rt,"-editable"),ut),"".concat(rt,"-rtl"),Pt),nt)},Ct),reactExports.createElement(TabNavListWrapper,_extends$x({},ar,{renderTabBar:bt})),reactExports.createElement(TabPanelList,_extends$x({destroyInactiveTabPane:vt},lr,{animated:At}))))});const motion={motionAppear:!1,motionEnter:!0,motionLeave:!0};function useAnimateConfig(_e){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},et;return _===!1?et={inkBar:!1,tabPane:!1}:_===!0?et={inkBar:!0,tabPane:!0}:et=Object.assign({inkBar:!0},typeof _=="object"?_:{}),et.tabPane&&(et.tabPaneMotion=Object.assign(Object.assign({},motion),{motionName:getTransitionName(_e,"switch")})),et}var __rest$9=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};function filter(_e){return _e.filter(_=>_)}function useLegacyItems(_e,_){if(_e)return _e;const et=toArray$2(_).map(tt=>{if(reactExports.isValidElement(tt)){const{key:rt,props:nt}=tt,it=nt||{},{tab:at}=it,lt=__rest$9(it,["tab"]);return Object.assign(Object.assign({key:String(rt)},lt),{label:at})}return null});return filter(et)}const genMotionStyle$1=_e=>{const{componentCls:_,motionDurationSlow:et}=_e;return[{[_]:{[`${_}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${et}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${et}`}}}}},[initSlideMotion(_e,"slide-up"),initSlideMotion(_e,"slide-down")]]},genCardStyle$1=_e=>{const{componentCls:_,tabsCardPadding:et,cardBg:tt,cardGutter:rt,colorBorderSecondary:nt,itemSelectedColor:it}=_e;return{[`${_}-card`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-tab`]:{margin:0,padding:et,background:tt,border:`${unit$1(_e.lineWidth)} ${_e.lineType} ${nt}`,transition:`all ${_e.motionDurationSlow} ${_e.motionEaseInOut}`},[`${_}-tab-active`]:{color:it,background:_e.colorBgContainer},[`${_}-tab-focus`]:Object.assign({},genFocusOutline(_e,-3)),[`${_}-ink-bar`]:{visibility:"hidden"},[`& ${_}-tab${_}-tab-focus ${_}-tab-btn`]:{outline:"none"}},[`&${_}-top, &${_}-bottom`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-tab + ${_}-tab`]:{marginLeft:{_skip_check_:!0,value:unit$1(rt)}}}},[`&${_}-top`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-tab`]:{borderRadius:`${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)} 0 0`},[`${_}-tab-active`]:{borderBottomColor:_e.colorBgContainer}}},[`&${_}-bottom`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-tab`]:{borderRadius:`0 0 ${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)}`},[`${_}-tab-active`]:{borderTopColor:_e.colorBgContainer}}},[`&${_}-left, &${_}-right`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-tab + ${_}-tab`]:{marginTop:unit$1(rt)}}},[`&${_}-left`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-tab`]:{borderRadius:{_skip_check_:!0,value:`${unit$1(_e.borderRadiusLG)} 0 0 ${unit$1(_e.borderRadiusLG)}`}},[`${_}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:_e.colorBgContainer}}}},[`&${_}-right`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)} 0`}},[`${_}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:_e.colorBgContainer}}}}}}},genDropdownStyle=_e=>{const{componentCls:_,itemHoverColor:et,dropdownEdgeChildVerticalPadding:tt}=_e;return{[`${_}-dropdown`]:Object.assign(Object.assign({},resetComponent(_e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:_e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${_}-dropdown-menu`]:{maxHeight:_e.tabsDropdownHeight,margin:0,padding:`${unit$1(tt)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:_e.colorBgContainer,backgroundClip:"padding-box",borderRadius:_e.borderRadiusLG,outline:"none",boxShadow:_e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},textEllipsis),{display:"flex",alignItems:"center",minWidth:_e.tabsDropdownWidth,margin:0,padding:`${unit$1(_e.paddingXXS)} ${unit$1(_e.paddingSM)}`,color:_e.colorText,fontWeight:"normal",fontSize:_e.fontSize,lineHeight:_e.lineHeight,cursor:"pointer",transition:`all ${_e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:_e.marginSM},color:_e.colorTextDescription,fontSize:_e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:et}},"&:hover":{background:_e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:_e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},genPositionStyle=_e=>{const{componentCls:_,margin:et,colorBorderSecondary:tt,horizontalMargin:rt,verticalItemPadding:nt,verticalItemMargin:it,calc:at}=_e;return{[`${_}-top, ${_}-bottom`]:{flexDirection:"column",[`> ${_}-nav, > div > ${_}-nav`]:{margin:rt,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${unit$1(_e.lineWidth)} ${_e.lineType} ${tt}`,content:"''"},[`${_}-ink-bar`]:{height:_e.lineWidthBold,"&-animated":{transition:`width ${_e.motionDurationSlow}, left ${_e.motionDurationSlow},
            right ${_e.motionDurationSlow}`}},[`${_}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:_e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:_e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:_e.boxShadowTabsOverflowRight},[`&${_}-nav-wrap-ping-left::before`]:{opacity:1},[`&${_}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${_}-top`]:{[`> ${_}-nav,
        > div > ${_}-nav`]:{"&::before":{bottom:0},[`${_}-ink-bar`]:{bottom:0}}},[`${_}-bottom`]:{[`> ${_}-nav, > div > ${_}-nav`]:{order:1,marginTop:et,marginBottom:0,"&::before":{top:0},[`${_}-ink-bar`]:{top:0}},[`> ${_}-content-holder, > div > ${_}-content-holder`]:{order:0}},[`${_}-left, ${_}-right`]:{[`> ${_}-nav, > div > ${_}-nav`]:{flexDirection:"column",minWidth:at(_e.controlHeight).mul(1.25).equal(),[`${_}-tab`]:{padding:nt,textAlign:"center"},[`${_}-tab + ${_}-tab`]:{margin:it},[`${_}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:_e.controlHeight},"&::before":{top:0,boxShadow:_e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:_e.boxShadowTabsOverflowBottom},[`&${_}-nav-wrap-ping-top::before`]:{opacity:1},[`&${_}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${_}-ink-bar`]:{width:_e.lineWidthBold,"&-animated":{transition:`height ${_e.motionDurationSlow}, top ${_e.motionDurationSlow}`}},[`${_}-nav-list, ${_}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${_}-left`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${_}-content-holder, > div > ${_}-content-holder`]:{marginLeft:{_skip_check_:!0,value:unit$1(at(_e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${unit$1(_e.lineWidth)} ${_e.lineType} ${_e.colorBorder}`},[`> ${_}-content > ${_}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:_e.paddingLG}}}},[`${_}-right`]:{[`> ${_}-nav, > div > ${_}-nav`]:{order:1,[`${_}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${_}-content-holder, > div > ${_}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:at(_e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${unit$1(_e.lineWidth)} ${_e.lineType} ${_e.colorBorder}`},[`> ${_}-content > ${_}-tabpane`]:{paddingRight:{_skip_check_:!0,value:_e.paddingLG}}}}}},genSizeStyle=_e=>{const{componentCls:_,cardPaddingSM:et,cardPaddingLG:tt,horizontalItemPaddingSM:rt,horizontalItemPaddingLG:nt}=_e;return{[_]:{"&-small":{[`> ${_}-nav`]:{[`${_}-tab`]:{padding:rt,fontSize:_e.titleFontSizeSM}}},"&-large":{[`> ${_}-nav`]:{[`${_}-tab`]:{padding:nt,fontSize:_e.titleFontSizeLG}}}},[`${_}-card`]:{[`&${_}-small`]:{[`> ${_}-nav`]:{[`${_}-tab`]:{padding:et}},[`&${_}-bottom`]:{[`> ${_}-nav ${_}-tab`]:{borderRadius:`0 0 ${unit$1(_e.borderRadius)} ${unit$1(_e.borderRadius)}`}},[`&${_}-top`]:{[`> ${_}-nav ${_}-tab`]:{borderRadius:`${unit$1(_e.borderRadius)} ${unit$1(_e.borderRadius)} 0 0`}},[`&${_}-right`]:{[`> ${_}-nav ${_}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${unit$1(_e.borderRadius)} ${unit$1(_e.borderRadius)} 0`}}},[`&${_}-left`]:{[`> ${_}-nav ${_}-tab`]:{borderRadius:{_skip_check_:!0,value:`${unit$1(_e.borderRadius)} 0 0 ${unit$1(_e.borderRadius)}`}}}},[`&${_}-large`]:{[`> ${_}-nav`]:{[`${_}-tab`]:{padding:tt}}}}}},genTabStyle=_e=>{const{componentCls:_,itemActiveColor:et,itemHoverColor:tt,iconCls:rt,tabsHorizontalItemMargin:nt,horizontalItemPadding:it,itemSelectedColor:at,itemColor:lt}=_e,ct=`${_}-tab`;return{[ct]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:it,fontSize:_e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:lt,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:et}},"&-btn":{outline:"none",transition:`all ${_e.motionDurationSlow}`,[`${ct}-icon:not(:last-child)`]:{marginInlineEnd:_e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:_e.calc(_e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:_e.marginXS},color:_e.colorTextDescription,fontSize:_e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${_e.motionDurationSlow}`,"&:hover":{color:_e.colorTextHeading}},genFocusStyle(_e)),"&:hover":{color:tt},[`&${ct}-active ${ct}-btn`]:{color:at,textShadow:_e.tabsActiveTextShadow},[`&${ct}-focus ${ct}-btn`]:Object.assign({},genFocusOutline(_e)),[`&${ct}-disabled`]:{color:_e.colorTextDisabled,cursor:"not-allowed"},[`&${ct}-disabled ${ct}-btn, &${ct}-disabled ${_}-remove`]:{"&:focus, &:active":{color:_e.colorTextDisabled}},[`& ${ct}-remove ${rt}`]:{margin:0},[`${rt}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:_e.marginSM}}},[`${ct} + ${ct}`]:{margin:{_skip_check_:!0,value:nt}}}},genRtlStyle=_e=>{const{componentCls:_,tabsHorizontalItemMarginRTL:et,iconCls:tt,cardGutter:rt,calc:nt}=_e;return{[`${_}-rtl`]:{direction:"rtl",[`${_}-nav`]:{[`${_}-tab`]:{margin:{_skip_check_:!0,value:et},[`${_}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[tt]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:unit$1(_e.marginSM)}},[`${_}-tab-remove`]:{marginRight:{_skip_check_:!0,value:unit$1(_e.marginXS)},marginLeft:{_skip_check_:!0,value:unit$1(nt(_e.marginXXS).mul(-1).equal())},[tt]:{margin:0}}}},[`&${_}-left`]:{[`> ${_}-nav`]:{order:1},[`> ${_}-content-holder`]:{order:0}},[`&${_}-right`]:{[`> ${_}-nav`]:{order:0},[`> ${_}-content-holder`]:{order:1}},[`&${_}-card${_}-top, &${_}-card${_}-bottom`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-tab + ${_}-tab`]:{marginRight:{_skip_check_:!0,value:rt},marginLeft:{_skip_check_:!0,value:0}}}}},[`${_}-dropdown-rtl`]:{direction:"rtl"},[`${_}-menu-item`]:{[`${_}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},genTabsStyle=_e=>{const{componentCls:_,tabsCardPadding:et,cardHeight:tt,cardGutter:rt,itemHoverColor:nt,itemActiveColor:it,colorBorderSecondary:at}=_e;return{[_]:Object.assign(Object.assign(Object.assign(Object.assign({},resetComponent(_e)),{display:"flex",[`> ${_}-nav, > div > ${_}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${_}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${_e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${_}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${_e.motionDurationSlow}`},[`${_}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${_}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${_}-nav-more`]:{position:"relative",padding:et,background:"transparent",border:0,color:_e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:_e.calc(_e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${_}-nav-add`]:Object.assign({minWidth:tt,marginLeft:{_skip_check_:!0,value:rt},padding:unit$1(_e.paddingXS),background:"transparent",border:`${unit$1(_e.lineWidth)} ${_e.lineType} ${at}`,borderRadius:`${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:_e.colorText,transition:`all ${_e.motionDurationSlow} ${_e.motionEaseInOut}`,"&:hover":{color:nt},"&:active, &:focus:not(:focus-visible)":{color:it}},genFocusStyle(_e,-3))},[`${_}-extra-content`]:{flex:"none"},[`${_}-ink-bar`]:{position:"absolute",background:_e.inkBarColor,pointerEvents:"none"}}),genTabStyle(_e)),{[`${_}-content`]:{position:"relative",width:"100%"},[`${_}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${_}-tabpane`]:Object.assign(Object.assign({},genFocusStyle(_e)),{"&-hidden":{display:"none"}})}),[`${_}-centered`]:{[`> ${_}-nav, > div > ${_}-nav`]:{[`${_}-nav-wrap`]:{[`&:not([class*='${_}-nav-wrap-ping']) > ${_}-nav-list`]:{margin:"auto"}}}}}},prepareComponentToken$3=_e=>{const _=_e.controlHeightLG;return{zIndexPopup:_e.zIndexPopupBase+50,cardBg:_e.colorFillAlter,cardHeight:_,cardPadding:`${(_-Math.round(_e.fontSize*_e.lineHeight))/2-_e.lineWidth}px ${_e.padding}px`,cardPaddingSM:`${_e.paddingXXS*1.5}px ${_e.padding}px`,cardPaddingLG:`${_e.paddingXS}px ${_e.padding}px ${_e.paddingXXS*1.5}px`,titleFontSize:_e.fontSize,titleFontSizeLG:_e.fontSizeLG,titleFontSizeSM:_e.fontSize,inkBarColor:_e.colorPrimary,horizontalMargin:`0 0 ${_e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${_e.paddingSM}px 0`,horizontalItemPaddingSM:`${_e.paddingXS}px 0`,horizontalItemPaddingLG:`${_e.padding}px 0`,verticalItemPadding:`${_e.paddingXS}px ${_e.paddingLG}px`,verticalItemMargin:`${_e.margin}px 0 0 0`,itemColor:_e.colorText,itemSelectedColor:_e.colorPrimary,itemHoverColor:_e.colorPrimaryHover,itemActiveColor:_e.colorPrimaryActive,cardGutter:_e.marginXXS/2}},useStyle$3=genStyleHooks("Tabs",_e=>{const _=merge(_e,{tabsCardPadding:_e.cardPadding,dropdownEdgeChildVerticalPadding:_e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${unit$1(_e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${unit$1(_e.horizontalItemGutter)}`});return[genSizeStyle(_),genRtlStyle(_),genPositionStyle(_),genDropdownStyle(_),genCardStyle$1(_),genTabsStyle(_),genMotionStyle$1(_)]},prepareComponentToken$3),TabPane=()=>null;var __rest$8=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const Tabs=_e=>{var _,et,tt,rt,nt,it,at,lt,ct,ut,st;const{type:ot,className:dt,rootClassName:ft,size:ht,onEdit:mt,hideAdd:gt,centered:yt,addIcon:vt,removeIcon:bt,moreIcon:xt,more:_t,popupClassName:St,children:wt,items:Et,animated:Tt,style:Ct,indicatorSize:It,indicator:Pt}=_e,At=__rest$8(_e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:kt}=At,{direction:Rt,tabs:$t,getPrefixCls:Mt,getPopupContainer:Nt}=reactExports.useContext(ConfigContext),Dt=Mt("tabs",kt),jt=useCSSVarCls(Dt),[Ut,Xt,Wt]=useStyle$3(Dt,jt);let Vt;ot==="editable-card"&&(Vt={onEdit:(lr,ar)=>{let{key:ur,event:fr}=ar;mt==null||mt(lr==="add"?fr:ur,lr)},removeIcon:(_=bt??($t==null?void 0:$t.removeIcon))!==null&&_!==void 0?_:reactExports.createElement(RefIcon$d,null),addIcon:(vt??($t==null?void 0:$t.addIcon))||reactExports.createElement(RefIcon$6,null),showAdd:gt!==!0});const qt=Mt(),tr=useSize(ht),Kt=useLegacyItems(Et,wt),Yt=useAnimateConfig(Dt,Tt),rr=Object.assign(Object.assign({},$t==null?void 0:$t.style),Ct),ir={align:(et=Pt==null?void 0:Pt.align)!==null&&et!==void 0?et:(tt=$t==null?void 0:$t.indicator)===null||tt===void 0?void 0:tt.align,size:(at=(nt=(rt=Pt==null?void 0:Pt.size)!==null&&rt!==void 0?rt:It)!==null&&nt!==void 0?nt:(it=$t==null?void 0:$t.indicator)===null||it===void 0?void 0:it.size)!==null&&at!==void 0?at:$t==null?void 0:$t.indicatorSize};return Ut(reactExports.createElement(Tabs$1,Object.assign({direction:Rt,getPopupContainer:Nt},At,{items:Kt,className:classNames({[`${Dt}-${tr}`]:tr,[`${Dt}-card`]:["card","editable-card"].includes(ot),[`${Dt}-editable-card`]:ot==="editable-card",[`${Dt}-centered`]:yt},$t==null?void 0:$t.className,dt,ft,Xt,Wt,jt),popupClassName:classNames(St,Xt,Wt,jt),style:rr,editable:Vt,more:Object.assign({icon:(st=(ut=(ct=(lt=$t==null?void 0:$t.more)===null||lt===void 0?void 0:lt.icon)!==null&&ct!==void 0?ct:$t==null?void 0:$t.moreIcon)!==null&&ut!==void 0?ut:xt)!==null&&st!==void 0?st:reactExports.createElement(RefIcon$7,null),transitionName:`${qt}-slide-up`},_t),prefixCls:Dt,animated:Yt,indicator:ir})))};Tabs.TabPane=TabPane;var __rest$7=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const Grid=_e=>{var{prefixCls:_,className:et,hoverable:tt=!0}=_e,rt=__rest$7(_e,["prefixCls","className","hoverable"]);const{getPrefixCls:nt}=reactExports.useContext(ConfigContext),it=nt("card",_),at=classNames(`${it}-grid`,et,{[`${it}-grid-hoverable`]:tt});return reactExports.createElement("div",Object.assign({},rt,{className:at}))},genCardHeadStyle=_e=>{const{antCls:_,componentCls:et,headerHeight:tt,headerPadding:rt,tabsMarginBottom:nt}=_e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:tt,marginBottom:-1,padding:`0 ${unit$1(rt)}`,color:_e.colorTextHeading,fontWeight:_e.fontWeightStrong,fontSize:_e.headerFontSize,background:_e.headerBg,borderBottom:`${unit$1(_e.lineWidth)} ${_e.lineType} ${_e.colorBorderSecondary}`,borderRadius:`${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)} 0 0`},clearFix()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},textEllipsis),{[`
          > ${et}-typography,
          > ${et}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${_}-tabs-top`]:{clear:"both",marginBottom:nt,color:_e.colorText,fontWeight:"normal",fontSize:_e.fontSize,"&-bar":{borderBottom:`${unit$1(_e.lineWidth)} ${_e.lineType} ${_e.colorBorderSecondary}`}}})},genCardGridStyle=_e=>{const{cardPaddingBase:_,colorBorderSecondary:et,cardShadow:tt,lineWidth:rt}=_e;return{width:"33.33%",padding:_,border:0,borderRadius:0,boxShadow:`
      ${unit$1(rt)} 0 0 0 ${et},
      0 ${unit$1(rt)} 0 0 ${et},
      ${unit$1(rt)} ${unit$1(rt)} 0 0 ${et},
      ${unit$1(rt)} 0 0 0 ${et} inset,
      0 ${unit$1(rt)} 0 0 ${et} inset;
    `,transition:`all ${_e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:tt}}},genCardActionsStyle=_e=>{const{componentCls:_,iconCls:et,actionsLiMargin:tt,cardActionsIconSize:rt,colorBorderSecondary:nt,actionsBg:it}=_e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:it,borderTop:`${unit$1(_e.lineWidth)} ${_e.lineType} ${nt}`,display:"flex",borderRadius:`0 0 ${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)}`},clearFix()),{"& > li":{margin:tt,color:_e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:_e.calc(_e.cardActionsIconSize).mul(2).equal(),fontSize:_e.fontSize,lineHeight:_e.lineHeight,cursor:"pointer","&:hover":{color:_e.colorPrimary,transition:`color ${_e.motionDurationMid}`},[`a:not(${_}-btn), > ${et}`]:{display:"inline-block",width:"100%",color:_e.colorTextDescription,lineHeight:unit$1(_e.fontHeight),transition:`color ${_e.motionDurationMid}`,"&:hover":{color:_e.colorPrimary}},[`> ${et}`]:{fontSize:rt,lineHeight:unit$1(_e.calc(rt).mul(_e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${unit$1(_e.lineWidth)} ${_e.lineType} ${nt}`}}})},genCardMetaStyle=_e=>Object.assign(Object.assign({margin:`${unit$1(_e.calc(_e.marginXXS).mul(-1).equal())} 0`,display:"flex"},clearFix()),{"&-avatar":{paddingInlineEnd:_e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:_e.marginXS}},"&-title":Object.assign({color:_e.colorTextHeading,fontWeight:_e.fontWeightStrong,fontSize:_e.fontSizeLG},textEllipsis),"&-description":{color:_e.colorTextDescription}}),genCardTypeInnerStyle=_e=>{const{componentCls:_,colorFillAlter:et,headerPadding:tt,bodyPadding:rt}=_e;return{[`${_}-head`]:{padding:`0 ${unit$1(tt)}`,background:et,"&-title":{fontSize:_e.fontSize}},[`${_}-body`]:{padding:`${unit$1(_e.padding)} ${unit$1(rt)}`}}},genCardLoadingStyle=_e=>{const{componentCls:_}=_e;return{overflow:"hidden",[`${_}-body`]:{userSelect:"none"}}},genCardStyle=_e=>{const{componentCls:_,cardShadow:et,cardHeadPadding:tt,colorBorderSecondary:rt,boxShadowTertiary:nt,bodyPadding:it,extraColor:at}=_e;return{[_]:Object.assign(Object.assign({},resetComponent(_e)),{position:"relative",background:_e.colorBgContainer,borderRadius:_e.borderRadiusLG,[`&:not(${_}-bordered)`]:{boxShadow:nt},[`${_}-head`]:genCardHeadStyle(_e),[`${_}-extra`]:{marginInlineStart:"auto",color:at,fontWeight:"normal",fontSize:_e.fontSize},[`${_}-body`]:Object.assign({padding:it,borderRadius:`0 0 ${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)}`},clearFix()),[`${_}-grid`]:genCardGridStyle(_e),[`${_}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)} 0 0`}},[`${_}-actions`]:genCardActionsStyle(_e),[`${_}-meta`]:genCardMetaStyle(_e)}),[`${_}-bordered`]:{border:`${unit$1(_e.lineWidth)} ${_e.lineType} ${rt}`,[`${_}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${_}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${_e.motionDurationMid}, border-color ${_e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:et}},[`${_}-contain-grid`]:{borderRadius:`${unit$1(_e.borderRadiusLG)} ${unit$1(_e.borderRadiusLG)} 0 0 `,[`${_}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${_}-loading) ${_}-body`]:{marginBlockStart:_e.calc(_e.lineWidth).mul(-1).equal(),marginInlineStart:_e.calc(_e.lineWidth).mul(-1).equal(),padding:0}},[`${_}-contain-tabs`]:{[`> div${_}-head`]:{minHeight:0,[`${_}-head-title, ${_}-extra`]:{paddingTop:tt}}},[`${_}-type-inner`]:genCardTypeInnerStyle(_e),[`${_}-loading`]:genCardLoadingStyle(_e),[`${_}-rtl`]:{direction:"rtl"}}},genCardSizeStyle=_e=>{const{componentCls:_,bodyPaddingSM:et,headerPaddingSM:tt,headerHeightSM:rt,headerFontSizeSM:nt}=_e;return{[`${_}-small`]:{[`> ${_}-head`]:{minHeight:rt,padding:`0 ${unit$1(tt)}`,fontSize:nt,[`> ${_}-head-wrapper`]:{[`> ${_}-extra`]:{fontSize:_e.fontSize}}},[`> ${_}-body`]:{padding:et}},[`${_}-small${_}-contain-tabs`]:{[`> ${_}-head`]:{[`${_}-head-title, ${_}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},prepareComponentToken$2=_e=>{var _,et;return{headerBg:"transparent",headerFontSize:_e.fontSizeLG,headerFontSizeSM:_e.fontSize,headerHeight:_e.fontSizeLG*_e.lineHeightLG+_e.padding*2,headerHeightSM:_e.fontSize*_e.lineHeight+_e.paddingXS*2,actionsBg:_e.colorBgContainer,actionsLiMargin:`${_e.paddingSM}px 0`,tabsMarginBottom:-_e.padding-_e.lineWidth,extraColor:_e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(_=_e.bodyPadding)!==null&&_!==void 0?_:_e.paddingLG,headerPadding:(et=_e.headerPadding)!==null&&et!==void 0?et:_e.paddingLG}},useStyle$2=genStyleHooks("Card",_e=>{const _=merge(_e,{cardShadow:_e.boxShadowCard,cardHeadPadding:_e.padding,cardPaddingBase:_e.paddingLG,cardActionsIconSize:_e.fontSize});return[genCardStyle(_),genCardSizeStyle(_)]},prepareComponentToken$2);var __rest$6=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const ActionNode=_e=>{const{actionClasses:_,actions:et=[],actionStyle:tt}=_e;return reactExports.createElement("ul",{className:_,style:tt},et.map((rt,nt)=>{const it=`action-${nt}`;return reactExports.createElement("li",{style:{width:`${100/et.length}%`},key:it},reactExports.createElement("span",null,rt))}))},Card$1=reactExports.forwardRef((_e,_)=>{const{prefixCls:et,className:tt,rootClassName:rt,style:nt,extra:it,headStyle:at={},bodyStyle:lt={},title:ct,loading:ut,bordered:st,variant:ot,size:dt,type:ft,cover:ht,actions:mt,tabList:gt,children:yt,activeTabKey:vt,defaultActiveTabKey:bt,tabBarExtraContent:xt,hoverable:_t,tabProps:St={},classNames:wt,styles:Et}=_e,Tt=__rest$6(_e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:Ct,direction:It,card:Pt}=reactExports.useContext(ConfigContext),[At]=useVariant("card",ot,st),kt=xr=>{var dr;(dr=_e.onTabChange)===null||dr===void 0||dr.call(_e,xr)},Rt=xr=>{var dr;return classNames((dr=Pt==null?void 0:Pt.classNames)===null||dr===void 0?void 0:dr[xr],wt==null?void 0:wt[xr])},$t=xr=>{var dr;return Object.assign(Object.assign({},(dr=Pt==null?void 0:Pt.styles)===null||dr===void 0?void 0:dr[xr]),Et==null?void 0:Et[xr])},Mt=reactExports.useMemo(()=>{let xr=!1;return reactExports.Children.forEach(yt,dr=>{(dr==null?void 0:dr.type)===Grid&&(xr=!0)}),xr},[yt]),Nt=Ct("card",et),[Dt,jt,Ut]=useStyle$2(Nt),Xt=reactExports.createElement(Skeleton,{loading:!0,active:!0,paragraph:{rows:4},title:!1},yt),Wt=vt!==void 0,Vt=Object.assign(Object.assign({},St),{[Wt?"activeKey":"defaultActiveKey"]:Wt?vt:bt,tabBarExtraContent:xt});let qt;const tr=useSize(dt),Kt=!tr||tr==="default"?"large":tr,Yt=gt?reactExports.createElement(Tabs,Object.assign({size:Kt},Vt,{className:`${Nt}-head-tabs`,onChange:kt,items:gt.map(xr=>{var{tab:dr}=xr,gr=__rest$6(xr,["tab"]);return Object.assign({label:dr},gr)})})):null;if(ct||it||Yt){const xr=classNames(`${Nt}-head`,Rt("header")),dr=classNames(`${Nt}-head-title`,Rt("title")),gr=classNames(`${Nt}-extra`,Rt("extra")),mr=Object.assign(Object.assign({},at),$t("header"));qt=reactExports.createElement("div",{className:xr,style:mr},reactExports.createElement("div",{className:`${Nt}-head-wrapper`},ct&&reactExports.createElement("div",{className:dr,style:$t("title")},ct),it&&reactExports.createElement("div",{className:gr,style:$t("extra")},it)),Yt)}const rr=classNames(`${Nt}-cover`,Rt("cover")),ir=ht?reactExports.createElement("div",{className:rr,style:$t("cover")},ht):null,lr=classNames(`${Nt}-body`,Rt("body")),ar=Object.assign(Object.assign({},lt),$t("body")),ur=reactExports.createElement("div",{className:lr,style:ar},ut?Xt:yt),fr=classNames(`${Nt}-actions`,Rt("actions")),yr=mt!=null&&mt.length?reactExports.createElement(ActionNode,{actionClasses:fr,actionStyle:$t("actions"),actions:mt}):null,Tr=omit(Tt,["onTabChange"]),Sr=classNames(Nt,Pt==null?void 0:Pt.className,{[`${Nt}-loading`]:ut,[`${Nt}-bordered`]:At!=="borderless",[`${Nt}-hoverable`]:_t,[`${Nt}-contain-grid`]:Mt,[`${Nt}-contain-tabs`]:gt==null?void 0:gt.length,[`${Nt}-${tr}`]:tr,[`${Nt}-type-${ft}`]:!!ft,[`${Nt}-rtl`]:It==="rtl"},tt,rt,jt,Ut),kr=Object.assign(Object.assign({},Pt==null?void 0:Pt.style),nt);return Dt(reactExports.createElement("div",Object.assign({ref:_},Tr,{className:Sr,style:kr}),qt,ir,ur,yr))});var __rest$5=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const Meta=_e=>{const{prefixCls:_,className:et,avatar:tt,title:rt,description:nt}=_e,it=__rest$5(_e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:at}=reactExports.useContext(ConfigContext),lt=at("card",_),ct=classNames(`${lt}-meta`,et),ut=tt?reactExports.createElement("div",{className:`${lt}-meta-avatar`},tt):null,st=rt?reactExports.createElement("div",{className:`${lt}-meta-title`},rt):null,ot=nt?reactExports.createElement("div",{className:`${lt}-meta-description`},nt):null,dt=st||ot?reactExports.createElement("div",{className:`${lt}-meta-detail`},st,ot):null;return reactExports.createElement("div",Object.assign({},it,{className:ct}),ut,dt)},Card=Card$1;Card.Grid=Grid;Card.Meta=Meta;const RowContext=reactExports.createContext({});var __rest$4=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};function parseFlex(_e){return typeof _e=="number"?`${_e} ${_e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(_e)?`0 0 ${_e}`:_e}const sizes=["xs","sm","md","lg","xl","xxl"],Col=reactExports.forwardRef((_e,_)=>{const{getPrefixCls:et,direction:tt}=reactExports.useContext(ConfigContext),{gutter:rt,wrap:nt}=reactExports.useContext(RowContext),{prefixCls:it,span:at,order:lt,offset:ct,push:ut,pull:st,className:ot,children:dt,flex:ft,style:ht}=_e,mt=__rest$4(_e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),gt=et("col",it),[yt,vt,bt]=useColStyle(gt),xt={};let _t={};sizes.forEach(Et=>{let Tt={};const Ct=_e[Et];typeof Ct=="number"?Tt.span=Ct:typeof Ct=="object"&&(Tt=Ct||{}),delete mt[Et],_t=Object.assign(Object.assign({},_t),{[`${gt}-${Et}-${Tt.span}`]:Tt.span!==void 0,[`${gt}-${Et}-order-${Tt.order}`]:Tt.order||Tt.order===0,[`${gt}-${Et}-offset-${Tt.offset}`]:Tt.offset||Tt.offset===0,[`${gt}-${Et}-push-${Tt.push}`]:Tt.push||Tt.push===0,[`${gt}-${Et}-pull-${Tt.pull}`]:Tt.pull||Tt.pull===0,[`${gt}-rtl`]:tt==="rtl"}),Tt.flex&&(_t[`${gt}-${Et}-flex`]=!0,xt[`--${gt}-${Et}-flex`]=parseFlex(Tt.flex))});const St=classNames(gt,{[`${gt}-${at}`]:at!==void 0,[`${gt}-order-${lt}`]:lt,[`${gt}-offset-${ct}`]:ct,[`${gt}-push-${ut}`]:ut,[`${gt}-pull-${st}`]:st},ot,_t,vt,bt),wt={};if(rt&&rt[0]>0){const Et=rt[0]/2;wt.paddingLeft=Et,wt.paddingRight=Et}return ft&&(wt.flex=parseFlex(ft),nt===!1&&!wt.minWidth&&(wt.minWidth=0)),yt(reactExports.createElement("div",Object.assign({},mt,{style:Object.assign(Object.assign(Object.assign({},wt),ht),xt),className:St,ref:_}),dt))});function useGutter(_e,_){const et=[void 0,void 0],tt=Array.isArray(_e)?_e:[_e,void 0],rt=_||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return tt.forEach((nt,it)=>{if(typeof nt=="object"&&nt!==null)for(let at=0;at<responsiveArray.length;at++){const lt=responsiveArray[at];if(rt[lt]&&nt[lt]!==void 0){et[it]=nt[lt];break}}else et[it]=nt}),et}var __rest$3=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};function useMergedPropByScreen(_e,_){const[et,tt]=reactExports.useState(typeof _e=="string"?_e:""),rt=()=>{if(typeof _e=="string"&&tt(_e),typeof _e=="object")for(let nt=0;nt<responsiveArray.length;nt++){const it=responsiveArray[nt];if(!_||!_[it])continue;const at=_e[it];if(at!==void 0){tt(at);return}}};return reactExports.useEffect(()=>{rt()},[JSON.stringify(_e),_]),et}const Row=reactExports.forwardRef((_e,_)=>{const{prefixCls:et,justify:tt,align:rt,className:nt,style:it,children:at,gutter:lt=0,wrap:ct}=_e,ut=__rest$3(_e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:st,direction:ot}=reactExports.useContext(ConfigContext),dt=useBreakpoint(!0,null),ft=useMergedPropByScreen(rt,dt),ht=useMergedPropByScreen(tt,dt),mt=st("row",et),[gt,yt,vt]=useRowStyle(mt),bt=useGutter(lt,dt),xt=classNames(mt,{[`${mt}-no-wrap`]:ct===!1,[`${mt}-${ht}`]:ht,[`${mt}-${ft}`]:ft,[`${mt}-rtl`]:ot==="rtl"},nt,yt,vt),_t={},St=bt[0]!=null&&bt[0]>0?bt[0]/-2:void 0;St&&(_t.marginLeft=St,_t.marginRight=St);const[wt,Et]=bt;_t.rowGap=Et;const Tt=reactExports.useMemo(()=>({gutter:[wt,Et],wrap:ct}),[wt,Et,ct]);return gt(reactExports.createElement(RowContext.Provider,{value:Tt},reactExports.createElement("div",Object.assign({},ut,{className:xt,style:Object.assign(Object.assign({},_t),it),ref:_}),at)))});var DrawerContext=reactExports.createContext(null),RefContext=reactExports.createContext({}),_excluded$3=["prefixCls","className","containerRef"],DrawerPanel$1=function _e(_){var et=_.prefixCls,tt=_.className,rt=_.containerRef,nt=_objectWithoutProperties(_,_excluded$3),it=reactExports.useContext(RefContext),at=it.panel,lt=useComposeRef(at,rt);return reactExports.createElement("div",_extends$x({className:classNames("".concat(et,"-content"),tt),role:"dialog",ref:lt},pickAttrs(_,{aria:!0}),{"aria-modal":"true"},nt))};function parseWidthHeight(_e){return typeof _e=="string"&&String(Number(_e))===_e?(warningOnce(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(_e)):_e}var sentinelStyle={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function DrawerPopup(_e,_){var et,tt,rt,nt=_e.prefixCls,it=_e.open,at=_e.placement,lt=_e.inline,ct=_e.push,ut=_e.forceRender,st=_e.autoFocus,ot=_e.keyboard,dt=_e.classNames,ft=_e.rootClassName,ht=_e.rootStyle,mt=_e.zIndex,gt=_e.className,yt=_e.id,vt=_e.style,bt=_e.motion,xt=_e.width,_t=_e.height,St=_e.children,wt=_e.mask,Et=_e.maskClosable,Tt=_e.maskMotion,Ct=_e.maskClassName,It=_e.maskStyle,Pt=_e.afterOpenChange,At=_e.onClose,kt=_e.onMouseEnter,Rt=_e.onMouseOver,$t=_e.onMouseLeave,Mt=_e.onClick,Nt=_e.onKeyDown,Dt=_e.onKeyUp,jt=_e.styles,Ut=_e.drawerRender,Xt=reactExports.useRef(),Wt=reactExports.useRef(),Vt=reactExports.useRef();reactExports.useImperativeHandle(_,function(){return Xt.current});var qt=function(gr){var mr=gr.keyCode,Fr=gr.shiftKey;switch(mr){case KeyCode.TAB:{if(mr===KeyCode.TAB){if(!Fr&&document.activeElement===Vt.current){var _r;(_r=Wt.current)===null||_r===void 0||_r.focus({preventScroll:!0})}else if(Fr&&document.activeElement===Wt.current){var Nr;(Nr=Vt.current)===null||Nr===void 0||Nr.focus({preventScroll:!0})}}break}case KeyCode.ESC:{At&&ot&&(gr.stopPropagation(),At(gr));break}}};reactExports.useEffect(function(){if(it&&st){var dr;(dr=Xt.current)===null||dr===void 0||dr.focus({preventScroll:!0})}},[it]);var tr=reactExports.useState(!1),Kt=_slicedToArray(tr,2),Yt=Kt[0],rr=Kt[1],ir=reactExports.useContext(DrawerContext),lr;typeof ct=="boolean"?lr=ct?{}:{distance:0}:lr=ct||{};var ar=(et=(tt=(rt=lr)===null||rt===void 0?void 0:rt.distance)!==null&&tt!==void 0?tt:ir==null?void 0:ir.pushDistance)!==null&&et!==void 0?et:180,ur=reactExports.useMemo(function(){return{pushDistance:ar,push:function(){rr(!0)},pull:function(){rr(!1)}}},[ar]);reactExports.useEffect(function(){if(it){var dr;ir==null||(dr=ir.push)===null||dr===void 0||dr.call(ir)}else{var gr;ir==null||(gr=ir.pull)===null||gr===void 0||gr.call(ir)}},[it]),reactExports.useEffect(function(){return function(){var dr;ir==null||(dr=ir.pull)===null||dr===void 0||dr.call(ir)}},[]);var fr=wt&&reactExports.createElement(CSSMotion,_extends$x({key:"mask"},Tt,{visible:it}),function(dr,gr){var mr=dr.className,Fr=dr.style;return reactExports.createElement("div",{className:classNames("".concat(nt,"-mask"),mr,dt==null?void 0:dt.mask,Ct),style:_objectSpread2(_objectSpread2(_objectSpread2({},Fr),It),jt==null?void 0:jt.mask),onClick:Et&&it?At:void 0,ref:gr})}),yr=typeof bt=="function"?bt(at):bt,Tr={};if(Yt&&ar)switch(at){case"top":Tr.transform="translateY(".concat(ar,"px)");break;case"bottom":Tr.transform="translateY(".concat(-ar,"px)");break;case"left":Tr.transform="translateX(".concat(ar,"px)");break;default:Tr.transform="translateX(".concat(-ar,"px)");break}at==="left"||at==="right"?Tr.width=parseWidthHeight(xt):Tr.height=parseWidthHeight(_t);var Sr={onMouseEnter:kt,onMouseOver:Rt,onMouseLeave:$t,onClick:Mt,onKeyDown:Nt,onKeyUp:Dt},kr=reactExports.createElement(CSSMotion,_extends$x({key:"panel"},yr,{visible:it,forceRender:ut,onVisibleChanged:function(gr){Pt==null||Pt(gr)},removeOnLeave:!1,leavedClassName:"".concat(nt,"-content-wrapper-hidden")}),function(dr,gr){var mr=dr.className,Fr=dr.style,_r=reactExports.createElement(DrawerPanel$1,_extends$x({id:yt,containerRef:gr,prefixCls:nt,className:classNames(gt,dt==null?void 0:dt.content),style:_objectSpread2(_objectSpread2({},vt),jt==null?void 0:jt.content)},pickAttrs(_e,{aria:!0}),Sr),St);return reactExports.createElement("div",_extends$x({className:classNames("".concat(nt,"-content-wrapper"),dt==null?void 0:dt.wrapper,mr),style:_objectSpread2(_objectSpread2(_objectSpread2({},Tr),Fr),jt==null?void 0:jt.wrapper)},pickAttrs(_e,{data:!0})),Ut?Ut(_r):_r)}),xr=_objectSpread2({},ht);return mt&&(xr.zIndex=mt),reactExports.createElement(DrawerContext.Provider,{value:ur},reactExports.createElement("div",{className:classNames(nt,"".concat(nt,"-").concat(at),ft,_defineProperty(_defineProperty({},"".concat(nt,"-open"),it),"".concat(nt,"-inline"),lt)),style:xr,tabIndex:-1,ref:Xt,onKeyDown:qt},fr,reactExports.createElement("div",{tabIndex:0,ref:Wt,style:sentinelStyle,"aria-hidden":"true","data-sentinel":"start"}),kr,reactExports.createElement("div",{tabIndex:0,ref:Vt,style:sentinelStyle,"aria-hidden":"true","data-sentinel":"end"})))}var RefDrawerPopup=reactExports.forwardRef(DrawerPopup),Drawer$1=function _e(_){var et=_.open,tt=et===void 0?!1:et,rt=_.prefixCls,nt=rt===void 0?"rc-drawer":rt,it=_.placement,at=it===void 0?"right":it,lt=_.autoFocus,ct=lt===void 0?!0:lt,ut=_.keyboard,st=ut===void 0?!0:ut,ot=_.width,dt=ot===void 0?378:ot,ft=_.mask,ht=ft===void 0?!0:ft,mt=_.maskClosable,gt=mt===void 0?!0:mt,yt=_.getContainer,vt=_.forceRender,bt=_.afterOpenChange,xt=_.destroyOnClose,_t=_.onMouseEnter,St=_.onMouseOver,wt=_.onMouseLeave,Et=_.onClick,Tt=_.onKeyDown,Ct=_.onKeyUp,It=_.panelRef,Pt=reactExports.useState(!1),At=_slicedToArray(Pt,2),kt=At[0],Rt=At[1],$t=reactExports.useState(!1),Mt=_slicedToArray($t,2),Nt=Mt[0],Dt=Mt[1];useLayoutEffect(function(){Dt(!0)},[]);var jt=Nt?tt:!1,Ut=reactExports.useRef(),Xt=reactExports.useRef();useLayoutEffect(function(){jt&&(Xt.current=document.activeElement)},[jt]);var Wt=function(Yt){var rr;if(Rt(Yt),bt==null||bt(Yt),!Yt&&Xt.current&&!((rr=Ut.current)!==null&&rr!==void 0&&rr.contains(Xt.current))){var ir;(ir=Xt.current)===null||ir===void 0||ir.focus({preventScroll:!0})}},Vt=reactExports.useMemo(function(){return{panel:It}},[It]);if(!vt&&!kt&&!jt&&xt)return null;var qt={onMouseEnter:_t,onMouseOver:St,onMouseLeave:wt,onClick:Et,onKeyDown:Tt,onKeyUp:Ct},tr=_objectSpread2(_objectSpread2({},_),{},{open:jt,prefixCls:nt,placement:at,autoFocus:ct,keyboard:st,width:dt,mask:ht,maskClosable:gt,inline:yt===!1,afterOpenChange:Wt,ref:Ut},qt);return reactExports.createElement(RefContext.Provider,{value:Vt},reactExports.createElement(Portal,{open:jt||vt||kt,autoDestroy:!1,getContainer:yt,autoLock:ht&&(jt||kt)},reactExports.createElement(RefDrawerPopup,tr)))};const DrawerPanel=_e=>{var _,et;const{prefixCls:tt,title:rt,footer:nt,extra:it,loading:at,onClose:lt,headerStyle:ct,bodyStyle:ut,footerStyle:st,children:ot,classNames:dt,styles:ft}=_e,ht=useComponentConfig("drawer"),mt=reactExports.useCallback(xt=>reactExports.createElement("button",{type:"button",onClick:lt,"aria-label":"Close",className:`${tt}-close`},xt),[lt]),[gt,yt]=useClosable(pickClosable(_e),pickClosable(ht),{closable:!0,closeIconRender:mt}),vt=reactExports.useMemo(()=>{var xt,_t;return!rt&&!gt?null:reactExports.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(xt=ht.styles)===null||xt===void 0?void 0:xt.header),ct),ft==null?void 0:ft.header),className:classNames(`${tt}-header`,{[`${tt}-header-close-only`]:gt&&!rt&&!it},(_t=ht.classNames)===null||_t===void 0?void 0:_t.header,dt==null?void 0:dt.header)},reactExports.createElement("div",{className:`${tt}-header-title`},yt,rt&&reactExports.createElement("div",{className:`${tt}-title`},rt)),it&&reactExports.createElement("div",{className:`${tt}-extra`},it))},[gt,yt,it,ct,tt,rt]),bt=reactExports.useMemo(()=>{var xt,_t;if(!nt)return null;const St=`${tt}-footer`;return reactExports.createElement("div",{className:classNames(St,(xt=ht.classNames)===null||xt===void 0?void 0:xt.footer,dt==null?void 0:dt.footer),style:Object.assign(Object.assign(Object.assign({},(_t=ht.styles)===null||_t===void 0?void 0:_t.footer),st),ft==null?void 0:ft.footer)},nt)},[nt,st,tt]);return reactExports.createElement(reactExports.Fragment,null,vt,reactExports.createElement("div",{className:classNames(`${tt}-body`,dt==null?void 0:dt.body,(_=ht.classNames)===null||_===void 0?void 0:_.body),style:Object.assign(Object.assign(Object.assign({},(et=ht.styles)===null||et===void 0?void 0:et.body),ut),ft==null?void 0:ft.body)},at?reactExports.createElement(Skeleton,{active:!0,title:!1,paragraph:{rows:5},className:`${tt}-body-skeleton`}):ot),bt)},getMoveTranslate=_e=>{const _="100%";return{left:`translateX(-${_})`,right:`translateX(${_})`,top:`translateY(-${_})`,bottom:`translateY(${_})`}[_e]},getEnterLeaveStyle=(_e,_)=>({"&-enter, &-appear":Object.assign(Object.assign({},_e),{"&-active":_}),"&-leave":Object.assign(Object.assign({},_),{"&-active":_e})}),getFadeStyle=(_e,_)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${_}`}}},getEnterLeaveStyle({opacity:_e},{opacity:1})),getPanelMotionStyles=(_e,_)=>[getFadeStyle(.7,_),getEnterLeaveStyle({transform:getMoveTranslate(_e)},{transform:"none"})],genMotionStyle=_e=>{const{componentCls:_,motionDurationSlow:et}=_e;return{[_]:{[`${_}-mask-motion`]:getFadeStyle(0,et),[`${_}-panel-motion`]:["left","right","top","bottom"].reduce((tt,rt)=>Object.assign(Object.assign({},tt),{[`&-${rt}`]:getPanelMotionStyles(rt,et)}),{})}}},genDrawerStyle=_e=>{const{borderRadiusSM:_,componentCls:et,zIndexPopup:tt,colorBgMask:rt,colorBgElevated:nt,motionDurationSlow:it,motionDurationMid:at,paddingXS:lt,padding:ct,paddingLG:ut,fontSizeLG:st,lineHeightLG:ot,lineWidth:dt,lineType:ft,colorSplit:ht,marginXS:mt,colorIcon:gt,colorIconHover:yt,colorBgTextHover:vt,colorBgTextActive:bt,colorText:xt,fontWeightStrong:_t,footerPaddingBlock:St,footerPaddingInline:wt,calc:Et}=_e,Tt=`${et}-content-wrapper`;return{[et]:{position:"fixed",inset:0,zIndex:tt,pointerEvents:"none",color:xt,"&-pure":{position:"relative",background:nt,display:"flex",flexDirection:"column",[`&${et}-left`]:{boxShadow:_e.boxShadowDrawerLeft},[`&${et}-right`]:{boxShadow:_e.boxShadowDrawerRight},[`&${et}-top`]:{boxShadow:_e.boxShadowDrawerUp},[`&${et}-bottom`]:{boxShadow:_e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${et}-mask`]:{position:"absolute",inset:0,zIndex:tt,background:rt,pointerEvents:"auto"},[Tt]:{position:"absolute",zIndex:tt,maxWidth:"100vw",transition:`all ${it}`,"&-hidden":{display:"none"}},[`&-left > ${Tt}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:_e.boxShadowDrawerLeft},[`&-right > ${Tt}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:_e.boxShadowDrawerRight},[`&-top > ${Tt}`]:{top:0,insetInline:0,boxShadow:_e.boxShadowDrawerUp},[`&-bottom > ${Tt}`]:{bottom:0,insetInline:0,boxShadow:_e.boxShadowDrawerDown},[`${et}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:nt,pointerEvents:"auto"},[`${et}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${unit$1(ct)} ${unit$1(ut)}`,fontSize:st,lineHeight:ot,borderBottom:`${unit$1(dt)} ${ft} ${ht}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${et}-extra`]:{flex:"none"},[`${et}-close`]:Object.assign({display:"inline-flex",width:Et(st).add(lt).equal(),height:Et(st).add(lt).equal(),borderRadius:_,justifyContent:"center",alignItems:"center",marginInlineEnd:mt,color:gt,fontWeight:_t,fontSize:st,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${at}`,textRendering:"auto","&:hover":{color:yt,backgroundColor:vt,textDecoration:"none"},"&:active":{backgroundColor:bt}},genFocusStyle(_e)),[`${et}-title`]:{flex:1,margin:0,fontWeight:_e.fontWeightStrong,fontSize:st,lineHeight:ot},[`${et}-body`]:{flex:1,minWidth:0,minHeight:0,padding:ut,overflow:"auto",[`${et}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${et}-footer`]:{flexShrink:0,padding:`${unit$1(St)} ${unit$1(wt)}`,borderTop:`${unit$1(dt)} ${ft} ${ht}`},"&-rtl":{direction:"rtl"}}}},prepareComponentToken$1=_e=>({zIndexPopup:_e.zIndexPopupBase,footerPaddingBlock:_e.paddingXS,footerPaddingInline:_e.padding}),useStyle$1=genStyleHooks("Drawer",_e=>{const _=merge(_e,{});return[genDrawerStyle(_),genMotionStyle(_)]},prepareComponentToken$1);var __rest$2=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const defaultPushState={distance:180},Drawer=_e=>{const{rootClassName:_,width:et,height:tt,size:rt="default",mask:nt=!0,push:it=defaultPushState,open:at,afterOpenChange:lt,onClose:ct,prefixCls:ut,getContainer:st,style:ot,className:dt,visible:ft,afterVisibleChange:ht,maskStyle:mt,drawerStyle:gt,contentWrapperStyle:yt}=_e,vt=__rest$2(_e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:bt,getPrefixCls:xt,direction:_t,className:St,style:wt,classNames:Et,styles:Tt}=useComponentConfig("drawer"),Ct=xt("drawer",ut),[It,Pt,At]=useStyle$1(Ct),kt=st===void 0&&bt?()=>bt(document.body):st,Rt=classNames({"no-mask":!nt,[`${Ct}-rtl`]:_t==="rtl"},_,Pt,At),$t=reactExports.useMemo(()=>et??(rt==="large"?736:378),[et,rt]),Mt=reactExports.useMemo(()=>tt??(rt==="large"?736:378),[tt,rt]),Nt={motionName:getTransitionName(Ct,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},Dt=qt=>({motionName:getTransitionName(Ct,`panel-motion-${qt}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),jt=usePanelRef(),[Ut,Xt]=useZIndex("Drawer",vt.zIndex),{classNames:Wt={},styles:Vt={}}=vt;return It(reactExports.createElement(ContextIsolator,{form:!0,space:!0},reactExports.createElement(zIndexContext.Provider,{value:Xt},reactExports.createElement(Drawer$1,Object.assign({prefixCls:Ct,onClose:ct,maskMotion:Nt,motion:Dt},vt,{classNames:{mask:classNames(Wt.mask,Et.mask),content:classNames(Wt.content,Et.content),wrapper:classNames(Wt.wrapper,Et.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},Vt.mask),mt),Tt.mask),content:Object.assign(Object.assign(Object.assign({},Vt.content),gt),Tt.content),wrapper:Object.assign(Object.assign(Object.assign({},Vt.wrapper),yt),Tt.wrapper)},open:at??ft,mask:nt,push:it,width:$t,height:Mt,style:Object.assign(Object.assign({},wt),ot),className:classNames(St,dt),rootClassName:Rt,getContainer:kt,afterOpenChange:lt??ht,panelRef:jt,zIndex:Ut}),reactExports.createElement(DrawerPanel,Object.assign({prefixCls:Ct},vt,{onClose:ct}))))))},PurePanel=_e=>{const{prefixCls:_,style:et,className:tt,placement:rt="right"}=_e,nt=__rest$2(_e,["prefixCls","style","className","placement"]),{getPrefixCls:it}=reactExports.useContext(ConfigContext),at=it("drawer",_),[lt,ct,ut]=useStyle$1(at),st=classNames(at,`${at}-pure`,`${at}-${rt}`,ct,ut,tt);return lt(reactExports.createElement("div",{className:st,style:et},reactExports.createElement(DrawerPanel,Object.assign({prefixCls:at},nt))))};Drawer._InternalPanelDoNotUseOrYouWillBeFired=PurePanel;var EyeOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},EyeOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:EyeOutlined$1}))},RefIcon$5=reactExports.forwardRef(EyeOutlined);function getClientSize(){var _e=document.documentElement.clientWidth,_=window.innerHeight||document.documentElement.clientHeight;return{width:_e,height:_}}function getOffset(_e){var _=_e.getBoundingClientRect(),et=document.documentElement;return{left:_.left+(window.pageXOffset||et.scrollLeft)-(et.clientLeft||document.body.clientLeft||0),top:_.top+(window.pageYOffset||et.scrollTop)-(et.clientTop||document.body.clientTop||0)}}function addEventListenerWrap(_e,_,et,tt){var rt=ReactDOM.unstable_batchedUpdates?function(it){ReactDOM.unstable_batchedUpdates(et,it)}:et;return _e!=null&&_e.addEventListener&&_e.addEventListener(_,rt,tt),{remove:function(){_e!=null&&_e.removeEventListener&&_e.removeEventListener(_,rt,tt)}}}var PreviewGroupContext=reactExports.createContext(null),Operations=function _e(_){var et=_.visible,tt=_.maskTransitionName,rt=_.getContainer,nt=_.prefixCls,it=_.rootClassName,at=_.icons,lt=_.countRender,ct=_.showSwitch,ut=_.showProgress,st=_.current,ot=_.transform,dt=_.count,ft=_.scale,ht=_.minScale,mt=_.maxScale,gt=_.closeIcon,yt=_.onActive,vt=_.onClose,bt=_.onZoomIn,xt=_.onZoomOut,_t=_.onRotateRight,St=_.onRotateLeft,wt=_.onFlipX,Et=_.onFlipY,Tt=_.onReset,Ct=_.toolbarRender,It=_.zIndex,Pt=_.image,At=reactExports.useContext(PreviewGroupContext),kt=at.rotateLeft,Rt=at.rotateRight,$t=at.zoomIn,Mt=at.zoomOut,Nt=at.close,Dt=at.left,jt=at.right,Ut=at.flipX,Xt=at.flipY,Wt="".concat(nt,"-operations-operation");reactExports.useEffect(function(){var yr=function(Sr){Sr.keyCode===KeyCode.ESC&&vt()};return et&&window.addEventListener("keydown",yr),function(){window.removeEventListener("keydown",yr)}},[et]);var Vt=function(Tr,Sr){Tr.preventDefault(),Tr.stopPropagation(),yt(Sr)},qt=reactExports.useCallback(function(yr){var Tr=yr.type,Sr=yr.disabled,kr=yr.onClick,xr=yr.icon;return reactExports.createElement("div",{key:Tr,className:classNames(Wt,"".concat(nt,"-operations-operation-").concat(Tr),_defineProperty({},"".concat(nt,"-operations-operation-disabled"),!!Sr)),onClick:kr},xr)},[Wt,nt]),tr=ct?qt({icon:Dt,onClick:function(Tr){return Vt(Tr,-1)},type:"prev",disabled:st===0}):void 0,Kt=ct?qt({icon:jt,onClick:function(Tr){return Vt(Tr,1)},type:"next",disabled:st===dt-1}):void 0,Yt=qt({icon:Xt,onClick:Et,type:"flipY"}),rr=qt({icon:Ut,onClick:wt,type:"flipX"}),ir=qt({icon:kt,onClick:St,type:"rotateLeft"}),lr=qt({icon:Rt,onClick:_t,type:"rotateRight"}),ar=qt({icon:Mt,onClick:xt,type:"zoomOut",disabled:ft<=ht}),ur=qt({icon:$t,onClick:bt,type:"zoomIn",disabled:ft===mt}),fr=reactExports.createElement("div",{className:"".concat(nt,"-operations")},Yt,rr,ir,lr,ar,ur);return reactExports.createElement(CSSMotion,{visible:et,motionName:tt},function(yr){var Tr=yr.className,Sr=yr.style;return reactExports.createElement(Portal,{open:!0,getContainer:rt??document.body},reactExports.createElement("div",{className:classNames("".concat(nt,"-operations-wrapper"),Tr,it),style:_objectSpread2(_objectSpread2({},Sr),{},{zIndex:It})},gt===null?null:reactExports.createElement("button",{className:"".concat(nt,"-close"),onClick:vt},gt||Nt),ct&&reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{className:classNames("".concat(nt,"-switch-left"),_defineProperty({},"".concat(nt,"-switch-left-disabled"),st===0)),onClick:function(xr){return Vt(xr,-1)}},Dt),reactExports.createElement("div",{className:classNames("".concat(nt,"-switch-right"),_defineProperty({},"".concat(nt,"-switch-right-disabled"),st===dt-1)),onClick:function(xr){return Vt(xr,1)}},jt)),reactExports.createElement("div",{className:"".concat(nt,"-footer")},ut&&reactExports.createElement("div",{className:"".concat(nt,"-progress")},lt?lt(st+1,dt):"".concat(st+1," / ").concat(dt)),Ct?Ct(fr,_objectSpread2(_objectSpread2({icons:{prevIcon:tr,nextIcon:Kt,flipYIcon:Yt,flipXIcon:rr,rotateLeftIcon:ir,rotateRightIcon:lr,zoomOutIcon:ar,zoomInIcon:ur},actions:{onActive:yt,onFlipY:Et,onFlipX:wt,onRotateLeft:St,onRotateRight:_t,onZoomOut:xt,onZoomIn:bt,onReset:Tt,onClose:vt},transform:ot},At?{current:st,total:dt}:{}),{},{image:Pt})):fr)))})},initialTransform={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function useImageTransform(_e,_,et,tt){var rt=reactExports.useRef(null),nt=reactExports.useRef([]),it=reactExports.useState(initialTransform),at=_slicedToArray(it,2),lt=at[0],ct=at[1],ut=function(ft){ct(initialTransform),isEqual(initialTransform,lt)||tt==null||tt({transform:initialTransform,action:ft})},st=function(ft,ht){rt.current===null&&(nt.current=[],rt.current=wrapperRaf(function(){ct(function(mt){var gt=mt;return nt.current.forEach(function(yt){gt=_objectSpread2(_objectSpread2({},gt),yt)}),rt.current=null,tt==null||tt({transform:gt,action:ht}),gt})})),nt.current.push(_objectSpread2(_objectSpread2({},lt),ft))},ot=function(ft,ht,mt,gt,yt){var vt=_e.current,bt=vt.width,xt=vt.height,_t=vt.offsetWidth,St=vt.offsetHeight,wt=vt.offsetLeft,Et=vt.offsetTop,Tt=ft,Ct=lt.scale*ft;Ct>et?(Ct=et,Tt=et/lt.scale):Ct<_&&(Ct=yt?Ct:_,Tt=Ct/lt.scale);var It=mt??innerWidth/2,Pt=gt??innerHeight/2,At=Tt-1,kt=At*bt*.5,Rt=At*xt*.5,$t=At*(It-lt.x-wt),Mt=At*(Pt-lt.y-Et),Nt=lt.x-($t-kt),Dt=lt.y-(Mt-Rt);if(ft<1&&Ct===1){var jt=_t*Ct,Ut=St*Ct,Xt=getClientSize(),Wt=Xt.width,Vt=Xt.height;jt<=Wt&&Ut<=Vt&&(Nt=0,Dt=0)}st({x:Nt,y:Dt,scale:Ct},ht)};return{transform:lt,resetTransform:ut,updateTransform:st,dispatchZoomChange:ot}}function fixPoint(_e,_,et,tt){var rt=_+et,nt=(et-tt)/2;if(et>tt){if(_>0)return _defineProperty({},_e,nt);if(_<0&&rt<tt)return _defineProperty({},_e,-nt)}else if(_<0||rt>tt)return _defineProperty({},_e,_<0?nt:-nt);return{}}function getFixScaleEleTransPosition(_e,_,et,tt){var rt=getClientSize(),nt=rt.width,it=rt.height,at=null;return _e<=nt&&_<=it?at={x:0,y:0}:(_e>nt||_>it)&&(at=_objectSpread2(_objectSpread2({},fixPoint("x",et,_e,nt)),fixPoint("y",tt,_,it))),at}var BASE_SCALE_RATIO=1,WHEEL_MAX_SCALE_RATIO=1;function useMouseEvent(_e,_,et,tt,rt,nt,it){var at=rt.rotate,lt=rt.scale,ct=rt.x,ut=rt.y,st=reactExports.useState(!1),ot=_slicedToArray(st,2),dt=ot[0],ft=ot[1],ht=reactExports.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),mt=function(xt){!_||xt.button!==0||(xt.preventDefault(),xt.stopPropagation(),ht.current={diffX:xt.pageX-ct,diffY:xt.pageY-ut,transformX:ct,transformY:ut},ft(!0))},gt=function(xt){et&&dt&&nt({x:xt.pageX-ht.current.diffX,y:xt.pageY-ht.current.diffY},"move")},yt=function(){if(et&&dt){ft(!1);var xt=ht.current,_t=xt.transformX,St=xt.transformY,wt=ct!==_t&&ut!==St;if(!wt)return;var Et=_e.current.offsetWidth*lt,Tt=_e.current.offsetHeight*lt,Ct=_e.current.getBoundingClientRect(),It=Ct.left,Pt=Ct.top,At=at%180!==0,kt=getFixScaleEleTransPosition(At?Tt:Et,At?Et:Tt,It,Pt);kt&&nt(_objectSpread2({},kt),"dragRebound")}},vt=function(xt){if(!(!et||xt.deltaY==0)){var _t=Math.abs(xt.deltaY/100),St=Math.min(_t,WHEEL_MAX_SCALE_RATIO),wt=BASE_SCALE_RATIO+St*tt;xt.deltaY>0&&(wt=BASE_SCALE_RATIO/wt),it(wt,"wheel",xt.clientX,xt.clientY)}};return reactExports.useEffect(function(){var bt,xt,_t,St;if(_){_t=addEventListenerWrap(window,"mouseup",yt,!1),St=addEventListenerWrap(window,"mousemove",gt,!1);try{window.top!==window.self&&(bt=addEventListenerWrap(window.top,"mouseup",yt,!1),xt=addEventListenerWrap(window.top,"mousemove",gt,!1))}catch{}}return function(){var wt,Et,Tt,Ct;(wt=_t)===null||wt===void 0||wt.remove(),(Et=St)===null||Et===void 0||Et.remove(),(Tt=bt)===null||Tt===void 0||Tt.remove(),(Ct=xt)===null||Ct===void 0||Ct.remove()}},[et,dt,ct,ut,at,_]),{isMoving:dt,onMouseDown:mt,onMouseMove:gt,onMouseUp:yt,onWheel:vt}}function isImageValid(_e){return new Promise(function(_){if(!_e){_(!1);return}var et=document.createElement("img");et.onerror=function(){return _(!1)},et.onload=function(){return _(!0)},et.src=_e})}function useStatus(_e){var _=_e.src,et=_e.isCustomPlaceholder,tt=_e.fallback,rt=reactExports.useState(et?"loading":"normal"),nt=_slicedToArray(rt,2),it=nt[0],at=nt[1],lt=reactExports.useRef(!1),ct=it==="error";reactExports.useEffect(function(){var dt=!0;return isImageValid(_).then(function(ft){!ft&&dt&&at("error")}),function(){dt=!1}},[_]),reactExports.useEffect(function(){et&&!lt.current?at("loading"):ct&&at("normal")},[_]);var ut=function(){at("normal")},st=function(ft){lt.current=!1,it==="loading"&&ft!==null&&ft!==void 0&&ft.complete&&(ft.naturalWidth||ft.naturalHeight)&&(lt.current=!0,ut())},ot=ct&&tt?{src:tt}:{onLoad:ut,src:_};return[st,ot,it]}function getDistance(_e,_){var et=_e.x-_.x,tt=_e.y-_.y;return Math.hypot(et,tt)}function getCenter(_e,_,et,tt){var rt=getDistance(_e,et),nt=getDistance(_,tt);if(rt===0&&nt===0)return[_e.x,_e.y];var it=rt/(rt+nt),at=_e.x+it*(_.x-_e.x),lt=_e.y+it*(_.y-_e.y);return[at,lt]}function useTouchEvent(_e,_,et,tt,rt,nt,it){var at=rt.rotate,lt=rt.scale,ct=rt.x,ut=rt.y,st=reactExports.useState(!1),ot=_slicedToArray(st,2),dt=ot[0],ft=ot[1],ht=reactExports.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),mt=function(xt){ht.current=_objectSpread2(_objectSpread2({},ht.current),xt)},gt=function(xt){if(_){xt.stopPropagation(),ft(!0);var _t=xt.touches,St=_t===void 0?[]:_t;St.length>1?mt({point1:{x:St[0].clientX,y:St[0].clientY},point2:{x:St[1].clientX,y:St[1].clientY},eventType:"touchZoom"}):mt({point1:{x:St[0].clientX-ct,y:St[0].clientY-ut},eventType:"move"})}},yt=function(xt){var _t=xt.touches,St=_t===void 0?[]:_t,wt=ht.current,Et=wt.point1,Tt=wt.point2,Ct=wt.eventType;if(St.length>1&&Ct==="touchZoom"){var It={x:St[0].clientX,y:St[0].clientY},Pt={x:St[1].clientX,y:St[1].clientY},At=getCenter(Et,Tt,It,Pt),kt=_slicedToArray(At,2),Rt=kt[0],$t=kt[1],Mt=getDistance(It,Pt)/getDistance(Et,Tt);it(Mt,"touchZoom",Rt,$t,!0),mt({point1:It,point2:Pt,eventType:"touchZoom"})}else Ct==="move"&&(nt({x:St[0].clientX-Et.x,y:St[0].clientY-Et.y},"move"),mt({eventType:"move"}))},vt=function(){if(et){if(dt&&ft(!1),mt({eventType:"none"}),tt>lt)return nt({x:0,y:0,scale:tt},"touchZoom");var xt=_e.current.offsetWidth*lt,_t=_e.current.offsetHeight*lt,St=_e.current.getBoundingClientRect(),wt=St.left,Et=St.top,Tt=at%180!==0,Ct=getFixScaleEleTransPosition(Tt?_t:xt,Tt?xt:_t,wt,Et);Ct&&nt(_objectSpread2({},Ct),"dragRebound")}};return reactExports.useEffect(function(){var bt;return et&&_&&(bt=addEventListenerWrap(window,"touchmove",function(xt){return xt.preventDefault()},{passive:!1})),function(){var xt;(xt=bt)===null||xt===void 0||xt.remove()}},[et,_]),{isTouching:dt,onTouchStart:gt,onTouchMove:yt,onTouchEnd:vt}}var _excluded$2=["fallback","src","imgRef"],_excluded2$2=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],PreviewImage=function _e(_){var et=_.fallback,tt=_.src,rt=_.imgRef,nt=_objectWithoutProperties(_,_excluded$2),it=useStatus({src:tt,fallback:et}),at=_slicedToArray(it,2),lt=at[0],ct=at[1];return React.createElement("img",_extends$x({ref:function(st){rt.current=st,lt(st)}},nt,ct))},Preview=function _e(_){var et=_.prefixCls,tt=_.src,rt=_.alt,nt=_.imageInfo,it=_.fallback,at=_.movable,lt=at===void 0?!0:at,ct=_.onClose,ut=_.visible,st=_.icons,ot=st===void 0?{}:st,dt=_.rootClassName,ft=_.closeIcon,ht=_.getContainer,mt=_.current,gt=mt===void 0?0:mt,yt=_.count,vt=yt===void 0?1:yt,bt=_.countRender,xt=_.scaleStep,_t=xt===void 0?.5:xt,St=_.minScale,wt=St===void 0?1:St,Et=_.maxScale,Tt=Et===void 0?50:Et,Ct=_.transitionName,It=Ct===void 0?"zoom":Ct,Pt=_.maskTransitionName,At=Pt===void 0?"fade":Pt,kt=_.imageRender,Rt=_.imgCommonProps,$t=_.toolbarRender,Mt=_.onTransform,Nt=_.onChange,Dt=_objectWithoutProperties(_,_excluded2$2),jt=reactExports.useRef(),Ut=reactExports.useContext(PreviewGroupContext),Xt=Ut&&vt>1,Wt=Ut&&vt>=1,Vt=reactExports.useState(!0),qt=_slicedToArray(Vt,2),tr=qt[0],Kt=qt[1],Yt=useImageTransform(jt,wt,Tt,Mt),rr=Yt.transform,ir=Yt.resetTransform,lr=Yt.updateTransform,ar=Yt.dispatchZoomChange,ur=useMouseEvent(jt,lt,ut,_t,rr,lr,ar),fr=ur.isMoving,yr=ur.onMouseDown,Tr=ur.onWheel,Sr=useTouchEvent(jt,lt,ut,wt,rr,lr,ar),kr=Sr.isTouching,xr=Sr.onTouchStart,dr=Sr.onTouchMove,gr=Sr.onTouchEnd,mr=rr.rotate,Fr=rr.scale,_r=classNames(_defineProperty({},"".concat(et,"-moving"),fr));reactExports.useEffect(function(){tr||Kt(!0)},[tr]);var Nr=function(){ir("close")},mn=function(){ar(BASE_SCALE_RATIO+_t,"zoomIn")},qr=function(){ar(BASE_SCALE_RATIO/(BASE_SCALE_RATIO+_t),"zoomOut")},Gr=function(){lr({rotate:mr+90},"rotateRight")},gn=function(){lr({rotate:mr-90},"rotateLeft")},ln=function(){lr({flipX:!rr.flipX},"flipX")},Hr=function(){lr({flipY:!rr.flipY},"flipY")},en=function(){ir("reset")},vr=function(bn){var Sn=gt+bn;!Number.isInteger(Sn)||Sn<0||Sn>vt-1||(Kt(!1),ir(bn<0?"prev":"next"),Nt==null||Nt(Sn,gt))},un=function(bn){!ut||!Xt||(bn.keyCode===KeyCode.LEFT?vr(-1):bn.keyCode===KeyCode.RIGHT&&vr(1))},an=function(bn){ut&&(Fr!==1?lr({x:0,y:0,scale:1},"doubleClick"):ar(BASE_SCALE_RATIO+_t,"doubleClick",bn.clientX,bn.clientY))};reactExports.useEffect(function(){var Lr=addEventListenerWrap(window,"keydown",un,!1);return function(){Lr.remove()}},[ut,Xt,gt]);var yn=React.createElement(PreviewImage,_extends$x({},Rt,{width:_.width,height:_.height,imgRef:jt,className:"".concat(et,"-img"),alt:rt,style:{transform:"translate3d(".concat(rr.x,"px, ").concat(rr.y,"px, 0) scale3d(").concat(rr.flipX?"-":"").concat(Fr,", ").concat(rr.flipY?"-":"").concat(Fr,", 1) rotate(").concat(mr,"deg)"),transitionDuration:(!tr||kr)&&"0s"},fallback:it,src:tt,onWheel:Tr,onMouseDown:yr,onDoubleClick:an,onTouchStart:xr,onTouchMove:dr,onTouchEnd:gr,onTouchCancel:gr})),hn=_objectSpread2({url:tt,alt:rt},nt);return React.createElement(React.Fragment,null,React.createElement(DialogWrap,_extends$x({transitionName:It,maskTransitionName:At,closable:!1,keyboard:!0,prefixCls:et,onClose:ct,visible:ut,classNames:{wrapper:_r},rootClassName:dt,getContainer:ht},Dt,{afterClose:Nr}),React.createElement("div",{className:"".concat(et,"-img-wrapper")},kt?kt(yn,_objectSpread2({transform:rr,image:hn},Ut?{current:gt}:{})):yn)),React.createElement(Operations,{visible:ut,transform:rr,maskTransitionName:At,closeIcon:ft,getContainer:ht,prefixCls:et,rootClassName:dt,icons:ot,countRender:bt,showSwitch:Xt,showProgress:Wt,current:gt,count:vt,scale:Fr,minScale:wt,maxScale:Tt,toolbarRender:$t,onActive:vr,onZoomIn:mn,onZoomOut:qr,onRotateRight:Gr,onRotateLeft:gn,onFlipX:ln,onFlipY:Hr,onClose:ct,onReset:en,zIndex:Dt.zIndex!==void 0?Dt.zIndex+1:void 0,image:hn}))},COMMON_PROPS=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function usePreviewItems(_e){var _=reactExports.useState({}),et=_slicedToArray(_,2),tt=et[0],rt=et[1],nt=reactExports.useCallback(function(at,lt){return rt(function(ct){return _objectSpread2(_objectSpread2({},ct),{},_defineProperty({},at,lt))}),function(){rt(function(ct){var ut=_objectSpread2({},ct);return delete ut[at],ut})}},[]),it=reactExports.useMemo(function(){return _e?_e.map(function(at){if(typeof at=="string")return{data:{src:at}};var lt={};return Object.keys(at).forEach(function(ct){["src"].concat(_toConsumableArray(COMMON_PROPS)).includes(ct)&&(lt[ct]=at[ct])}),{data:lt}}):Object.keys(tt).reduce(function(at,lt){var ct=tt[lt],ut=ct.canPreview,st=ct.data;return ut&&at.push({data:st,id:lt}),at},[])},[_e,tt]);return[it,nt,!!_e]}var _excluded$1=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],_excluded2$1=["src"],Group=function _e(_){var et,tt=_.previewPrefixCls,rt=tt===void 0?"rc-image-preview":tt,nt=_.children,it=_.icons,at=it===void 0?{}:it,lt=_.items,ct=_.preview,ut=_.fallback,st=_typeof(ct)==="object"?ct:{},ot=st.visible,dt=st.onVisibleChange,ft=st.getContainer,ht=st.current,mt=st.movable,gt=st.minScale,yt=st.maxScale,vt=st.countRender,bt=st.closeIcon,xt=st.onChange,_t=st.onTransform,St=st.toolbarRender,wt=st.imageRender,Et=_objectWithoutProperties(st,_excluded$1),Tt=usePreviewItems(lt),Ct=_slicedToArray(Tt,3),It=Ct[0],Pt=Ct[1],At=Ct[2],kt=useMergedState(0,{value:ht}),Rt=_slicedToArray(kt,2),$t=Rt[0],Mt=Rt[1],Nt=reactExports.useState(!1),Dt=_slicedToArray(Nt,2),jt=Dt[0],Ut=Dt[1],Xt=((et=It[$t])===null||et===void 0?void 0:et.data)||{},Wt=Xt.src,Vt=_objectWithoutProperties(Xt,_excluded2$1),qt=useMergedState(!!ot,{value:ot,onChange:function(kr,xr){dt==null||dt(kr,xr,$t)}}),tr=_slicedToArray(qt,2),Kt=tr[0],Yt=tr[1],rr=reactExports.useState(null),ir=_slicedToArray(rr,2),lr=ir[0],ar=ir[1],ur=reactExports.useCallback(function(Sr,kr,xr,dr){var gr=At?It.findIndex(function(mr){return mr.data.src===kr}):It.findIndex(function(mr){return mr.id===Sr});Mt(gr<0?0:gr),Yt(!0),ar({x:xr,y:dr}),Ut(!0)},[It,At]);reactExports.useEffect(function(){Kt?jt||Mt(0):Ut(!1)},[Kt]);var fr=function(kr,xr){Mt(kr),xt==null||xt(kr,xr)},yr=function(){Yt(!1),ar(null)},Tr=reactExports.useMemo(function(){return{register:Pt,onPreview:ur}},[Pt,ur]);return reactExports.createElement(PreviewGroupContext.Provider,{value:Tr},nt,reactExports.createElement(Preview,_extends$x({"aria-hidden":!Kt,movable:mt,visible:Kt,prefixCls:rt,closeIcon:bt,onClose:yr,mousePosition:lr,imgCommonProps:Vt,src:Wt,fallback:ut,icons:at,minScale:gt,maxScale:yt,getContainer:ft,current:$t,count:It.length,countRender:vt,onTransform:_t,toolbarRender:St,imageRender:wt,onChange:fr},Et)))},uid=0;function useRegisterImage(_e,_){var et=reactExports.useState(function(){return uid+=1,String(uid)}),tt=_slicedToArray(et,1),rt=tt[0],nt=reactExports.useContext(PreviewGroupContext),it={data:_,canPreview:_e};return reactExports.useEffect(function(){if(nt)return nt.register(rt,it)},[]),reactExports.useEffect(function(){nt&&nt.register(rt,it)},[_e,_]),rt}var _excluded=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],_excluded2=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],ImageInternal=function _e(_){var et=_.src,tt=_.alt,rt=_.onPreviewClose,nt=_.prefixCls,it=nt===void 0?"rc-image":nt,at=_.previewPrefixCls,lt=at===void 0?"".concat(it,"-preview"):at,ct=_.placeholder,ut=_.fallback,st=_.width,ot=_.height,dt=_.style,ft=_.preview,ht=ft===void 0?!0:ft,mt=_.className,gt=_.onClick,yt=_.onError,vt=_.wrapperClassName,bt=_.wrapperStyle,xt=_.rootClassName,_t=_objectWithoutProperties(_,_excluded),St=ct&&ct!==!0,wt=_typeof(ht)==="object"?ht:{},Et=wt.src,Tt=wt.visible,Ct=Tt===void 0?void 0:Tt,It=wt.onVisibleChange,Pt=It===void 0?rt:It,At=wt.getContainer,kt=At===void 0?void 0:At,Rt=wt.mask,$t=wt.maskClassName,Mt=wt.movable,Nt=wt.icons,Dt=wt.scaleStep,jt=wt.minScale,Ut=wt.maxScale,Xt=wt.imageRender,Wt=wt.toolbarRender,Vt=_objectWithoutProperties(wt,_excluded2),qt=Et??et,tr=useMergedState(!!Ct,{value:Ct,onChange:Pt}),Kt=_slicedToArray(tr,2),Yt=Kt[0],rr=Kt[1],ir=useStatus({src:et,isCustomPlaceholder:St,fallback:ut}),lr=_slicedToArray(ir,3),ar=lr[0],ur=lr[1],fr=lr[2],yr=reactExports.useState(null),Tr=_slicedToArray(yr,2),Sr=Tr[0],kr=Tr[1],xr=reactExports.useContext(PreviewGroupContext),dr=!!ht,gr=function(){rr(!1),kr(null)},mr=classNames(it,vt,xt,_defineProperty({},"".concat(it,"-error"),fr==="error")),Fr=reactExports.useMemo(function(){var qr={};return COMMON_PROPS.forEach(function(Gr){_[Gr]!==void 0&&(qr[Gr]=_[Gr])}),qr},COMMON_PROPS.map(function(qr){return _[qr]})),_r=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},Fr),{},{src:qt})},[qt,Fr]),Nr=useRegisterImage(dr,_r),mn=function(Gr){var gn=getOffset(Gr.target),ln=gn.left,Hr=gn.top;xr?xr.onPreview(Nr,qt,ln,Hr):(kr({x:ln,y:Hr}),rr(!0)),gt==null||gt(Gr)};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",_extends$x({},_t,{className:mr,onClick:dr?mn:gt,style:_objectSpread2({width:st,height:ot},bt)}),reactExports.createElement("img",_extends$x({},Fr,{className:classNames("".concat(it,"-img"),_defineProperty({},"".concat(it,"-img-placeholder"),ct===!0),mt),style:_objectSpread2({height:ot},dt),ref:ar},ur,{width:st,height:ot,onError:yt})),fr==="loading"&&reactExports.createElement("div",{"aria-hidden":"true",className:"".concat(it,"-placeholder")},ct),Rt&&dr&&reactExports.createElement("div",{className:classNames("".concat(it,"-mask"),$t),style:{display:(dt==null?void 0:dt.display)==="none"?"none":void 0}},Rt)),!xr&&dr&&reactExports.createElement(Preview,_extends$x({"aria-hidden":!Yt,visible:Yt,prefixCls:lt,onClose:gr,mousePosition:Sr,src:qt,alt:tt,imageInfo:{width:st,height:ot},fallback:ut,getContainer:kt,icons:Nt,movable:Mt,scaleStep:Dt,minScale:jt,maxScale:Ut,rootClassName:xt,imageRender:Xt,imgCommonProps:Fr,toolbarRender:Wt},Vt)))};ImageInternal.PreviewGroup=Group;var RotateLeftOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},RotateLeftOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:RotateLeftOutlined$1}))},RefIcon$4=reactExports.forwardRef(RotateLeftOutlined),RotateRightOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},RotateRightOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:RotateRightOutlined$1}))},RefIcon$3=reactExports.forwardRef(RotateRightOutlined),SwapOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},SwapOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:SwapOutlined$1}))},RefIcon$2=reactExports.forwardRef(SwapOutlined),ZoomInOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},ZoomInOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:ZoomInOutlined$1}))},RefIcon$1=reactExports.forwardRef(ZoomInOutlined),ZoomOutOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},ZoomOutOutlined=function _e(_,et){return reactExports.createElement(Icon$1,_extends$x({},_,{ref:et,icon:ZoomOutOutlined$1}))},RefIcon=reactExports.forwardRef(ZoomOutOutlined);const genBoxStyle=_e=>({position:_e||"absolute",inset:0}),genImageMaskStyle=_e=>{const{iconCls:_,motionDurationSlow:et,paddingXXS:tt,marginXXS:rt,prefixCls:nt,colorTextLightSolid:it}=_e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:it,background:new FastColor("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${et}`,[`.${nt}-mask-info`]:Object.assign(Object.assign({},textEllipsis),{padding:`0 ${unit$1(tt)}`,[_]:{marginInlineEnd:rt,svg:{verticalAlign:"baseline"}}})}},genPreviewOperationsStyle=_e=>{const{previewCls:_,modalMaskBg:et,paddingSM:tt,marginXL:rt,margin:nt,paddingLG:it,previewOperationColorDisabled:at,previewOperationHoverColor:lt,motionDurationSlow:ct,iconCls:ut,colorTextLightSolid:st}=_e,ot=new FastColor(et).setA(.1),dt=ot.clone().setA(.2);return{[`${_}-footer`]:{position:"fixed",bottom:rt,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:_e.previewOperationColor,transform:"translateX(-50%)"},[`${_}-progress`]:{marginBottom:nt},[`${_}-close`]:{position:"fixed",top:rt,right:{_skip_check_:!0,value:rt},display:"flex",color:st,backgroundColor:ot.toRgbString(),borderRadius:"50%",padding:tt,outline:0,border:0,cursor:"pointer",transition:`all ${ct}`,"&:hover":{backgroundColor:dt.toRgbString()},[`& > ${ut}`]:{fontSize:_e.previewOperationSize}},[`${_}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${unit$1(it)}`,backgroundColor:ot.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:tt,padding:tt,cursor:"pointer",transition:`all ${ct}`,userSelect:"none",[`&:not(${_}-operations-operation-disabled):hover > ${ut}`]:{color:lt},"&-disabled":{color:at,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${ut}`]:{fontSize:_e.previewOperationSize}}}}},genPreviewSwitchStyle=_e=>{const{modalMaskBg:_,iconCls:et,previewOperationColorDisabled:tt,previewCls:rt,zIndexPopup:nt,motionDurationSlow:it}=_e,at=new FastColor(_).setA(.1),lt=at.clone().setA(.2);return{[`${rt}-switch-left, ${rt}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:_e.calc(nt).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:_e.imagePreviewSwitchSize,height:_e.imagePreviewSwitchSize,marginTop:_e.calc(_e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:_e.previewOperationColor,background:at.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${it}`,userSelect:"none","&:hover":{background:lt.toRgbString()},"&-disabled":{"&, &:hover":{color:tt,background:"transparent",cursor:"not-allowed",[`> ${et}`]:{cursor:"not-allowed"}}},[`> ${et}`]:{fontSize:_e.previewOperationSize}},[`${rt}-switch-left`]:{insetInlineStart:_e.marginSM},[`${rt}-switch-right`]:{insetInlineEnd:_e.marginSM}}},genImagePreviewStyle=_e=>{const{motionEaseOut:_,previewCls:et,motionDurationSlow:tt,componentCls:rt}=_e;return[{[`${rt}-preview-root`]:{[et]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${et}-body`]:Object.assign(Object.assign({},genBoxStyle()),{overflow:"hidden"}),[`${et}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${tt} ${_} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},genBoxStyle()),{transition:`transform ${tt} ${_} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${et}-moving`]:{[`${et}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${rt}-preview-root`]:{[`${et}-wrap`]:{zIndex:_e.zIndexPopup}}},{[`${rt}-preview-operations-wrapper`]:{position:"fixed",zIndex:_e.calc(_e.zIndexPopup).add(1).equal()},"&":[genPreviewOperationsStyle(_e),genPreviewSwitchStyle(_e)]}]},genImageStyle=_e=>{const{componentCls:_}=_e;return{[_]:{position:"relative",display:"inline-block",[`${_}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${_}-img-placeholder`]:{backgroundColor:_e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${_}-mask`]:Object.assign({},genImageMaskStyle(_e)),[`${_}-mask:hover`]:{opacity:1},[`${_}-placeholder`]:Object.assign({},genBoxStyle())}}},genPreviewMotion=_e=>{const{previewCls:_}=_e;return{[`${_}-root`]:initZoomMotion(_e,"zoom"),"&":initFadeMotion(_e,!0)}},prepareComponentToken=_e=>({zIndexPopup:_e.zIndexPopupBase+80,previewOperationColor:new FastColor(_e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new FastColor(_e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new FastColor(_e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:_e.fontSizeIcon*1.5}),useStyle=genStyleHooks("Image",_e=>{const _=`${_e.componentCls}-preview`,et=merge(_e,{previewCls:_,modalMaskBg:new FastColor("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:_e.controlHeightLG});return[genImageStyle(et),genImagePreviewStyle(et),genModalMaskStyle(merge(et,{componentCls:_})),genPreviewMotion(et)]},prepareComponentToken);var __rest$1=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const icons={rotateLeft:reactExports.createElement(RefIcon$4,null),rotateRight:reactExports.createElement(RefIcon$3,null),zoomIn:reactExports.createElement(RefIcon$1,null),zoomOut:reactExports.createElement(RefIcon,null),close:reactExports.createElement(RefIcon$d,null),left:reactExports.createElement(RefIcon$8,null),right:reactExports.createElement(RefIcon$9,null),flipX:reactExports.createElement(RefIcon$2,null),flipY:reactExports.createElement(RefIcon$2,{rotate:90})},InternalPreviewGroup=_e=>{var{previewPrefixCls:_,preview:et}=_e,tt=__rest$1(_e,["previewPrefixCls","preview"]);const{getPrefixCls:rt}=reactExports.useContext(ConfigContext),nt=rt("image",_),it=`${nt}-preview`,at=rt(),lt=useCSSVarCls(nt),[ct,ut,st]=useStyle(nt,lt),[ot]=useZIndex("ImagePreview",typeof et=="object"?et.zIndex:void 0),dt=reactExports.useMemo(()=>{var ft;if(et===!1)return et;const ht=typeof et=="object"?et:{},mt=classNames(ut,st,lt,(ft=ht.rootClassName)!==null&&ft!==void 0?ft:"");return Object.assign(Object.assign({},ht),{transitionName:getTransitionName(at,"zoom",ht.transitionName),maskTransitionName:getTransitionName(at,"fade",ht.maskTransitionName),rootClassName:mt,zIndex:ot})},[et]);return ct(reactExports.createElement(ImageInternal.PreviewGroup,Object.assign({preview:dt,previewPrefixCls:it,icons},tt)))};var __rest=function(_e,_){var et={};for(var tt in _e)Object.prototype.hasOwnProperty.call(_e,tt)&&_.indexOf(tt)<0&&(et[tt]=_e[tt]);if(_e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rt=0,tt=Object.getOwnPropertySymbols(_e);rt<tt.length;rt++)_.indexOf(tt[rt])<0&&Object.prototype.propertyIsEnumerable.call(_e,tt[rt])&&(et[tt[rt]]=_e[tt[rt]]);return et};const Image$1=_e=>{const{prefixCls:_,preview:et,className:tt,rootClassName:rt,style:nt}=_e,it=__rest(_e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:at,getPopupContainer:lt,className:ct,style:ut,preview:st}=useComponentConfig("image"),[ot]=useLocale("Image"),dt=at("image",_),ft=at(),ht=useCSSVarCls(dt),[mt,gt,yt]=useStyle(dt,ht),vt=classNames(rt,gt,yt,ht),bt=classNames(tt,gt,ct),[xt]=useZIndex("ImagePreview",typeof et=="object"?et.zIndex:void 0),_t=reactExports.useMemo(()=>{if(et===!1)return et;const wt=typeof et=="object"?et:{},{getContainer:Et,closeIcon:Tt,rootClassName:Ct}=wt,It=__rest(wt,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:reactExports.createElement("div",{className:`${dt}-mask-info`},reactExports.createElement(RefIcon$5,null),ot==null?void 0:ot.preview),icons},It),{rootClassName:classNames(vt,Ct),getContainer:Et??lt,transitionName:getTransitionName(ft,"zoom",wt.transitionName),maskTransitionName:getTransitionName(ft,"fade",wt.maskTransitionName),zIndex:xt,closeIcon:Tt??(st==null?void 0:st.closeIcon)})},[et,ot,st==null?void 0:st.closeIcon]),St=Object.assign(Object.assign({},ut),nt);return mt(reactExports.createElement(ImageInternal,Object.assign({prefixCls:dt,preview:_t,rootClassName:vt,className:bt,style:St},it)))};Image$1.PreviewGroup=InternalPreviewGroup;let message=null,act=_e=>_e(),taskQueue=[],defaultGlobalConfig={};function getGlobalContext(){const{getContainer:_e,duration:_,rtl:et,maxCount:tt,top:rt}=defaultGlobalConfig,nt=(_e==null?void 0:_e())||document.body;return{getContainer:()=>nt,duration:_,rtl:et,maxCount:tt,top:rt}}const GlobalHolder=React.forwardRef((_e,_)=>{const{messageConfig:et,sync:tt}=_e,{getPrefixCls:rt}=reactExports.useContext(ConfigContext),nt=defaultGlobalConfig.prefixCls||rt("message"),it=reactExports.useContext(AppConfigContext),[at,lt]=useInternalMessage(Object.assign(Object.assign(Object.assign({},et),{prefixCls:nt}),it.message));return React.useImperativeHandle(_,()=>{const ct=Object.assign({},at);return Object.keys(ct).forEach(ut=>{ct[ut]=function(){return tt(),at[ut].apply(at,arguments)}}),{instance:ct,sync:tt}}),lt}),GlobalHolderWrapper=React.forwardRef((_e,_)=>{const[et,tt]=React.useState(getGlobalContext),rt=()=>{tt(getGlobalContext)};React.useEffect(rt,[]);const nt=globalConfig(),it=nt.getRootPrefixCls(),at=nt.getIconPrefixCls(),lt=nt.getTheme(),ct=React.createElement(GlobalHolder,{ref:_,sync:rt,messageConfig:et});return React.createElement(ConfigProvider,{prefixCls:it,iconPrefixCls:at,theme:lt},nt.holderRender?nt.holderRender(ct):ct)});function flushNotice(){if(!message){const _e=document.createDocumentFragment(),_={fragment:_e};message=_,act(()=>{getReactRender()(React.createElement(GlobalHolderWrapper,{ref:tt=>{const{instance:rt,sync:nt}=tt||{};Promise.resolve().then(()=>{!_.instance&&rt&&(_.instance=rt,_.sync=nt,flushNotice())})}}),_e)});return}message.instance&&(taskQueue.forEach(_e=>{const{type:_,skipped:et}=_e;if(!et)switch(_){case"open":{act(()=>{const tt=message.instance.open(Object.assign(Object.assign({},defaultGlobalConfig),_e.config));tt==null||tt.then(_e.resolve),_e.setCloseFn(tt)});break}case"destroy":act(()=>{message==null||message.instance.destroy(_e.key)});break;default:act(()=>{var tt;const rt=(tt=message.instance)[_].apply(tt,_toConsumableArray(_e.args));rt==null||rt.then(_e.resolve),_e.setCloseFn(rt)})}}),taskQueue=[])}function setMessageGlobalConfig(_e){defaultGlobalConfig=Object.assign(Object.assign({},defaultGlobalConfig),_e),act(()=>{var _;(_=message==null?void 0:message.sync)===null||_===void 0||_.call(message)})}function open(_e){const _=wrapPromiseFn(et=>{let tt;const rt={type:"open",config:_e,resolve:et,setCloseFn:nt=>{tt=nt}};return taskQueue.push(rt),()=>{tt?act(()=>{tt()}):rt.skipped=!0}});return flushNotice(),_}function typeOpen(_e,_){const et=wrapPromiseFn(tt=>{let rt;const nt={type:_e,args:_,resolve:tt,setCloseFn:it=>{rt=it}};return taskQueue.push(nt),()=>{rt?act(()=>{rt()}):nt.skipped=!0}});return flushNotice(),et}const destroy=_e=>{taskQueue.push({type:"destroy",key:_e}),flushNotice()},methods=["success","info","warning","error","loading"],baseStaticMethods={open,destroy,config:setMessageGlobalConfig,useMessage,_InternalPanelDoNotUseOrYouWillBeFired:PurePanel$1},staticMethods=baseStaticMethods;methods.forEach(_e=>{staticMethods[_e]=function(){for(var _=arguments.length,et=new Array(_),tt=0;tt<_;tt++)et[tt]=arguments[tt];return typeOpen(_e,et)}});const MessageList=reactExports.memo(({messages:_e,messageListRef:_})=>{const et=reactExports.useRef(null),tt=reactExports.useCallback(()=>{if(_.current){const{scrollHeight:rt}=_.current,nt=_.current.clientHeight,it=rt-nt;_.current.scrollTo({top:it+100,behavior:"smooth"})}},[_]);return reactExports.useEffect(()=>{tt()},[_e,tt]),reactExports.useEffect(()=>{tt()},[tt]),jsxRuntimeExports.jsx(Box,{...sidebarStyles.chatHistoryPanel.messageList,ref:_,children:_e.map((rt,nt)=>jsxRuntimeExports.jsx(Box,{ref:nt===_e.length-1?et:null,children:jsxRuntimeExports.jsx(ChatBubble,{message:rt})},`${rt.role}-${rt.timestamp}-${rt.id}`))})});MessageList.displayName="MessageList";function ChatHistoryPanel(){const{messages:_e}=useChatHistory(),{confName:_}=useConfig$1(),{baseUrl:et}=useWebSocket(),tt="Me",rt=_e.filter(nt=>nt.content&&nt.content.trim().length>0);return jsxRuntimeExports.jsxs(Box,{h:"full",overflow:"hidden",bg:"#a1c4fd",children:[jsxRuntimeExports.jsx(Global,{styles:chatPanelStyles}),jsxRuntimeExports.jsx(MainContainer,{children:jsxRuntimeExports.jsx(ChatContainer,{children:jsxRuntimeExports.jsx(MessageList$1,{children:rt.length===0?jsxRuntimeExports.jsxs(Box,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#262626",fontSize:"sm",children:["很高兴认识你, 和我聊天吧！",jsxRuntimeExports.jsx(Image$1,{src:favicon,alt:"favicon",width:24})]}):rt.map(nt=>jsxRuntimeExports.jsx(Message,{model:{message:nt.content,sentTime:nt.timestamp,sender:nt.role==="ai"?nt.name||_||"AI":tt,direction:nt.role==="ai"?"incoming":"outgoing",position:"single"},avatarPosition:nt.role==="ai"?"tl":"tr",avatarSpacer:!1,children:jsxRuntimeExports.jsx(Avatar,{children:nt.role==="ai"?nt.avatar?jsxRuntimeExports.jsx("img",{src:`${et}/avatars/${nt.avatar}`,alt:"avatar",style:{width:"100%",height:"100%",borderRadius:"50%"}}):nt.name&&nt.name[0].toUpperCase()||_&&_[0].toUpperCase()||"A":tt[0].toUpperCase()})},nt.id))})})})]})}const minutesInMonth=43200,minutesInDay=1440,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(_e,_){return typeof _e=="function"?_e(_):_e&&typeof _e=="object"&&constructFromSymbol in _e?_e[constructFromSymbol](_):_e instanceof Date?new _e.constructor(_):new Date(_)}function toDate(_e,_){return constructFrom(_e,_e)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function getTimezoneOffsetInMilliseconds(_e){const _=toDate(_e),et=new Date(Date.UTC(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),_.getSeconds(),_.getMilliseconds()));return et.setUTCFullYear(_.getFullYear()),+_e-+et}function normalizeDates(_e,..._){const et=constructFrom.bind(null,_e||_.find(tt=>typeof tt=="object"));return _.map(et)}function compareAsc(_e,_){const et=+toDate(_e)-+toDate(_);return et<0?-1:et>0?1:et}function constructNow(_e){return constructFrom(_e,Date.now())}function differenceInCalendarMonths(_e,_,et){const[tt,rt]=normalizeDates(et==null?void 0:et.in,_e,_),nt=tt.getFullYear()-rt.getFullYear(),it=tt.getMonth()-rt.getMonth();return nt*12+it}function getRoundingMethod(_e){return _=>{const tt=(_e?Math[_e]:Math.trunc)(_);return tt===0?0:tt}}function differenceInMilliseconds(_e,_){return+toDate(_e)-+toDate(_)}function endOfDay(_e,_){const et=toDate(_e);return et.setHours(23,59,59,999),et}function endOfMonth(_e,_){const et=toDate(_e),tt=et.getMonth();return et.setFullYear(et.getFullYear(),tt+1,0),et.setHours(23,59,59,999),et}function isLastDayOfMonth(_e,_){const et=toDate(_e);return+endOfDay(et)==+endOfMonth(et)}function differenceInMonths(_e,_,et){const[tt,rt,nt]=normalizeDates(et==null?void 0:et.in,_e,_e,_),it=compareAsc(rt,nt),at=Math.abs(differenceInCalendarMonths(rt,nt));if(at<1)return 0;rt.getMonth()===1&&rt.getDate()>27&&rt.setDate(30),rt.setMonth(rt.getMonth()-it*at);let lt=compareAsc(rt,nt)===-it;isLastDayOfMonth(tt)&&at===1&&compareAsc(tt,nt)===1&&(lt=!1);const ct=it*(at-+lt);return ct===0?0:ct}function differenceInSeconds(_e,_,et){const tt=differenceInMilliseconds(_e,_)/1e3;return getRoundingMethod(et==null?void 0:et.roundingMethod)(tt)}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(_e,_,et)=>{let tt;const rt=formatDistanceLocale[_e];return typeof rt=="string"?tt=rt:_===1?tt=rt.one:tt=rt.other.replace("{{count}}",_.toString()),et!=null&&et.addSuffix?et.comparison&&et.comparison>0?"in "+tt:tt+" ago":tt};function buildFormatLongFn(_e){return(_={})=>{const et=_.width?String(_.width):_e.defaultWidth;return _e.formats[et]||_e.formats[_e.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(_e,_,et,tt)=>formatRelativeLocale[_e];function buildLocalizeFn(_e){return(_,et)=>{const tt=et!=null&&et.context?String(et.context):"standalone";let rt;if(tt==="formatting"&&_e.formattingValues){const it=_e.defaultFormattingWidth||_e.defaultWidth,at=et!=null&&et.width?String(et.width):it;rt=_e.formattingValues[at]||_e.formattingValues[it]}else{const it=_e.defaultWidth,at=et!=null&&et.width?String(et.width):_e.defaultWidth;rt=_e.values[at]||_e.values[it]}const nt=_e.argumentCallback?_e.argumentCallback(_):_;return rt[nt]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(_e,_)=>{const et=Number(_e),tt=et%100;if(tt>20||tt<10)switch(tt%10){case 1:return et+"st";case 2:return et+"nd";case 3:return et+"rd"}return et+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:_e=>_e-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(_e){return(_,et={})=>{const tt=et.width,rt=tt&&_e.matchPatterns[tt]||_e.matchPatterns[_e.defaultMatchWidth],nt=_.match(rt);if(!nt)return null;const it=nt[0],at=tt&&_e.parsePatterns[tt]||_e.parsePatterns[_e.defaultParseWidth],lt=Array.isArray(at)?findIndex(at,st=>st.test(it)):findKey(at,st=>st.test(it));let ct;ct=_e.valueCallback?_e.valueCallback(lt):lt,ct=et.valueCallback?et.valueCallback(ct):ct;const ut=_.slice(it.length);return{value:ct,rest:ut}}}function findKey(_e,_){for(const et in _e)if(Object.prototype.hasOwnProperty.call(_e,et)&&_(_e[et]))return et}function findIndex(_e,_){for(let et=0;et<_e.length;et++)if(_(_e[et]))return et}function buildMatchPatternFn(_e){return(_,et={})=>{const tt=_.match(_e.matchPattern);if(!tt)return null;const rt=tt[0],nt=_.match(_e.parsePattern);if(!nt)return null;let it=_e.valueCallback?_e.valueCallback(nt[0]):nt[0];it=et.valueCallback?et.valueCallback(it):it;const at=_.slice(rt.length);return{value:it,rest:at}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:_e=>parseInt(_e,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:_e=>_e+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function formatDistance(_e,_,et){const tt=getDefaultOptions(),rt=(et==null?void 0:et.locale)??tt.locale??enUS,nt=2520,it=compareAsc(_e,_);if(isNaN(it))throw new RangeError("Invalid time value");const at=Object.assign({},et,{addSuffix:et==null?void 0:et.addSuffix,comparison:it}),[lt,ct]=normalizeDates(et==null?void 0:et.in,...it>0?[_,_e]:[_e,_]),ut=differenceInSeconds(ct,lt),st=(getTimezoneOffsetInMilliseconds(ct)-getTimezoneOffsetInMilliseconds(lt))/1e3,ot=Math.round((ut-st)/60);let dt;if(ot<2)return et!=null&&et.includeSeconds?ut<5?rt.formatDistance("lessThanXSeconds",5,at):ut<10?rt.formatDistance("lessThanXSeconds",10,at):ut<20?rt.formatDistance("lessThanXSeconds",20,at):ut<40?rt.formatDistance("halfAMinute",0,at):ut<60?rt.formatDistance("lessThanXMinutes",1,at):rt.formatDistance("xMinutes",1,at):ot===0?rt.formatDistance("lessThanXMinutes",1,at):rt.formatDistance("xMinutes",ot,at);if(ot<45)return rt.formatDistance("xMinutes",ot,at);if(ot<90)return rt.formatDistance("aboutXHours",1,at);if(ot<minutesInDay){const ft=Math.round(ot/60);return rt.formatDistance("aboutXHours",ft,at)}else{if(ot<nt)return rt.formatDistance("xDays",1,at);if(ot<minutesInMonth){const ft=Math.round(ot/minutesInDay);return rt.formatDistance("xDays",ft,at)}else if(ot<minutesInMonth*2)return dt=Math.round(ot/minutesInMonth),rt.formatDistance("aboutXMonths",dt,at)}if(dt=differenceInMonths(ct,lt),dt<12){const ft=Math.round(ot/minutesInMonth);return rt.formatDistance("xMonths",ft,at)}else{const ft=dt%12,ht=Math.trunc(dt/12);return ft<3?rt.formatDistance("aboutXYears",ht,at):ft<9?rt.formatDistance("overXYears",ht,at):rt.formatDistance("almostXYears",ht+1,at)}}function formatDistanceToNow(_e,_){return formatDistance(_e,constructNow(_e),_)}const DrawerContent=reactExports.forwardRef((_e,_)=>{const{children:et,portalled:tt=!0,portalRef:rt,offset:nt,...it}=_e;return jsxRuntimeExports.jsx(Portal$1,{disabled:!tt,container:rt,children:jsxRuntimeExports.jsx(DrawerPositioner,{padding:nt,children:jsxRuntimeExports.jsx(DrawerContent$1,{ref:_,...it,asChild:!1,children:et})})})}),DrawerCloseTrigger=reactExports.forwardRef((_e,_)=>jsxRuntimeExports.jsx(DrawerCloseTrigger$1,{position:"absolute",top:"2",insetEnd:"2",..._e,asChild:!0,children:jsxRuntimeExports.jsx(CloseButton,{size:"sm",ref:_})})),DrawerTrigger=DrawerTrigger$1,DrawerRoot=DrawerRoot$1,DrawerFooter=DrawerFooter$1,DrawerHeader=DrawerHeader$1,DrawerBody=DrawerBody$1,DrawerBackdrop=DrawerBackdrop$1,DrawerTitle=DrawerTitle$1,DrawerActionTrigger=DrawerActionTrigger$1,useHistoryDrawer=()=>{const[_e,_]=reactExports.useState(!1),{historyList:et,currentHistoryUid:tt,setCurrentHistoryUid:rt,setHistoryList:nt,messages:it,updateHistoryList:at}=useChatHistory(),{sendMessage:lt}=useWebSocket();return{open:_e,setOpen:_,historyList:et,currentHistoryUid:tt,fetchAndSetHistory:ot=>{if(!(!ot||ot===tt)){if(tt&&it.length>0){const dt=it[it.length-1];at(tt,dt)}rt(ot),lt({type:"fetch-and-set-history",history_uid:ot})}},deleteHistory:ot=>{if(ot===tt){toaster.create({title:"Cannot delete current chat history",type:"warning",duration:2e3});return}lt({type:"delete-history",history_uid:ot}),nt(et.filter(dt=>dt.uid!==ot))},getLatestMessageContent:ot=>{var dt;if(ot.uid===tt&&it.length>0){const ft=it[it.length-1];return{content:ft.content,timestamp:ft.timestamp}}return{content:((dt=ot.latest_message)==null?void 0:dt.content)||"",timestamp:ot.timestamp}}}},HistoryItem=reactExports.memo(({isSelected:_e,latestMessage:_,onSelect:et,onDelete:tt,isDeleteDisabled:rt})=>jsxRuntimeExports.jsxs(Box,{...sidebarStyles.historyDrawer.historyItem,..._e?sidebarStyles.historyDrawer.historyItemSelected:{},onClick:et,children:[jsxRuntimeExports.jsxs(Box,{...sidebarStyles.historyDrawer.historyHeader,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.timestamp,children:_.timestamp?formatDistanceToNow(new Date(_.timestamp),{addSuffix:!0}):"No messages"}),jsxRuntimeExports.jsx(Button$1,{onClick:tt,disabled:rt,...sidebarStyles.historyDrawer.deleteButton,children:jsxRuntimeExports.jsx(FiTrash2,{})})]}),_.content&&jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.messagePreview,children:_.content})]}));HistoryItem.displayName="HistoryItem";function HistoryDrawer({children:_e}){const{open:_,setOpen:et,historyList:tt,currentHistoryUid:rt,fetchAndSetHistory:nt,deleteHistory:it,getLatestMessageContent:at}=useHistoryDrawer();return jsxRuntimeExports.jsxs(DrawerRoot,{open:_,onOpenChange:lt=>et(lt.open),placement:"start",children:[jsxRuntimeExports.jsx(DrawerBackdrop,{}),jsxRuntimeExports.jsx(DrawerTrigger,{asChild:!0,children:_e}),jsxRuntimeExports.jsxs(DrawerContent,{style:sidebarStyles.historyDrawer.drawer.content,children:[jsxRuntimeExports.jsxs(DrawerHeader,{children:[jsxRuntimeExports.jsx(DrawerTitle,{style:sidebarStyles.historyDrawer.drawer.title,children:"聊天记录"}),jsxRuntimeExports.jsx(DrawerCloseTrigger,{style:sidebarStyles.historyDrawer.drawer.closeButton})]}),jsxRuntimeExports.jsx(DrawerBody,{children:jsxRuntimeExports.jsx(Box,{...sidebarStyles.historyDrawer.listContainer,children:tt.map(lt=>jsxRuntimeExports.jsx(HistoryItem,{isSelected:rt===lt.uid,latestMessage:at(lt),onSelect:()=>nt(lt.uid),onDelete:ct=>{ct.stopPropagation(),it(lt.uid)},isDeleteDisabled:rt===lt.uid},lt.uid))})}),jsxRuntimeExports.jsx(DrawerFooter,{children:jsxRuntimeExports.jsx(DrawerActionTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{...sidebarStyles.historyDrawer.drawer.actionButton,children:"Close"})})})]})]})}const useSidebar=()=>{const{open:_e,onOpen:_,onClose:et}=useDisclosure(),{sendMessage:tt}=useWebSocket(),{interrupt:rt}=useInterrupt(),{currentHistoryUid:nt,messages:it,updateHistoryList:at}=useChatHistory();return{settingsOpen:_e,onSettingsOpen:_,onSettingsClose:et,createNewHistory:()=>{if(nt&&it.length>0){const ct=it[it.length-1];at(nt,ct)}rt(),tt({type:"create-new-history"})}}},ChangeSpeech=()=>{const[_e,_]=reactExports.useState(!1),[et,tt]=reactExports.useState([]),rt=()=>_(!0),nt=()=>_(!1);reactExports.useEffect(()=>{fetch("/audio-data/list.json").then(at=>at.json()).then(at=>{const lt=at.map(ct=>({...ct,audio_url:`/audio-data/${ct.file}`}));tt(lt)}).catch(at=>{console.error("加载音频列表失败:",at),staticMethods.error("音频列表加载失败")})},[]);const it=async at=>{try{const{ref_audio_path:lt,prompt_text:ct,gpt_weights:ut,sovits_weights:st}=at;staticMethods.loading({content:"正在切换语音配置...",key:"switching",duration:0});const ot=fetch("/api/update-gpt-sovits-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ref_audio_path:lt,prompt_text:ct})}),dt=fetch(`/voice/set_gpt_weights?weights_path=${encodeURIComponent(ut)}`,{method:"GET",headers:{Accept:"application/json"}}),ft=fetch(`/voice/set_sovits_weights?weights_path=${encodeURIComponent(st)}`,{method:"GET",headers:{Accept:"application/json"}}),ht=fetch(`/voice/set_refer_audio?refer_audio_path=${encodeURIComponent(lt)}`,{method:"GET",headers:{Accept:"application/json"}}),[mt,gt,yt,vt]=await Promise.all([ot,dt,ft,ht]);if(!mt.ok||!gt.ok||!yt.ok||!vt.ok)throw new Error("部分请求失败");staticMethods.success({content:"语音配置切换成功！",key:"switching"})}catch(lt){console.error(lt),staticMethods.error({content:"语音配置失败",key:"switching"})}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{onClick:rt,style:{backgroundColor:"#eff6ff",color:"#262626"},children:"更换语音"}),jsxRuntimeExports.jsx(Drawer,{title:"选择你喜欢的声音",onClose:nt,open:_e,width:"80%",children:jsxRuntimeExports.jsx(Row,{gutter:[32,32],children:et.map((at,lt)=>jsxRuntimeExports.jsx(Col,{span:8,children:jsxRuntimeExports.jsx(Card,{title:at.title,hoverable:!0,style:{width:"100%"},actions:[jsxRuntimeExports.jsx(Button$1,{style:{backgroundColor:"#a1c4fd",color:"#262626"},onClick:()=>it(at),children:"切换为该语音"})],children:jsxRuntimeExports.jsx("audio",{controls:!0,src:at.audio_url,style:{width:"100%"}})})},lt))})})]})},__vite_glob_2_0=""+new URL("五口唐-BLxbMJrZ.jpg",import.meta.url).href,__vite_glob_2_1=""+new URL("新体育馆-DslPp96A.jpg",import.meta.url).href,__vite_glob_2_2=""+new URL("正门-BCPAjCk4.jpg",import.meta.url).href,__vite_glob_2_3=""+new URL("田径场-CiXFY8_h.jpg",import.meta.url).href,__vite_glob_2_4=""+new URL("红墙-BrCNW6Ug.jpg",import.meta.url).href,__vite_glob_2_5=""+new URL("雪景正门-BJxy4ZOZ.jpg",import.meta.url).href,__vite_glob_2_6=""+new URL("鸟瞰全景-krxMs522.jpg",import.meta.url).href,learningImages=Object.assign({}),lifeImages=Object.assign({}),environmentImages=Object.assign({"./picture-data/environment/五口唐.jpg":__vite_glob_2_0,"./picture-data/environment/新体育馆.jpg":__vite_glob_2_1,"./picture-data/environment/正门.jpg":__vite_glob_2_2,"./picture-data/environment/田径场.jpg":__vite_glob_2_3,"./picture-data/environment/红墙.jpg":__vite_glob_2_4,"./picture-data/environment/雪景正门.jpg":__vite_glob_2_5,"./picture-data/environment/鸟瞰全景.jpg":__vite_glob_2_6}),transformImages=_e=>Object.entries(_e).map(([_,et])=>{var rt;const tt=((rt=_.split("/").pop())==null?void 0:rt.replace(/\.(jpg|jpeg|png)$/,""))||"";return{src:et,name:tt}}),learningImageList=transformImages(learningImages),lifeImageList=transformImages(lifeImages),environmentImageList=transformImages(environmentImages),PictureDraw=()=>{const[_e,_]=reactExports.useState(!1),[et,tt]=reactExports.useState("environment"),rt=()=>_(!0),nt=()=>_(!1),it=[{key:"environment",label:"环境类"},{key:"learning",label:"学习类"},{key:"life",label:"生活类"},{key:"vrPanorama",label:"VR 全景"}],at=ut=>tt(ut),lt=ut=>jsxRuntimeExports.jsx(Row,{gutter:[32,32],children:ut.map((st,ot)=>jsxRuntimeExports.jsx(Col,{span:8,children:jsxRuntimeExports.jsx(Card,{hoverable:!0,variant:"outlined",cover:jsxRuntimeExports.jsx(Image$1,{src:st.src,style:{height:150,objectFit:"cover"}}),children:jsxRuntimeExports.jsx(Meta,{description:st.name})})},ot))}),ct={learning:lt(learningImageList),life:lt(lifeImageList),environment:lt(environmentImageList),vrPanorama:jsxRuntimeExports.jsx("iframe",{src:"https://www.720yun.com/t/b2b2ajskula?scene_id=449742",width:"100%",height:"700px",allowFullScreen:!0})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{style:{backgroundColor:"#eff6ff",color:"#262626"},onClick:rt,children:"校园风光"}),jsxRuntimeExports.jsx(Drawer,{title:"school picture",onClose:nt,open:_e,size:"large",children:jsxRuntimeExports.jsx(Card,{style:{width:"100%"},tabList:it,activeTabKey:et,onTabChange:at,tabProps:{size:"middle"},children:ct[et]})})]})},ToggleButton$1=reactExports.memo(({isCollapsed:_e,onToggle:_})=>jsxRuntimeExports.jsx(Box,{...sidebarStyles.sidebar.toggleButton,style:{transform:_e?"rotate(180deg)":"rotate(0deg)"},onClick:_,children:jsxRuntimeExports.jsx(FiChevronLeft,{})}));ToggleButton$1.displayName="ToggleButton";const HeaderButtons=reactExports.memo(({onSettingsOpen:_e,onNewHistory:_})=>jsxRuntimeExports.jsxs(Box,{display:"flex",gap:1,children:[jsxRuntimeExports.jsx(Button$1,{style:{backgroundColor:"#eff6ff",color:"#262626"},onClick:_e,children:jsxRuntimeExports.jsx(FiSettings,{})}),jsxRuntimeExports.jsx(HistoryDrawer,{children:jsxRuntimeExports.jsx(Button$1,{style:{backgroundColor:"#eff6ff",color:"#262626"},children:jsxRuntimeExports.jsx(FiClock,{})})}),jsxRuntimeExports.jsx(Button$1,{onClick:_,style:{backgroundColor:"#eff6ff",color:"#262626"},children:jsxRuntimeExports.jsx(FiPlus,{})}),jsxRuntimeExports.jsx(ChangeSpeech,{}),jsxRuntimeExports.jsx(PictureDraw,{})]}));HeaderButtons.displayName="HeaderButtons";const SidebarContent=reactExports.memo(({onSettingsOpen:_e,onNewHistory:_})=>jsxRuntimeExports.jsxs(Box,{...sidebarStyles.sidebar.content,children:[jsxRuntimeExports.jsx(Box,{...sidebarStyles.sidebar.header,children:jsxRuntimeExports.jsx(HeaderButtons,{onSettingsOpen:_e,onNewHistory:_})}),jsxRuntimeExports.jsx(ChatHistoryPanel,{})]}));SidebarContent.displayName="SidebarContent";function Sidebar({isCollapsed:_e=!1,onToggle:_}){const{settingsOpen:et,onSettingsOpen:tt,onSettingsClose:rt,createNewHistory:nt}=useSidebar();return jsxRuntimeExports.jsxs(Box,{...sidebarStyles.sidebar.container(_e),children:[jsxRuntimeExports.jsx(ToggleButton$1,{isCollapsed:_e,onToggle:_}),!_e&&!et&&jsxRuntimeExports.jsx(SidebarContent,{onSettingsOpen:tt,onNewHistory:nt}),!_e&&et&&jsxRuntimeExports.jsx(SettingUI,{open:et,onClose:rt,onToggle:_})]})}function BsMicFill(_e){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0z"},child:[]},{tag:"path",attr:{d:"M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5"},child:[]}]})(_e)}function BsMicMuteFill(_e){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4 4 0 0 0 12 8V7a.5.5 0 0 1 1 0zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a5 5 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4m3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3"},child:[]},{tag:"path",attr:{d:"M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607m-7.84-9.253 12 12 .708-.708-12-12z"},child:[]}]})(_e)}function BsPaperclip(_e){return GenIcon({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"},child:[]}]})(_e)}function IoHandRightSharp(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M82.42 209.08c15.06-6.62 32.38 1.31 38.5 17.62L156 312h11.27V80c0-17.6 13.3-32 29.55-32 16.26 0 29.55 14.4 29.55 32v151.75l14.78.25V32c0-17.6 13.3-32 29.55-32 16.3 0 29.55 14.4 29.55 32v199.75L315 232V64c0-17.6 13.3-32 29.55-32 16.26 0 29.55 14.4 29.55 32v183.75l14.78.25V128c0-17.6 13.3-32 29.55-32C434.7 96 448 110.4 448 128v216c0 75.8-37.13 168-169 168-40.8 0-79.42-7-100.66-21a121.41 121.41 0 0 1-33.72-33.31 138 138 0 0 1-16-31.78L66.16 250.77c-6.11-16.31 1.2-35.06 16.26-41.69z"},child:[]}]})(_e)}const InputGroup=reactExports.forwardRef((_e,_)=>{const{startElement:et,startElementProps:tt,endElement:rt,endElementProps:nt,children:it,startOffset:at="6px",endOffset:lt="6px",...ct}=_e,ut=reactExports.Children.only(it);return jsxRuntimeExports.jsxs(Group$1,{ref:_,...ct,children:[et&&jsxRuntimeExports.jsx(InputElement,{pointerEvents:"none",...tt,children:et}),reactExports.cloneElement(ut,{...et&&{ps:`calc(var(--input-height) - ${at})`},...rt&&{pe:`calc(var(--input-height) - ${lt})`},...it.props}),rt&&jsxRuntimeExports.jsx(InputElement,{placement:"end",...nt,children:rt})]})}),footerStyles={footer:{container:_e=>({bg:_e?"transparent":"#a1c4fd",borderTopRadius:_e?"none":"lg",transform:_e?"translateY(calc(100% - 24px))":"translateY(0)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",height:"100%",position:"relative",overflow:_e?"visible":"hidden",pb:"4"}),toggleButton:{height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"whiteAlpha.700",_hover:{color:"white"},bg:"transparent",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},actionButton:{borderRadius:"12px",width:"50px",height:"50px",minW:"50px"},input:{bg:"#eff6ff",border:"none",height:"80px",borderRadius:"12px",fontSize:"18px",pl:"12",pr:"4",color:"#262626",_placeholder:{color:"rgba(0,0,0,0.3)"},_focus:{border:"none",bg:"#eff6ff"},resize:"none",minHeight:"80px",maxHeight:"80px",py:"0",display:"flex",alignItems:"center",paddingTop:"28px",lineHeight:"1.4"},attachButton:{position:"absolute",left:"1",top:"50%",transform:"translateY(-50%)",color:"rgba(0,0,0,0.3)",zIndex:2,_hover:{bg:"transparent",color:"rgba(0,0,0,0.3)"}}},aiIndicator:{container:{bg:"#7C5CFF",color:"white",width:"110px",height:"30px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",overflow:"hidden"},text:{fontSize:"12px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}};function AIStateIndicator(){const{aiState:_e}=useAiState(),_=footerStyles.aiIndicator;return jsxRuntimeExports.jsx(Box,{..._.container,children:jsxRuntimeExports.jsx(Text$1,{..._.text,children:_e})})}function useTextInput(){const[_e,_]=reactExports.useState(""),[et,tt]=reactExports.useState(!1),rt=useWebSocket(),{aiState:nt,setAiState:it}=useAiState(),{interrupt:at}=useInterrupt(),{appendHumanMessage:lt}=useChatHistory(),{stopMic:ct,autoStopMic:ut}=useVAD(),{captureAllMedia:st}=useMediaCapture(),ot=gt=>{_(gt.target.value)},dt=async()=>{if(!_e.trim()||!rt)return;nt==="thinking-speaking"&&at();const gt=await st();lt(_e.trim()),rt.sendMessage({type:"text-input",text:_e.trim(),images:gt}),it("thinking-speaking"),ut&&ct(),_("")};return{inputText:_e,setInputText:ot,handleSend:dt,handleKeyPress:gt=>{et||gt.key==="Enter"&&!gt.shiftKey&&(gt.preventDefault(),dt())},handleCompositionStart:()=>tt(!0),handleCompositionEnd:()=>tt(!1)}}const useFooter=()=>{const{inputText:_e,setInputText:_,handleKeyPress:et,handleCompositionStart:tt,handleCompositionEnd:rt}=useTextInput(),{interrupt:nt}=useInterrupt(),{startMic:it,autoStartMicOn:at}=useVAD(),{handleMicToggle:lt,micOn:ct}=useMicToggle(),{setAiState:ut,aiState:st}=useAiState(),{sendTriggerSignal:ot}=useTriggerSpeak(),{settings:dt}=useProactiveSpeak();return{inputValue:_e,handleInputChange:gt=>{_({target:{value:gt.target.value}}),ut(AiStateEnum.WAITING)},handleKeyPress:gt=>{et(gt)},handleCompositionStart:tt,handleCompositionEnd:rt,handleInterrupt:()=>{st===AiStateEnum.THINKING_SPEAKING?(nt(),at&&it()):dt.allowButtonTrigger&&ot(-1)},handleMicToggle:lt,micOn:ct}},ToggleButton=reactExports.memo(({isCollapsed:_e,onToggle:_})=>jsxRuntimeExports.jsx(Box,{...footerStyles.footer.toggleButton,onClick:_,color:"whiteAlpha.500",style:{transform:_e?"rotate(180deg)":"rotate(0deg)"},children:jsxRuntimeExports.jsx(FiChevronDown,{})}));ToggleButton.displayName="ToggleButton";const ActionButtons=reactExports.memo(({micOn:_e,onMicToggle:_,onInterrupt:et})=>jsxRuntimeExports.jsxs(HStack,{gap:2,children:[jsxRuntimeExports.jsx(IconButton,{bg:_e?"green.500":"red.500",...footerStyles.footer.actionButton,onClick:_,children:_e?jsxRuntimeExports.jsx(BsMicFill,{}):jsxRuntimeExports.jsx(BsMicMuteFill,{})}),jsxRuntimeExports.jsx(IconButton,{"aria-label":"Raise hand",bg:"yellow.500",...footerStyles.footer.actionButton,onClick:et,children:jsxRuntimeExports.jsx(IoHandRightSharp,{size:"24"})})]}));ActionButtons.displayName="ActionButtons";const MessageInput=reactExports.memo(({value:_e,onChange:_,onKeyDown:et,onCompositionStart:tt,onCompositionEnd:rt})=>jsxRuntimeExports.jsx(InputGroup,{flex:1,children:jsxRuntimeExports.jsxs(Box,{position:"relative",width:"100%",children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Attach file",variant:"ghost",...footerStyles.footer.attachButton,children:jsxRuntimeExports.jsx(BsPaperclip,{size:"24"})}),jsxRuntimeExports.jsx(Textarea,{value:_e,onChange:_,onKeyDown:et,onCompositionStart:tt,onCompositionEnd:rt,placeholder:"跟 RagAgent X 聊天吧",...footerStyles.footer.input})]})}));MessageInput.displayName="MessageInput";function Footer({isCollapsed:_e=!1,onToggle:_}){const{inputValue:et,handleInputChange:tt,handleKeyPress:rt,handleCompositionStart:nt,handleCompositionEnd:it,handleInterrupt:at,handleMicToggle:lt,micOn:ct}=useFooter();return jsxRuntimeExports.jsxs(Box,{...footerStyles.footer.container(_e),children:[jsxRuntimeExports.jsx(ToggleButton,{isCollapsed:_e,onToggle:_}),jsxRuntimeExports.jsx(Box,{pt:"0",px:"4",children:jsxRuntimeExports.jsxs(HStack,{width:"100%",gap:4,children:[jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Box,{mb:"1.5",children:jsxRuntimeExports.jsx(AIStateIndicator,{})}),jsxRuntimeExports.jsx(ActionButtons,{micOn:ct,onMicToggle:lt,onInterrupt:at})]}),jsxRuntimeExports.jsx(MessageInput,{value:et,onChange:tt,onKeyDown:rt,onCompositionStart:nt,onCompositionEnd:it})]})})]})}const isElectron=window.api!==void 0,getAppHeight=()=>typeof window<"u"&&/Mobi|Android/i.test(navigator.userAgent)?`${window.innerHeight}px`:isElectron?"calc(100vh - 30px)":"100vh",layoutStyles={appContainer:{width:"100vw",height:getAppHeight(),bg:"gray.900",color:"white",overflow:"hidden",position:"relative",display:"flex",flexDirection:{base:"column",md:"row"}},sidebar:{position:"relative",width:{base:"100%",md:"440px"},height:{base:"auto",md:"100%"},bg:"gray.800",borderRight:"1px solid",borderColor:"whiteAlpha.200",overflow:"hidden",flexShrink:0,transition:"all 0.2s"},mainContent:{flex:1,height:{base:"calc(100% - 120px)",md:"100%"},position:"relative",display:"flex",flexDirection:"column",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",width:"100%",overflow:"hidden"},canvas:{position:"relative",width:"100%",flex:1,transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"hidden",willChange:"transform"},footer:{width:"100%",height:{base:"100px",md:"120px"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",willChange:"transform",position:"relative",zIndex:1},toggleButton:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",height:"60px",bg:"whiteAlpha.100",_hover:{bg:"whiteAlpha.200"},borderLeftRadius:0,borderRightRadius:"md",zIndex:10},canvasHeight:_e=>({height:_e?"calc(100% - 24px)":"calc(100% - 120px)"}),sidebarToggleButton:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",height:"60px",bg:"gray.800",borderLeftRadius:0,borderRightRadius:"md",zIndex:10},collapsedFooter:{height:{base:"20px",md:"24px"},transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},windowsTitleBar:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"30px",backgroundColor:"gray.800",paddingX:"10px",css:{"-webkit-app-region":"drag"}},macTitleBar:{display:"flex",alignItems:"center",justifyContent:"center",height:"30px",backgroundColor:"gray.800",css:{"-webkit-app-region":"drag","-webkit-user-select":"none"}},titleBarTitle:{fontSize:"sm",color:"whiteAlpha.800",textAlign:"center"},titleBarButtons:{display:"flex",gap:"1"},titleBarButton:{size:"sm",variant:"ghost",color:"whiteAlpha.800",css:{"-webkit-app-region":"no-drag"},_hover:{backgroundColor:"whiteAlpha.200"}},closeButton:{size:"sm",variant:"ghost",color:"whiteAlpha.800",css:{"-webkit-app-region":"no-drag"},_hover:{backgroundColor:"red.500"}}},GroupContext=reactExports.createContext(null);function GroupProvider({children:_e}){const[_,et]=reactExports.useState(""),[tt,rt]=reactExports.useState([]),[nt,it]=reactExports.useState(!1),at=()=>{rt([]),it(!1)},lt=reactExports.useMemo(()=>tt.includes(_)?[_,...tt.filter(ct=>ct!==_)]:tt,[tt,_]);return jsxRuntimeExports.jsx(GroupContext.Provider,{value:{selfUid:_,groupMembers:tt,isOwner:nt,setSelfUid:et,setGroupMembers:rt,setIsOwner:it,sortedGroupMembers:lt,resetGroupState:at},children:_e})}function useGroup(){const _e=reactExports.useContext(GroupContext);if(!_e)throw new Error("useGroup must be used within a GroupProvider");return _e}function WebSocketHandler({children:_e}){const[_,et]=reactExports.useState("CLOSED"),[tt,rt]=useLocalStorage("wsUrl",defaultWsUrl),[nt,it]=useLocalStorage("baseUrl",defaultBaseUrl),{aiState:at,setAiState:lt,backendSynthComplete:ct,setBackendSynthComplete:ut}=useAiState(),{setModelInfo:st}=useLive2DConfig(),{setSubtitleText:ot}=useSubtitle(),{clearResponse:dt,setForceNewMessage:ft}=useChatHistory(),{addAudioTask:ht}=useAudioTask(),mt=useBgUrl(),{confUid:gt,setConfName:yt,setConfUid:vt,setConfigFiles:bt}=useConfig$1(),[xt,_t]=reactExports.useState(void 0),{setSelfUid:St,setGroupMembers:wt,setIsOwner:Et}=useGroup(),{startMic:Tt,stopMic:Ct,autoStartMicOnConvEnd:It}=useVAD(),Pt=reactExports.useRef(It),{interrupt:At}=useInterrupt();reactExports.useEffect(()=>{Pt.current=It},[It]),reactExports.useEffect(()=>{xt&&(st(xt),_t(void 0))},[xt,st,gt]);const{setCurrentHistoryUid:kt,setMessages:Rt,setHistoryList:$t,appendHumanMessage:Mt}=useChatHistory(),Nt=reactExports.useCallback(Ut=>{switch(Ut){case"start-mic":console.log("Starting microphone..."),Tt();break;case"stop-mic":console.log("Stopping microphone..."),Ct();break;case"conversation-chain-start":lt("thinking-speaking"),audioTaskQueue.clearQueue(),dt();break;case"conversation-chain-end":audioTaskQueue.addTask(()=>new Promise(Xt=>{lt(Wt=>Wt==="thinking-speaking"?(Pt.current&&Tt(),"idle"):Wt),Xt()}));break;default:console.warn("Unknown control command:",Ut)}},[lt,dt,ft,Tt,Ct]),Dt=reactExports.useCallback(Ut=>{var Xt,Wt;switch(console.log("Received message from server:",Ut),Ut.type){case"control":Ut.text&&Nt(Ut.text);break;case"set-model-and-conf":if(lt("loading"),Ut.conf_name&&yt(Ut.conf_name),Ut.conf_uid&&(vt(Ut.conf_uid),console.log("confUid",Ut.conf_uid)),Ut.client_uid&&St(Ut.client_uid),_t(Ut.model_info),Ut.model_info&&!Ut.model_info.url.startsWith("http")){const Vt=nt+Ut.model_info.url;Ut.model_info.url=Vt}lt("idle");break;case"full-text":Ut.text&&ot(Ut.text);break;case"config-files":Ut.configs&&bt(Ut.configs);break;case"config-switched":lt("idle"),ot("New Character Loaded"),toaster.create({title:"Character switched",type:"success",duration:2e3}),wsService.sendMessage({type:"fetch-history-list"}),wsService.sendMessage({type:"create-new-history"});break;case"background-files":Ut.files&&(mt==null||mt.setBackgroundFiles(Ut.files));break;case"audio":at==="interrupted"||at==="listening"?console.log("Audio playback intercepted. Sentence:",(Xt=Ut.display_text)==null?void 0:Xt.text):(console.log("actions",Ut.actions),ht({audioBase64:Ut.audio||"",volumes:Ut.volumes||[],sliceLength:Ut.slice_length||0,displayText:Ut.display_text||null,expressions:((Wt=Ut.actions)==null?void 0:Wt.expressions)||null,forwarded:Ut.forwarded||!1}));break;case"history-data":Ut.messages&&Rt(Ut.messages),toaster.create({title:"History loaded",type:"success",duration:2e3});break;case"new-history-created":if(lt("idle"),ot("New Conversation Started"),Ut.history_uid){kt(Ut.history_uid),Rt([]);const Vt={uid:Ut.history_uid,latest_message:null,timestamp:new Date().toISOString()};$t(qt=>[Vt,...qt]),toaster.create({title:"New chat history created",type:"success",duration:2e3})}break;case"history-deleted":toaster.create({title:Ut.success?"History deleted successfully":"Failed to delete history",type:Ut.success?"success":"error",duration:2e3});break;case"history-list":Ut.histories&&($t(Ut.histories),Ut.histories.length>0&&kt(Ut.histories[0].uid));break;case"user-input-transcription":console.log("user-input-transcription: ",Ut.text),Ut.text&&Mt(Ut.text);break;case"error":toaster.create({title:Ut.message,type:"error",duration:2e3});break;case"group-update":console.log("Received group-update:",Ut.members),Ut.members&&wt(Ut.members),Ut.is_owner!==void 0&&Et(Ut.is_owner);break;case"group-operation-result":toaster.create({title:Ut.message,type:Ut.success?"success":"error",duration:2e3});break;case"backend-synth-complete":ut(!0);break;case"conversation-chain-end":audioTaskQueue.hasTask()||lt(Vt=>Vt==="thinking-speaking"?"idle":Vt);break;case"force-new-message":ft(!0);break;case"interrupt-signal":At(!1);break;default:console.warn("Unknown message type:",Ut.type)}},[at,ht,Mt,nt,mt,lt,yt,vt,bt,kt,$t,Rt,st,ot,Tt,Ct,St,wt,Et,ct,ut,dt]);reactExports.useEffect(()=>{wsService.connect(tt)},[tt]),reactExports.useEffect(()=>{const Ut=wsService.onStateChange(et),Xt=wsService.onMessage(Dt);return()=>{Ut.unsubscribe(),Xt.unsubscribe()}},[tt,Dt]);const jt=reactExports.useMemo(()=>({sendMessage:wsService.sendMessage.bind(wsService),wsState:_,reconnect:()=>wsService.connect(tt),wsUrl:tt,setWsUrl:rt,baseUrl:nt,setBaseUrl:it}),[_,tt,nt]);return jsxRuntimeExports.jsx(WebSocketContext.Provider,{value:jt,children:_e})}function TitleBar(){var lt;const[_e,_]=reactExports.useState(!1),[et,tt]=reactExports.useState(!1),rt=((lt=window.electron)==null?void 0:lt.process.platform)==="darwin";reactExports.useEffect(()=>{var st,ot;const ct=(dt,ft)=>{_(ft)},ut=(dt,ft)=>{tt(ft)};return(st=window.electron)==null||st.ipcRenderer.on("window-maximized-change",ct),(ot=window.electron)==null||ot.ipcRenderer.on("window-fullscreen-change",ut),()=>{var dt,ft;(dt=window.electron)==null||dt.ipcRenderer.removeAllListeners("window-maximized-change"),(ft=window.electron)==null||ft.ipcRenderer.removeAllListeners("window-fullscreen-change")}},[]);const nt=()=>{var ct,ut;et?(ct=window.electron)==null||ct.ipcRenderer.send("window-unfullscreen"):(ut=window.electron)==null||ut.ipcRenderer.send("window-maximize")},it=()=>et?"Exit Full Screen":_e?"Restore":"Maximize",at=()=>et?jsxRuntimeExports.jsx(FiChevronsDown,{}):_e?jsxRuntimeExports.jsx(FiMinimize2,{}):jsxRuntimeExports.jsx(FiMaximize2,{});return rt?jsxRuntimeExports.jsx(Box,{...layoutStyles.macTitleBar,children:jsxRuntimeExports.jsx(Box,{...layoutStyles.titleBarTitle,children:"Open LLM VTuber"})}):jsxRuntimeExports.jsxs(Box,{...layoutStyles.windowsTitleBar,children:[jsxRuntimeExports.jsx(Box,{...layoutStyles.titleBarTitle,children:"Open LLM VTuber"}),jsxRuntimeExports.jsxs(Box,{...layoutStyles.titleBarButtons,children:[jsxRuntimeExports.jsx(IconButton,{...layoutStyles.titleBarButton,onClick:()=>{var ct;return(ct=window.electron)==null?void 0:ct.ipcRenderer.send("window-minimize")},"aria-label":"Minimize",children:jsxRuntimeExports.jsx(FiMinus,{})}),jsxRuntimeExports.jsx(IconButton,{...layoutStyles.titleBarButton,onClick:nt,"aria-label":it(),children:at()}),jsxRuntimeExports.jsx(IconButton,{...layoutStyles.closeButton,onClick:()=>{var ct;return(ct=window.electron)==null?void 0:ct.ipcRenderer.send("window-close")},"aria-label":"Close",children:jsxRuntimeExports.jsx(FiX,{})})]})]})}function useInputSubtitle(){const{inputText:_e,setInputText:_,handleKeyPress:et,handleCompositionStart:tt,handleCompositionEnd:rt,handleSend:nt}=useTextInput(),{messages:it}=useChatHistory(),{startMic:at,autoStartMicOn:lt}=useVAD(),{handleMicToggle:ct,micOn:ut}=useMicToggle(),{aiState:st,setAiState:ot}=useAiState(),{interrupt:dt}=useInterrupt(),ft=it.filter(vt=>vt.role==="ai").slice(-1).map(vt=>vt.content)[0],ht=it.some(vt=>vt.role==="ai");return{inputValue:_e,handleInputChange:vt=>{_({target:{value:vt.target.value}}),ot(AiStateEnum.WAITING)},handleKeyPress:vt=>{et(vt)},handleCompositionStart:tt,handleCompositionEnd:rt,handleInterrupt:()=>{dt(),lt&&at()},handleMicToggle:ct,lastAIMessage:ft,hasAIMessages:ht,aiState:st,micOn:ut,handleSend:nt}}function useDraggable({isPet:_e=!1,componentId:_}){const[et,tt]=reactExports.useState(!1),rt=reactExports.useRef({x:0,y:0}),nt=reactExports.useRef({x:0,y:0}),it=reactExports.useRef(null);return{elementRef:it,isDragging:et,handleMouseDown:ut=>{tt(!0),nt.current={x:ut.clientX-rt.current.x,y:ut.clientY-rt.current.y};const st=dt=>{if(!it.current)return;const ft={x:dt.clientX-nt.current.x,y:dt.clientY-nt.current.y};rt.current=ft,it.current.style.transform=`translateX(-50%) translate(${rt.current.x}px, ${rt.current.y}px)`},ot=()=>{tt(!1),document.removeEventListener("mousemove",st,!0),document.removeEventListener("mouseup",ot,!0)};document.addEventListener("mousemove",st,!0),document.addEventListener("mouseup",ot,!0)},handleMouseEnter:()=>{var ut;_e&&((ut=window.api)==null||ut.updateComponentHover(_,!0))},handleMouseLeave:()=>{var ut;_e&&!et&&((ut=window.api)==null||ut.updateComponentHover(_,!1))}}}const inputSubtitleStyles={container:{display:"flex",alignItems:"flex-end",justifyContent:"center",maxW:"fit-content",position:"absolute",bottom:"120px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,userSelect:"none",willChange:"transform",padding:0},box:{w:"400px",rounded:"xl",overflow:"hidden",boxShadow:"lg",bg:"blackAlpha.700",backdropFilter:"blur(8px)",css:{WebkitUserSelect:"none"}},messageStack:{p:"3",gap:1,alignItems:"stretch",justify:"flex-end"},messageText:{color:"white",fontSize:"sm",lineHeight:"1.5",transition:"all 0.3s"},statusBox:{bg:"blackAlpha.600",p:"3",borderTop:"1px",borderColor:"whiteAlpha.200"},statusText:{fontSize:"xs",color:"whiteAlpha.800",transition:"all 0.3s"},iconButton:{size:"xs",variant:"ghost",color:"whiteAlpha.800",_hover:{bg:"whiteAlpha.200"}},inputBox:{bg:"blackAlpha.600",borderTop:"1px",borderColor:"whiteAlpha.200"},input:{size:"sm",bg:"blackAlpha.500",color:"white",_placeholder:{color:"whiteAlpha.500"},borderColor:"whiteAlpha.300",_focus:{borderColor:"whiteAlpha.500",outline:"none"},flex:"1"},sendButton:{p:"1.5",bg:"blackAlpha.500",rounded:"lg",_hover:{bg:"blackAlpha.600"},transition:"colors",color:"whiteAlpha.800",size:"sm"},draggableContainer:_e=>({cursor:_e?"grabbing":"grab",transition:_e?"none":"transform 0.1s ease",_active:{cursor:"grabbing"}}),closeButton:{position:"absolute",top:0,right:0,size:"2xs",minW:"6",height:"6",padding:0,variant:"ghost",color:"whiteAlpha.400",bg:"transparent",_hover:{bg:"blackAlpha.300",color:"whiteAlpha.800"},zIndex:10}};function InputSubtitle({isPet:_e=!1}){const{inputValue:_,handleInputChange:et,handleKeyPress:tt,handleCompositionStart:rt,handleCompositionEnd:nt,handleInterrupt:it,handleMicToggle:at,handleSend:lt,lastAIMessage:ct,hasAIMessages:ut,aiState:st,micOn:ot}=useInputSubtitle(),{elementRef:dt,isDragging:ft,handleMouseDown:ht,handleMouseEnter:mt,handleMouseLeave:gt}=useDraggable({isPet:_e,componentId:"input-subtitle"}),[yt,vt]=reactExports.useState(!0),bt=reactExports.useCallback(()=>{var _t;_e&&((_t=window.api)==null||_t.updateComponentHover("input-subtitle",!1)),vt(!1)},[_e]),xt=()=>{vt(!0)};return reactExports.useEffect(()=>{var _t;if(_e){const St=(_t=window.api)==null?void 0:_t.onToggleInputSubtitle(()=>{yt?bt():xt()});return()=>St==null?void 0:St()}return()=>{}},[bt,_e,yt]),reactExports.useEffect(()=>(window.inputSubtitle={open:xt,close:bt},()=>{delete window.inputSubtitle}),[_e,bt]),yt?jsxRuntimeExports.jsx(Box,{ref:dt,...inputSubtitleStyles.container,...inputSubtitleStyles.draggableContainer(ft),onMouseDown:ht,onMouseEnter:mt,onMouseLeave:gt,children:jsxRuntimeExports.jsxs(Box,{...inputSubtitleStyles.box,children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Close subtitle",onClick:bt,...inputSubtitleStyles.closeButton,children:jsxRuntimeExports.jsx(LuX,{size:12})}),ut&&jsxRuntimeExports.jsx(VStack,{minH:ct?"32px":"0px",...inputSubtitleStyles.messageStack,children:ct&&jsxRuntimeExports.jsx(Text$1,{...inputSubtitleStyles.messageText,children:ct})}),jsxRuntimeExports.jsx(Box,{...inputSubtitleStyles.statusBox,children:jsxRuntimeExports.jsxs(Flex,{align:"center",justify:"space-between",color:"whiteAlpha.700",children:[jsxRuntimeExports.jsxs(Flex,{align:"center",gap:"2",children:[jsxRuntimeExports.jsx(LuBell,{size:16}),jsxRuntimeExports.jsx(Text$1,{...inputSubtitleStyles.statusText,children:st})]}),jsxRuntimeExports.jsxs(Flex,{gap:"2",children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Toggle microphone",onClick:at,...inputSubtitleStyles.iconButton,children:ot?jsxRuntimeExports.jsx(LuMic,{size:16}):jsxRuntimeExports.jsx(LuMicOff,{size:16})}),jsxRuntimeExports.jsx(IconButton,{"aria-label":"Interrupt",onClick:it,...inputSubtitleStyles.iconButton,children:jsxRuntimeExports.jsx(LuHand,{size:16})})]})]})}),jsxRuntimeExports.jsx(Box,{...inputSubtitleStyles.inputBox,children:jsxRuntimeExports.jsxs(Stack,{direction:"row",gap:"2",p:"2",children:[jsxRuntimeExports.jsx(Input,{value:_,onChange:et,onKeyDown:tt,onCompositionStart:rt,onCompositionEnd:nt,placeholder:"跟 RagAgent X 聊天",...inputSubtitleStyles.input}),jsxRuntimeExports.jsx(Button$1,{onClick:lt,...inputSubtitleStyles.sendButton,children:jsxRuntimeExports.jsx(LuSend,{size:16})})]})})]})}):null}function App(){const[_e,_]=reactExports.useState(!0),[et,tt]=reactExports.useState(!1),[rt,nt]=reactExports.useState("window"),it=window.api!==void 0;return reactExports.useEffect(()=>{it&&window.electron.ipcRenderer.on("pre-mode-changed",(at,lt)=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.electron.ipcRenderer.send("renderer-ready-for-mode-change",lt)})})})},[it]),reactExports.useEffect(()=>{it&&window.electron.ipcRenderer.on("mode-changed",(at,lt)=>{nt(lt),requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.electron.ipcRenderer.send("mode-change-rendered")})})})},[it]),reactExports.useEffect(()=>{const at=()=>{const lt=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${lt}px`)};return at(),window.addEventListener("resize",at),()=>window.removeEventListener("resize",at)},[]),jsxRuntimeExports.jsx(ChakraProvider,{value:defaultSystem,children:jsxRuntimeExports.jsx(Live2DModelProvider,{children:jsxRuntimeExports.jsx(CameraProvider,{children:jsxRuntimeExports.jsx(ScreenCaptureProvider,{children:jsxRuntimeExports.jsx(CharacterConfigProvider,{children:jsxRuntimeExports.jsx(ChatHistoryProvider,{children:jsxRuntimeExports.jsx(AiStateProvider,{children:jsxRuntimeExports.jsx(ProactiveSpeakProvider,{children:jsxRuntimeExports.jsx(Live2DConfigProvider,{children:jsxRuntimeExports.jsx(SubtitleProvider,{children:jsxRuntimeExports.jsx(VADProvider,{children:jsxRuntimeExports.jsx(BgUrlProvider,{children:jsxRuntimeExports.jsx(GroupProvider,{children:jsxRuntimeExports.jsxs(WebSocketHandler,{children:[jsxRuntimeExports.jsx(Toaster,{}),rt==="window"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[it&&jsxRuntimeExports.jsx(TitleBar,{}),jsxRuntimeExports.jsxs(Flex,{...layoutStyles.appContainer,children:[jsxRuntimeExports.jsx(Box,{...layoutStyles.sidebar,...!_e&&{width:"24px"},children:jsxRuntimeExports.jsx(Sidebar,{isCollapsed:!_e,onToggle:()=>_(!_e)})}),jsxRuntimeExports.jsxs(Box,{...layoutStyles.mainContent,children:[jsxRuntimeExports.jsx(Canvas,{}),jsxRuntimeExports.jsx(Box,{...layoutStyles.footer,...et&&layoutStyles.collapsedFooter,children:jsxRuntimeExports.jsx(Footer,{isCollapsed:et,onToggle:()=>tt(!et)})})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Live2D$1,{isPet:rt==="pet"}),rt==="pet"&&jsxRuntimeExports.jsx(InputSubtitle,{isPet:rt==="pet"})]})]})})})})})})})})})})})})})})}const originalConsoleWarn=console.warn;console.warn=(..._e)=>{typeof _e[0]=="string"&&_e[0].includes("onnxruntime")||originalConsoleWarn.apply(console,_e)};typeof window<"u"&&createRoot$1(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
